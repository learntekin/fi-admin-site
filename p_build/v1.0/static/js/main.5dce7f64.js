/*! For license information please see main.5dce7f64.js.LICENSE.txt */
(()=>{var e={219:(e,t,n)=>{"use strict";var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=c(t),m=c(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{l(t,v,y)}catch(b){}}}}return t}},983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case m:case c:return e;default:return t}}case i:return t}}}function E(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||_(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},763:(e,t,n)=>{"use strict";e.exports=n(983)},740:e=>{"use strict";e.exports=function(e,t,n,r,i,o,s,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,s,a],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(a[l]=o[l]);if(t){s=t(o);for(var u=0;u<s.length;u++)r.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a}},197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(534),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,o,s){var a=i||"<<anonymous>>",c=s||r;if(null==n[r])return t?new Error("Required "+o+" `"+c+"` was not specified in `"+a+"`."):null;for(var l=arguments.length,u=Array(l>6?l-6:0),d=6;d<l;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,r,a,o,c].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},132:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case l:case d:case m:case p:case c:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.isFragment=function(e){return v(e)===o},t.isMemo=function(e){return v(e)===p}},816:(e,t,n)=>{"use strict";e.exports=n(132)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(123),o=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,c={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(c[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,C=60106,x=60107,S=60108,k=60114,T=60109,I=60110,O=60112,N=60113,R=60120,P=60115,A=60116,D=60121,M=60128,L=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;E=B("react.element"),C=B("react.portal"),x=B("react.fragment"),S=B("react.strict_mode"),k=B("react.profiler"),T=B("react.provider"),I=B("react.context"),O=B("react.forward_ref"),N=B("react.suspense"),R=B("react.suspense_list"),P=B("react.memo"),A=B("react.lazy"),D=B("react.block"),B("react.scope"),M=B("react.opaque.id"),L=B("react.debug_trace_mode"),F=B("react.offscreen"),j=B("react.legacy_hidden")}var U,z="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function G(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case C:return"Portal";case k:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return K(e.type);case D:return K(e._render);case A:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function le(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if(e.namespaceURI!==de.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Te=null,Ie=null;function Oe(e){if(e=ni(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=ii(t),ke(e.stateNode,e.type,t))}}function Ne(e){Te?Ie?Ie.push(e):Ie=[e]:Te=e}function Re(){if(Te){var e=Te,t=Ie;if(Ie=Te=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Pe(e,t){return e(t)}function Ae(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Me=Pe,Le=!1,Fe=!1;function je(){null===Te&&null===Ie||(De(),Re())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ue=!1;if(d)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){Ue=!1}function Ve(e,t,n,r,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var qe=!1,He=null,We=!1,Ge=null,Ke={onError:function(e){qe=!0,He=e}};function Qe(e,t,n,r,i,o,s,a,c){qe=!1,He=null,Ve.apply(Ke,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ye(e){if(Xe(e)!==e)throw Error(s(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ye(i),e;if(o===r)return Ye(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],st=null,at=null,ct=null,lt=new Map,ut=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,r,i,o),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&vt(st)&&(st=null),null!==at&&vt(at)&&(at=null),null!==ct&&vt(ct)&&(ct=null),lt.forEach(yt),ut.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==at&&wt(at,e),null!==ct&&wt(ct,e),lt.forEach(t),ut.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ct={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},xt={},St={};function kt(e){if(xt[e])return xt[e];if(!Ct[e])return e;var t,n=Ct[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return xt[e]=n[t];return e}d&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Ct.animationend.animation,delete Ct.animationiteration.animation,delete Ct.animationstart.animation),"TransitionEvent"in window||delete Ct.transitionend.transition);var Tt=kt("animationend"),It=kt("animationiteration"),Ot=kt("animationstart"),Nt=kt("transitionend"),Rt=new Map,Pt=new Map,At=["abort","abort",Tt,"animationEnd",It,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Rt.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Mt=8;function Lt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=Mt=15;else if(0!==(o=134217727&n)){var c=o&~s;0!==c?(r=Lt(c),i=Mt):0!==(a&=o)&&(r=Lt(a),i=Mt)}else 0!==(o=n&~s)?(r=Lt(o),i=Mt):0!==a&&(r=Lt(a),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&s)){if(Lt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Bt(10,t):e;case 10:return 0===(e=Ut(192&~t))?Bt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Ut(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Wt|0)|0},Ht=Math.log,Wt=Math.LN2;var Gt=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,Qt=!0;function Xt(e,t,n,r){Le||De();var i=Yt,o=Le;Le=!0;try{Ae(i,e,t,n,r)}finally{(Le=o)||je()}}function $t(e,t,n,r){Kt(Gt,Yt.bind(null,e,t,n,r))}function Yt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=ft(null,e,t,n,r),ot.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=ft(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return at=mt(at,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ut.set(o,mt(ut.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Se(r);if(null!==(i=ti(i))){var o=Xe(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=$e(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,un,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=an(dn),fn=i({},dn,{view:0,detail:0}),pn=an(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(cn=e.screenX-un.screenX,ln=e.screenY-un.screenY):ln=cn=0,un=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=an(mn),vn=an(i({},mn,{dataTransfer:0})),yn=an(i({},fn,{relatedTarget:0})),bn=an(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(wn),En=an(i({},dn,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return kn}var In=i({},fn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=an(In),Nn=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=an(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(An),Mn=[9,13,27,32],Ln=d&&"CompositionEvent"in window,Fn=null;d&&"documentMode"in document&&(Fn=document.documentMode);var jn=d&&"TextEvent"in window&&!Fn,Bn=d&&(!Ln||Fn&&8<Fn&&11>=Fn),Un=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ne(r),0<(t=Lr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Xn=null;function $n(e){Ir(e,0)}function Yn(e){if(Y(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(d){var er;if(d){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Qn&&(Qn.detachEvent("onpropertychange",ir),Xn=Qn=null)}function ir(e){if("value"===e.propertyName&&Yn(Xn)){var t=[];if(Kn(t,Xn,e,Se(e)),e=$n,Le)e(t);else{Le=!0;try{Pe(e,t)}finally{Le=!1,je()}}}}function or(e,t,n){"focusin"===e?(rr(),Xn=n,(Qn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Xn)}function ar(e,t){if("click"===e)return Yn(t)}function cr(e,t){if("input"===e||"change"===e)return Yn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ur=Object.prototype.hasOwnProperty;function dr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=d&&"documentMode"in document&&11>=document.documentMode,yr=null,br=null,wr=null,_r=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==yr||yr!==J(r)||("selectionStart"in(r=yr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=Lr(br,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(At,2);for(var Cr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xr=0;xr<Cr.length;xr++)Pt.set(Cr[xr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,c,l){if(Qe.apply(this,arguments),qe){if(!qe)throw Error(s(198));var u=He;qe=!1,He=null,We||(We=!0,Ge=u)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;Tr(i,a,l),o=c}else for(s=0;s<r.length;s++){if(c=(a=r[s]).instance,l=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;Tr(i,a,l),o=c}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Or(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Ar(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Nr]||(e[Nr]=!0,a.forEach((function(t){kr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&kr.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=oi(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Ar(o,e,i,t),s.add(a))}function Ar(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=$t;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&((c=s.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=ti(a)))return;if(5===(c=s.tag)||6===c){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return Me(e,t,n)}finally{Fe=!1,je()}}((function(){var r=o,i=Se(n),s=[];e:{var a=Rt.get(e);if(void 0!==a){var c=hn,l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":c=On;break;case"focusin":l="focus",c=yn;break;case"focusout":l="blur",c=yn;break;case"beforeblur":case"afterblur":c=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Rn;break;case Tt:case It:case Ot:c=bn;break;case Nt:c=Pn;break;case"scroll":c=pn;break;case"wheel":c=Dn;break;case"copy":case"cut":case"paste":c=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Be(p,h))&&u.push(Mr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new c(a,l,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!ti(l)&&!l[Zr])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?ti(l):null)&&(l!==(d=Xe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=gn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==c?a:ri(c),f=null==l?a:ri(l),(a=new u(m,p+"leave",c,n,i)).target=d,a.relatedTarget=f,m=null,ti(i)===r&&((u=new u(h,p+"enter",l,n,i)).target=f,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(h=l,p=0,f=u=c;f;f=Fr(f))p++;for(f=0,m=h;m;m=Fr(m))f++;for(;0<p-f;)u=Fr(u),p--;for(;0<f-p;)h=Fr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Fr(u),h=Fr(h)}u=null}else u=null;null!==c&&jr(s,a,c,u,!1),null!==l&&null!==d&&jr(s,d,l,u,!0)}if("select"===(c=(a=r?ri(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=Jn;else if(Gn(a))if(Zn)g=cr;else{g=sr;var v=or}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ar);switch(g&&(g=g(e,r))?Kn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ie(a,"number",a.value)),v=r?ri(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(yr=v,br=r,wr=null);break;case"focusout":wr=br=yr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Er(s,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":Er(s,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Hn=!0)),0<(v=Lr(r,b)).length&&(b=new En(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=qn(n))&&(b.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(zn=!0,Un);case"textInput":return(e=t.data)===Un&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&Vn(e,t)?(e=nn(),tn=en=Zt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Ir(s,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(Mr(e,o,i)),null!=(o=Be(e,t))&&r.push(Mr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(c=Be(n,o))&&s.unshift(Mr(n,c,a)):i||null!=(c=Be(n,o))&&s.push(Mr(n,c,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function Br(){}var Ur=null,zr=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var $r=Math.random().toString(36).slice(2),Yr="__reactFiber$"+$r,Jr="__reactProps$"+$r,Zr="__reactContainer$"+$r,ei="__reactEvents$"+$r;function ti(e){var t=e[Yr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Yr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Yr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Yr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ii(e){return e[Jr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var si=[],ai=-1;function ci(e){return{current:e}}function li(e){0>ai||(e.current=si[ai],si[ai]=null,ai--)}function ui(e,t){ai++,si[ai]=e.current,e.current=t}var di={},hi=ci(di),fi=ci(!1),pi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){li(fi),li(hi)}function yi(e,t,n){if(hi.current!==di)throw Error(s(168));ui(hi,t),ui(fi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,K(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,pi=hi.current,ui(hi,e),ui(fi,fi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=bi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,li(fi),li(hi),ui(hi,e)):li(fi),ui(fi,n)}var Ei=null,Ci=null,xi=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,ki=o.unstable_cancelCallback,Ti=o.unstable_shouldYield,Ii=o.unstable_requestPaint,Oi=o.unstable_now,Ni=o.unstable_getCurrentPriorityLevel,Ri=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Mi=o.unstable_IdlePriority,Li={},Fi=void 0!==Ii?Ii:function(){},ji=null,Bi=null,Ui=!1,zi=Oi(),Vi=1e4>zi?Oi:function(){return Oi()-zi};function qi(){switch(Ni()){case Ri:return 99;case Pi:return 98;case Ai:return 97;case Di:return 96;case Mi:return 95;default:throw Error(s(332))}}function Hi(e){switch(e){case 99:return Ri;case 98:return Pi;case 97:return Ai;case 96:return Di;case 95:return Mi;default:throw Error(s(332))}}function Wi(e,t){return e=Hi(e),xi(e,t)}function Gi(e,t,n){return e=Hi(e),Si(e,t,n)}function Ki(){if(null!==Bi){var e=Bi;Bi=null,ki(e)}Qi()}function Qi(){if(!Ui&&null!==ji){Ui=!0;var e=0;try{var t=ji;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Si(Ri,Ki),n}finally{Ui=!1}}}var Xi=_.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Yi=ci(null),Ji=null,Zi=null,eo=null;function to(){eo=Zi=Ji=null}function no(e){var t=Yi.current;li(Yi),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Ji=e,eo=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ls=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Ji)throw Error(s(308));Zi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var so=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fo(e,t,n,r){var o=e.updateQueue;so=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,c=o.shared.pending;if(null!==c){o.shared.pending=null;var l=c,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==a&&(null===h?d.firstBaseUpdate=u:h.next=u,d.lastBaseUpdate=l)}}if(null!==s){for(h=o.baseState,a=0,d=u=l=null;;){c=s.lane;var f=s.eventTime;if((r&c)===c){null!==d&&(d=d.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(c=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,c);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(c="function"===typeof(p=m.payload)?p.call(f,h,c):p)||void 0===c)break e;h=i({},h,c);break e;case 2:so=!0}}null!==s.callback&&(e.flags|=32,null===(c=o.effects)?o.effects=[s]:c.push(s))}else f={eventTime:f,lane:c,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(u=d=f,l=h):d=d.next=f,a|=c;if(null===(s=s.next)){if(null===(c=o.shared.pending))break;s=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}null===d&&(l=h),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=d,za|=a,e.lanes=a,e.memoizedState=h}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var mo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hc(),i=fc(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),uo(e,o),pc(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hc(),i=fc(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),uo(e,o),pc(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hc(),r=fc(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),uo(e,i),pc(e,r,n)}};function yo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,o))}function bo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"===typeof o&&null!==o?o=oo(o):(i=gi(t)?pi:hi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,ao(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=oo(o):(o=gi(t)?pi:hi.current,i.context=mi(e,o)),fo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Eo=Array.isArray;function Co(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function xo(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=$c(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Co(e,t,n),r.return=e,r):((r=Kc(n.type,n.key,n.props,null,e.mode,r)).ref=Co(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Qc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$c(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Kc(t.type,t.key,t.props,null,e.mode,n)).ref=Co(e,null,t),n.return=e,n;case C:return(t=Yc(t,e.mode,n)).return=e,t}if(Eo(t)||V(t))return(t=Qc(t,e.mode,n,null)).return=e,t;xo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===x?d(e,t,n.props.children,r,i):l(e,t,n,r):null;case C:return n.key===i?u(e,t,n,r):null}if(Eo(n)||V(n))return null!==i?null:d(e,t,n,r,null);xo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===x?d(t,e,r.props.children,i,r.key):l(t,e,r,i);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||V(r))return d(t,e=e.get(n)||null,r,i,null);xo(t,r)}return null}function m(i,s,a,c){for(var l=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],c);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=o(v,s,m),null===u?l=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),l;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],c))&&(s=o(d,s,m),null===u?l=d:u.sibling=d,u=d);return l}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),l}function g(i,a,c,l){var u=V(c);if("function"!==typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=h(i,y.value,l))&&(a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return u}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,c){var l="object"===typeof o&&null!==o&&o.type===x&&null===o.key;l&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case E:e:{for(u=o.key,l=r;null!==l;){if(l.key===u){if(7===l.tag){if(o.type===x){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=Co(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===x?((r=Qc(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Kc(o.type,o.key,o.props,null,e.mode,c)).ref=Co(e,r,o),c.return=e,e=c)}return a(e);case C:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yc(o,e.mode,c)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=$c(o,e.mode,c)).return=e,e=r),a(e);if(Eo(o))return m(e,r,o,c);if(V(o))return g(e,r,o,c);if(u&&xo(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,K(e.type)||"Component"))}return n(e,r)}}var ko=So(!0),To=So(!1),Io={},Oo=ci(Io),No=ci(Io),Ro=ci(Io);function Po(e){if(e===Io)throw Error(s(174));return e}function Ao(e,t){switch(ui(Ro,t),ui(No,e),ui(Oo,Io),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Oo),ui(Oo,t)}function Do(){li(Oo),li(No),li(Ro)}function Mo(e){Po(Ro.current);var t=Po(Oo.current),n=fe(t,e.type);t!==n&&(ui(No,e),ui(Oo,n))}function Lo(e){No.current===e&&(li(Oo),li(No))}var Fo=ci(0);function jo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=null,Uo=null,zo=!1;function Vo(e,t){var n=Hc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ho(e){if(zo){var t=Uo;if(t){var n=t;if(!qo(e,t)){if(!(t=Kr(n.nextSibling))||!qo(e,t))return e.flags=-1025&e.flags|2,zo=!1,void(Bo=e);Vo(Bo,n)}Bo=e,Uo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,zo=!1,Bo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function Go(e){if(e!==Bo)return!1;if(!zo)return Wo(e),zo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Uo;t;)Vo(e,t),t=Kr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Uo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Uo=null}}else Uo=Bo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){Uo=Bo=null,zo=!1}var Qo=[];function Xo(){for(var e=0;e<Qo.length;e++)Qo[e]._workInProgressVersionPrimary=null;Qo.length=0}var $o=_.ReactCurrentDispatcher,Yo=_.ReactCurrentBatchConfig,Jo=0,Zo=null,es=null,ts=null,ns=!1,rs=!1;function is(){throw Error(s(321))}function os(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ss(e,t,n,r,i,o){if(Jo=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$o.current=null===e||null===e.memoizedState?Ps:As,e=n(r,i),rs){o=0;do{if(rs=!1,!(25>o))throw Error(s(301));o+=1,ts=es=null,t.updateQueue=null,$o.current=Ds,e=n(r,i)}while(rs)}if($o.current=Rs,t=null!==es&&null!==es.next,Jo=0,ts=es=Zo=null,ns=!1,t)throw Error(s(300));return e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Zo.memoizedState=ts=e:ts=ts.next=e,ts}function cs(){if(null===es){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Zo.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e)throw Error(s(310));e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Zo.memoizedState=ts=e:ts=ts.next=e}return ts}function ls(e,t){return"function"===typeof t?t(e):t}function us(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=es,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=a=o=null,l=i;do{var u=l.lane;if((Jo&u)===u)null!==c&&(c=c.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var d={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(a=c=d,o=r):c=c.next=d,Zo.lanes|=u,za|=u}l=l.next}while(null!==l&&l!==i);null===c?o=r:c.next=a,lr(r,t.memoizedState)||(Ls=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ds(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);lr(o,t.memoizedState)||(Ls=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function hs(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Qo.push(t))),e)return n(t._source);throw Qo.push(t),Error(s(350))}function fs(e,t,n,r){var i=Aa;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),c=$o.current,l=c.useState((function(){return hs(i,t,n)})),u=l[1],d=l[0];l=ts;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,m=h.source;h=h.subscribe;var g=Zo;return e.memoizedState={refs:f,source:t,subscribe:r},c.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=o(t._source);if(!lr(a,e)){e=n(t._source),lr(d,e)||(u(e),e=fc(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var c=31-qt(s),l=1<<c;r[c]|=e,s&=~l}}}),[n,t,r]),c.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=fc(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(p,n)&&lr(m,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ls,lastRenderedState:d}).dispatch=u=Ns.bind(null,Zo,e),l.queue=e,l.baseQueue=null,d=hs(i,t,n),l.memoizedState=l.baseState=d),d}function ps(e,t,n){return fs(cs(),e,t,n)}function ms(e){var t=as();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ls,lastRenderedState:e}).dispatch=Ns.bind(null,Zo,e),[t.memoizedState,e]}function gs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vs(e){return e={current:e},as().memoizedState=e}function ys(){return cs().memoizedState}function bs(e,t,n,r){var i=as();Zo.flags|=e,i.memoizedState=gs(1|t,n,void 0,void 0===r?null:r)}function ws(e,t,n,r){var i=cs();r=void 0===r?null:r;var o=void 0;if(null!==es){var s=es.memoizedState;if(o=s.destroy,null!==r&&os(r,s.deps))return void gs(t,n,o,r)}Zo.flags|=e,i.memoizedState=gs(1|t,n,o,r)}function _s(e,t){return bs(516,4,e,t)}function Es(e,t){return ws(516,4,e,t)}function Cs(e,t){return ws(4,2,e,t)}function xs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ss(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ws(4,2,xs.bind(null,t,e),n)}function ks(){}function Ts(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&os(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Is(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&os(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Os(e,t){var n=qi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Yo.transition;Yo.transition=1;try{e(!1),t()}finally{Yo.transition=n}}))}function Ns(e,t,n){var r=hc(),i=fc(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Zo||null!==s&&s===Zo)rs=ns=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,c=s(a,n);if(o.eagerReducer=s,o.eagerState=c,lr(c,a))return}catch(l){}pc(e,i,r)}}var Rs={readContext:oo,useCallback:is,useContext:is,useEffect:is,useImperativeHandle:is,useLayoutEffect:is,useMemo:is,useReducer:is,useRef:is,useState:is,useDebugValue:is,useDeferredValue:is,useTransition:is,useMutableSource:is,useOpaqueIdentifier:is,unstable_isNewReconciler:!1},Ps={readContext:oo,useCallback:function(e,t){return as().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:_s,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bs(4,2,xs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bs(4,2,e,t)},useMemo:function(e,t){var n=as();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=as();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ns.bind(null,Zo,e),[r.memoizedState,e]},useRef:vs,useState:ms,useDebugValue:ks,useDeferredValue:function(e){var t=ms(e),n=t[0],r=t[1];return _s((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=ms(!1),t=e[0];return vs(e=Os.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=as();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fs(r,e,t,n)},useOpaqueIdentifier:function(){if(zo){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(s(355))})),n=ms(t)[1];return 0===(2&Zo.mode)&&(Zo.flags|=516,gs(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return ms(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},As={readContext:oo,useCallback:Ts,useContext:oo,useEffect:Es,useImperativeHandle:Ss,useLayoutEffect:Cs,useMemo:Is,useReducer:us,useRef:ys,useState:function(){return us(ls)},useDebugValue:ks,useDeferredValue:function(e){var t=us(ls),n=t[0],r=t[1];return Es((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=us(ls)[0];return[ys().current,e]},useMutableSource:ps,useOpaqueIdentifier:function(){return us(ls)[0]},unstable_isNewReconciler:!1},Ds={readContext:oo,useCallback:Ts,useContext:oo,useEffect:Es,useImperativeHandle:Ss,useLayoutEffect:Cs,useMemo:Is,useReducer:ds,useRef:ys,useState:function(){return ds(ls)},useDebugValue:ks,useDeferredValue:function(e){var t=ds(ls),n=t[0],r=t[1];return Es((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=ds(ls)[0];return[ys().current,e]},useMutableSource:ps,useOpaqueIdentifier:function(){return ds(ls)[0]},unstable_isNewReconciler:!1},Ms=_.ReactCurrentOwner,Ls=!1;function Fs(e,t,n,r){t.child=null===e?To(t,null,n,r):ko(t,e.child,n,r)}function js(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=ss(e,t,n,r,o,i),null===e||Ls?(t.flags|=1,Fs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i))}function Bs(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!==typeof s||Wc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Kc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Us(e,t,s,r,i,o))}return s=e.child,0===(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?oa(e,t,o):(t.flags|=1,(e=Gc(s,r)).ref=t.ref,e.return=t,t.child=e)}function Us(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Ls=!1,0===(o&i))return t.lanes=e.lanes,oa(e,t,o);0!==(16384&e.flags)&&(Ls=!0)}return qs(e,t,n,r,o)}function zs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Ec(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Ec(t,e),null;t.memoizedState={baseLanes:0},Ec(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ec(t,r);return Fs(e,t,i,n),t.child}function Vs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qs(e,t,n,r,i){var o=gi(n)?pi:hi.current;return o=mi(t,o),io(t,i),n=ss(e,t,n,r,o,i),null===e||Ls?(t.flags|=1,Fs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i))}function Hs(e,t,n,r,i){if(gi(n)){var o=!0;wi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bo(t,n,r),_o(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=oo(l):l=mi(t,l=gi(n)?pi:hi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||c!==l)&&wo(t,s,r,l),so=!1;var h=t.memoizedState;s.state=h,fo(t,r,s,i),c=t.memoizedState,a!==r||h!==c||fi.current||so?("function"===typeof u&&(go(t,n,u,r),c=t.memoizedState),(a=so||yo(t,n,a,r,h,c,l))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4)):("function"===typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,co(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:$i(t.type,a),s.props=l,d=t.pendingProps,h=s.context,"object"===typeof(c=n.contextType)&&null!==c?c=oo(c):c=mi(t,c=gi(n)?pi:hi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==c)&&wo(t,s,r,c),so=!1,h=t.memoizedState,s.state=h,fo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||fi.current||so?("function"===typeof f&&(go(t,n,f,r),p=t.memoizedState),(l=so||yo(t,n,l,r,h,p,c))?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=c,r=l):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ws(e,t,n,r,o,i)}function Ws(e,t,n,r,i,o){Vs(e,t);var s=0!==(64&t.flags);if(!r&&!s)return i&&_i(t,n,!1),oa(e,t,o);r=t.stateNode,Ms.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,a,o)):Fs(e,t,a,o),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Gs(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Ao(e,t.containerInfo)}var Ks,Qs,Xs,$s,Ys={dehydrated:null,retryLane:0};function Js(e,t,n){var r,i=t.pendingProps,o=Fo.current,s=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(Fo,1&o),null===e?(void 0!==i.fallback&&Ho(t),e=i.children,o=i.fallback,s?(e=Zs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ys,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ys,t.lanes=33554432,e):((n=Xc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=ta(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Ys,i):(n=ea(e,t,i.children,n),t.memoizedState=null,n))}function Zs(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Xc(t,i,0,null),n=Qc(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ea(e,t,n,r){var i=e.child;return e=i.sibling,n=Gc(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ta(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0===(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gc(s,a),null!==e?r=Gc(e,r):(r=Qc(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function na(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function ra(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function ia(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fs(e,t,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&na(e,n);else if(19===e.tag)na(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Fo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===jo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ra(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===jo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ra(t,!0,n,null,o,t.lastEffect);break;case"together":ra(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function oa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),za|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Gc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function sa(e,t){if(!zo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function aa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&vi(),null;case 3:return Do(),li(fi),li(hi),Xo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Go(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Qs(t),null;case 5:Lo(t);var o=Po(Ro.current);if(n=t.type,null!==e&&null!=t.stateNode)Xs(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Po(Oo.current),Go(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Yr]=t,r[Jr]=a,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Or(Sr[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,a),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Or("invalid",r);break;case"textarea":ce(r,a),Or("invalid",r)}for(var l in Ce(n,a),e=null,a)a.hasOwnProperty(l)&&(o=a[l],"children"===l?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):c.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Or("scroll",r));switch(n){case"input":$(r),re(r,a,!0);break;case"textarea":$(r),ue(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===de.html&&(e=he(n)),e===de.html?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Yr]=t,e[Jr]=r,Ks(e,t,!1,!1),t.stateNode=e,l=xe(n,r),n){case"dialog":Or("cancel",e),Or("close",e),o=r;break;case"iframe":case"object":case"embed":Or("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)Or(Sr[o],e);o=r;break;case"source":Or("error",e),o=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),o=r;break;case"details":Or("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Or("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ce(e,r),o=ae(e,r),Or("invalid",e);break;default:o=r}Ce(n,o);var u=o;for(a in u)if(u.hasOwnProperty(a)){var d=u[a];"style"===a?_e(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===a?"string"===typeof d?("textarea"!==n||""!==d)&&ve(e,d):"number"===typeof d&&ve(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(c.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Or("scroll",e):null!=d&&w(e,a,d,l))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Br)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$s(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=Po(Ro.current),Po(Oo.current),Go(t)?(r=t.stateNode,n=t.memoizedProps,r[Yr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=t,t.stateNode=r)}return null;case 13:return li(Fo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Go(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===ja&&(ja=3):(0!==ja&&3!==ja||(ja=4),null===Aa||0===(134217727&za)&&0===(134217727&Va)||yc(Aa,Ma))),(r||n)&&(t.flags|=4),null);case 4:return Do(),Qs(t),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(li(Fo),null===(r=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(l=r.rendering))if(a)sa(r,!1);else{if(0!==ja||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=jo(e))){for(t.flags|=64,sa(r,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&Vi()>Ga&&(t.flags|=64,a=!0,sa(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=jo(l))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),sa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!zo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>Ga&&1073741824!==n&&(t.flags|=64,a=!0,sa(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=Fo.current,ui(Fo,a?1&t|2:1&t),n):null;case 23:case 24:return Cc(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function ca(e){switch(e.tag){case 1:gi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),li(fi),li(hi),Xo(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Lo(e),null;case 13:return li(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fo),null;case 4:return Do(),null;case 10:return no(e),null;case 23:case 24:return Cc(),null;default:return null}}function la(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ks=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qs=function(){},Xs=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Po(Oo.current);var s,a=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),a=[];break;case"option":o=oe(e,o),r=oe(e,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),r=ae(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Br)}for(d in Ce(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(c.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var u=r[d];if(l=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(null!=u||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(d,u)):"children"===d?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(c.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Or("scroll",e),a||l===u||(a=[])):"object"===typeof u&&null!==u&&u.$$typeof===M?u.toString():(a=a||[]).push(d,u))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},$s=function(e,t,n,r){n!==r&&(t.flags|=4)};var da="function"===typeof WeakMap?WeakMap:Map;function ha(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$a||($a=!0,Ya=r),ua(0,t)},n}function fa(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ua(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ja?Ja=new Set([this]):Ja.add(this),ua(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pa="function"===typeof WeakSet?WeakSet:Set;function ma(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Uc(e,n)}else t.current=null}function ga(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(s(163))}function va(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fc(n,e),Lc(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(s(163))}function ya(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ba(e,t){if(Ci&&"function"===typeof Ci.onCommitFiberUnmount)try{Ci.onCommitFiberUnmount(Ei,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fc(t,n);else{r=t;try{i()}catch(o){Uc(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ma(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Uc(t,o)}break;case 5:ma(t);break;case 4:Sa(e,t)}}function wa(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _a(e){return 5===e.tag||3===e.tag||4===e.tag}function Ea(e){e:{for(var t=e.return;null!==t;){if(_a(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_a(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ca(e,n,t):xa(e,n,t)}function Ca(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(Ca(e,t,n),e=e.sibling;null!==e;)Ca(e,t,n),e=e.sibling}function xa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(xa(e,t,n),e=e.sibling;null!==e;)xa(e,t,n),e=e.sibling}function Sa(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,c=i,l=c;;)if(ba(a,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===c)break e;for(;null===l.sibling;){if(null===l.return||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(a=n,c=i.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ba(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ka(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),xe(e,i),t=xe(e,r),i=0;i<o.length;i+=2){var a=o[i],c=o[i+1];"style"===a?_e(n,c):"dangerouslySetInnerHTML"===a?ge(n,c):"children"===a?ve(n,c):w(n,a,c,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?se(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wa=Vi(),ya(t.child,!0)),void Ta(t);case 19:return void Ta(t);case 23:case 24:return void ya(t,null!==t.memoizedState)}throw Error(s(163))}function Ta(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pa),t.forEach((function(t){var r=Vc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ia(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Oa=Math.ceil,Na=_.ReactCurrentDispatcher,Ra=_.ReactCurrentOwner,Pa=0,Aa=null,Da=null,Ma=0,La=0,Fa=ci(0),ja=0,Ba=null,Ua=0,za=0,Va=0,qa=0,Ha=null,Wa=0,Ga=1/0;function Ka(){Ga=Vi()+500}var Qa,Xa=null,$a=!1,Ya=null,Ja=null,Za=!1,ec=null,tc=90,nc=[],rc=[],ic=null,oc=0,sc=null,ac=-1,cc=0,lc=0,uc=null,dc=!1;function hc(){return 0!==(48&Pa)?Vi():-1!==ac?ac:ac=Vi()}function fc(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===qi()?1:2;if(0===cc&&(cc=Ua),0!==Xi.transition){0!==lc&&(lc=null!==Ha?Ha.pendingLanes:0),e=cc;var t=4186112&~lc;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qi(),0!==(4&Pa)&&98===e?e=Bt(12,cc):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),cc),e}function pc(e,t,n){if(50<oc)throw oc=0,sc=null,Error(s(185));if(null===(e=mc(e,t)))return null;Vt(e,t,n),e===Aa&&(Va|=t,4===ja&&yc(e,Ma));var r=qi();1===t?0!==(8&Pa)&&0===(48&Pa)?bc(e):(gc(e,n),0===Pa&&(Ka(),Ki())):(0===(4&Pa)||98!==r&&99!==r||(null===ic?ic=new Set([e]):ic.add(e)),gc(e,n)),Ha=e}function mc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gc(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-qt(a),l=1<<c,u=o[c];if(-1===u){if(0===(l&r)||0!==(l&i)){u=t,Lt(l);var d=Mt;o[c]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);a&=~l}if(r=Ft(e,e===Aa?Ma:0),t=Mt,0===r)null!==n&&(n!==Li&&ki(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&ki(n)}15===t?(n=bc.bind(null,e),null===ji?(ji=[n],Bi=Si(Ri,Qi)):ji.push(n),n=Li):14===t?n=Gi(99,bc.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=Gi(n,vc.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function vc(e){if(ac=-1,lc=cc=0,0!==(48&Pa))throw Error(s(327));var t=e.callbackNode;if(Mc()&&e.callbackNode!==t)return null;var n=Ft(e,e===Aa?Ma:0);if(0===n)return null;var r=n,i=Pa;Pa|=16;var o=kc();for(Aa===e&&Ma===r||(Ka(),xc(e,r));;)try{Oc();break}catch(c){Sc(e,c)}if(to(),Na.current=o,Pa=i,null!==Da?r=0:(Aa=null,Ma=0,r=ja),0!==(Ua&Va))xc(e,0);else if(0!==r){if(2===r&&(Pa|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=jt(e))&&(r=Tc(e,n))),1===r)throw t=Ba,xc(e,0),yc(e,n),gc(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:Pc(e);break;case 3:if(yc(e,n),(62914560&n)===n&&10<(r=Wa+500-Vi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Pc.bind(null,e),r);break}Pc(e);break;case 4:if(yc(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-qt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Oa(n/1960))-n)){e.timeoutHandle=Hr(Pc.bind(null,e),n);break}Pc(e);break;default:throw Error(s(329))}}return gc(e,Vi()),e.callbackNode===t?vc.bind(null,e):null}function yc(e,t){for(t&=~qa,t&=~Va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function bc(e){if(0!==(48&Pa))throw Error(s(327));if(Mc(),e===Aa&&0!==(e.expiredLanes&Ma)){var t=Ma,n=Tc(e,t);0!==(Ua&Va)&&(n=Tc(e,t=Ft(e,t)))}else n=Tc(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Pa|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=jt(e))&&(n=Tc(e,t))),1===n)throw n=Ba,xc(e,0),yc(e,t),gc(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pc(e),gc(e,Vi()),null}function wc(e,t){var n=Pa;Pa|=1;try{return e(t)}finally{0===(Pa=n)&&(Ka(),Ki())}}function _c(e,t){var n=Pa;Pa&=-2,Pa|=8;try{return e(t)}finally{0===(Pa=n)&&(Ka(),Ki())}}function Ec(e,t){ui(Fa,La),La|=t,Ua|=t}function Cc(){La=Fa.current,li(Fa)}function xc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Da)for(n=Da.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Do(),li(fi),li(hi),Xo();break;case 5:Lo(r);break;case 4:Do();break;case 13:case 19:li(Fo);break;case 10:no(r);break;case 23:case 24:Cc()}n=n.return}Aa=e,Da=Gc(e.current,null),Ma=La=Ua=t,ja=0,Ba=null,qa=Va=za=0}function Sc(e,t){for(;;){var n=Da;try{if(to(),$o.current=Rs,ns){for(var r=Zo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ns=!1}if(Jo=0,ts=es=Zo=null,rs=!1,Ra.current=null,null===n||null===n.return){ja=1,Ba=t,Da=null;break}e:{var o=e,s=n.return,a=n,c=t;if(t=Ma,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var d=0!==(1&Fo.current),h=s;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=h.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var g=h.updateQueue;if(null===g){var v=new Set;v.add(l),h.updateQueue=v}else g.add(l);if(0===(2&h.mode)){if(h.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=lo(-1,1);y.tag=2,uo(a,y)}a.lanes|=1;break e}c=void 0,a=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new da,c=new Set,b.set(l,c)):void 0===(c=b.get(l))&&(c=new Set,b.set(l,c)),!c.has(a)){c.add(a);var w=zc.bind(null,o,l,a);l.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);c=Error((K(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ja&&(ja=2),c=la(c,a),h=s;do{switch(h.tag){case 3:o=c,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,ha(0,o,t));break e;case 1:o=c;var _=h.type,E=h.stateNode;if(0===(64&h.flags)&&("function"===typeof _.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Ja||!Ja.has(E)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,fa(h,o,t));break e}}h=h.return}while(null!==h)}Rc(n)}catch(C){t=C,Da===n&&null!==n&&(Da=n=n.return);continue}break}}function kc(){var e=Na.current;return Na.current=Rs,null===e?Rs:e}function Tc(e,t){var n=Pa;Pa|=16;var r=kc();for(Aa===e&&Ma===t||xc(e,t);;)try{Ic();break}catch(i){Sc(e,i)}if(to(),Pa=n,Na.current=r,null!==Da)throw Error(s(261));return Aa=null,Ma=0,ja}function Ic(){for(;null!==Da;)Nc(Da)}function Oc(){for(;null!==Da&&!Ti();)Nc(Da)}function Nc(e){var t=Qa(e.alternate,e,La);e.memoizedProps=e.pendingProps,null===t?Rc(e):Da=t,Ra.current=null}function Rc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=aa(n,t,La)))return void(Da=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&La)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ca(t)))return n.flags&=2047,void(Da=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Da=t);Da=t=e}while(null!==t);0===ja&&(ja=5)}function Pc(e){var t=qi();return Wi(99,Ac.bind(null,e,t)),null}function Ac(e,t){do{Mc()}while(null!==ec);if(0!==(48&Pa))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,c=e.expirationTimes;0<o;){var l=31-qt(o),u=1<<l;i[l]=0,a[l]=-1,c[l]=-1,o&=~u}if(null!==ic&&0===(24&r)&&ic.has(e)&&ic.delete(e),e===Aa&&(Da=Aa=null,Ma=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pa,Pa|=32,Ra.current=null,Ur=Qt,gr(a=mr())){if("selectionStart"in a)c={start:a.selectionStart,end:a.selectionEnd};else e:if(c=(c=a.ownerDocument)&&c.defaultView||window,(u=c.getSelection&&c.getSelection())&&0!==u.rangeCount){c=u.anchorNode,o=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{c.nodeType,l.nodeType}catch(k){c=null;break e}var d=0,h=-1,f=-1,p=0,m=0,g=a,v=null;t:for(;;){for(var y;g!==c||0!==o&&3!==g.nodeType||(h=d+o),g!==l||0!==u&&3!==g.nodeType||(f=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===a)break t;if(v===c&&++p===o&&(h=d),v===l&&++m===u&&(f=d),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}c=-1===h||-1===f?null:{start:h,end:f}}else c=null;c=c||{start:0,end:0}}else c=null;zr={focusedElem:a,selectionRange:c},Qt=!1,uc=null,dc=!1,Xa=r;do{try{Dc()}catch(k){if(null===Xa)throw Error(s(330));Uc(Xa,k),Xa=Xa.nextEffect}}while(null!==Xa);uc=null,Xa=r;do{try{for(a=e;null!==Xa;){var b=Xa.flags;if(16&b&&ve(Xa.stateNode,""),128&b){var w=Xa.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:Ea(Xa),Xa.flags&=-3;break;case 6:Ea(Xa),Xa.flags&=-3,ka(Xa.alternate,Xa);break;case 1024:Xa.flags&=-1025;break;case 1028:Xa.flags&=-1025,ka(Xa.alternate,Xa);break;case 4:ka(Xa.alternate,Xa);break;case 8:Sa(a,c=Xa);var E=c.alternate;wa(c),null!==E&&wa(E)}Xa=Xa.nextEffect}}catch(k){if(null===Xa)throw Error(s(330));Uc(Xa,k),Xa=Xa.nextEffect}}while(null!==Xa);if(_=zr,w=mr(),b=_.focusedElem,a=_.selectionRange,w!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==a&&gr(b)&&(w=a.start,void 0===(_=a.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),c=b.textContent.length,E=Math.min(a.start,c),a=void 0===a.end?E:Math.min(a.end,c),!_.extend&&E>a&&(c=a,a=E,E=c),c=fr(b,E),o=fr(b,a),c&&o&&(1!==_.rangeCount||_.anchorNode!==c.node||_.anchorOffset!==c.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(c.node,c.offset),_.removeAllRanges(),E>a?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Qt=!!Ur,zr=Ur=null,e.current=n,Xa=r;do{try{for(b=e;null!==Xa;){var C=Xa.flags;if(36&C&&va(b,Xa.alternate,Xa),128&C){w=void 0;var x=Xa.ref;if(null!==x){var S=Xa.stateNode;Xa.tag,w=S,"function"===typeof x?x(w):x.current=w}}Xa=Xa.nextEffect}}catch(k){if(null===Xa)throw Error(s(330));Uc(Xa,k),Xa=Xa.nextEffect}}while(null!==Xa);Xa=null,Fi(),Pa=i}else e.current=n;if(Za)Za=!1,ec=e,tc=t;else for(Xa=r;null!==Xa;)t=Xa.nextEffect,Xa.nextEffect=null,8&Xa.flags&&((C=Xa).sibling=null,C.stateNode=null),Xa=t;if(0===(r=e.pendingLanes)&&(Ja=null),1===r?e===sc?oc++:(oc=0,sc=e):oc=0,n=n.stateNode,Ci&&"function"===typeof Ci.onCommitFiberRoot)try{Ci.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(k){}if(gc(e,Vi()),$a)throw $a=!1,e=Ya,Ya=null,e;return 0!==(8&Pa)||Ki(),null}function Dc(){for(;null!==Xa;){var e=Xa.alternate;dc||null===uc||(0!==(8&Xa.flags)?Ze(Xa,uc)&&(dc=!0):13===Xa.tag&&Ia(e,Xa)&&Ze(Xa,uc)&&(dc=!0));var t=Xa.flags;0!==(256&t)&&ga(e,Xa),0===(512&t)||Za||(Za=!0,Gi(97,(function(){return Mc(),null}))),Xa=Xa.nextEffect}}function Mc(){if(90!==tc){var e=97<tc?97:tc;return tc=90,Wi(e,jc)}return!1}function Lc(e,t){nc.push(t,e),Za||(Za=!0,Gi(97,(function(){return Mc(),null})))}function Fc(e,t){rc.push(t,e),Za||(Za=!0,Gi(97,(function(){return Mc(),null})))}function jc(){if(null===ec)return!1;var e=ec;if(ec=null,0!==(48&Pa))throw Error(s(331));var t=Pa;Pa|=32;var n=rc;rc=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"===typeof a)try{a()}catch(l){if(null===o)throw Error(s(330));Uc(o,l)}}for(n=nc,nc=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var c=i.create;i.destroy=c()}catch(l){if(null===o)throw Error(s(330));Uc(o,l)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Pa=t,Ki(),!0}function Bc(e,t,n){uo(e,t=ha(0,t=la(n,t),1)),t=hc(),null!==(e=mc(e,1))&&(Vt(e,1,t),gc(e,t))}function Uc(e,t){if(3===e.tag)Bc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ja||!Ja.has(r))){var i=fa(n,e=la(t,e),1);if(uo(n,i),i=hc(),null!==(n=mc(n,1)))Vt(n,1,i),gc(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ja||!Ja.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function zc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hc(),e.pingedLanes|=e.suspendedLanes&n,Aa===e&&(Ma&n)===n&&(4===ja||3===ja&&(62914560&Ma)===Ma&&500>Vi()-Wa?xc(e,0):qa|=n),gc(e,t)}function Vc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===qi()?1:2:(0===cc&&(cc=Ua),0===(t=Ut(62914560&~cc))&&(t=4194304))),n=hc(),null!==(e=mc(e,t))&&(Vt(e,t,n),gc(e,n))}function qc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hc(e,t,n,r){return new qc(e,t,n,r)}function Wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gc(e,t){var n=e.alternate;return null===n?((n=Hc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Wc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return Qc(n.children,i,o,t);case L:a=8,i|=16;break;case S:a=8,i|=1;break;case k:return(e=Hc(12,n,t,8|i)).elementType=k,e.type=k,e.lanes=o,e;case N:return(e=Hc(13,n,t,i)).type=N,e.elementType=N,e.lanes=o,e;case R:return(e=Hc(19,n,t,i)).elementType=R,e.lanes=o,e;case F:return Xc(n,i,o,t);case j:return(e=Hc(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case I:a=9;break e;case O:a=11;break e;case P:a=14;break e;case A:a=16,r=null;break e;case D:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Hc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Qc(e,t,n,r){return(e=Hc(7,e,r,t)).lanes=n,e}function Xc(e,t,n,r){return(e=Hc(23,e,r,t)).elementType=F,e.lanes=n,e}function $c(e,t,n){return(e=Hc(6,e,null,t)).lanes=n,e}function Yc(e,t,n){return(t=Hc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zc(e,t,n,r){var i=t.current,o=hc(),a=fc(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(gi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(s(171))}if(1===n.tag){var l=n.type;if(gi(l)){n=bi(n,l,c);break e}}n=c}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),pc(i,a,o),a}function el(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nl(e,t){tl(e,t),(e=e.alternate)&&tl(e,t)}function rl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Jc(e,t,null!=n&&!0===n.hydrate),t=Hc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ao(t),e[Zr]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function il(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ol(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof i){var a=i;i=function(){var e=el(s);a.call(e)}}Zc(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rl(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"===typeof i){var c=i;i=function(){var e=el(s);c.call(e)}}_c((function(){Zc(t,s,e,i)}))}return el(s)}function sl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!il(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Qa=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Ls=!0;else{if(0===(n&r)){switch(Ls=!1,t.tag){case 3:Gs(t),Ko();break;case 5:Mo(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Ao(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ui(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Js(e,t,n):(ui(Fo,1&Fo.current),null!==(t=oa(e,t,n))?t.sibling:null);ui(Fo,1&Fo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ia(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,zs(e,t,n)}return oa(e,t,n)}Ls=0!==(16384&e.flags)}else Ls=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,hi.current),io(t,n),i=ss(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ao(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&go(t,r,a,e),i.updater=vo,t.stateNode=i,i._reactInternals=t,_o(t,r,e,n),t=Ws(null,t,r,!0,o,n)}else t.tag=0,Fs(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===P)return 14}return 2}(i),e=$i(i,e),o){case 0:t=qs(null,t,i,e,n);break e;case 1:t=Hs(null,t,i,e,n);break e;case 11:t=js(null,t,i,e,n);break e;case 14:t=Bs(null,t,i,$i(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qs(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,Hs(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Gs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),fo(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=oa(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Uo=Kr(t.stateNode.containerInfo.firstChild),Bo=t,o=zo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Qo.push(o);for(n=To(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fs(e,t,r,n),Ko();t=t.child}return t;case 5:return Mo(t),null===e&&Ho(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,qr(r,i)?a=null:null!==o&&qr(r,o)&&(t.flags|=16),Vs(e,t),Fs(e,t,a,n),t.child;case 6:return null===e&&Ho(t),null;case 13:return Js(e,t,n);case 4:return Ao(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Fs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,js(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return Fs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fs(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var c=t.type._context;if(ui(Yi,c._currentValue),c._currentValue=o,null!==a)if(c=a.value,0===(o=lr(c,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(a.children===i.children&&!fi.current){t=oa(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){a=c.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&o)){1===c.tag&&((u=lo(-1,n&-n)).tag=2,uo(c,u)),c.lanes|=n,null!==(u=c.alternate)&&(u.lanes|=n),ro(c.return,n),l.lanes|=n;break}u=u.next}}else a=10===c.tag&&c.type===t.type?null:c.child;if(null!==a)a.return=c;else for(a=c;null!==a;){if(a===t){a=null;break}if(null!==(c=a.sibling)){c.return=a.return,a=c;break}a=a.return}c=a}Fs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,Fs(e,t,r,n),t.child;case 14:return o=$i(i=t.type,t.pendingProps),Bs(e,t,i,o=$i(i.type,o),r,n);case 15:return Us(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,io(t,n),bo(t,r,i),_o(t,r,i,n),Ws(null,t,r,!0,e,n);case 19:return ia(e,t,n);case 23:case 24:return zs(e,t,n)}throw Error(s(156,t.tag))},rl.prototype.render=function(e){Zc(e,this._internalRoot,null,null)},rl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zc(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(pc(e,4,hc()),nl(e,4))},tt=function(e){13===e.tag&&(pc(e,67108864,hc()),nl(e,67108864))},nt=function(e){if(13===e.tag){var t=hc(),n=fc(e);pc(e,n,t),nl(e,n)}},rt=function(e,t){return t()},ke=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(s(90));Y(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Pe=wc,Ae=function(e,t,n,r,i){var o=Pa;Pa|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Pa=o)&&(Ka(),Ki())}},De=function(){0===(49&Pa)&&(function(){if(null!==ic){var e=ic;ic=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gc(e,Vi())}))}Ki()}(),Mc())},Me=function(e,t){var n=Pa;Pa|=2;try{return e(t)}finally{0===(Pa=n)&&(Ka(),Ki())}};var al={Events:[ni,ri,ii,Ne,Re,Mc,{current:!1}]},cl={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ll={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{Ei=ul.inject(ll),Ci=ul}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=al,t.createPortal=sl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pa;if(0!==(48&n))return e(t);Pa|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Pa=n,Ki()}},t.hydrate=function(e,t,n){if(!il(t))throw Error(s(200));return ol(null,e,t,!0,n)},t.render=function(e,t,n){if(!il(t))throw Error(s(200));return ol(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!il(e))throw Error(s(40));return!!e._reactRootContainer&&(_c((function(){ol(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=wc,t.unstable_createPortal=function(e,t){return sl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!il(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ol(e,t,n,!1,r)},t.version="17.0.2"},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},366:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,c,l,u;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(c=a;0!==c--;)if(!o(e[c],s[c]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!s.has(c.value[0]))return!1;for(u=e.entries();!(c=u.next()).done;)if(!o(c.value[1],s.get(c.value[0])))return!1;return!0}if(r&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!s.has(c.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((a=e.length)!=s.length)return!1;for(c=a;0!==c--;)if(e[c]!==s[c])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof s.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof s.toString)return e.toString()===s.toString();if((a=(l=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(c=a;0!==c--;)if(!Object.prototype.hasOwnProperty.call(s,l[c]))return!1;if(t&&e instanceof Element)return!1;for(c=a;0!==c--;)if(("_owner"!==l[c]&&"__v"!==l[c]&&"__o"!==l[c]||!e.$$typeof)&&!o(e[l[c]],s[l[c]]))return!1;return!0}return e!==e&&s!==s}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},82:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,o=60108,s=60114,a=60109,c=60110,l=60112,u=60113,d=60120,h=60115,f=60116,p=60121,m=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),s=b("react.profiler"),a=b("react.provider"),c=b("react.context"),l=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),f=b("react.lazy"),p=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case c:case l:case f:case h:case a:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return w(e)===c}},86:(e,t,n)=>{"use strict";e.exports=n(82)},403:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},221:(e,t,n)=>{var r=n(403);e.exports=f,e.exports.parse=o,e.exports.compile=function(e,t){return a(o(e,t),t)},e.exports.tokensToFunction=a,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,s=0,a="",u=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],h=n[1],f=n.index;if(a+=e.slice(s,f),s=f+d.length,h)a+=h[1];else{var p=e[s],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],w=n[7];a&&(r.push(a),a="");var _=null!=m&&null!=p&&p!==m,E="+"===b||"*"===b,C="?"===b||"*"===b,x=n[2]||u,S=v||y;r.push({name:g||o++,prefix:m||"",delimiter:x,optional:C,repeat:E,partial:_,asterisk:!!w,pattern:S?l(S):w?".*":"[^"+c(x)+"]+?"})}}return s<e.length&&(a+=e.substr(s)),a&&r.push(a),r}function s(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function a(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",a=t||{},c=(i||{}).pretty?s:encodeURIComponent,l=0;l<e.length;l++){var u=e[l];if("string"!==typeof u){var d,h=a[u.name];if(null==h){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(d=c(h[f]),!n[l].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===f?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(h),!n[l].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');o+=u.prefix+d}}else o+=u}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,s="",a=0;a<e.length;a++){var l=e[a];if("string"===typeof l)s+=c(l);else{var h=c(l.prefix),f="(?:"+l.pattern+")";t.push(l),l.repeat&&(f+="(?:"+h+f+")*"),s+=f=l.optional?l.partial?h+"("+f+")?":"(?:"+h+"("+f+"))?":h+"("+f+")"}}var p=c(n.delimiter||"/"),m=s.slice(-p.length)===p;return i||(s=(m?s.slice(0,-p.length):s)+"(?:"+p+"(?=$))?"),s+=o?"$":i&&m?"":"(?="+p+"|$)",u(new RegExp("^"+s,d(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(f(e[i],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},116:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case m:case c:return e;default:return t}}case i:return t}}}function E(e){return _(e)===d}},808:(e,t,n)=>{"use strict";n(116)},161:(e,t,n)=>{"use strict";var r,i=n(43),o=(r=i)&&"object"===typeof r&&"default"in r?r.default:r;function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!==typeof r)throw new Error("Expected WrappedComponent to be a React component.");var c,l=[];function u(){c=e(l.map((function(e){return e.props}))),d.canUseDOM?t(c):n&&(c=n(c))}var d=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.peek=function(){return c},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=c;return c=void 0,l=[],e};var s=i.prototype;return s.UNSAFE_componentWillMount=function(){l.push(this),u()},s.componentDidUpdate=function(){u()},s.componentWillUnmount=function(){var e=l.indexOf(this);l.splice(e,1),u()},s.render=function(){return o.createElement(r,this.props)},i}(i.PureComponent);return s(d,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),s(d,"canUseDOM",a),d}}},153:(e,t,n)=>{"use strict";n(123);var r=n(43),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:o,_owner:s.current}}t.jsx=l,t.jsxs=l},202:(e,t,n)=>{"use strict";var r=n(123),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,c=60112;t.Suspense=60113;var l=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),s=d("react.provider"),a=d("react.context"),c=d("react.forward_ref"),t.Suspense=d("react.suspense"),l=d("react.memo"),u=d("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===o[r]&&(o[r]=c[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:w.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case i:case o:c=!0}}if(c)return s=s(c=e),e=""===r?"."+k(c,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(s,t,n,"",(function(e){return e}))):null!=s&&(x(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+e)),t.push(s)),1;if(c=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=r+k(a=e[l],l);c+=T(a,t,n,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=T(a=a.value,t,n,u=r+k(a,l++),s);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function I(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(f(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var o=r({},e.props),s=e.key,a=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,c=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)_.call(t,u)&&!E.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,d=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(n){throw setTimeout(d,0),n}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(d,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(n){throw _.postMessage(null),n}}else m=!1},n=function(e){g=e,m||(m=!0,_.postMessage(null))},r=function(e,n){v=h((function(){e(t.unstable_now())}),n)},i=function(){f(v),v=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,c=e[a];if(void 0!==s&&0>S(s,n))void 0!==c&&0>S(c,s)?(e[r]=c,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==c&&0>S(c,n)))break e;e[r]=c,e[a]=n,r=a}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],T=[],I=1,O=null,N=3,R=!1,P=!1,A=!1;function D(e){for(var t=C(T);null!==t;){if(null===t.callback)x(T);else{if(!(t.startTime<=e))break;x(T),t.sortIndex=t.expirationTime,E(k,t)}t=C(T)}}function M(e){if(A=!1,D(e),!P)if(null!==C(k))P=!0,n(L);else{var t=C(T);null!==t&&r(M,t.startTime-e)}}function L(e,n){P=!1,A&&(A=!1,i()),R=!0;var o=N;try{for(D(n),O=C(k);null!==O&&(!(O.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=O.callback;if("function"===typeof s){O.callback=null,N=O.priorityLevel;var a=s(O.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?O.callback=a:O===C(k)&&x(k),D(n)}else x(k);O=C(k)}if(null!==O)var c=!0;else{var l=C(T);null!==l&&r(M,l.startTime-n),c=!1}return c}finally{O=null,N=o,R=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return C(k)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:I++,callback:o,priorityLevel:e,startTime:s,expirationTime:c=s+c,sortIndex:-1},s>a?(e.sortIndex=s,E(T,e),null===C(k)&&e===C(T)&&(A?i():A=!0,r(M,s-a))):(e.sortIndex=c,E(k,e),P||R||(P=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>as,SDK_VERSION:()=>Ka,_DEFAULT_ENTRY_NAME:()=>Ma,_addComponent:()=>Ba,_addOrOverwriteComponent:()=>Ua,_apps:()=>Fa,_clearComponents:()=>Ha,_components:()=>ja,_getProvider:()=>Va,_registerComponent:()=>za,_removeServiceInstance:()=>qa,deleteApp:()=>Ya,getApp:()=>Xa,getApps:()=>$a,initializeApp:()=>Qa,onLog:()=>Za,registerVersion:()=>Ja,setLogLevel:()=>ec});var t=n(43),r=n.t(t,2),i=n(950),o=n.t(i,2),s=t.createContext(null);var a=function(e){e()},c=function(){return a};var l={notify:function(){},get:function(){return[]}};function u(e,t){var n,r=l;function i(){s.onStateChange&&s.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=c(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var s={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=l)},getListeners:function(){return r}};return s}var d="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;const h=function(e){var n=e.store,r=e.context,i=e.children,o=(0,t.useMemo)((function(){var e=u(n);return{store:n,subscription:e}}),[n]),a=(0,t.useMemo)((function(){return n.getState()}),[n]);d((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,a]);var c=r||s;return t.createElement(c.Provider,{value:o},i)};function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var m=n(219),g=n.n(m),v=n(86),y=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],b=["reactReduxForwardedRef"],w=[],_=[null,null];function E(e,t){var n=e[1];return[t.payload,n+1]}function C(e,t,n){d((function(){return e.apply(void 0,t)}),n)}function x(e,t,n,r,i,o,s){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,s())}function S(e,t,n,r,i,o,s,a,c,l){if(e){var u=!1,d=null,h=function(){if(!u){var e,n,h=t.getState();try{e=r(h,i.current)}catch(KK){n=KK,d=KK}n||(d=null),e===o.current?s.current||c():(o.current=e,a.current=e,s.current=!0,l({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var k=function(){return[null,0]};function T(e,n){void 0===n&&(n={});var r=n,i=r.getDisplayName,o=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,a=r.methodName,c=void 0===a?"connectAdvanced":a,l=r.renderCountProp,d=void 0===l?void 0:l,h=r.shouldHandleStateChanges,m=void 0===h||h,T=r.storeKey,I=void 0===T?"store":T,O=(r.withRef,r.forwardRef),N=void 0!==O&&O,R=r.context,P=void 0===R?s:R,A=p(r,y),D=P;return function(n){var r=n.displayName||n.name||"Component",i=o(r),s=f({},A,{getDisplayName:o,methodName:c,renderCountProp:d,shouldHandleStateChanges:m,storeKey:I,displayName:i,wrappedComponentName:r,WrappedComponent:n}),a=A.pure;var l=a?t.useMemo:function(e){return e()};function h(r){var i=(0,t.useMemo)((function(){var e=r.reactReduxForwardedRef,t=p(r,b);return[r.context,e,t]}),[r]),o=i[0],a=i[1],c=i[2],d=(0,t.useMemo)((function(){return o&&o.Consumer&&(0,v.isContextConsumer)(t.createElement(o.Consumer,null))?o:D}),[o,D]),h=(0,t.useContext)(d),g=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(h)&&Boolean(h.store);var y=g?r.store:h.store,T=(0,t.useMemo)((function(){return function(t){return e(t.dispatch,s)}(y)}),[y]),I=(0,t.useMemo)((function(){if(!m)return _;var e=u(y,g?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[y,g,h]),O=I[0],N=I[1],R=(0,t.useMemo)((function(){return g?h:f({},h,{subscription:O})}),[g,h,O]),P=(0,t.useReducer)(E,w,k),A=P[0][0],M=P[1];if(A&&A.error)throw A.error;var L=(0,t.useRef)(),F=(0,t.useRef)(c),j=(0,t.useRef)(),B=(0,t.useRef)(!1),U=l((function(){return j.current&&c===F.current?j.current:T(y.getState(),c)}),[y,A,c]);C(x,[F,L,B,c,U,j,N]),C(S,[m,y,O,T,F,L,B,j,N,M],[y,O,T]);var z=(0,t.useMemo)((function(){return t.createElement(n,f({},U,{ref:a}))}),[a,n,U]);return(0,t.useMemo)((function(){return m?t.createElement(d.Provider,{value:R},z):z}),[d,z,R])}var y=a?t.memo(h):h;if(y.WrappedComponent=n,y.displayName=h.displayName=i,N){var T=t.forwardRef((function(e,n){return t.createElement(y,f({},e,{reactReduxForwardedRef:n}))}));return T.displayName=i,T.WrappedComponent=n,g()(T,n)}return g()(y,n)}}function I(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function O(e,t){if(I(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!I(e[n[i]],t[n[i]]))return!1;return!0}function N(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function R(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function P(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=R(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=R(i),i=r(t,n)),i},r}}const A=[function(e){return"function"===typeof e?P(e):void 0},function(e){return e?void 0:N((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?N((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];const D=[function(e){return"function"===typeof e?P(e):void 0},function(e){return e?void 0:N((function(){return{}}))}];function M(e,t,n){return f({},n,e,t)}const L=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,s=!1;return function(t,n,a){var c=e(t,n,a);return s?i&&o(c,r)||(r=c):(s=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return M}}];var F=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function j(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function B(e,t,n,r,i){var o,s,a,c,l,u=i.areStatesEqual,d=i.areOwnPropsEqual,h=i.areStatePropsEqual,f=!1;function p(i,f){var p=!d(f,s),m=!u(i,o,f,s);return o=i,s=f,p&&m?(a=e(o,s),t.dependsOnOwnProps&&(c=t(r,s)),l=n(a,c,s)):p?(e.dependsOnOwnProps&&(a=e(o,s)),t.dependsOnOwnProps&&(c=t(r,s)),l=n(a,c,s)):m?function(){var t=e(o,s),r=!h(t,a);return a=t,r&&(l=n(a,c,s)),l}():l}return function(i,u){return f?p(i,u):(a=e(o=i,s=u),c=t(r,s),l=n(a,c,s),f=!0,l)}}function U(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=p(t,F),s=n(e,o),a=r(e,o),c=i(e,o);return(o.pure?B:j)(s,a,c,e,o)}var z=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function V(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function q(e,t){return e===t}function H(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?T:n,i=t.mapStateToPropsFactories,o=void 0===i?D:i,s=t.mapDispatchToPropsFactories,a=void 0===s?A:s,c=t.mergePropsFactories,l=void 0===c?L:c,u=t.selectorFactory,d=void 0===u?U:u;return function(e,t,n,i){void 0===i&&(i={});var s=i,c=s.pure,u=void 0===c||c,h=s.areStatesEqual,m=void 0===h?q:h,g=s.areOwnPropsEqual,v=void 0===g?O:g,y=s.areStatePropsEqual,b=void 0===y?O:y,w=s.areMergedPropsEqual,_=void 0===w?O:w,E=p(s,z),C=V(e,o,"mapStateToProps"),x=V(t,a,"mapDispatchToProps"),S=V(n,l,"mergeProps");return r(d,f({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:C,initMapDispatchToProps:x,initMergeProps:S,pure:u,areStatesEqual:m,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:_},E))}}const W=H();function G(){return(0,t.useContext)(s)}function K(e){void 0===e&&(e=s);var n=e===s?G:function(){return(0,t.useContext)(e)};return function(){return n().store}}var Q=K();function X(e){void 0===e&&(e=s);var t=e===s?Q:K(e);return function(){return t().dispatch}}var $=X(),Y=function(e,t){return e===t};function J(e){void 0===e&&(e=s);var n=e===s?G:function(){return(0,t.useContext)(e)};return function(e,r){void 0===r&&(r=Y);var i=n(),o=function(e,n,r,i){var o,s=(0,t.useReducer)((function(e){return e+1}),0)[1],a=(0,t.useMemo)((function(){return u(r,i)}),[r,i]),c=(0,t.useRef)(),l=(0,t.useRef)(),h=(0,t.useRef)(),f=(0,t.useRef)(),p=r.getState();try{if(e!==l.current||p!==h.current||c.current){var m=e(p);o=void 0!==f.current&&n(m,f.current)?f.current:m}else o=f.current}catch(g){throw c.current&&(g.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),g}return d((function(){l.current=e,h.current=p,f.current=o,c.current=void 0})),d((function(){function e(){try{var e=r.getState();if(e===h.current)return;var t=l.current(e);if(n(t,f.current))return;f.current=t,h.current=e}catch(g){c.current=g}s()}return a.onStateChange=e,a.trySubscribe(),e(),function(){return a.tryUnsubscribe()}}),[r,a]),o}(e,r,i.store,i.subscription);return(0,t.useDebugValue)(o),o}}var Z,ee=J();function te(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}Z=i.unstable_batchedUpdates,a=Z;var ne="function"===typeof Symbol&&Symbol.observable||"@@observable",re=function(){return Math.random().toString(36).substring(7).split("").join(".")},ie={INIT:"@@redux/INIT"+re(),REPLACE:"@@redux/REPLACE"+re(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+re()}};function oe(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function se(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(te(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(te(1));return n(se)(e,t)}if("function"!==typeof e)throw new Error(te(2));var i=e,o=t,s=[],a=s,c=!1;function l(){a===s&&(a=s.slice())}function u(){if(c)throw new Error(te(3));return o}function d(e){if("function"!==typeof e)throw new Error(te(4));if(c)throw new Error(te(5));var t=!0;return l(),a.push(e),function(){if(t){if(c)throw new Error(te(6));t=!1,l();var n=a.indexOf(e);a.splice(n,1),s=null}}}function h(e){if(!oe(e))throw new Error(te(7));if("undefined"===typeof e.type)throw new Error(te(8));if(c)throw new Error(te(9));try{c=!0,o=i(o,e)}finally{c=!1}for(var t=s=a,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:ie.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(te(10));i=e,h({type:ie.REPLACE})}})[ne]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(te(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[ne]=function(){return this},e},r}const ae="LOGIN_SUCCESS",ce="LOGIN_FAILURE",le={user:null,error:null},ue=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:ie.INIT}))throw new Error(te(12));if("undefined"===typeof n(void 0,{type:ie.PROBE_UNKNOWN_ACTION()}))throw new Error(te(13))}))}(n)}catch(KK){o=KK}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var c=s[a],l=n[c],u=e[c],d=l(u,t);if("undefined"===typeof d){t&&t.type;throw new Error(te(14))}i[c]=d,r=r||d!==u}return(r=r||s.length!==Object.keys(e).length)?i:e}}({auth:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return{...e,user:t.payload,error:null};case ce:return{...e,user:null,error:t.payload};default:return e}}}),de=se(ue);var he=n(173),fe=n.n(he),pe=n(161),me=n.n(pe),ge=n(366),ve=n.n(ge),ye=n(123),be=n.n(ye),we="bodyAttributes",_e="htmlAttributes",Ee="titleAttributes",Ce={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},xe=(Object.keys(Ce).map((function(e){return Ce[e]})),"charset"),Se="cssText",ke="href",Te="http-equiv",Ie="innerHTML",Oe="itemprop",Ne="name",Re="property",Pe="rel",Ae="src",De="target",Me={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Le="defaultTitle",Fe="defer",je="encodeSpecialCharacters",Be="onChangeClientState",Ue="titleTemplate",ze=Object.keys(Me).reduce((function(e,t){return e[Me[t]]=t,e}),{}),Ve=[Ce.NOSCRIPT,Ce.SCRIPT,Ce.STYLE],qe="data-react-helmet",He="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Qe=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Xe=function(e){var t=et(e,Ce.TITLE),n=et(e,Ue);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=et(e,Le);return t||r||void 0},$e=function(e){return et(e,Be)||function(){}},Ye=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return Ge({},e,t)}),{})},Je=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[Ce.BASE]})).map((function(e){return e[Ce.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}return t}),[])},Ze=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&ot("Helmet: "+e+' should be of type "Array". Instead found type "'+He(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var i={};n.filter((function(e){for(var n=void 0,o=Object.keys(e),s=0;s<o.length;s++){var a=o[s],c=a.toLowerCase();-1===t.indexOf(c)||n===Pe&&"canonical"===e[n].toLowerCase()||c===Pe&&"stylesheet"===e[c].toLowerCase()||(n=c),-1===t.indexOf(a)||a!==Ie&&a!==Se&&a!==Oe||(n=a)}if(!n||!e[n])return!1;var l=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][l]&&(i[n][l]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var o=Object.keys(i),s=0;s<o.length;s++){var a=o[s],c=be()({},r[a],i[a]);r[a]=c}return e}),[]).reverse()},et=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},tt=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout((function(){tt(t)}),0)}}(),nt=function(e){return clearTimeout(e)},rt="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||tt:n.g.requestAnimationFrame||tt,it="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||nt:n.g.cancelAnimationFrame||nt,ot=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},st=null,at=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,s=e.metaTags,a=e.noscriptTags,c=e.onChangeClientState,l=e.scriptTags,u=e.styleTags,d=e.title,h=e.titleAttributes;ut(Ce.BODY,r),ut(Ce.HTML,i),lt(d,h);var f={baseTag:dt(Ce.BASE,n),linkTags:dt(Ce.LINK,o),metaTags:dt(Ce.META,s),noscriptTags:dt(Ce.NOSCRIPT,a),scriptTags:dt(Ce.SCRIPT,l),styleTags:dt(Ce.STYLE,u)},p={},m={};Object.keys(f).forEach((function(e){var t=f[e],n=t.newTags,r=t.oldTags;n.length&&(p[e]=n),r.length&&(m[e]=f[e].oldTags)})),t&&t(),c(e,p,m)},ct=function(e){return Array.isArray(e)?e.join(""):e},lt=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=ct(e)),ut(Ce.TITLE,t)},ut=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(qe),i=r?r.split(","):[],o=[].concat(i),s=Object.keys(t),a=0;a<s.length;a++){var c=s[a],l=t[c]||"";n.getAttribute(c)!==l&&n.setAttribute(c,l),-1===i.indexOf(c)&&i.push(c);var u=o.indexOf(c);-1!==u&&o.splice(u,1)}for(var d=o.length-1;d>=0;d--)n.removeAttribute(o[d]);i.length===o.length?n.removeAttribute(qe):n.getAttribute(qe)!==s.join(",")&&n.setAttribute(qe,s.join(","))}},dt=function(e,t){var n=document.head||document.querySelector(Ce.HEAD),r=n.querySelectorAll(e+"["+qe+"]"),i=Array.prototype.slice.call(r),o=[],s=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===Ie)n.innerHTML=t.innerHTML;else if(r===Se)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var a="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,a)}n.setAttribute(qe,"true"),i.some((function(e,t){return s=t,n.isEqualNode(e)}))?i.splice(s,1):o.push(n)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),o.forEach((function(e){return n.appendChild(e)})),{oldTags:i,newTags:o}},ht=function(e){return Object.keys(e).reduce((function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},ft=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[Me[n]||n]=e[n],t}),t)},pt=function(e,n,r){switch(e){case Ce.TITLE:return{toComponent:function(){return function(e,n,r){var i,o=((i={key:n})[qe]=!0,i),s=ft(r,o);return[t.createElement(Ce.TITLE,s,n)]}(0,n.title,n.titleAttributes)},toString:function(){return function(e,t,n,r){var i=ht(n),o=ct(t);return i?"<"+e+" "+qe+'="true" '+i+">"+Qe(o,r)+"</"+e+">":"<"+e+" "+qe+'="true">'+Qe(o,r)+"</"+e+">"}(e,n.title,n.titleAttributes,r)}};case we:case _e:return{toComponent:function(){return ft(n)},toString:function(){return ht(n)}};default:return{toComponent:function(){return function(e,n){return n.map((function(n,r){var i,o=((i={key:r})[qe]=!0,i);return Object.keys(n).forEach((function(e){var t=Me[e]||e;if(t===Ie||t===Se){var r=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:r}}else o[t]=n[e]})),t.createElement(e,o)}))}(e,n)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var i=Object.keys(r).filter((function(e){return!(e===Ie||e===Se)})).reduce((function(e,t){var i="undefined"===typeof r[t]?t:t+'="'+Qe(r[t],n)+'"';return e?e+" "+i:i}),""),o=r.innerHTML||r.cssText||"",s=-1===Ve.indexOf(e);return t+"<"+e+" "+qe+'="true" '+i+(s?"/>":">"+o+"</"+e+">")}),"")}(e,n,r)}}}},mt=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,o=e.linkTags,s=e.metaTags,a=e.noscriptTags,c=e.scriptTags,l=e.styleTags,u=e.title,d=void 0===u?"":u,h=e.titleAttributes;return{base:pt(Ce.BASE,t,r),bodyAttributes:pt(we,n,r),htmlAttributes:pt(_e,i,r),link:pt(Ce.LINK,o,r),meta:pt(Ce.META,s,r),noscript:pt(Ce.NOSCRIPT,a,r),script:pt(Ce.SCRIPT,c,r),style:pt(Ce.STYLE,l,r),title:pt(Ce.TITLE,{title:d,titleAttributes:h},r)}},gt=function(e){var n,r;return r=n=function(n){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,n.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r.prototype.shouldComponentUpdate=function(e){return!ve()(this.props,e)},r.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case Ce.SCRIPT:case Ce.NOSCRIPT:return{innerHTML:t};case Ce.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},r.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,o=e.nestedChildren;return Ge({},r,((t={})[n.type]=[].concat(r[n.type]||[],[Ge({},i,this.mapNestedChildrenToProps(n,o))]),t))},r.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,o=e.newChildProps,s=e.nestedChildren;switch(r.type){case Ce.TITLE:return Ge({},i,((t={})[r.type]=s,t.titleAttributes=Ge({},o),t));case Ce.BODY:return Ge({},i,{bodyAttributes:Ge({},o)});case Ce.HTML:return Ge({},i,{htmlAttributes:Ge({},o)})}return Ge({},i,((n={})[r.type]=Ge({},o),n))},r.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=Ge({},t);return Object.keys(e).forEach((function(t){var r;n=Ge({},n,((r={})[t]=e[t],r))})),n},r.prototype.warnOnInvalidChildren=function(e,t){return!0},r.prototype.mapChildrenToProps=function(e,n){var r=this,i={};return t.Children.forEach(e,(function(e){if(e&&e.props){var t=e.props,o=t.children,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[ze[n]||n]=e[n],t}),t)}(Ke(t,["children"]));switch(r.warnOnInvalidChildren(e,o),e.type){case Ce.LINK:case Ce.META:case Ce.NOSCRIPT:case Ce.SCRIPT:case Ce.STYLE:i=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:i,newChildProps:s,nestedChildren:o});break;default:n=r.mapObjectTypeChildren({child:e,newProps:n,newChildProps:s,nestedChildren:o})}}})),n=this.mapArrayTypeChildrenToProps(i,n)},r.prototype.render=function(){var n=this.props,r=n.children,i=Ke(n,["children"]),o=Ge({},i);return r&&(o=this.mapChildrenToProps(r,o)),t.createElement(e,o)},We(r,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),r}(t.Component),n.propTypes={base:fe().object,bodyAttributes:fe().object,children:fe().oneOfType([fe().arrayOf(fe().node),fe().node]),defaultTitle:fe().string,defer:fe().bool,encodeSpecialCharacters:fe().bool,htmlAttributes:fe().object,link:fe().arrayOf(fe().object),meta:fe().arrayOf(fe().object),noscript:fe().arrayOf(fe().object),onChangeClientState:fe().func,script:fe().arrayOf(fe().object),style:fe().arrayOf(fe().object),title:fe().string,titleAttributes:fe().object,titleTemplate:fe().string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var t=e.rewind();return t||(t=mt({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},r}(me()((function(e){return{baseTag:Je([ke,De],e),bodyAttributes:Ye(we,e),defer:et(e,Fe),encode:et(e,je),htmlAttributes:Ye(_e,e),linkTags:Ze(Ce.LINK,[Pe,ke],e),metaTags:Ze(Ce.META,[Ne,xe,Te,Re,Oe],e),noscriptTags:Ze(Ce.NOSCRIPT,[Ie],e),onChangeClientState:$e(e),scriptTags:Ze(Ce.SCRIPT,[Ae,Ie],e),styleTags:Ze(Ce.STYLE,[Se],e),title:Xe(e),titleAttributes:Ye(Ee,e)}}),(function(e){st&&it(st),e.defer?st=rt((function(){at(e,(function(){st=null}))})):(at(e),st=null)}),mt)((function(){return null})));gt.renderStatic=gt.rewind;function vt(e,t){return vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vt(e,t)}function yt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vt(e,t)}function bt(e){return"/"===e.charAt(0)}function wt(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}const _t=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&bt(e),s=t&&bt(t),a=o||s;if(e&&bt(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var c=i[i.length-1];n="."===c||".."===c||""===c}else n=!1;for(var l=0,u=i.length;u>=0;u--){var d=i[u];"."===d?wt(i,u):".."===d?(wt(i,u),l++):l&&(wt(i,u),l--)}if(!a)for(;l--;l)i.unshift("..");!a||""===i[0]||i[0]&&bt(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h};function Et(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const Ct=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=Et(t),i=Et(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1};var xt=!0,St="Invariant failed";function kt(e,t){if(!e){if(xt)throw new Error(St);var n="function"===typeof t?t():t,r=n?"".concat(St,": ").concat(n):St;throw new Error(r)}}function Tt(e){return"/"===e.charAt(0)?e:"/"+e}function It(e){return"/"===e.charAt(0)?e.substr(1):e}function Ot(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function Nt(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Rt(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function Pt(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=f({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(KK){throw KK instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):KK}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=_t(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function At(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var Dt=!("undefined"===typeof window||!window.document||!window.document.createElement);function Mt(e,t){t(window.confirm(e))}var Lt="popstate",Ft="hashchange";function jt(){try{return window.history.state||{}}catch(KK){return{}}}function Bt(e){void 0===e&&(e={}),Dt||kt(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,s=void 0!==o&&o,a=i.getUserConfirmation,c=void 0===a?Mt:a,l=i.keyLength,u=void 0===l?6:l,d=e.basename?Nt(Tt(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return d&&(o=Ot(o,d)),Pt(o,r,n)}function p(){return Math.random().toString(36).substr(2,u)}var m=At();function g(e){f(I,e),I.length=t.length,m.notifyListeners(I.location,I.action)}function v(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||w(h(e.state))}function y(){w(h(jt()))}var b=!1;function w(e){if(b)b=!1,g();else{m.confirmTransitionTo(e,"POP",c,(function(t){t?g({action:"POP",location:e}):function(e){var t=I.location,n=E.indexOf(t.key);-1===n&&(n=0);var r=E.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(b=!0,x(i))}(e)}))}}var _=h(jt()),E=[_.key];function C(e){return d+Rt(e)}function x(e){t.go(e)}var S=0;function k(e){1===(S+=e)&&1===e?(window.addEventListener(Lt,v),r&&window.addEventListener(Ft,y)):0===S&&(window.removeEventListener(Lt,v),r&&window.removeEventListener(Ft,y))}var T=!1;var I={length:t.length,action:"POP",location:_,createHref:C,push:function(e,r){var i="PUSH",o=Pt(e,r,p(),I.location);m.confirmTransitionTo(o,i,c,(function(e){if(e){var r=C(o),a=o.key,c=o.state;if(n)if(t.pushState({key:a,state:c},null,r),s)window.location.href=r;else{var l=E.indexOf(I.location.key),u=E.slice(0,l+1);u.push(o.key),E=u,g({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=Pt(e,r,p(),I.location);m.confirmTransitionTo(o,i,c,(function(e){if(e){var r=C(o),a=o.key,c=o.state;if(n)if(t.replaceState({key:a,state:c},null,r),s)window.location.replace(r);else{var l=E.indexOf(I.location.key);-1!==l&&(E[l]=o.key),g({action:i,location:o})}else window.location.replace(r)}}))},go:x,goBack:function(){x(-1)},goForward:function(){x(1)},block:function(e){void 0===e&&(e=!1);var t=m.setPrompt(e);return T||(k(1),T=!0),function(){return T&&(T=!1,k(-1)),t()}},listen:function(e){var t=m.appendListener(e);return k(1),function(){k(-1),t()}}};return I}var Ut="hashchange",zt={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+It(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:It,decodePath:Tt},slash:{encodePath:Tt,decodePath:Tt}};function Vt(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function qt(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function Ht(e){window.location.replace(Vt(window.location.href)+"#"+e)}function Wt(e){void 0===e&&{},Dt||kt(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?Mt:r,o=n.hashType,s=void 0===o?"slash":o,a=e.basename?Nt(Tt(e.basename)):"",c=zt[s],l=c.encodePath,u=c.decodePath;function d(){var e=u(qt());return a&&Ot(e,a),Pt(e)}var h=At();function p(e){f(k,e),k.length=t.length,h.notifyListeners(k.location,k.action)}var m=!1,g=null;function v(){var e=qt(),t=l(e);if(e!==t)Ht(t);else{var n=d(),r=k.location;if(!m&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(g===Rt(n))return;null,function(e){if(m)!1,p();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?p({action:t,location:e}):function(e){var t=k.location,n=_.lastIndexOf(Rt(t));-1===n&&0;var r=_.lastIndexOf(Rt(e));-1===r&&0;var i=n-r;i&&(!0,E(i))}(e)}))}}(n)}}var y=qt(),b=l(y);y!==b&&Ht(b);var w=d(),_=[Rt(w)];function E(e){t.go(e)}var C=0;function x(e){1===(C+=e)&&1===e?window.addEventListener(Ut,v):0===C&&window.removeEventListener(Ut,v)}var S=!1;var k={length:t.length,action:"POP",location:w,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&Vt(window.location.href),n+"#"+l(a+Rt(e))},push:function(e,t){var n="PUSH",r=Pt(e,void 0,void 0,k.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=Rt(r),i=l(a+t);if(qt()!==i){t,function(e){window.location.hash=e}(i);var o=_.lastIndexOf(Rt(k.location)),s=_.slice(0,o+1);s.push(t),s,p({action:n,location:r})}else p()}}))},replace:function(e,t){var n="REPLACE",r=Pt(e,void 0,void 0,k.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=Rt(r),i=l(a+t);qt()!==i&&(t,Ht(i));var o=_.indexOf(Rt(k.location));-1!==o&&(_[o]=t),p({action:n,location:r})}}))},go:E,goBack:function(){E(-1)},goForward:function(){E(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return S||(x(1),!0),function(){return S&&(!1,x(-1)),t()}},listen:function(e){var t=h.appendListener(e);return x(1),function(){x(-1),t()}}};return k}function Gt(e,t,n){return Math.min(Math.max(e,t),n)}var Kt=n(221),Qt=n.n(Kt),Xt=(n(808),1073741823),$t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var Yt=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return $t[e]=($t[e]||0)+1}()+"__",s=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}yt(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):Xt,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);s.childContextTypes=((r={})[o]=fe().object.isRequired,r);var a=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}yt(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?Xt:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?Xt:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return a.contextTypes=((i={})[o]=fe().object,i),{Provider:s,Consumer:a}},Jt=function(e){var t=Yt();return t.displayName=e,t},Zt=Jt("Router-History"),en=Jt("Router"),tn=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}yt(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(en.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(Zt.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var nn=function(e){function t(){return e.apply(this,arguments)||this}yt(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var rn={},on=1e4,sn=0;function an(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(rn[e])return rn[e];var t=Qt().compile(e);return sn<on&&(rn[e]=t,sn++),t}(e)(t,{pretty:!0})}function cn(e){var n=e.computedMatch,r=e.to,i=e.push,o=void 0!==i&&i;return t.createElement(en.Consumer,null,(function(e){e||kt(!1);var i=e.history,s=e.staticContext,a=o?i.push:i.replace,c=Pt(n?"string"===typeof r?an(r,n.params):f({},r,{pathname:an(r.pathname,n.params)}):r);return s?(a(c),null):t.createElement(nn,{onMount:function(){a(c)},onUpdate:function(e,t){var n=Pt(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Ct(e.state,t.state)})(n,f({},c,{key:n.key}))||a(c)},to:r})}))}var ln={},un=1e4,dn=0;function hn(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,s=n.strict,a=void 0!==s&&s,c=n.sensitive,l=void 0!==c&&c;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=ln[n]||(ln[n]={});if(r[e])return r[e];var i=[],o={regexp:Qt()(e,i,t),keys:i};return dn<un&&(r[e]=o,dn++),o}(n,{end:o,strict:a,sensitive:l}),i=r.regexp,s=r.keys,c=i.exec(e);if(!c)return null;var u=c[0],d=c.slice(1),h=e===u;return o&&!h?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:h,params:s.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var fn=function(e){function n(){return e.apply(this,arguments)||this}return yt(n,e),n.prototype.render=function(){var e=this;return t.createElement(en.Consumer,null,(function(n){n||kt(!1);var r=e.props.location||n.location,i=f({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?hn(r.pathname,e.props):n.match}),o=e.props,s=o.children,a=o.component,c=o.render;return Array.isArray(s)&&function(e){return 0===t.Children.count(e)}(s)&&(s=null),t.createElement(en.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:a?t.createElement(a,i):c?c(i):null:"function"===typeof s?s(i):null)}))},n}(t.Component);function pn(e){return"/"===e.charAt(0)?e:"/"+e}function mn(e,t){if(!e)return t;var n=pn(e);return 0!==t.pathname.indexOf(n)?t:f({},t,{pathname:t.pathname.substr(n.length)})}function gn(e){return"string"===typeof e?e:Rt(e)}function vn(e){return function(){kt(!1)}}function yn(){}t.Component;var bn=function(e){function n(){return e.apply(this,arguments)||this}return yt(n,e),n.prototype.render=function(){var e=this;return t.createElement(en.Consumer,null,(function(n){n||kt(!1);var r,i,o=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var s=e.props.path||e.props.from;i=s?hn(o.pathname,f({},e.props,{path:s})):n.match}})),i?t.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(t.Component);var wn=t.useContext;var _n=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Bt(t.props),t}return yt(n,e),n.prototype.render=function(){return t.createElement(tn,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var En=function(e,t){return"function"===typeof e?e(t):e},Cn=function(e,t){return"string"===typeof e?Pt(e,null,null,t):e},xn=function(e){return e},Sn=t.forwardRef;"undefined"===typeof Sn&&(Sn=xn);var kn=Sn((function(e,n){var r=e.innerRef,i=e.navigate,o=e.onClick,s=p(e,["innerRef","navigate","onClick"]),a=s.target,c=f({},s,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=xn!==Sn&&n||r,t.createElement("a",c)}));var Tn=Sn((function(e,n){var r=e.component,i=void 0===r?kn:r,o=e.replace,s=e.to,a=e.innerRef,c=p(e,["component","replace","to","innerRef"]);return t.createElement(en.Consumer,null,(function(e){e||kt(!1);var r=e.history,l=Cn(En(s,e.location),e.location),u=l?r.createHref(l):"",d=f({},c,{href:u,navigate:function(){var t=En(s,e.location),n=Rt(e.location)===Rt(Cn(t));(o||n?r.replace:r.push)(t)}});return xn!==Sn?d.ref=n||a:d.innerRef=a,t.createElement(i,d)}))})),In=function(e){return e},On=t.forwardRef;"undefined"===typeof On&&(On=In);On((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,o=e.activeClassName,s=void 0===o?"active":o,a=e.activeStyle,c=e.className,l=e.exact,u=e.isActive,d=e.location,h=e.sensitive,m=e.strict,g=e.style,v=e.to,y=e.innerRef,b=p(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(en.Consumer,null,(function(e){e||kt(!1);var r=d||e.location,o=Cn(En(v,r),r),p=o.pathname,w=p&&p.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=w?hn(r.pathname,{path:w,exact:l,sensitive:h,strict:m}):null,E=!!(u?u(_,r):_),C="function"===typeof c?c(E):c,x="function"===typeof g?g(E):g;E&&(C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(C,s),x=f({},x,a));var S=f({"aria-current":E&&i||null,className:C,style:x,to:o},b);return In!==On?S.ref=n||y:S.innerRef=y,t.createElement(Tn,S)}))}));var Nn=n(139),Rn=n.n(Nn),Pn=n(579);const An=["xxl","xl","lg","md","sm","xs"],Dn="xs",Mn=t.createContext({prefixes:{},breakpoints:An,minBreakpoint:Dn}),{Consumer:Ln,Provider:Fn}=Mn;function jn(e,n){const{prefixes:r}=(0,t.useContext)(Mn);return e||r[n]||n}const Bn=t.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:i="div",className:o,...s}=e;const a=jn(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,Pn.jsx)(i,{ref:t,...s,className:Rn()(o,r?"".concat(a).concat(c):a)})}));Bn.displayName="Container";const Un=Bn;n(197),n(740);function zn(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Vn(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function qn(e,n){return Object.keys(n).reduce((function(r,i){var o,s=r,a=s[zn(i)],c=s[i],l=p(s,[zn(i),i].map(Vn)),u=n[i],d=function(e,n,r){var i=(0,t.useRef)(void 0!==e),o=(0,t.useState)(n),s=o[0],a=o[1],c=void 0!==e,l=i.current;return i.current=c,!c&&l&&s!==n&&a(n),[c?e:s,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),a(e)}),[r])]}(c,a,e[u]),h=d[0],m=d[1];return f({},l,((o={})[i]=h,o[u]=m,o))}),e)}function Hn(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Wn(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Gn(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Hn.__suppressDeprecationWarning=!0,Wn.__suppressDeprecationWarning=!0,Gn.__suppressDeprecationWarning=!0;var Kn=Function.prototype.bind.call(Function.prototype.call,[].slice);function Qn(e,t){return Kn(e.querySelectorAll(t))}const Xn=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const $n=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=Xn(e),r=Xn(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])},Yn=t.createContext(null);Yn.displayName="NavContext";const Jn=Yn,Zn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},er=t.createContext(null),tr=t.createContext(null),nr="data-rr-ui-";function rr(e){return"".concat(nr).concat(e)}const ir=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function or(e){const n=ir(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const sr=["as","disabled"];function ar(e){let{tagName:t,disabled:n,href:r,target:i,rel:o,role:s,onClick:a,tabIndex:c=0,type:l}=e;t||(t=null!=r||null!=i||null!=o?"a":"button");const u={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==a||a(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const cr=t.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,sr);const[o,{tagName:s}]=ar(Object.assign({tagName:n,disabled:r},i));return(0,Pn.jsx)(s,Object.assign({},i,o,{ref:t}))}));cr.displayName="Button";const lr=cr,ur=["as","active","eventKey"];function dr(e){let{key:n,onClick:r,active:i,id:o,role:s,disabled:a}=e;const c=(0,t.useContext)(er),l=(0,t.useContext)(Jn),u=(0,t.useContext)(tr);let d=i;const h={role:s};if(l){s||"tablist"!==l.role||(h.role="tab");const e=l.getControllerId(null!=n?n:null),t=l.getControlledId(null!=n?n:null);h[rr("event-key")]=n,h.id=e||o,d=null==i&&null!=n?l.activeKey===n:i,!d&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(h["aria-controls"]=t)}return"tab"===h.role&&(h["aria-selected"]=d,d||(h.tabIndex=-1),a&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=or((e=>{a||(null==r||r(e),null!=n&&c&&!e.isPropagationStopped()&&c(n,e))})),[h,{isActive:d}]}const hr=t.forwardRef(((e,t)=>{let{as:n=lr,active:r,eventKey:i}=e,o=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ur);const[s,a]=dr(Object.assign({key:Zn(i,o.href),active:r},o));return s[rr("active")]=a.isActive,(0,Pn.jsx)(n,Object.assign({},o,s,{ref:t}))}));hr.displayName="NavItem";const fr=hr,pr=["as","onSelect","activeKey","role","onKeyDown"];const mr=()=>{},gr=rr("event-key"),vr=t.forwardRef(((e,n)=>{let{as:r="div",onSelect:i,activeKey:o,role:s,onKeyDown:a}=e,c=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,pr);const l=function(){const[,e]=(0,t.useReducer)((e=>!e),!1);return e}(),u=(0,t.useRef)(!1),d=(0,t.useContext)(er),h=(0,t.useContext)(tr);let f,p;h&&(s=s||"tablist",o=h.activeKey,f=h.getControlledId,p=h.getControllerId);const m=(0,t.useRef)(null),g=e=>{const t=m.current;if(!t)return null;const n=Qn(t,"[".concat(gr,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let o=i+e;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},v=(e,t)=>{null!=e&&(null==i||i(e,t),null==d||d(e,t))};(0,t.useEffect)((()=>{if(m.current&&u.current){const e=m.current.querySelector("[".concat(gr,"][aria-selected=true]"));null==e||e.focus()}u.current=!1}));const y=$n(n,m);return(0,Pn.jsx)(er.Provider,{value:v,children:(0,Pn.jsx)(Jn.Provider,{value:{role:s,activeKey:Zn(o),getControlledId:f||mr,getControllerId:p||mr},children:(0,Pn.jsx)(r,Object.assign({},c,{onKeyDown:e=>{if(null==a||a(e),!h)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}var n;t&&(e.preventDefault(),v(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),u.current=!0,l())},ref:y,role:s}))})})}));vr.displayName="Nav";const yr=Object.assign(vr,{Item:fr}),br=t.createContext(null);br.displayName="NavbarContext";const wr=br,_r=t.createContext(null);_r.displayName="CardHeaderContext";const Er=_r,Cr=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=jn(r,"nav-item"),(0,Pn.jsx)(i,{ref:t,className:Rn()(n,r),...o})}));Cr.displayName="NavItem";const xr=Cr;const Sr="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,kr="undefined"!==typeof document||Sr?t.useLayoutEffect:t.useEffect;new WeakMap;const Tr=["onKeyDown"];const Ir=t.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Tr);const[i]=ar(Object.assign({tagName:"a"},r)),o=or((e=>{i.onKeyDown(e),null==n||n(e)}));return(s=r.href)&&"#"!==s.trim()&&"button"!==r.role?(0,Pn.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,Pn.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:o}));var s}));Ir.displayName="Anchor";const Or=Ir,Nr=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i=Or,active:o,eventKey:s,disabled:a=!1,...c}=e;n=jn(n,"nav-link");const[l,u]=dr({key:Zn(s,c.href),active:o,disabled:a,...c});return(0,Pn.jsx)(i,{...c,...l,ref:t,disabled:a,className:Rn()(r,n,a&&"disabled",u.isActive&&"active")})}));Nr.displayName="NavLink";const Rr=Nr,Pr=t.forwardRef(((e,n)=>{const{as:r="div",bsPrefix:i,variant:o,fill:s=!1,justify:a=!1,navbar:c,navbarScroll:l,className:u,activeKey:d,...h}=qn(e,{activeKey:"onSelect"}),f=jn(i,"nav");let p,m,g=!1;const v=(0,t.useContext)(wr),y=(0,t.useContext)(Er);return v?(p=v.bsPrefix,g=null==c||c):y&&({cardHeaderBsPrefix:m}=y),(0,Pn.jsx)(yr,{as:r,ref:n,activeKey:d,className:Rn()(u,{[f]:!g,["".concat(p,"-nav")]:g,["".concat(p,"-nav-scroll")]:g&&l,["".concat(m,"-").concat(o)]:!!m,["".concat(f,"-").concat(o)]:!!o,["".concat(f,"-fill")]:s,["".concat(f,"-justified")]:a}),...h})}));Pr.displayName="Nav";const Ar=Object.assign(Pr,{Item:xr,Link:Rr}),Dr=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i,...o}=e;n=jn(n,"navbar-brand");const s=i||(o.href?"a":"span");return(0,Pn.jsx)(s,{...o,ref:t,className:Rn()(r,n)})}));Dr.displayName="NavbarBrand";const Mr=Dr;function Lr(e){return e&&e.ownerDocument||document}function Fr(e,t){return function(e){var t=Lr(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var jr=/([A-Z])/g;var Br=/^ms-/;function Ur(e){return function(e){return e.replace(jr,"-$1").toLowerCase()}(e).replace(Br,"-ms-")}var zr=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Vr=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Ur(t))||Fr(e).getPropertyValue(Ur(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!zr.test(e))}(i)?n+=Ur(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(Ur(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},qr=!1,Hr=t.createContext(null);var Wr="unmounted",Gr="exited",Kr="entering",Qr="entered",Xr="exiting",$r=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=Gr,r.appearStatus=Kr):i=Qr:i=t.unmountOnExit||t.mountOnEnter?Wr:Gr,r.state={status:i},r.nextCallback=null,r}yt(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Wr?{status:Gr}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Kr&&n!==Qr&&(t=Kr):n!==Kr&&n!==Qr||(t=Xr)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Kr){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Gr&&this.setState({status:Wr})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[i.findDOMNode(this),r],s=o[0],a=o[1],c=this.getTimeouts(),l=r?c.appear:c.enter;!e&&!n||qr?this.safeSetState({status:Qr},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,a),this.safeSetState({status:Kr},(function(){t.props.onEntering(s,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:Qr},(function(){t.props.onEntered(s,a)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!qr?(this.props.onExit(r),this.safeSetState({status:Xr},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Gr},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Gr},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=o[0],a=o[1];this.props.addEndListener(s,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Wr)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,p(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Hr.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function Yr(){}$r.contextType=Hr,$r.propTypes={},$r.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Yr,onEntering:Yr,onEntered:Yr,onExit:Yr,onExiting:Yr,onExited:Yr},$r.UNMOUNTED=Wr,$r.EXITED=Gr,$r.ENTERING=Kr,$r.ENTERED=Qr,$r.EXITING=Xr;const Jr=$r,Zr=!("undefined"===typeof window||!window.document||!window.document.createElement);var ei=!1,ti=!1;try{var ni={get passive(){return ei=!0},get once(){return ti=ei=!0}};Zr&&(window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,!0))}catch(KK){}const ri=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!ti){var i=r.once,o=r.capture,s=n;!ti&&i&&(s=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=s),e.addEventListener(t,s,ei?r:o)}e.addEventListener(t,n,r)};const ii=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const oi=function(e,t,n,r){return ri(e,t,n,r),function(){ii(e,t,n,r)}};function si(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),o=oi(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function ai(e,t,n,r){null==n&&(n=function(e){var t=Vr(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=si(e,n,r),o=oi(e,"transitionend",t);return function(){i(),o()}}function ci(e,t){const n=Vr(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function li(e,t){const n=ci(e,"transitionDuration"),r=ci(e,"transitionDelay"),i=ai(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}const ui=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function di(e){e.offsetHeight}const hi=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:o,onEntered:s,onExit:a,onExiting:c,onExited:l,addEndListener:u,children:d,childRef:h,...f}=e;const p=(0,t.useRef)(null),m=$n(p,h),g=e=>{var t;m((t=e)&&"setState"in t?i.findDOMNode(t):null!=t?t:null)},v=e=>t=>{e&&p.current&&e(p.current,t)},y=(0,t.useCallback)(v(r),[r]),b=(0,t.useCallback)(v(o),[o]),w=(0,t.useCallback)(v(s),[s]),_=(0,t.useCallback)(v(a),[a]),E=(0,t.useCallback)(v(c),[c]),C=(0,t.useCallback)(v(l),[l]),x=(0,t.useCallback)(v(u),[u]);return(0,Pn.jsx)(Jr,{ref:n,...f,onEnter:y,onEntered:w,onEntering:b,onExit:_,onExited:C,onExiting:E,addEndListener:x,nodeRef:p,children:"function"===typeof d?(e,t)=>d(e,{...t,ref:g}):t.cloneElement(d,{ref:g})})})),fi=hi,pi={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function mi(e,t){const n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=pi[e];return n+parseInt(Vr(t,r[0]),10)+parseInt(Vr(t,r[1]),10)}const gi={[Gr]:"collapse",[Xr]:"collapsing",[Kr]:"collapsing",[Qr]:"collapse show"},vi=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:i,onEntered:o,onExit:s,onExiting:a,className:c,children:l,dimension:u="height",in:d=!1,timeout:h=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:g=mi,...v}=e;const y="function"===typeof u?u():u,b=(0,t.useMemo)((()=>ui((e=>{e.style[y]="0"}),r)),[y,r]),w=(0,t.useMemo)((()=>ui((e=>{const t="scroll".concat(y[0].toUpperCase()).concat(y.slice(1));e.style[y]="".concat(e[t],"px")}),i)),[y,i]),_=(0,t.useMemo)((()=>ui((e=>{e.style[y]=null}),o)),[y,o]),E=(0,t.useMemo)((()=>ui((e=>{e.style[y]="".concat(g(y,e),"px"),di(e)}),s)),[s,g,y]),C=(0,t.useMemo)((()=>ui((e=>{e.style[y]=null}),a)),[y,a]);return(0,Pn.jsx)(fi,{ref:n,addEndListener:li,...v,"aria-expanded":v.role?d:null,onEnter:b,onEntering:w,onEntered:_,onExit:E,onExiting:C,childRef:l.ref,in:d,timeout:h,mountOnEnter:f,unmountOnExit:p,appear:m,children:(e,n)=>t.cloneElement(l,{...n,className:Rn()(c,l.props.className,gi[e],"width"===y&&"collapse-horizontal")})})})),yi=vi,bi=t.forwardRef(((e,n)=>{let{children:r,bsPrefix:i,...o}=e;i=jn(i,"navbar-collapse");const s=(0,t.useContext)(wr);return(0,Pn.jsx)(yi,{in:!(!s||!s.expanded),...o,children:(0,Pn.jsx)("div",{ref:n,className:i,children:r})})}));bi.displayName="NavbarCollapse";const wi=bi,_i=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:o,label:s="Toggle navigation",as:a="button",onClick:c,...l}=e;r=jn(r,"navbar-toggler");const{onToggle:u,expanded:d}=(0,t.useContext)(wr)||{},h=or((e=>{c&&c(e),u&&u()}));return"button"===a&&(l.type="button"),(0,Pn.jsx)(a,{...l,ref:n,onClick:h,"aria-label":s,className:Rn()(i,r,!d&&"collapsed"),children:o||(0,Pn.jsx)("span",{className:"".concat(r,"-icon")})})}));_i.displayName="NavbarToggle";const Ei=_i,Ci=new WeakMap,xi=(e,t)=>{if(!e||!t)return;const n=Ci.get(t)||new Map;Ci.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function Si(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const r=xi(e,n),[i,o]=(0,t.useState)((()=>!!r&&r.matches));return kr((()=>{let t=xi(e,n);if(!t)return o(!1);let r=Ci.get(n);const i=()=>{o(t.matches)};return t.refCount++,t.addListener(i),i(),()=>{t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),i}const ki=function(e){const n=Object.keys(e);function r(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function i(t){const r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t);let i=e[r];return i="number"===typeof i?"".concat(i-.2,"px"):"calc(".concat(i," - 0.2px)"),"(max-width: ".concat(i,")")}return function(n,o,s){let a;"object"===typeof n?(a=n,s=o,o=!0):(o=o||!0,a={[n]:o});let c=(0,t.useMemo)((()=>Object.entries(a).reduce(((t,n)=>{let[o,s]=n;return"up"!==s&&!0!==s||(t=r(t,function(t){let n=e[t];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(o))),"down"!==s&&!0!==s||(t=r(t,i(o))),t}),"")),[JSON.stringify(a)]);return Si(c,s)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Ti=ki;function Ii(e){void 0===e&&(e=Lr());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(KK){return e.body}}function Oi(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Ni(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}const Ri=rr("modal-open");const Pi=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(Vr(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Ri,""),Vr(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Ri),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Ai=(0,t.createContext)(Zr?window:void 0);Ai.Provider;function Di(){return(0,t.useContext)(Ai)}const Mi=(e,t)=>Zr?null==e?(t||Lr()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const Li=function(e){let{children:n,in:r,onExited:i,mountOnEnter:o,unmountOnExit:s}=e;const a=(0,t.useRef)(null),c=(0,t.useRef)(r),l=or(i);(0,t.useEffect)((()=>{r?c.current=!0:l(a.current)}),[r,l]);const u=$n(a,n.ref),d=(0,t.cloneElement)(n,{ref:u});return r?d:s||!c.current&&o?null:d},Fi=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function ji(e){let{onEnter:n,onEntering:r,onEntered:i,onExit:o,onExiting:s,onExited:a,addEndListener:c,children:l}=e,u=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Fi);const d=(0,t.useRef)(null),h=$n(d,"function"===typeof l?null:l.ref),f=e=>t=>{e&&d.current&&e(d.current,t)},p=(0,t.useCallback)(f(n),[n]),m=(0,t.useCallback)(f(r),[r]),g=(0,t.useCallback)(f(i),[i]),v=(0,t.useCallback)(f(o),[o]),y=(0,t.useCallback)(f(s),[s]),b=(0,t.useCallback)(f(a),[a]),w=(0,t.useCallback)(f(c),[c]);return Object.assign({},u,{nodeRef:d},n&&{onEnter:p},r&&{onEntering:m},i&&{onEntered:g},o&&{onExit:v},s&&{onExiting:y},a&&{onExited:b},c&&{addEndListener:w},{children:"function"===typeof l?(e,t)=>l(e,Object.assign({},t,{ref:h})):(0,t.cloneElement)(l,{ref:h})})}const Bi=["component"];const Ui=t.forwardRef(((e,t)=>{let{component:n}=e,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Bi);const i=ji(r);return(0,Pn.jsx)(n,Object.assign({ref:t},i))})),zi=Ui;function Vi(e){let{children:n,in:r,onExited:i,onEntered:o,transition:s}=e;const[a,c]=(0,t.useState)(!r);r&&a&&c(!1);const l=function(e){let{in:n,onTransition:r}=e;const i=(0,t.useRef)(null),o=(0,t.useRef)(!0),s=or(r);return kr((()=>{if(!i.current)return;let e=!1;return s({in:n,element:i.current,initial:o.current,isStale:()=>e}),()=>{e=!0}}),[n,s]),kr((()=>(o.current=!1,()=>{o.current=!0})),[]),i}({in:!!r,onTransition:e=>{Promise.resolve(s(e)).then((()=>{e.isStale()||(e.in?null==o||o(e.element,e.initial):(c(!0),null==i||i(e.element)))}),(t=>{throw e.in||c(!0),t}))}}),u=$n(l,n.ref);return a&&!r?null:(0,t.cloneElement)(n,{ref:u})}function qi(e,t,n){return e?(0,Pn.jsx)(zi,Object.assign({},n,{component:e})):t?(0,Pn.jsx)(Vi,Object.assign({},n,{transition:t})):(0,Pn.jsx)(Li,Object.assign({},n))}const Hi=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Wi;function Gi(e){const n=Di(),r=e||function(e){return Wi||(Wi=new Pi({ownerDocument:null==e?void 0:e.document})),Wi}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,t.useCallback)((e=>{i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((e=>{i.current.backdrop=e}),[])})}const Ki=(0,t.forwardRef)(((e,n)=>{let{show:r=!1,role:o="dialog",className:s,style:a,children:c,backdrop:l=!0,keyboard:u=!0,onBackdropClick:d,onEscapeKeyDown:h,transition:f,runTransition:p,backdropTransition:m,runBackdropTransition:g,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:b=!0,restoreFocusOptions:w,renderDialog:_,renderBackdrop:E=(e=>(0,Pn.jsx)("div",Object.assign({},e))),manager:C,container:x,onShow:S,onHide:k=(()=>{}),onExit:T,onExited:I,onExiting:O,onEnter:N,onEntering:R,onEntered:P}=e,A=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Hi);const D=Di(),M=function(e,n){const r=Di(),[i,o]=(0,t.useState)((()=>Mi(e,null==r?void 0:r.document)));if(!i){const t=Mi(e);t&&o(t)}return(0,t.useEffect)((()=>{n&&i&&n(i)}),[n,i]),(0,t.useEffect)((()=>{const t=Mi(e);t!==i&&o(t)}),[e,i]),i}(x),L=Gi(C),F=function(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}(),j=function(e){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{n.current=e})),n.current}(r),[B,U]=(0,t.useState)(!r),z=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>L),[L]),Zr&&!j&&r&&(z.current=Ii(null==D?void 0:D.document)),r&&B&&U(!1);const V=or((()=>{if(L.add(),Q.current=oi(document,"keydown",G),K.current=oi(document,"focus",(()=>setTimeout(H)),!0),S&&S(),v){var e,t;const n=Ii(null!=(e=null==(t=L.dialog)?void 0:t.ownerDocument)?e:null==D?void 0:D.document);L.dialog&&n&&!Oi(L.dialog,n)&&(z.current=n,L.dialog.focus())}})),q=or((()=>{var e;(L.remove(),null==Q.current||Q.current(),null==K.current||K.current(),b)&&(null==(e=z.current)||null==e.focus||e.focus(w),z.current=null)}));(0,t.useEffect)((()=>{r&&M&&V()}),[r,M,V]),(0,t.useEffect)((()=>{B&&q()}),[B,q]),Ni((()=>{q()}));const H=or((()=>{if(!y||!F()||!L.isTopModal())return;const e=Ii(null==D?void 0:D.document);L.dialog&&e&&!Oi(L.dialog,e)&&L.dialog.focus()})),W=or((e=>{e.target===e.currentTarget&&(null==d||d(e),!0===l&&k())})),G=or((e=>{u&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&L.isTopModal()&&(null==h||h(e),e.defaultPrevented||k())})),K=(0,t.useRef)(),Q=(0,t.useRef)();if(!M)return null;const X=Object.assign({role:o,ref:L.setDialogRef,"aria-modal":"dialog"===o||void 0},A,{style:a,className:s,tabIndex:-1});let $=_?_(X):(0,Pn.jsx)("div",Object.assign({},X,{children:t.cloneElement(c,{role:"document"})}));$=qi(f,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:T,onExiting:O,onExited:function(){U(!0),null==I||I(...arguments)},onEnter:N,onEntering:R,onEntered:P,children:$});let Y=null;return l&&(Y=E({ref:L.setBackdropRef,onClick:W}),Y=qi(m,g,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Y})),(0,Pn.jsx)(Pn.Fragment,{children:i.createPortal((0,Pn.jsxs)(Pn.Fragment,{children:[Y,$]}),M)})}));Ki.displayName="Modal";const Qi=Object.assign(Ki,{Manager:Pi}),Xi={[Kr]:"show",[Qr]:"show"},$i=t.forwardRef(((e,n)=>{let{className:r,children:i,transitionClasses:o={},onEnter:s,...a}=e;const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},l=(0,t.useCallback)(((e,t)=>{di(e),null==s||s(e,t)}),[s]);return(0,Pn.jsx)(fi,{ref:n,addEndListener:li,...c,onEnter:l,childRef:i.ref,children:(e,n)=>t.cloneElement(i,{...n,className:Rn()("fade",r,i.props.className,Xi[e],o[e])})})}));$i.displayName="Fade";const Yi=$i,Ji=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=jn(r,"offcanvas-body"),(0,Pn.jsx)(i,{ref:t,className:Rn()(n,r),...o})}));Ji.displayName="OffcanvasBody";const Zi=Ji,eo={[Kr]:"show",[Qr]:"show"},to=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:o,in:s=!1,mountOnEnter:a=!1,unmountOnExit:c=!1,appear:l=!1,...u}=e;return r=jn(r,"offcanvas"),(0,Pn.jsx)(fi,{ref:n,addEndListener:li,in:s,mountOnEnter:a,unmountOnExit:c,appear:l,...u,childRef:o.ref,children:(e,n)=>t.cloneElement(o,{...n,className:Rn()(i,o.props.className,(e===Kr||e===Xr)&&"".concat(r,"-toggling"),eo[e])})})}));to.displayName="OffcanvasToggling";const no=to,ro=t.createContext({onHide(){}}),io={"aria-label":fe().string,onClick:fe().func,variant:fe().oneOf(["white"])},oo=t.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":i="Close",...o}=e;return(0,Pn.jsx)("button",{ref:t,type:"button",className:Rn()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":i,...o})}));oo.displayName="CloseButton",oo.propTypes=io;const so=oo,ao=t.forwardRef(((e,n)=>{let{closeLabel:r="Close",closeVariant:i,closeButton:o=!1,onHide:s,children:a,...c}=e;const l=(0,t.useContext)(ro),u=or((()=>{null==l||l.onHide(),null==s||s()}));return(0,Pn.jsxs)("div",{ref:n,...c,children:[a,o&&(0,Pn.jsx)(so,{"aria-label":r,variant:i,onClick:u})]})})),co=ao,lo=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:o=!1,...s}=e;return n=jn(n,"offcanvas-header"),(0,Pn.jsx)(co,{ref:t,...s,className:Rn()(r,n),closeLabel:i,closeButton:o})}));lo.displayName="OffcanvasHeader";const uo=lo,ho=(fo="h5",t.forwardRef(((e,t)=>(0,Pn.jsx)("div",{...e,ref:t,className:Rn()(e.className,fo)}))));var fo;const po=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=ho,...o}=e;return r=jn(r,"offcanvas-title"),(0,Pn.jsx)(i,{ref:t,className:Rn()(n,r),...o})}));po.displayName="OffcanvasTitle";const mo=po;function go(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const vo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",yo=".sticky-top",bo=".navbar-toggler";class wo extends Pi{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,Vr(t,{[e]:"".concat(parseFloat(Vr(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Vr(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(t,"modal-open"),!e.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Qn(t,vo).forEach((t=>this.adjustAndStore(n,t,e.scrollBarWidth))),Qn(t,yo).forEach((t=>this.adjustAndStore(r,t,-e.scrollBarWidth))),Qn(t,bo).forEach((t=>this.adjustAndStore(r,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=go(e.className,t):e.setAttribute("class",go(e.className&&e.className.baseVal||"",t))}(t,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Qn(t,vo).forEach((e=>this.restore(n,e))),Qn(t,yo).forEach((e=>this.restore(r,e))),Qn(t,bo).forEach((e=>this.restore(r,e)))}}let _o;const Eo=wo;function Co(e){return(0,Pn.jsx)(no,{...e})}function xo(e){return(0,Pn.jsx)(Yi,{...e})}const So=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:o,"aria-labelledby":s,placement:a="start",responsive:c,show:l=!1,backdrop:u=!0,keyboard:d=!0,scroll:h=!1,onEscapeKeyDown:f,onShow:p,onHide:m,container:g,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:b=!0,restoreFocusOptions:w,onEntered:_,onExit:E,onExiting:C,onEnter:x,onEntering:S,onExited:k,backdropClassName:T,manager:I,renderStaticNode:O=!1,...N}=e;const R=(0,t.useRef)();r=jn(r,"offcanvas");const{onToggle:P}=(0,t.useContext)(wr)||{},[A,D]=(0,t.useState)(!1),M=Ti(c||"xs","up");(0,t.useEffect)((()=>{D(c?l&&!M:l)}),[l,c,M]);const L=or((()=>{null==P||P(),null==m||m()})),F=(0,t.useMemo)((()=>({onHide:L})),[L]);const j=(0,t.useCallback)((e=>(0,Pn.jsx)("div",{...e,className:Rn()("".concat(r,"-backdrop"),T)})),[T,r]),B=e=>(0,Pn.jsx)("div",{...e,...N,className:Rn()(i,c?"".concat(r,"-").concat(c):r,"".concat(r,"-").concat(a)),"aria-labelledby":s,children:o});return(0,Pn.jsxs)(Pn.Fragment,{children:[!A&&(c||O)&&B({}),(0,Pn.jsx)(ro.Provider,{value:F,children:(0,Pn.jsx)(Qi,{show:A,ref:n,backdrop:u,container:g,keyboard:d,autoFocus:v,enforceFocus:y&&!h,restoreFocus:b,restoreFocusOptions:w,onEscapeKeyDown:f,onShow:p,onHide:L,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==x||x(e,...n)},onEntering:S,onEntered:_,onExit:E,onExiting:C,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==k||k(...n)},manager:I||(h?(R.current||(R.current=new Eo({handleContainerOverflow:!1})),R.current):function(e){return _o||(_o=new wo(e)),_o}()),transition:Co,backdropTransition:xo,renderBackdrop:j,renderDialog:B})})]})}));So.displayName="Offcanvas";const ko=Object.assign(So,{Body:Zi,Header:uo,Title:mo}),To=t.forwardRef(((e,n)=>{const r=(0,t.useContext)(wr);return(0,Pn.jsx)(ko,{ref:n,show:!(null==r||!r.expanded),...e,renderStaticNode:!0})}));To.displayName="NavbarOffcanvas";const Io=To,Oo=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...o}=e;return r=jn(r,"navbar-text"),(0,Pn.jsx)(i,{ref:t,className:Rn()(n,r),...o})}));Oo.displayName="NavbarText";const No=Oo,Ro=t.forwardRef(((e,n)=>{const{bsPrefix:r,expand:i=!0,variant:o="light",bg:s,fixed:a,sticky:c,className:l,as:u="nav",expanded:d,onToggle:h,onSelect:f,collapseOnSelect:p=!1,...m}=qn(e,{expanded:"onToggle"}),g=jn(r,"navbar"),v=(0,t.useCallback)((function(){null==f||f(...arguments),p&&d&&(null==h||h(!1))}),[f,p,d,h]);void 0===m.role&&"nav"!==u&&(m.role="navigation");let y="".concat(g,"-expand");"string"===typeof i&&(y="".concat(y,"-").concat(i));const b=(0,t.useMemo)((()=>({onToggle:()=>null==h?void 0:h(!d),bsPrefix:g,expanded:!!d,expand:i})),[g,d,i,h]);return(0,Pn.jsx)(wr.Provider,{value:b,children:(0,Pn.jsx)(er.Provider,{value:v,children:(0,Pn.jsx)(u,{ref:n,...m,className:Rn()(l,g,i&&y,o&&"".concat(g,"-").concat(o),s&&"bg-".concat(s),c&&"sticky-".concat(c),a&&"fixed-".concat(a))})})})}));Ro.displayName="Navbar";const Po=Object.assign(Ro,{Brand:Mr,Collapse:wi,Offcanvas:Io,Text:No,Toggle:Ei}),Ao=!1,Do=!1,Mo="${JSCORE_VERSION}",Lo=function(e,t){if(!e)throw Fo(t)},Fo=function(e){return new Error("Firebase Database ("+Mo+") INTERNAL ASSERT FAILED: "+e)},jo=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Bo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|c>>6,h=63&c;a||(h=64,o||(d=64)),r.push(n[l],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(jo(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Uo;const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Uo extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zo=function(e){const t=jo(e);return Bo.encodeByteArray(t,!0)},Vo=function(e){return zo(e).replace(/\./g,"")},qo=function(e){try{return Bo.decodeString(e,!0)}catch(KK){console.error("base64Decode failed: ",KK)}return null};function Ho(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&Wo(n)&&(e[n]=Ho(e[n],t[n]));return e}function Wo(e){return"__proto__"!==e}const Go=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ko=()=>{try{return Go()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(KK){return}const t=e&&qo(e[1]);return t&&JSON.parse(t)})()}catch(KK){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(KK))}},Qo=e=>{var t,n;return null===(n=null===(t=Ko())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Xo=()=>{var e;return null===(e=Ko())||void 0===e?void 0:e.config},$o=e=>{var t;return null===(t=Ko())||void 0===t?void 0:t["_".concat(e)]};class Yo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Jo(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Vo(JSON.stringify({alg:"none",type:"JWT"})),Vo(JSON.stringify(o)),""].join(".")}function Zo(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function es(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zo())}function ts(){var e;const t=null===(e=Ko())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(KK){return!1}}function ns(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function rs(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function is(){const e=Zo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function os(){return!0===Ao||!0===Do}function ss(){try{return"object"===typeof indexedDB}catch(KK){return!1}}class as extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cs.prototype.create)}}class cs{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ls,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new as(n,o,t)}}const ls=/\{\$([^}]+)}/g;function us(e){return JSON.parse(e)}function ds(e){return JSON.stringify(e)}const hs=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=us(qo(o[0])||""),n=us(qo(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(KK){}return{header:t,claims:n,data:r,signature:i}};function fs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ps(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ms(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function gs(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function vs(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(ys(n)&&ys(o)){if(!vs(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ys(e){return null!==e&&"object"===typeof e}function bs(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ws(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function _s(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Es{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=c^s&(a^c),i=1518500249):(r=s^a^c,i=1859775393):u<60?(r=s&a|c&(s|a),i=2400959708):(r=s^a^c,i=3395469782);const e=(o<<5|o>>>27)+r+l+i+n[u]&4294967295;l=c,c=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function Cs(e,t){const n=new xs(e,t);return n.subscribe.bind(n)}class xs{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ss),void 0===r.error&&(r.error=Ss),void 0===r.complete&&(r.complete=Ss);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(KK){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(KK){"undefined"!==typeof console&&console.error&&console.error(KK)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ss(){}const ks=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}};function Ts(e,t){return"".concat(e," failed: ").concat(t," argument ")}function Is(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Ts(e,t)+"must be a valid function.")}function Os(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Ts(e,t)+"must be a valid context object.")}const Ns=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Rs(e){return e&&e._delegate?e._delegate:e}class Ps{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const As="[DEFAULT]";class Ds{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Yo;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(KK){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(KK){if(r)return null;throw KK}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch(KK){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(KK){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:As;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:As;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:As;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(rT){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ms(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(rT){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:As;return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Ms(e){return e===As?void 0:e}class Ls{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ds(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Fs=[];var js;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(js||(js={}));const Bs={debug:js.DEBUG,verbose:js.VERBOSE,info:js.INFO,warn:js.WARN,error:js.ERROR,silent:js.SILENT},Us=js.INFO,zs={[js.DEBUG]:"log",[js.VERBOSE]:"log",[js.INFO]:"info",[js.WARN]:"warn",[js.ERROR]:"error"},Vs=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=zs[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class qs{constructor(e){this.name=e,this._logLevel=Us,this._logHandler=Vs,this._userLogHandler=null,Fs.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in js))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Bs[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,js.DEBUG,...t),this._logHandler(this,js.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,js.VERBOSE,...t),this._logHandler(this,js.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,js.INFO,...t),this._logHandler(this,js.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,js.WARN,...t),this._logHandler(this,js.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,js.ERROR,...t),this._logHandler(this,js.ERROR,...t)}}const Hs=(e,t)=>t.some((t=>e instanceof t));let Ws,Gs;const Ks=new WeakMap,Qs=new WeakMap,Xs=new WeakMap,$s=new WeakMap,Ys=new WeakMap;let Js={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qs.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Xs.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ta(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Zs(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gs||(Gs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(na(this),n),ta(Ks.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ta(e.apply(na(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(na(this),t,...r);return Xs.set(o,t.sort?t.sort():[t]),ta(o)}}function ea(e){return"function"===typeof e?Zs(e):(e instanceof IDBTransaction&&function(e){if(Qs.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Qs.set(e,t)}(e),Hs(e,Ws||(Ws=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Js):e)}function ta(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(ta(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Ks.set(t,e)})).catch((()=>{})),Ys.set(t,e),t}(e);if($s.has(e))return $s.get(e);const t=ea(e);return t!==e&&($s.set(e,t),Ys.set(t,e)),t}const na=e=>Ys.get(e);const ra=["get","getKey","getAll","getAllKeys","count"],ia=["put","add","delete","clear"],oa=new Map;function sa(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(oa.get(t))return oa.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ia.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ra.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return oa.set(t,o),o}Js=(e=>({...e,get:(t,n,r)=>sa(t,n)||e.get(t,n,r),has:(t,n)=>!!sa(t,n)||e.has(t,n)}))(Js);class aa{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const ca="@firebase/app",la="0.9.13",ua=new qs("@firebase/app"),da="@firebase/app-compat",ha="@firebase/analytics-compat",fa="@firebase/analytics",pa="@firebase/app-check-compat",ma="@firebase/app-check",ga="@firebase/auth",va="@firebase/auth-compat",ya="@firebase/database",ba="@firebase/database-compat",wa="@firebase/functions",_a="@firebase/functions-compat",Ea="@firebase/installations",Ca="@firebase/installations-compat",xa="@firebase/messaging",Sa="@firebase/messaging-compat",ka="@firebase/performance",Ta="@firebase/performance-compat",Ia="@firebase/remote-config",Oa="@firebase/remote-config-compat",Na="@firebase/storage",Ra="@firebase/storage-compat",Pa="@firebase/firestore",Aa="@firebase/firestore-compat",Da="firebase",Ma="[DEFAULT]",La={[ca]:"fire-core",[da]:"fire-core-compat",[fa]:"fire-analytics",[ha]:"fire-analytics-compat",[ma]:"fire-app-check",[pa]:"fire-app-check-compat",[ga]:"fire-auth",[va]:"fire-auth-compat",[ya]:"fire-rtdb",[ba]:"fire-rtdb-compat",[wa]:"fire-fn",[_a]:"fire-fn-compat",[Ea]:"fire-iid",[Ca]:"fire-iid-compat",[xa]:"fire-fcm",[Sa]:"fire-fcm-compat",[ka]:"fire-perf",[Ta]:"fire-perf-compat",[Ia]:"fire-rc",[Oa]:"fire-rc-compat",[Na]:"fire-gcs",[Ra]:"fire-gcs-compat",[Pa]:"fire-fst",[Aa]:"fire-fst-compat","fire-js":"fire-js",[Da]:"fire-js-all"},Fa=new Map,ja=new Map;function Ba(e,t){try{e.container.addComponent(t)}catch(KK){ua.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),KK)}}function Ua(e,t){e.container.addOrOverwriteComponent(t)}function za(e){const t=e.name;if(ja.has(t))return ua.debug("There were multiple attempts to register component ".concat(t,".")),!1;ja.set(t,e);for(const n of Fa.values())Ba(n,e);return!0}function Va(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ma;Va(e,t).clearInstance(n)}function Ha(){ja.clear()}const Wa=new cs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ga{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ps("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wa.create("app-deleted",{appName:this._name})}}const Ka="9.23.0";function Qa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ma,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Wa.create("bad-app-name",{appName:String(i)});if(n||(n=Xo()),!n)throw Wa.create("no-options");const o=Fa.get(i);if(o){if(vs(n,o.options)&&vs(r,o.config))return o;throw Wa.create("duplicate-app",{appName:i})}const s=new Ls(i);for(const c of ja.values())s.addComponent(c);const a=new Ga(n,r,s);return Fa.set(i,a),a}function Xa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ma;const t=Fa.get(e);if(!t&&e===Ma&&Xo())return Qa();if(!t)throw Wa.create("no-app",{appName:e});return t}function $a(){return Array.from(Fa.values())}async function Ya(e){const t=e.name;Fa.has(t)&&(Fa.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Ja(e,t,n){var r;let i=null!==(r=La[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ua.warn(e.join(" "))}za(new Ps("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Za(e,t){if(null!==e&&"function"!==typeof e)throw Wa.create("invalid-log-argument");!function(e,t){for(const n of Fs){let r=null;t&&t.level&&(r=Bs[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:js[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function ec(e){var t;t=e,Fs.forEach((e=>{e.setLogLevel(t)}))}const tc="firebase-heartbeat-database",nc=1,rc="firebase-heartbeat-store";let ic=null;function oc(){return ic||(ic=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=ta(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(ta(s.result),e.oldVersion,e.newVersion,ta(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(tc,nc,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(rc)}}).catch((e=>{throw Wa.create("idb-open",{originalErrorMessage:e.message})}))),ic}async function sc(e,t){try{const n=(await oc()).transaction(rc,"readwrite"),r=n.objectStore(rc);await r.put(t,ac(e)),await n.done}catch(KK){if(KK instanceof as)ua.warn(KK.message);else{const t=Wa.create("idb-set",{originalErrorMessage:null===KK||void 0===KK?void 0:KK.message});ua.warn(t.message)}}}function ac(e){return"".concat(e.name,"!").concat(e.options.appId)}class cc{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new uc(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=lc();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=lc(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),dc(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dc(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Vo(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function lc(){return(new Date).toISOString().substring(0,10)}class uc{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ss()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(mN){t(mN)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await oc();return await t.transaction(rc).objectStore(rc).get(ac(e))}catch(KK){if(KK instanceof as)ua.warn(KK.message);else{const t=Wa.create("idb-get",{originalErrorMessage:null===KK||void 0===KK?void 0:KK.message});ua.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return sc(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return sc(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function dc(e){return Vo(JSON.stringify({version:2,heartbeats:e})).length}var hc;hc="",za(new Ps("platform-logger",(e=>new aa(e)),"PRIVATE")),za(new Ps("heartbeat",(e=>new cc(e)),"PRIVATE")),Ja(ca,la,hc),Ja(ca,la,"esm2017"),Ja("fire-js","");class fc{constructor(e,t){this._delegate=e,this.firebase=t,Ba(e,new Ps("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Ya(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Ba(this._delegate,e)}_addOrOverwriteComponent(e){Ua(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pc=new cs("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const mc=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Qa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(fs(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:Ja,setLogLevel:ec,onLog:Za,apps:null,SDK_VERSION:Ka,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(za(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw pc.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&Ho(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!fs(n,e=e||Ma))throw pc.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(fc);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ho(n,e)},createSubscribe:Cs,ErrorFactory:cs,deepExtend:Ho}),n}(),gc=new qs("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){gc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&gc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const vc=mc;!function(e){Ja("@firebase/app-compat","0.2.13",e)}();vc.registerVersion("firebase","9.23.0","app-compat");function yc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const bc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},wc="EMAIL_SIGNIN",_c="PASSWORD_RESET",Ec="RECOVER_EMAIL",Cc="REVERT_SECOND_FACTOR_ADDITION",xc="VERIFY_AND_CHANGE_EMAIL",Sc="VERIFY_EMAIL";function kc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tc=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ic=kc,Oc=new cs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nc=new qs("@firebase/auth");function Rc(e){if(Nc.logLevel<=js.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Nc.error("Auth (".concat(Ka,"): ").concat(e),...n)}}function Pc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Lc(e,...n)}function Ac(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Lc(e,...n)}function Dc(e,t,n){const r=Object.assign(Object.assign({},Ic()),{[t]:n});return new cs("auth","Firebase",r).create(t,{appName:e.name})}function Mc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Pc(e,"argument-error"),Dc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Lc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Oc.create(e,...n)}function Fc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Lc(t,...r)}}function jc(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Rc(t),new Error(t)}function Bc(e,t){e||jc(t)}function Uc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function zc(){return"http:"===Vc()||"https:"===Vc()}function Vc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class qc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bc(t>e,"Short delay should be less than long delay!"),this.isMobile=es()||rs()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(zc()||ns()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Hc(e,t){Bc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Wc{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void jc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void jc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void jc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Gc={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Kc=new qc(3e4,6e4);function Qc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Xc(e,t,n,r){return $c(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=bs(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Wc.fetch()(Jc(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function $c(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Gc),t);try{const t=new Zc(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw el(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw el(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw el(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw el(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Dc(e,a,s);Pc(e,a)}}catch(KK){if(KK instanceof as)throw KK;Pc(e,"network-request-failed",{message:String(KK)})}}async function Yc(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Xc(e,t,n,r,i);return"mfaPendingCredential"in o&&Pc(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Jc(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Hc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class Zc{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ac(this.auth,"network-request-failed"))),Kc.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function el(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ac(e,t,r);return i.customData._tokenResponse=n,i}function tl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(KK){}}function nl(e){return 1e3*Number(e)}function rl(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Rc("JWT malformed, contained fewer than 3 sections"),null;try{const e=qo(n);return e?JSON.parse(e):(Rc("Failed to decode base64 JWT payload"),null)}catch(KK){return Rc("Caught error parsing JWT payload as JSON",null===KK||void 0===KK?void 0:KK.toString()),null}}async function il(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(KK){throw KK instanceof as&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(KK)&&e.auth.currentUser===e&&await e.auth.signOut(),KK}}class ol{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(KK){return void((null===KK||void 0===KK?void 0:KK.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class sl{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function al(e){var t;const n=e.auth,r=await e.getIdToken(),i=await il(e,async function(e,t){return Xc(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Fc(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=yc(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),c=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new sl(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)}class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fc(e.idToken,"internal-error"),Fc("undefined"!==typeof e.idToken,"internal-error"),Fc("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=rl(e);return Fc(t,"internal-error"),Fc("undefined"!==typeof t.exp,"internal-error"),Fc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Fc(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await $c(e,{},(async()=>{const n=bs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Jc(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Wc.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new cl;return n&&(Fc("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Fc("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Fc("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return jc("not implemented")}}function ll(e,t){Fc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ul{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=yc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ol(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new sl(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await il(this,this.stsTokenManager.getToken(this.auth,e));return Fc(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Rs(e),r=await n.getIdToken(t),i=rl(r);Fc(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:tl(nl(i.auth_time)),issuedAtTime:tl(nl(i.iat)),expirationTime:tl(nl(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Rs(e);await al(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Fc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ul(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Fc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await al(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await il(this,async function(e,t){return Xc(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:E}=t;Fc(y&&E,e,"internal-error");const C=cl.fromJSON(this.name,E);Fc("string"===typeof y,e,"internal-error"),ll(u,e.name),ll(d,e.name),Fc("boolean"===typeof b,e,"internal-error"),Fc("boolean"===typeof w,e,"internal-error"),ll(h,e.name),ll(f,e.name),ll(p,e.name),ll(m,e.name),ll(g,e.name),ll(v,e.name);const x=new ul({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:C,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(x.providerData=_.map((e=>Object.assign({},e)))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new cl;r.updateFromServerResponse(t);const i=new ul({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await al(i),i}}const dl=new Map;function hl(e){Bc(e instanceof Function,"Expected a class definition");let t=dl.get(e);return t?(Bc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,dl.set(e,t),t)}class fl{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fl.type="NONE";const pl=fl;function ml(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class gl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ml(this.userKey,r.apiKey,i),this.fullPersistenceKey=ml("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ul._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new gl(hl(pl),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||hl(pl);const o=ml(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=ul._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(rT){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(rT){}}))),new gl(i,e,n)):new gl(i,e,n)}}function vl(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_l(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cl(t))return"Blackberry";if(xl(t))return"Webos";if(bl(t))return"Safari";if((t.includes("chrome/")||wl(t))&&!t.includes("edge/"))return"Chrome";if(El(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function yl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo();return/firefox\//i.test(e)}function bl(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo();return/crios\//i.test(e)}function _l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo();return/iemobile/i.test(e)}function El(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo();return/android/i.test(e)}function Cl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo();return/blackberry/i.test(e)}function xl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo();return/webos/i.test(e)}function Sl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function kl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo();return Sl(e)||El(e)||xl(e)||Cl(e)||/windows phone/i.test(e)||_l(e)}function Tl(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=vl(Zo());break;case"Worker":t="".concat(vl(Zo()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ka,"/").concat(r)}async function Il(e,t){return Xc(e,"GET","/v2/recaptchaConfig",Qc(e,t))}function Ol(e){return void 0!==e&&void 0!==e.getResponse}function Nl(e){return void 0!==e&&void 0!==e.enterprise}class Rl{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Pl(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ac("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Al(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Dl{constructor(e){this.type="recaptcha-enterprise",this.auth=jl(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Nl(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Il(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Rl(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Nl(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Pl("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ml(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Dl(e);let o;try{o=await i.verify(n)}catch(mN){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}class Ll{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(KK){r(KK)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(KK){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===KK||void 0===KK?void 0:KK.message})}}}class Fl{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bl(this),this.idTokenSubscription=new Bl(this),this.beforeStateQueue=new Ll(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hl(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(KK){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(KK){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(KK)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Fc(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(KK){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await al(e)}catch(KK){if((null===KK||void 0===KK?void 0:KK.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Rs(e):null;return t&&Fc(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Fc(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(hl(e))}))}async initializeRecaptchaConfig(){const e=await Il(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Rl(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Dl(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cs("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hl(e)||this._popupRedirectResolver;Fc(t,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[hl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Fc(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fc(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Nc.logLevel<=js.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Nc.warn("Auth (".concat(Ka,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function jl(e){return Rs(e)}class Bl{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cs((e=>this.observer=e))}get next(){return Fc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ul(e,t,n){const r=jl(e);Fc(r._canInitEmulator,r,"emulator-config-failed"),Fc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=zl(t),{host:s,port:a}=function(e){const t=zl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Vl(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Vl(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function zl(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Vl(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ql{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return jc("not implemented")}_getIdTokenResponse(e){return jc("not implemented")}_linkToIdToken(e,t){return jc("not implemented")}_getReauthenticationResolver(e){return jc("not implemented")}}async function Hl(e,t){return Xc(e,"POST","/v1/accounts:resetPassword",Qc(e,t))}async function Wl(e,t){return Xc(e,"POST","/v1/accounts:update",t)}async function Gl(e,t){return Yc(e,"POST","/v1/accounts:signInWithPassword",Qc(e,t))}async function Kl(e,t){return Xc(e,"POST","/v1/accounts:sendOobCode",Qc(e,t))}async function Ql(e,t){return Kl(e,t)}async function Xl(e,t){return Kl(e,t)}class $l extends ql{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new $l(e,t,"password")}static _fromEmailAndCode(e,t){return new $l(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Ml(e,n,"signInWithPassword");return Gl(e,t)}return Gl(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Ml(e,n,"signInWithPassword");return Gl(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return Yc(e,"POST","/v1/accounts:signInWithEmailLink",Qc(e,t))}(e,{email:this._email,oobCode:this._password});default:Pc(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Wl(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Yc(e,"POST","/v1/accounts:signInWithEmailLink",Qc(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Pc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Yl(e,t){return Yc(e,"POST","/v1/accounts:signInWithIdp",Qc(e,t))}class Jl extends ql{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Jl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pc("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=yc(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Jl(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Yl(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Yl(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yl(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bs(t)}return e}}const Zl={USER_NOT_FOUND:"user-not-found"};class eu extends ql{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new eu({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new eu({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Yc(e,"POST","/v1/accounts:signInWithPhoneNumber",Qc(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Yc(e,"POST","/v1/accounts:signInWithPhoneNumber",Qc(e,t));if(n.temporaryProof)throw el(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Yc(e,"POST","/v1/accounts:signInWithPhoneNumber",Qc(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Zl)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new eu({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class tu{constructor(e){var t,n,r,i,o,s;const a=ws(_s(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Fc(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=ws(_s(e)).link,n=t?ws(_s(t)).deep_link_id:null,r=ws(_s(e)).deep_link_id;return(r?ws(_s(r)).link:null)||r||n||t||e}(e);try{return new tu(t)}catch(rT){return null}}}class nu{constructor(){this.providerId=nu.PROVIDER_ID}static credential(e,t){return $l._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=tu.parseLink(t);return Fc(n,"argument-error"),$l._fromEmailAndCode(e,n.code,n.tenantId)}}nu.PROVIDER_ID="password",nu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",nu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ru{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends ru{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ou extends iu{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Fc("providerId"in t&&"signInMethod"in t,"argument-error"),Jl._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Fc(e.idToken||e.accessToken,"argument-error"),Jl._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ou.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ou.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new ou(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(KK){return null}}}class su extends iu{constructor(){super("facebook.com")}static credential(e){return Jl._fromParams({providerId:su.PROVIDER_ID,signInMethod:su.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return su.credentialFromTaggedObject(e)}static credentialFromError(e){return su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return su.credential(t.oauthAccessToken)}catch(rT){return null}}}su.FACEBOOK_SIGN_IN_METHOD="facebook.com",su.PROVIDER_ID="facebook.com";class au extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Jl._fromParams({providerId:au.PROVIDER_ID,signInMethod:au.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return au.credentialFromTaggedObject(e)}static credentialFromError(e){return au.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return au.credential(n,r)}catch(rT){return null}}}au.GOOGLE_SIGN_IN_METHOD="google.com",au.PROVIDER_ID="google.com";class cu extends iu{constructor(){super("github.com")}static credential(e){return Jl._fromParams({providerId:cu.PROVIDER_ID,signInMethod:cu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cu.credentialFromTaggedObject(e)}static credentialFromError(e){return cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return cu.credential(t.oauthAccessToken)}catch(rT){return null}}}cu.GITHUB_SIGN_IN_METHOD="github.com",cu.PROVIDER_ID="github.com";class lu extends ql{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Yl(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Yl(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yl(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new lu(n,i):null}static _create(e,t){return new lu(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class uu extends ru{constructor(e){Fc(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return uu.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return uu.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=lu.fromJSON(e);return Fc(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return lu._create(r,n)}catch(KK){return null}}}class du extends iu{constructor(){super("twitter.com")}static credential(e,t){return Jl._fromParams({providerId:du.PROVIDER_ID,signInMethod:du.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return du.credentialFromTaggedObject(e)}static credentialFromError(e){return du.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return du.credential(n,r)}catch(rT){return null}}}async function hu(e,t){return Yc(e,"POST","/v1/accounts:signUp",Qc(e,t))}du.TWITTER_SIGN_IN_METHOD="twitter.com",du.PROVIDER_ID="twitter.com";class fu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ul._fromIdTokenResponse(e,n,r),o=pu(n);return new fu({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=pu(n);return new fu({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function pu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class mu extends as{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,mu.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new mu(e,t,n,r)}}function gu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw mu._fromErrorAndOperation(e,n,t,r);throw n}))}function vu(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function yu(e,t){const n=Rs(e);await wu(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Xc(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=vu(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function bu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await il(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return fu._forOperation(e,"link",r)}async function wu(e,t,n){await al(t);const r=!1===e?"provider-already-linked":"no-such-provider";Fc(vu(t.providerData).has(n)===e,t.auth,r)}async function _u(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await il(e,gu(r,i,t,e),n);Fc(o.idToken,r,"internal-error");const s=rl(o.idToken);Fc(s,r,"internal-error");const{sub:a}=s;return Fc(e.uid===a,r,"user-mismatch"),fu._forOperation(e,i,o)}catch(KK){throw(null===KK||void 0===KK?void 0:KK.code)==="auth/".concat("user-not-found")&&Pc(r,"user-mismatch"),KK}}async function Eu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await gu(e,r,t),o=await fu._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Cu(e,t){return Eu(jl(e),t)}async function xu(e,t){const n=Rs(e);return await wu(!1,n,t.providerId),bu(n,t)}async function Su(e,t){return _u(Rs(e),t)}async function ku(e,t){const n=jl(e),r=await async function(e,t){return Yc(e,"POST","/v1/accounts:signInWithCustomToken",Qc(e,t))}(n,{token:t,returnSecureToken:!0}),i=await fu._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Tu{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Iu._fromServerResponse(e,t):"totpInfo"in t?Ou._fromServerResponse(e,t):Pc(e,"internal-error")}}class Iu extends Tu{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Iu(t)}}class Ou extends Tu{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Ou(t)}}function Nu(e,t,n){var r;Fc((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Fc("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Fc(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Fc(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ru(e,t){await async function(e,t){return Xc(e,"POST","/v1/accounts:update",Qc(e,t))}(Rs(e),{oobCode:t})}async function Pu(e,t){const n=Rs(e),r=await Hl(n,{oobCode:t}),i=r.requestType;switch(Fc(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Fc(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Fc(r.mfaInfo,n,"internal-error");default:Fc(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Tu._fromServerResponse(jl(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Au(e,t){const n={identifier:t,continueUri:zc()?Uc():"http://localhost"},{signinMethods:r}=await async function(e,t){return Xc(e,"POST","/v1/accounts:createAuthUri",Qc(e,t))}(Rs(e),n);return r||[]}async function Du(e,t){const n=Rs(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Nu(n.auth,r,t);const{email:i}=await async function(e,t){return Kl(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Mu(e,t,n){const r=Rs(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Nu(r.auth,i,n);const{email:o}=await async function(e,t){return Kl(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function Lu(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Rs(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await il(i,async function(e,t){return Xc(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function Fu(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await il(e,Wl(r,i));await e._updateTokensIfNecessary(o,!0)}class ju{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Bu extends ju{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Uu extends ju{constructor(e,t){super(e,"facebook.com",t)}}class zu extends Bu{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Vu extends ju{constructor(e,t){super(e,"google.com",t)}}class qu extends Bu{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Hu(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=rl(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new ju(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Uu(o,i);case"github.com":return new zu(o,i);case"google.com":return new Vu(o,i);case"twitter.com":return new qu(o,i,e.screenName||null);case"custom":case"anonymous":return new ju(o,null);default:return new ju(o,r,i)}}(n)}class Wu{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new Wu("enroll",e,t)}static _fromMfaPendingCredential(e){return new Wu("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Wu._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Wu._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Gu{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=jl(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Tu._fromServerResponse(n,e)));Fc(r.mfaPendingCredential,n,"internal-error");const o=Wu._fromMfaPendingCredential(r.mfaPendingCredential);return new Gu(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await fu._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Fc(t.user,n,"internal-error"),fu._forOperation(t.user,t.operationType,s);default:Pc(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Ku{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Tu._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Ku(e)}async getSession(){return Wu._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,r=await this.getSession(),i=await il(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await il(this.user,function(e,t){return Xc(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Qc(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(KK){throw KK}}}const Qu=new WeakMap;const Xu="__sak";class $u{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xu,"1"),this.storage.removeItem(Xu),Promise.resolve(!0)):Promise.resolve(!1)}catch(rT){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Yu extends $u{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Zo();return bl(e)||Sl(e)}()&&function(){try{return!(!window||window===window.top)}catch(KK){return!1}}(),this.fallbackToPolling=kl(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);is()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yu.type="LOCAL";const Ju=Yu;class Zu extends $u{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Zu.type="SESSION";const ed=Zu;class td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new td(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function nd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}td.receivers=[];class rd{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=nd("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function id(){return window}function od(){return"undefined"!==typeof id().WorkerGlobalScope&&"function"===typeof id().importScripts}const sd="firebaseLocalStorageDb",ad="firebaseLocalStorage",cd="fbase_key";class ld{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ud(e,t){return e.transaction([ad],t?"readwrite":"readonly").objectStore(ad)}function dd(){const e=indexedDB.open(sd,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ad,{keyPath:cd})}catch(KK){n(KK)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ad)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(sd);return new ld(e).toPromise()}(),t(await dd()))}))}))}async function hd(e,t,n){const r=ud(e,!0).put({[cd]:t,value:n});return new ld(r).toPromise()}function fd(e,t){const n=ud(e,!0).delete(t);return new ld(n).toPromise()}class pd{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await dd()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(KK){if(t++>3)throw KK;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return od()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=td._getInstance(od()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new rd(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(rT){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dd();return await hd(e,Xu,"1"),await fd(e,Xu),!0}catch(rT){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>hd(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ud(e,!1).get(t),r=await new ld(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>fd(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ud(e,!1).getAll();return new ld(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}pd.type="LOCAL";const md=pd;const gd=1e12;class vd{constructor(e){this.auth=e,this.counter=gd,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new yd(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||gd;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||gd;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||gd;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class yd{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Fc(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(KK){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(KK){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bd=Al("rcb"),wd=new qc(3e4,6e4);class _d{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=id().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Fc(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Ol(id().grecaptcha)?Promise.resolve(id().grecaptcha):new Promise(((n,r)=>{const i=id().setTimeout((()=>{r(Ac(e,"network-request-failed"))}),wd.get());id()[bd]=()=>{id().clearTimeout(i),delete id()[bd];const o=id().grecaptcha;if(!o||!Ol(o))return void r(Ac(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};Pl("".concat("https://www.google.com/recaptcha/api.js?","?").concat(bs({onload:bd,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Ac(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=id().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ed{async load(e){return new vd(e)}clearedOneInstance(){}}const Cd="recaptcha",xd={theme:"light",type:"image"};class Sd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},xd),n=arguments.length>2?arguments[2]:void 0;this.parameters=t,this.type=Cd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jl(n),this.isInvisible="invisible"===this.parameters.size,Fc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof e?document.getElementById(e):e;Fc(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ed:new _d,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(KK){return Promise.reject(KK)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Fc(!this.parameters.sitekey,this.auth,"argument-error"),Fc(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Fc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=id()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Fc(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Fc(zc()&&!od(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Xc(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Fc(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Fc(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class kd{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=eu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Td(e,t,n){var r;const i=await n.verify();try{let o;if(Fc("string"===typeof i,e,"argument-error"),Fc(n.type===Cd,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Fc("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Xc(e,"POST","/v2/accounts/mfaEnrollment:start",Qc(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Fc("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Fc(n,e,"missing-multi-factor-info");const s=await function(e,t){return Xc(e,"POST","/v2/accounts/mfaSignIn:start",Qc(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Xc(e,"POST","/v1/accounts:sendVerificationCode",Qc(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Id{constructor(e){this.providerId=Id.PROVIDER_ID,this.auth=jl(e)}verifyPhoneNumber(e,t){return Td(this.auth,e,Rs(t))}static credential(e,t){return eu._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Id.credentialFromTaggedObject(t)}static credentialFromError(e){return Id.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?eu._fromTokenResponse(n,r):null}}function Od(e,t){return t?hl(t):(Fc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Id.PROVIDER_ID="phone",Id.PHONE_SIGN_IN_METHOD="phone";class Nd extends ql{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Rd(e){return Eu(e.auth,new Nd(e),e.bypassAuthState)}function Pd(e){const{auth:t,user:n}=e;return Fc(n,t,"internal-error"),_u(n,new Nd(e),e.bypassAuthState)}async function Ad(e){const{auth:t,user:n}=e;return Fc(n,t,"internal-error"),bu(n,new Nd(e),e.bypassAuthState)}class Dd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(KK){this.reject(KK)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(KK){this.reject(KK)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rd;case"linkViaPopup":case"linkViaRedirect":return Ad;case"reauthViaPopup":case"reauthViaRedirect":return Pd;default:Pc(this.auth,"internal-error")}}resolve(e){Bc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Md=new qc(2e3,1e4);class Ld extends Dd{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ld.currentPopupAction&&Ld.currentPopupAction.cancel(),Ld.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fc(e,this.auth,"internal-error"),e}async onExecution(){Bc(1===this.filter.length,"Popup operations only handle one event");const e=nd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ac(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ac(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ld.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ac(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Md.get())};e()}}Ld.currentPopupAction=null;const Fd="pendingRedirect",jd=new Map;class Bd extends Dd{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=jd.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=qd(t),r=Vd(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(KK){e=()=>Promise.reject(KK)}jd.set(this.auth._key(),e)}return this.bypassAuthState||jd.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Ud(e,t){return Vd(e)._set(qd(t),"true")}function zd(e,t){jd.set(e._key(),t)}function Vd(e){return hl(e._redirectPersistence)}function qd(e){return ml(Fd,e.config.apiKey,e.name)}function Hd(e,t,n){return async function(e,t,n){const r=jl(e);Mc(e,t,ru),await r._initializationPromise;const i=Od(r,n);return await Ud(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Wd(e,t,n){return async function(e,t,n){const r=Rs(e);Mc(r.auth,t,ru),await r.auth._initializationPromise;const i=Od(r.auth,n);await Ud(i,r.auth);const o=await Qd(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function Gd(e,t,n){return async function(e,t,n){const r=Rs(e);Mc(r.auth,t,ru),await r.auth._initializationPromise;const i=Od(r.auth,n);await wu(!1,r,t.providerId),await Ud(i,r.auth);const o=await Qd(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function Kd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=jl(e),i=Od(r,t),o=new Bd(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function Qd(e){const t=nd("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Xd{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yd(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Yd(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ac(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($d(e))}saveEventToCache(e){this.cachedEventUids.add($d(e)),this.lastProcessedEventTime=Date.now()}}function $d(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Yd(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Jd(e){return Xc(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Zd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eh=/^https?/;function th(e){const t=Uc(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!eh.test(n))return!1;if(Zd.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const nh=new qc(3e4,6e4);function rh(){const e=id().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let ih=null;function oh(e){return ih=ih||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){rh(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{rh(),n(Ac(e,"network-request-failed"))},timeout:nh.get()})}if(null===(i=null===(r=id().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=id().gapi)||void 0===o?void 0:o.load)){const t=Al("iframefcb");return id()[t]=()=>{gapi.load?s():n(Ac(e,"network-request-failed"))},Pl("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw ih=null,e}))}(e),ih}const sh=new qc(5e3,15e3),ah="__/auth/iframe",ch="emulator/auth/iframe",lh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dh(e){const t=e.config;Fc(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Hc(t,ch):"https://".concat(e.config.authDomain,"/").concat(ah),r={apiKey:t.apiKey,appName:e.name,v:Ka},i=uh.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(bs(r).slice(1))}const hh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fh{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(KK){}}}function ph(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},hh),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Zo().toLowerCase();n&&(a=wl(l)?"_blank":n),yl(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Sl(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new fh(null);const d=window.open(t||"",a,u);Fc(d,e,"popup-blocked");try{d.focus()}catch(KK){}return new fh(d)}const mh="__/auth/handler",gh="emulator/auth/handler",vh=encodeURIComponent("fac");async function yh(e,t,n,r,i,o){Fc(e.config.authDomain,e,"auth-domain-config-required"),Fc(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ka,eventId:i};if(t instanceof ru){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",ms(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof iu){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(vh,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(mh);return Hc(t,gh)}(e),"?").concat(bs(a).slice(1)).concat(l)}const bh="webStorageSupport";const wh=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ed,this._completeRedirectFn=Kd,this._overrideRedirectResult=zd}async _openPopup(e,t,n,r){var i;Bc(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ph(e,await yh(e,t,n,Uc(),r),nd())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){id().location.href=e}(await yh(e,t,n,Uc(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Bc(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await oh(e),n=id().gapi;return Fc(n,e,"internal-error"),t.open({where:document.body,url:dh(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lh,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ac(e,"network-request-failed"),o=id().setTimeout((()=>{r(i)}),sh.get());function s(){id().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new Xd(e);return t.register("authEvent",(t=>{Fc(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bh,{type:bh},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[bh];void 0!==i&&t(!!i),Pc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Jd(e);for(const n of t)try{if(th(n))return}catch(rT){}Pc(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kl()||bl()||Sl()}};class _h{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return jc("unexpected MultiFactorSessionType")}}}class Eh extends _h{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Eh(e)}_finalizeEnroll(e,t,n){return function(e,t){return Xc(e,"POST","/v2/accounts/mfaEnrollment:finalize",Qc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Xc(e,"POST","/v2/accounts/mfaSignIn:finalize",Qc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ch{constructor(){}static assertion(e){return Eh._fromCredential(e)}}Ch.FACTOR_ID="phone";var xh="@firebase/auth",Sh="0.23.2";class kh{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Th=$o("authIdTokenMaxAge")||300;let Ih=null;var Oh;function Nh(){return window}Oh="Browser",za(new Ps("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Fc(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:Oh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tl(Oh)},l=new Fl(r,i,o,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hl);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),za(new Ps("auth-internal",(e=>(e=>new kh(e))(jl(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ja(xh,Sh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Oh)),Ja(xh,Sh,"esm2017");async function Rh(e,t,n){var r;const{BuildInfo:i}=Nh();Bc(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(Bc(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return Sl()?s.ibi=i.packageName:El()?s.apn=i.packageName:Pc(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,yh(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function Ph(e){const{cordova:t}=Nh();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Ah=20;class Dh extends Xd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Mh(e){const t=await jh()._get(Bh(e));return t&&await jh()._remove(Bh(e)),t}function Lh(e,t){var n,r;const i=function(e){const t=Uh(e),n=t.link?decodeURIComponent(t.link):void 0,r=Uh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Uh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Uh(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(KK){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?Ac(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Fh(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Ah;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function jh(){return hl(Ju)}function Bh(e){return ml("authEvent",e.config.apiKey,e.name)}function Uh(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return ws(n.join("?"))}const zh=class{constructor(){this._redirectPersistence=ed,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Kd,this._overrideRedirectResult=zd}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Dh(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Pc(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,c,l,u;const d=Nh();Fc("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Fc("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Fc("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Fc("function"===typeof(null===(c=null===(a=null===(s=null===d||void 0===d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Fc("function"===typeof(null===(u=null===(l=null===d||void 0===d?void 0:d.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),jd.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Fh(),postBody:null,tenantId:e.tenantId,error:Ac(e,"no-auth-event")}}(e,n,r);await function(e,t){return jh()._set(Bh(e),t)}(e,o);const s=await Rh(e,o,t);return async function(e,t,n){const{cordova:r}=Nh();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function c(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout((()=>{s(Ac(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),El()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await Ph(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Nh(),n={};Sl()?n.iosBundleId=t.packageName:El()?n.androidPackageName=t.packageName:Pc(e,"operation-not-supported-in-this-environment"),await Jd(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Nh(),o=setTimeout((async()=>{await Mh(e),t.onEvent(Vh())}),500),s=async n=>{clearTimeout(o);const r=await Mh(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Lh(r,n.url)),t.onEvent(i||Vh())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,c="".concat(i.packageName.toLowerCase(),"://");Nh().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&s({url:e}),"function"===typeof a)try{a(e)}catch(KK){console.error(KK)}}}};function Vh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ac("no-auth-event")}}function qh(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Hh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo();return!("file:"!==qh()&&"ionic:"!==qh()&&"capacitor:"!==qh()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo();return is()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo();return/Edge\/\d+/.test(e)}(e)}function Gh(){try{const e=self.localStorage,t=nd();if(e)return e.setItem(t,"1"),e.removeItem(t),!Wh()||ss()}catch(KK){return Kh()&&ss()}return!1}function Kh(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Qh(){return("http:"===qh()||"https:"===qh()||ns()||Hh())&&!(rs()||ts())&&Gh()&&!Kh()}function Xh(){return Hh()&&"undefined"!==typeof document}const $h={LOCAL:"local",NONE:"none",SESSION:"session"},Yh=Fc,Jh="persistence";async function Zh(e){await e._initializationPromise;const t=ef(),n=ml(Jh,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function ef(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(KK){return null}}const tf=Fc;class nf{constructor(){this.browserResolver=hl(wh),this.cordovaResolver=hl(zh),this.underlyingResolver=null,this._redirectPersistence=ed,this._completeRedirectFn=Kd,this._overrideRedirectResult=zd}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Xh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return tf(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Xh()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function rf(e){return e.unwrap()}function of(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new lf(e,function(e,t){var n;const r=Rs(e),i=t;return Fc(t.customData.operationType,r,"argument-error"),Fc(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Gu._fromError(r,i)}(e,t))}else if(r){const e=sf(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function sf(e){const{_tokenResponse:t}=e instanceof as?e.customData:e;if(!t)return null;if(!(e instanceof as)&&"temporaryProof"in t&&"phoneNumber"in t)return Id.credentialFromResult(e);const n=t.providerId;if(!n||n===bc.PASSWORD)return null;let r;switch(n){case bc.GOOGLE:r=au;break;case bc.FACEBOOK:r=su;break;case bc.GITHUB:r=cu;break;case bc.TWITTER:r=du;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?lu._create(n,s):Jl._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new ou(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof as?r.credentialFromError(e):r.credentialFromResult(e)}function af(e,t){return t.catch((t=>{throw t instanceof as&&of(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,sf(r)),additionalUserInfo:Hu(e),user:uf.getOrCreate(n)};var r}))}async function cf(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>af(e,n.confirm(t))}}class lf{constructor(e,t){this.resolver=t,this.auth=function(e){return e.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return af(rf(this.auth),this.resolver.resolveSignIn(e))}}class uf{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Rs(e);return Qu.has(t)||Qu.set(t,Ku._fromUser(t)),Qu.get(t)}(e)}static getOrCreate(e){return uf.USER_MAP.has(e)||uf.USER_MAP.set(e,new uf(e)),uf.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return af(this.auth,xu(this._delegate,e))}async linkWithPhoneNumber(e,t){return cf(this.auth,async function(e,t,n){const r=Rs(e);await wu(!1,r,"phone");const i=await Td(r.auth,t,Rs(n));return new kd(i,(e=>xu(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return af(this.auth,async function(e,t,n){const r=Rs(e);Mc(r.auth,t,ru);const i=Od(r.auth,n);return new Ld(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,nf))}async linkWithRedirect(e){return await Zh(jl(this.auth)),Gd(this._delegate,e,nf)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return af(this.auth,Su(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return cf(this.auth,async function(e,t,n){const r=Rs(e),i=await Td(r.auth,t,Rs(n));return new kd(i,(e=>Su(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return af(this.auth,async function(e,t,n){const r=Rs(e);Mc(r.auth,t,ru);const i=Od(r.auth,n);return new Ld(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,nf))}async reauthenticateWithRedirect(e){return await Zh(jl(this.auth)),Wd(this._delegate,e,nf)}sendEmailVerification(e){return Du(this._delegate,e)}async unlink(e){return await yu(this._delegate,e),this}updateEmail(e){return function(e,t){return Fu(Rs(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Fu(Rs(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await bu(Rs(e),t)}(this._delegate,e)}updateProfile(e){return Lu(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Mu(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}uf.USER_MAP=new WeakMap;const df=Fc;class hf{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;df(n,"invalid-api-key",{appName:e.name}),df(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?nf:void 0;this._delegate=t.initialize({options:{persistence:pf(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Tc),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?uf.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Ul(this._delegate,e,t)}applyActionCode(e){return Ru(this._delegate,e)}checkActionCode(e){return Pu(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Hl(Rs(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return af(this._delegate,async function(e,t,n){var r;const i=jl(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Ml(i,o,"signUpPassword");s=hu(i,e)}else s=hu(i,o).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Ml(i,o,"signUpPassword");return hu(i,e)}return Promise.reject(e)}));const a=await s.catch((e=>Promise.reject(e))),c=await fu._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(c.user),c}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Au(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=tu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){df(Qh(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await jl(e)._initializationPromise,Kd(e,t,!1)}(this._delegate,nf);return e?af(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){jl(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=ff(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=ff(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){var r;const i=jl(e),o={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function s(e,t){Fc(t.handleCodeInApp,i,"argument-error"),t&&Nu(i,e,t)}if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Ml(i,o,"getOobCode",!0);s(e,n),await Xl(i,e)}else s(o,n),await Xl(i,o).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await Ml(i,o,"getOobCode",!0);s(e,n),await Xl(i,e)}}))}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){var r;const i=jl(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Ml(i,o,"getOobCode",!0);n&&Nu(i,e,n),await Ql(i,e)}else n&&Nu(i,o,n),await Ql(i,o).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Ml(i,o,"getOobCode",!0);n&&Nu(i,e,n),await Ql(i,e)}}))}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Yh(Object.values($h).includes(t),e,"invalid-persistence-type"),rs()?Yh(t!==$h.SESSION,e,"unsupported-persistence-type"):ts()?Yh(t===$h.NONE,e,"unsupported-persistence-type"):Kh()?Yh(t===$h.NONE||t===$h.LOCAL&&ss(),e,"unsupported-persistence-type"):Yh(t===$h.NONE||Gh(),e,"unsupported-persistence-type")}(this._delegate,e),e){case $h.SESSION:t=ed;break;case $h.LOCAL:t=await hl(md)._isAvailable()?md:Ju;break;case $h.NONE:t=pl;break;default:return Pc("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return af(this._delegate,async function(e){var t;const n=jl(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new fu({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await hu(n,{returnSecureToken:!0}),i=await fu._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return af(this._delegate,Cu(this._delegate,e))}signInWithCustomToken(e){return af(this._delegate,ku(this._delegate,e))}signInWithEmailAndPassword(e,t){return af(this._delegate,function(e,t,n){return Cu(Rs(e),nu.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return af(this._delegate,async function(e,t,n){const r=Rs(e),i=nu.credentialWithLink(t,n||Uc());return Fc(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Cu(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return cf(this._delegate,async function(e,t,n){const r=jl(e),i=await Td(r,t,Rs(n));return new kd(i,(e=>Cu(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return df(Qh(),this._delegate,"operation-not-supported-in-this-environment"),af(this._delegate,async function(e,t,n){const r=jl(e);Mc(e,t,ru);const i=Od(r,n);return new Ld(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,nf))}async signInWithRedirect(e){return df(Qh(),this._delegate,"operation-not-supported-in-this-environment"),await Zh(this._delegate),Hd(this._delegate,e,nf)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Pu(Rs(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function ff(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&uf.getOrCreate(e)),error:t,complete:n}}function pf(e,t){const n=function(e,t){const n=ef();if(!n)return[];const r=ml(Jh,e,t);switch(n.getItem(r)){case $h.NONE:return[pl];case $h.LOCAL:return[md,ed];case $h.SESSION:return[ed];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(md)||n.push(md),"undefined"!==typeof window)for(const r of[Ju,ed])n.includes(r)||n.push(r);return n.includes(pl)||n.push(pl),n}hf.Persistence=$h;class mf{constructor(){this.providerId="phone",this._delegate=new Id(rf(vc.auth()))}static credential(e,t){return Id.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}mf.PHONE_SIGN_IN_METHOD=Id.PHONE_SIGN_IN_METHOD,mf.PROVIDER_ID=Id.PROVIDER_ID;const gf=Fc;class vf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vc.app();var r;gf(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Sd(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var yf;(yf=vc).INTERNAL.registerComponent(new Ps("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new hf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:wc,PASSWORD_RESET:_c,RECOVER_EMAIL:Ec,REVERT_SECOND_FACTOR_ADDITION:Cc,VERIFY_AND_CHANGE_EMAIL:xc,VERIFY_EMAIL:Sc}},EmailAuthProvider:nu,FacebookAuthProvider:su,GithubAuthProvider:cu,GoogleAuthProvider:au,OAuthProvider:ou,SAMLAuthProvider:uu,PhoneAuthProvider:mf,PhoneMultiFactorGenerator:Ch,RecaptchaVerifier:vf,TwitterAuthProvider:du,Auth:hf,AuthCredential:ql,Error:as}).setInstantiationMode("LAZY").setMultipleInstances(!1)),yf.registerVersion("@firebase/auth-compat","0.4.2");var bf,wf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_f={},Ef=Ef||{},Cf=wf||self;function xf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Sf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var kf="closure_uid_"+(1e9*Math.random()>>>0),Tf=0;function If(e,t,n){return e.call.apply(e.bind,arguments)}function Of(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Nf(e,t,n){return(Nf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?If:Of).apply(null,arguments)}function Rf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Pf(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Af(){this.s=this.s,this.o=this.o}Af.prototype.s=!1,Af.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,kf)&&e[kf]||(e[kf]=++Tf))},Af.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Df=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Mf(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Lf(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(xf(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Ff(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ff.prototype.h=function(){this.defaultPrevented=!0};var jf=function(){if(!Cf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Cf.addEventListener("test",(()=>{}),t),Cf.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function Bf(e){return/^[\s\xa0]*$/.test(e)}function Uf(){var e=Cf.navigator;return e&&(e=e.userAgent)?e:""}function zf(e){return-1!=Uf().indexOf(e)}function Vf(e){return Vf[" "](e),e}Vf[" "]=function(){};var qf,Hf,Wf=zf("Opera"),Gf=zf("Trident")||zf("MSIE"),Kf=zf("Edge"),Qf=Kf||Gf,Xf=zf("Gecko")&&!(-1!=Uf().toLowerCase().indexOf("webkit")&&!zf("Edge"))&&!(zf("Trident")||zf("MSIE"))&&!zf("Edge"),$f=-1!=Uf().toLowerCase().indexOf("webkit")&&!zf("Edge");function Yf(){var e=Cf.document;return e?e.documentMode:void 0}e:{var Jf="",Zf=function(){var e=Uf();return Xf?/rv:([^\);]+)(\)|;)/.exec(e):Kf?/Edge\/([\d\.]+)/.exec(e):Gf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$f?/WebKit\/(\S+)/.exec(e):Wf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Zf&&(Jf=Zf?Zf[1]:""),Gf){var ep=Yf();if(null!=ep&&ep>parseFloat(Jf)){qf=String(ep);break e}}qf=Jf}if(Cf.document&&Gf){var tp=Yf();Hf=tp||(parseInt(qf,10)||void 0)}else Hf=void 0;var np=Hf;function rp(e,t){if(Ff.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Xf){e:{try{Vf(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ip[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&rp.$.h.call(this)}}Pf(rp,Ff);var ip={2:"touch",3:"pen",4:"mouse"};rp.prototype.h=function(){rp.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var op="closure_listenable_"+(1e6*Math.random()|0),sp=0;function ap(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++sp,this.fa=this.ia=!1}function cp(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function lp(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function up(e){const t={};for(const n in e)t[n]=e[n];return t}const dp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hp(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<dp.length;t++)n=dp[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function fp(e){this.src=e,this.g={},this.h=0}function pp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Df(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(cp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function mp(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}fp.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=mp(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new ap(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var gp="closure_lm_"+(1e6*Math.random()|0),vp={};function yp(e,t,n,r,i){if(r&&r.once)return wp(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)yp(e,t[o],n,r,i);return null}return n=Tp(n),e&&e[op]?e.O(t,n,Sf(r)?!!r.capture:!!r,i):bp(e,t,n,!1,r,i)}function bp(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Sf(i)?!!i.capture:!!i,a=Sp(e);if(a||(e[gp]=a=new fp(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=xp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)jf||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Cp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function wp(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)wp(e,t[o],n,r,i);return null}return n=Tp(n),e&&e[op]?e.P(t,n,Sf(r)?!!r.capture:!!r,i):bp(e,t,n,!0,r,i)}function _p(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)_p(e,t[o],n,r,i);else r=Sf(r)?!!r.capture:!!r,n=Tp(n),e&&e[op]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=mp(o=e.g[t],n,r,i))&&(cp(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Sp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=mp(t,n,r,i)),(n=-1<e?t[e]:null)&&Ep(n))}function Ep(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[op])pp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Cp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Sp(t))?(pp(n,e),0==n.h&&(n.src=null,t[gp]=null)):cp(e)}}}function Cp(e){return e in vp?vp[e]:vp[e]="on"+e}function xp(e,t){if(e.fa)e=!0;else{t=new rp(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ep(e),e=n.call(r,t)}return e}function Sp(e){return(e=e[gp])instanceof fp?e:null}var kp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tp(e){return"function"===typeof e?e:(e[kp]||(e[kp]=function(t){return e.handleEvent(t)}),e[kp])}function Ip(){Af.call(this),this.i=new fp(this),this.S=this,this.J=null}function Op(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Ff(t,e);else if(t instanceof Ff)t.target=t.target||e;else{var i=t;hp(t=new Ff(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Np(s,r,!0,t)&&i}if(i=Np(s=t.g=e,r,!0,t)&&i,i=Np(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Np(s=t.g=n[o],r,!1,t)&&i}function Np(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&pp(e.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Pf(Ip,Af),Ip.prototype[op]=!0,Ip.prototype.removeEventListener=function(e,t,n,r){_p(this,e,t,n,r)},Ip.prototype.N=function(){if(Ip.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)cp(n[r]);delete t.g[e],t.h--}}this.J=null},Ip.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ip.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Rp=Cf.JSON.stringify;function Pp(){var e=Bp;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ap=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Dp),(e=>e.reset()));class Dp{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Mp(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Lp(e){Cf.setTimeout((()=>{throw e}),0)}let Fp,jp=!1,Bp=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ap.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Up=()=>{const e=Cf.Promise.resolve(void 0);Fp=()=>{e.then(zp)}};var zp=()=>{for(var e;e=Pp();){try{e.h.call(e.g)}catch(n){Lp(n)}var t=Ap;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}jp=!1};function Vp(e,t){Ip.call(this),this.h=e||1,this.g=t||Cf,this.j=Nf(this.qb,this),this.l=Date.now()}function qp(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Hp(e,t,n){if("function"===typeof e)n&&(e=Nf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Nf(e.handleEvent,e)}return 2147483647<Number(t)?-1:Cf.setTimeout(e,t||0)}function Wp(e){e.g=Hp((()=>{e.g=null,e.i&&(e.i=!1,Wp(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Pf(Vp,Ip),(bf=Vp.prototype).ga=!1,bf.T=null,bf.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Op(this,"tick"),this.ga&&(qp(this),this.start()))}},bf.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bf.N=function(){Vp.$.N.call(this),qp(this),delete this.g};class Gp extends Af{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Wp(this)}N(){super.N(),this.g&&(Cf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kp(e){Af.call(this),this.h=e,this.g={}}Pf(Kp,Af);var Qp=[];function Xp(e,t,n,r){Array.isArray(n)||(n&&(Qp[0]=n.toString()),n=Qp);for(var i=0;i<n.length;i++){var o=yp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function $p(e){lp(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ep(e)}),e),e.g={}}function Yp(){this.g=!0}function Jp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Rp(n)}catch(QK){return t}}(e,n)+(r?" "+r:"")}))}Kp.prototype.N=function(){Kp.$.N.call(this),$p(this)},Kp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yp.prototype.Ea=function(){this.g=!1},Yp.prototype.info=function(){};var Zp={},em=null;function tm(){return em=em||new Ip}function nm(e){Ff.call(this,Zp.Ta,e)}function rm(e){const t=tm();Op(t,new nm(t))}function im(e,t){Ff.call(this,Zp.STAT_EVENT,e),this.stat=t}function om(e){const t=tm();Op(t,new im(t,e))}function sm(e,t){Ff.call(this,Zp.Ua,e),this.size=t}function am(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Cf.setTimeout((function(){e()}),t)}Zp.Ta="serverreachability",Pf(nm,Ff),Zp.STAT_EVENT="statevent",Pf(im,Ff),Zp.Ua="timingevent",Pf(sm,Ff);var cm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lm={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function um(){}function dm(e){return e.h||(e.h=e.i())}function hm(){}um.prototype.h=null;var fm,pm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mm(){Ff.call(this,"d")}function gm(){Ff.call(this,"c")}function vm(){}function ym(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Kp(this),this.P=wm,e=Qf?125:void 0,this.V=new Vp(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bm}function bm(){this.i=null,this.g="",this.h=!1}Pf(mm,Ff),Pf(gm,Ff),Pf(vm,um),vm.prototype.g=function(){return new XMLHttpRequest},vm.prototype.i=function(){return{}},fm=new vm;var wm=45e3,_m={},Em={};function Cm(e,t,n){e.L=1,e.v=Vm(Fm(t)),e.s=n,e.S=!0,xm(e,null)}function xm(e,t){e.G=Date.now(),Im(e),e.A=Fm(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),tg(n.i,"t",r),e.C=0,n=e.l.J,e.h=new bm,e.g=nv(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Gp(Nf(e.Pa,e,e.g),e.O)),Xp(e.U,e.g,"readystatechange",e.nb),t=e.I?up(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),rm(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Sm(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function km(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Tm(e,n),r==Em){4==t&&(e.o=4,om(14),i=!1),Jp(e.j,e.m,null,"[Incomplete Response]");break}if(r==_m){e.o=4,om(15),Jp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Jp(e.j,e.m,r,null),Am(e,r)}Sm(e)&&r!=Em&&r!=_m&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,om(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qg(t),t.M=!0,om(11))):(Jp(e.j,e.m,n,"[Invalid Chunked Response]"),Pm(e),Rm(e))}function Tm(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Em:(n=Number(t.substring(n,r)),isNaN(n)?_m:(r+=1)+n>t.length?Em:(t=t.slice(r,r+n),e.C=r+n,t))}function Im(e){e.Y=Date.now()+e.P,Om(e,e.P)}function Om(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=am(Nf(e.lb,e),t)}function Nm(e){e.B&&(Cf.clearTimeout(e.B),e.B=null)}function Rm(e){0==e.l.H||e.J||Yg(e.l,e)}function Pm(e){Nm(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,qp(e.V),$p(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Am(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||cg(n.i,e)))if(!e.K&&cg(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;$g(n),Ug(n)}Kg(n),om(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=am(Nf(n.ib,n),6e3));if(1>=ag(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else Zg(n,11)}else if((e.K||n.g==e)&&$g(n),!Bf(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(lg(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,zm(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=tv(r,r.J?r.pa:null,r.Y),s.K){ug(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(Nm(a),Im(a)),r.g=s}else Gg(r);0<n.j.length&&Vg(n)}else"stop"!=l[0]&&"close"!=l[0]||Zg(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Zg(n,7):Bg(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}rm()}catch(l){}}function Dm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(xf(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(xf(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(xf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(bf=ym.prototype).setTimeout=function(e){this.P=e},bf.nb=function(e){e=e.target;const t=this.M;t&&3==Ag(e)?t.l():this.Pa(e)},bf.Pa=function(e){try{if(e==this.g)e:{const u=Ag(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Qf||this.g&&(this.h.h||this.g.ja()||Dg(this.g)))){this.J||4!=u||7==t||rm(),Nm(this);var n=this.g.da();this.ca=n;t:if(Sm(this)){var r=Dg(this.g);e="";var i=r.length,o=4==Ag(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Pm(this),Rm(this);var s="";break t}this.h.i=new Cf.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,om(12),Pm(this),Rm(this);break e}Jp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Am(this,n)}this.S?(km(this,u,s),Qf&&this.i&&3==u&&(Xp(this.U,this.V,"tick",this.mb),this.V.start())):(Jp(this.j,this.m,s,null),Am(this,s)),4==u&&Pm(this),this.i&&!this.J&&(4==u?Yg(this.l,this):(this.i=!1,Im(this)))}else(function(e){const t={};e=(e.g&&2<=Ag(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Bf(e[r]))continue;var n=Mp(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,om(12)):(this.o=0,om(13)),Pm(this),Rm(this)}}}catch(u){}},bf.mb=function(){if(this.g){var e=Ag(this.g),t=this.g.ja();this.C<t.length&&(Nm(this),km(this,e,t),this.i&&4!=e&&Im(this))}},bf.cancel=function(){this.J=!0,Pm(this)},bf.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(rm(),om(17)),Pm(this),this.o=2,Rm(this)):Om(this,this.Y-e)};var Mm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lm(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Lm){this.h=e.h,jm(this,e.j),this.s=e.s,this.g=e.g,Bm(this,e.m),this.l=e.l;var t=e.i,n=new Ym;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Um(this,n),this.o=e.o}else e&&(t=String(e).match(Mm))?(this.h=!1,jm(this,t[1]||"",!0),this.s=qm(t[2]||""),this.g=qm(t[3]||"",!0),Bm(this,t[4]),this.l=qm(t[5]||"",!0),Um(this,t[6]||"",!0),this.o=qm(t[7]||"")):(this.h=!1,this.i=new Ym(null,this.h))}function Fm(e){return new Lm(e)}function jm(e,t,n){e.j=n?qm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Bm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Um(e,t,n){t instanceof Ym?(e.i=t,function(e,t){t&&!e.j&&(Jm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zm(this,t),tg(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Hm(t,Xm)),e.i=new Ym(t,e.h))}function zm(e,t,n){e.i.set(t,n)}function Vm(e){return zm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Wm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Lm.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Hm(t,Gm,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Hm(t,Gm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Hm(n,"/"==n.charAt(0)?Qm:Km,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Hm(n,$m)),e.join("")};var Gm=/[#\/\?@]/g,Km=/[#\?:]/g,Qm=/[#\?]/g,Xm=/[#\?@]/g,$m=/#/g;function Ym(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Jm(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zm(e,t){Jm(e),t=ng(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function eg(e,t){return Jm(e),t=ng(e,t),e.g.has(t)}function tg(e,t,n){Zm(e,t),0<n.length&&(e.i=null,e.g.set(ng(e,t),Mf(n)),e.h+=n.length)}function ng(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(bf=Ym.prototype).add=function(e,t){Jm(this),this.i=null,e=ng(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},bf.forEach=function(e,t){Jm(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},bf.ta=function(){Jm(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},bf.Z=function(e){Jm(this);let t=[];if("string"===typeof e)eg(this,e)&&(t=t.concat(this.g.get(ng(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},bf.set=function(e,t){return Jm(this),this.i=null,eg(this,e=ng(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},bf.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},bf.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var rg=class{constructor(e,t){this.g=e,this.map=t}};function ig(e){this.l=e||og,Cf.PerformanceNavigationTiming?e=0<(e=Cf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Cf.g&&Cf.g.Ka&&Cf.g.Ka()&&Cf.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var og=10;function sg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ag(e){return e.h?1:e.g?e.g.size:0}function cg(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function lg(e,t){e.g?e.g.add(t):e.h=t}function ug(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function dg(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Mf(e.i)}ig.prototype.cancel=function(){if(this.i=dg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var hg,fg=class{stringify(e){return Cf.JSON.stringify(e,void 0)}parse(e){return Cf.JSON.parse(e,void 0)}};function pg(){this.g=new fg}function mg(e,t,n){const r=n||"";try{Dm(e,(function(e,n){let i=e;Sf(e)&&(i=Rp(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(KK){throw t.push(r+"type="+encodeURIComponent("_badmap")),KK}}function gg(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function vg(e){this.l=e.fc||null,this.j=e.ob||!1}function yg(e,t){Ip.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=bg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pf(vg,um),vg.prototype.g=function(){return new yg(this.l,this.j)},vg.prototype.i=(hg={},function(){return hg}),Pf(yg,Ip);var bg=0;function wg(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function _g(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Eg(e)}function Eg(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(bf=yg.prototype).open=function(e,t){if(this.readyState!=bg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Eg(this)},bf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Cf).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},bf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_g(this)),this.readyState=bg},bf.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Eg(this)),this.g&&(this.readyState=3,Eg(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Cf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wg(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},bf.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_g(this):Eg(this),3==this.readyState&&wg(this)}},bf.Za=function(e){this.g&&(this.response=this.responseText=e,_g(this))},bf.Ya=function(e){this.g&&(this.response=e,_g(this))},bf.ka=function(){this.g&&_g(this)},bf.setRequestHeader=function(e,t){this.v.append(e,t)},bf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},bf.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(yg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Cg=Cf.JSON.parse;function xg(e){Ip.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Sg,this.L=this.M=!1}Pf(xg,Ip);var Sg="",kg=/^https?$/i,Tg=["POST","PUT"];function Ig(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Og(e),Rg(e)}function Og(e){e.F||(e.F=!0,Op(e,"complete"),Op(e,"error"))}function Ng(e){if(e.h&&"undefined"!=typeof Ef&&(!e.C[1]||4!=Ag(e)||2!=e.da()))if(e.v&&4==Ag(e))Hp(e.La,0,e);else if(Op(e,"readystatechange"),4==Ag(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(Mm)[1]||null;!i&&Cf.self&&Cf.self.location&&(i=Cf.self.location.protocol.slice(0,-1)),r=!kg.test(i?i.toLowerCase():"")}n=r}if(n)Op(e,"complete"),Op(e,"success");else{e.m=6;try{var o=2<Ag(e)?e.g.statusText:""}catch(QK){o=""}e.j=o+" ["+e.da()+"]",Og(e)}}finally{Rg(e)}}}function Rg(e,t){if(e.g){Pg(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Op(e,"ready");try{n.onreadystatechange=r}catch(KK){}}}function Pg(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Cf.clearTimeout(e.A),e.A=null)}function Ag(e){return e.g?e.g.readyState:0}function Dg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Sg:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Bv){return null}}function Mg(e){let t="";return lp(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mg(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):zm(e,t,n))}function Fg(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function jg(e){this.Ga=0,this.j=[],this.l=new Yp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fg("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fg("baseRetryDelayMs",5e3,e),this.hb=Fg("retryDelaySeedMs",1e4,e),this.eb=Fg("forwardChannelMaxRetries",2,e),this.xa=Fg("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ig(e&&e.concurrentRequestLimit),this.Ja=new pg,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Bg(e){if(zg(e),3==e.H){var t=e.W++,n=Fm(e.I);if(zm(n,"SID",e.K),zm(n,"RID",t),zm(n,"TYPE","terminate"),Hg(e,n),(t=new ym(e,e.l,t)).L=2,t.v=Vm(Fm(n)),n=!1,Cf.navigator&&Cf.navigator.sendBeacon)try{n=Cf.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Cf.Image&&((new Image).src=t.v,n=!0),n||(t.g=nv(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Im(t)}ev(e)}function Ug(e){e.g&&(Qg(e),e.g.cancel(),e.g=null)}function zg(e){Ug(e),e.u&&(Cf.clearTimeout(e.u),e.u=null),$g(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Cf.clearTimeout(e.m),e.m=null)}function Vg(e){if(!sg(e.i)&&!e.m){e.m=!0;var t=e.Na;Fp||Up(),jp||(Fp(),jp=!0),Bp.add(t,e),e.C=0}}function qg(e,t){var n;n=t?t.m:e.W++;const r=Fm(e.I);zm(r,"SID",e.K),zm(r,"RID",n),zm(r,"AID",e.V),Hg(e,r),e.o&&e.s&&Lg(r,e.o,e.s),n=new ym(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Wg(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),lg(e.i,n),Cm(n,r,t)}function Hg(e,t){e.na&&lp(e.na,(function(e,n){zm(t,n,e)})),e.h&&Dm({},(function(e,n){zm(t,n,e)}))}function Wg(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Nf(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{mg(a,e,"req"+n+"_")}catch($v){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Gg(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Fp||Up(),jp||(Fp(),jp=!0),Bp.add(t,e),e.A=0}}function Kg(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=am(Nf(e.Ma,e),Jg(e,e.A)),e.A++,!0)}function Qg(e){null!=e.B&&(Cf.clearTimeout(e.B),e.B=null)}function Xg(e){e.g=new ym(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Fm(e.wa);zm(t,"RID","rpc"),zm(t,"SID",e.K),zm(t,"AID",e.V),zm(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&zm(t,"TO",e.qa),zm(t,"TYPE","xmlhttp"),Hg(e,t),e.o&&e.s&&Lg(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Vm(Fm(t)),n.s=null,n.S=!0,xm(n,e)}function $g(e){null!=e.v&&(Cf.clearTimeout(e.v),e.v=null)}function Yg(e,t){var n=null;if(e.g==t){$g(e),Qg(e),e.g=null;var r=2}else{if(!cg(e.i,t))return;n=t.F,ug(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Op(r=tm(),new sm(r,n)),Vg(e)}else Gg(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(ag(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=am(Nf(e.Na,e,t),Jg(e,e.C)),e.C++,!0))}(e,t)||2==r&&Kg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Zg(e,5);break;case 4:Zg(e,10);break;case 3:Zg(e,6);break;default:Zg(e,2)}}function Jg(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Zg(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Nf(e.pb,e);n||(n=new Lm("//www.google.com/images/cleardot.gif"),Cf.location&&"http"==Cf.location.protocol||jm(n,"https"),Vm(n)),function(e,t){const n=new Yp;if(Cf.Image){const r=new Image;r.onload=Rf(gg,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Rf(gg,n,r,"TestLoadImage: error",!1,t),r.onabort=Rf(gg,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Rf(gg,n,r,"TestLoadImage: timeout",!1,t),Cf.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else om(2);e.H=0,e.h&&e.h.za(t),ev(e),zg(e)}function ev(e){if(e.H=0,e.ma=[],e.h){const t=dg(e.i);0==t.length&&0==e.j.length||(Lf(e.ma,t),Lf(e.ma,e.j),e.i.i.length=0,Mf(e.j),e.j.length=0),e.h.ya()}}function tv(e,t,n){var r=n instanceof Lm?Fm(n):new Lm(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Bm(r,r.m);else{var i=Cf.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Lm(null);r&&jm(o,r),t&&(o.g=t),i&&Bm(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&zm(r,n,t),zm(r,"VER",e.ra),Hg(e,r),r}function nv(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new xg(new vg({ob:!0})):new xg(e.va)).Oa(e.J),t}function rv(){}function iv(){if(Gf&&!(10<=Number(np)))throw Error("Environmental error: no available transport.")}function ov(e,t){Ip.call(this),this.g=new jg(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Bf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Bf(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new cv(this)}function sv(e){mm.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function av(){gm.call(this),this.status=1}function cv(e){this.g=e}function lv(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function uv(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function dv(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(bf=xg.prototype).Oa=function(e){this.M=e},bf.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fm.g(),this.C=this.u?dm(this.u):dm(fm),this.g.onreadystatechange=Nf(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void Ig(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Cf.FormData&&e instanceof Cf.FormData,!(0<=Df(Tg,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Pg(this),0<this.B&&((this.L=function(e){return Gf&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nf(this.ua,this)):this.A=Hp(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Ig(this,o)}},bf.ua=function(){"undefined"!=typeof Ef&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Op(this,"timeout"),this.abort(8))},bf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Op(this,"complete"),Op(this,"abort"),Rg(this))},bf.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rg(this,!0)),xg.$.N.call(this)},bf.La=function(){this.s||(this.G||this.v||this.l?Ng(this):this.kb())},bf.kb=function(){Ng(this)},bf.isActive=function(){return!!this.g},bf.da=function(){try{return 2<Ag(this)?this.g.status:-1}catch(hg){return-1}},bf.ja=function(){try{return this.g?this.g.responseText:""}catch(hg){return""}},bf.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Cg(t)}},bf.Ia=function(){return this.m},bf.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(bf=jg.prototype).ra=8,bf.H=1,bf.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new ym(this,this.l,e);let o=this.s;if(this.U&&(o?(o=up(o),hp(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Wg(this,i,t),zm(n=Fm(this.I),"RID",e),zm(n,"CVER",22),this.F&&zm(n,"X-HTTP-Session-Id",this.F),Hg(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Mg(o)))+"&"+t:this.o&&Lg(n,this.o,o)),lg(this.i,i),this.bb&&zm(n,"TYPE","init"),this.P?(zm(n,"$req",t),zm(n,"SID","null"),i.aa=!0,Cm(i,n,null)):Cm(i,n,t),this.H=2}}else 3==this.H&&(e?qg(this,e):0==this.j.length||sg(this.i)||qg(this))},bf.Ma=function(){if(this.u=null,Xg(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=am(Nf(this.jb,this),e)}},bf.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,om(10),Ug(this),Xg(this))},bf.ib=function(){null!=this.v&&(this.v=null,Ug(this),Kg(this),om(19))},bf.pb=function(e){e?(this.l.info("Successfully pinged google.com"),om(2)):(this.l.info("Failed to ping google.com"),om(1))},bf.isActive=function(){return!!this.h&&this.h.isActive(this)},(bf=rv.prototype).Ba=function(){},bf.Aa=function(){},bf.za=function(){},bf.ya=function(){},bf.isActive=function(){return!0},bf.Va=function(){},iv.prototype.g=function(e,t){return new ov(e,t)},Pf(ov,Ip),ov.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;om(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=tv(e,null,e.Y),Vg(e)},ov.prototype.close=function(){Bg(this.g)},ov.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Rp(e),e=n);t.j.push(new rg(t.fb++,e)),3==t.H&&Vg(t)},ov.prototype.N=function(){this.g.h=null,delete this.j,Bg(this.g),delete this.g,ov.$.N.call(this)},Pf(sv,mm),Pf(av,gm),Pf(cv,rv),cv.prototype.Ba=function(){Op(this.g,"a")},cv.prototype.Aa=function(e){Op(this.g,new sv(e))},cv.prototype.za=function(e){Op(this.g,new av)},cv.prototype.ya=function(){Op(this.g,"b")},Pf(lv,(function(){this.blockSize=-1})),lv.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},lv.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)uv(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){uv(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){uv(this,r),i=0;break}}this.h=i,this.i+=t},lv.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var hv={};function fv(e){return-128<=e&&128>e?function(e,t){var n=hv;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new dv([0|e],0>e?-1:0)})):new dv([0|e],0>e?-1:0)}function pv(e){if(isNaN(e)||!isFinite(e))return gv;if(0>e)return _v(pv(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=mv;return new dv(t,0)}var mv=4294967296,gv=fv(0),vv=fv(1),yv=fv(16777216);function bv(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function wv(e){return-1==e.h}function _v(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new dv(n,~e.h).add(vv)}function Ev(e,t){return e.add(_v(t))}function Cv(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function xv(e,t){this.g=e,this.h=t}function Sv(e,t){if(bv(t))throw Error("division by zero");if(bv(e))return new xv(gv,gv);if(wv(e))return t=Sv(_v(e),t),new xv(_v(t.g),_v(t.h));if(wv(t))return t=Sv(e,_v(t)),new xv(_v(t.g),t.h);if(30<e.g.length){if(wv(e)||wv(t))throw Error("slowDivide_ only works with positive integers.");for(var n=vv,r=t;0>=r.X(e);)n=kv(n),r=kv(r);var i=Tv(n,1),o=Tv(r,1);for(r=Tv(r,2),n=Tv(n,2);!bv(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Tv(r,1),n=Tv(n,1)}return t=Ev(e,i.R(t)),new xv(i,t)}for(i=gv;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=pv(n)).R(t);wv(s)||0<s.X(e);)s=(o=pv(n-=r)).R(t);bv(o)&&(o=vv),i=i.add(o),e=Ev(e,s)}return new xv(i,e)}function kv(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new dv(n,e.h)}function Tv(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new dv(i,e.h)}(bf=dv.prototype).ea=function(){if(wv(this))return-_v(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:mv+r)*t,t*=mv}return e},bf.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(bv(this))return"0";if(wv(this))return"-"+_v(this).toString(e);for(var t=pv(Math.pow(e,6)),n=this,r="";;){var i=Sv(n,t).g,o=((0<(n=Ev(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(bv(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},bf.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},bf.X=function(e){return wv(e=Ev(this,e))?-1:bv(e)?0:1},bf.abs=function(){return wv(this)?_v(this):this},bf.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new dv(n,-2147483648&n[n.length-1]?-1:0)},bf.R=function(e){if(bv(this)||bv(e))return gv;if(wv(this))return wv(e)?_v(this).R(_v(e)):_v(_v(this).R(e));if(wv(e))return _v(this.R(_v(e)));if(0>this.X(yv)&&0>e.X(yv))return pv(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=s*c,Cv(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Cv(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Cv(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Cv(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new dv(n,0)},bf.gb=function(e){return Sv(this,e).h},bf.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new dv(n,this.h&e.h)},bf.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new dv(n,this.h|e.h)},bf.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new dv(n,this.h^e.h)},iv.prototype.createWebChannel=iv.prototype.g,ov.prototype.send=ov.prototype.u,ov.prototype.open=ov.prototype.m,ov.prototype.close=ov.prototype.close,cm.NO_ERROR=0,cm.TIMEOUT=8,cm.HTTP_ERROR=6,lm.COMPLETE="complete",hm.EventType=pm,pm.OPEN="a",pm.CLOSE="b",pm.ERROR="c",pm.MESSAGE="d",Ip.prototype.listen=Ip.prototype.O,xg.prototype.listenOnce=xg.prototype.P,xg.prototype.getLastError=xg.prototype.Sa,xg.prototype.getLastErrorCode=xg.prototype.Ia,xg.prototype.getStatus=xg.prototype.da,xg.prototype.getResponseJson=xg.prototype.Wa,xg.prototype.getResponseText=xg.prototype.ja,xg.prototype.send=xg.prototype.ha,xg.prototype.setWithCredentials=xg.prototype.Oa,lv.prototype.digest=lv.prototype.l,lv.prototype.reset=lv.prototype.reset,lv.prototype.update=lv.prototype.j,dv.prototype.add=dv.prototype.add,dv.prototype.multiply=dv.prototype.R,dv.prototype.modulo=dv.prototype.gb,dv.prototype.compare=dv.prototype.X,dv.prototype.toNumber=dv.prototype.ea,dv.prototype.toString=dv.prototype.toString,dv.prototype.getBits=dv.prototype.D,dv.fromNumber=pv,dv.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return _v(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=pv(Math.pow(n,8)),i=gv,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=pv(Math.pow(n,s)),i=i.R(s).add(pv(a))):i=(i=i.R(r)).add(pv(a))}return i};var Iv=_f.createWebChannelTransport=function(){return new iv},Ov=_f.getStatEventTarget=function(){return tm()},Nv=_f.ErrorCode=cm,Rv=_f.EventType=lm,Pv=_f.Event=Zp,Av=_f.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Dv=_f.FetchXmlHttpFactory=vg,Mv=_f.WebChannel=hm,Lv=_f.XhrIo=xg,Fv=_f.Md5=lv,jv=_f.Integer=dv;const Bv="@firebase/firestore";class Uv{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Uv.UNAUTHENTICATED=new Uv(null),Uv.GOOGLE_CREDENTIALS=new Uv("google-credentials-uid"),Uv.FIRST_PARTY=new Uv("first-party-uid"),Uv.MOCK_USER=new Uv("mock-user");let zv="9.23.0";const Vv=new qs("@firebase/firestore");function qv(){return Vv.logLevel}function Hv(e){if(Vv.logLevel<=js.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Kv);Vv.debug("Firestore (".concat(zv,"): ").concat(e),...i)}}function Wv(e){if(Vv.logLevel<=js.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Kv);Vv.error("Firestore (".concat(zv,"): ").concat(e),...i)}}function Gv(e){if(Vv.logLevel<=js.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Kv);Vv.warn("Firestore (".concat(zv,"): ").concat(e),...i)}}function Kv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Qv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(zv,") INTERNAL ASSERTION FAILED: ")+e;throw Wv(t),new Error(t)}function Xv(e,t){e||Qv()}function $v(e,t){return e}const Yv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jv extends as{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Zv{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ey{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class ty{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Uv.UNAUTHENTICATED)))}shutdown(){}}class ny{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ry{constructor(e){this.t=e,this.currentUser=Uv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Zv;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Zv,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Hv("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Hv("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Zv)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Hv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Xv("string"==typeof t.accessToken),new ey(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xv(null===e||"string"==typeof e),new Uv(e)}}class iy{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Uv.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class oy{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new iy(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Uv.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ay{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Hv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Hv("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Hv("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Hv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Xv("string"==typeof e.token),this.T=e.token,new sy(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function cy(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ly{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=cy(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function uy(e,t){return e<t?-1:e>t?1:0}function dy(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function hy(e){return e+"\0"}class fy{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Jv(Yv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Jv(Yv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Jv(Yv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Jv(Yv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fy.fromMillis(Date.now())}static fromDate(e){return fy.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new fy(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?uy(this.nanoseconds,e.nanoseconds):uy(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class py{constructor(e){this.timestamp=e}static fromTimestamp(e){return new py(e)}static min(){return new py(new fy(0,0))}static max(){return new py(new fy(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class my{constructor(e,t,n){void 0===t?t=0:t>e.length&&Qv(),void 0===n?n=e.length-t:n>e.length-t&&Qv(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===my.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof my?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gy extends my{construct(e,t,n){return new gy(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Jv(Yv.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new gy(e)}static emptyPath(){return new gy([])}}const vy=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yy extends my{construct(e,t,n){return new yy(e,t,n)}static isValidIdentifier(e){return vy.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yy.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yy(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Jv(Yv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Jv(Yv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Jv(Yv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Jv(Yv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yy(t)}static emptyPath(){return new yy([])}}class by{constructor(e){this.path=e}static fromPath(e){return new by(gy.fromString(e))}static fromName(e){return new by(gy.fromString(e).popFirst(5))}static empty(){return new by(gy.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gy.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gy.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new by(new gy(e.slice()))}}class wy{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function _y(e){return e.fields.find((e=>2===e.kind))}function Ey(e){return e.fields.filter((e=>2!==e.kind))}wy.UNKNOWN_ID=-1;class Cy{constructor(e,t){this.fieldPath=e,this.kind=t}}class xy{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new xy(0,Ty.min())}}function Sy(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=py.fromTimestamp(1e9===r?new fy(n+1,0):new fy(n,r));return new Ty(i,by.empty(),t)}function ky(e){return new Ty(e.readTime,e.key,-1)}class Ty{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ty(py.min(),by.empty(),-1)}static max(){return new Ty(py.max(),by.empty(),-1)}}function Iy(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=by.comparator(e.documentKey,t.documentKey),0!==n?n:uy(e.largestBatchId,t.largestBatchId))}const Oy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ny{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ry(e){if(e.code!==Yv.FAILED_PRECONDITION||e.message!==Oy)throw e;Hv("LocalStore","Unexpectedly lost primary lease")}class Py{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Py(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Py?t:Py.resolve(t)}catch(e){return Py.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Py.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Py.reject(t)}static resolve(e){return new Py(((t,n)=>{t(e)}))}static reject(e){return new Py(((t,n)=>{n(e)}))}static waitFor(e){return new Py(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Py.resolve(!1);for(const n of e)t=t.next((e=>e?Py.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Py(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{o[c]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Py(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Ay{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Zv,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ly(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=zy(t.target.error);this.v.reject(new Ly(e,n))}}static open(e,t,n,r){try{return new Ay(t,e.transaction(r,n))}catch(e){throw new Ly(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Hv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jy(t)}}class Dy{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===Dy.S(Zo())&&Wv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Hv("SimpleDb","Removing database:",e),By(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ss())return!1;if(Dy.C())return!0;const e=Zo(),t=Dy.S(e),n=0<t&&t<10,r=Dy.N(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(Hv("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Ly(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Jv(Yv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Jv(Yv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Ly(e,r))},r.onupgradeneeded=e=>{Hv("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Hv("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.$(e);const t=Ay.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),Py.reject(e)))).toPromise();return o.catch((()=>{})),await t.R,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Hv("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class My{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return By(this.L.delete())}}class Ly extends Jv{constructor(e,t){super(Yv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Fy(e){return"IndexedDbTransactionError"===e.name}class jy{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Hv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Hv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),By(n)}add(e){return Hv("SimpleDb","ADD",this.store.name,e,e),By(this.store.add(e))}get(e){return By(this.store.get(e)).next((t=>(void 0===t&&(t=null),Hv("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Hv("SimpleDb","DELETE",this.store.name,e),By(this.store.delete(e))}count(){return Hv("SimpleDb","COUNT",this.store.name),By(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Py(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Py(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){Hv("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new Py(((n,r)=>{t.onerror=e=>{const t=zy(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new Py(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new My(i),s=t(i.primaryKey,i.value,o);if(s instanceof Py){const e=s.catch((e=>(o.done(),Py.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>Py.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function By(e){return new Py(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=zy(e.target.error);n(t)}}))}let Uy=!1;function zy(e){const t=Dy.S(Zo());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Jv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Uy||(Uy=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Vy{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){Hv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Hv("IndexBackiller","Documents written: ".concat(await this.tt.nt()))}catch(e){Fy(e)?Hv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Ry(e)}await this.et(6e4)}))}}class qy{constructor(e,t){this.localStore=e,this.persistence=t}async nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let r=t,i=!0;return Py.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Hv("IndexBackiller","Processing collection: ".concat(t)),this.it(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.rt(r,n))).next((n=>(Hv("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=ky(t);Iy(r,n)>0&&(n=r)})),new Ty(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Hy{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Wy(e){return null==e}function Gy(e){return 0===e&&1/e==-1/0}function Ky(e){return"number"==typeof e&&Number.isInteger(e)&&!Gy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Qy(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=$y(t)),t=Xy(e.get(n),t);return $y(t)}function Xy(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function $y(e){return e+"\x01\x01"}function Yy(e){const t=e.length;if(Xv(t>=2),2===t)return Xv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),gy.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&Qv(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:Qv()}o=t+2}return new gy(r)}Hy.ct=-1;const Jy=["userId","batchId"];function Zy(e,t){return[e,Qy(t)]}function eb(e,t,n){return[e,Qy(t),n]}const tb={},nb=["prefixPath","collectionGroup","readTime","documentId"],rb=["prefixPath","collectionGroup","documentId"],ib=["collectionGroup","readTime","prefixPath","documentId"],ob=["canonicalId","targetId"],sb=["targetId","path"],ab=["path","targetId"],cb=["collectionId","parent"],lb=["indexId","uid"],ub=["uid","sequenceNumber"],db=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hb=["indexId","uid","orderedDocumentKey"],fb=["userId","collectionPath","documentId"],pb=["userId","collectionPath","largestBatchId"],mb=["userId","collectionGroup","largestBatchId"],gb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vb=[...gb,"documentOverlays"],yb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bb=yb,wb=[...bb,"indexConfiguration","indexState","indexEntries"];class _b extends Ny{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Eb(e,t){const n=$v(e);return Dy.M(n.ht,t)}function Cb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xb(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class kb{constructor(e,t){this.comparator=e,this.root=t||Ib.EMPTY}insert(e,t){return new kb(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ib.BLACK,null,null))}remove(e){return new kb(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ib.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tb(this.root,e,this.comparator,!0)}}class Tb{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ib{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ib.RED,this.left=null!=r?r:Ib.EMPTY,this.right=null!=i?i:Ib.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ib(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ib.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ib.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ib.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ib.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qv();if(this.right.isRed())throw Qv();const e=this.left.check();if(e!==this.right.check())throw Qv();return e+(this.isRed()?0:1)}}Ib.EMPTY=null,Ib.RED=!0,Ib.BLACK=!1,Ib.EMPTY=new class{constructor(){this.size=0}get key(){throw Qv()}get value(){throw Qv()}get color(){throw Qv()}get left(){throw Qv()}get right(){throw Qv()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ib(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ob{constructor(e){this.comparator=e,this.data=new kb(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nb(this.data.getIterator())}getIteratorFrom(e){return new Nb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ob))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ob(this.comparator);return t.data=e,t}}class Nb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Rb(e){return e.hasNext()?e.getNext():void 0}class Pb{constructor(e){this.fields=e,e.sort(yy.comparator)}static empty(){return new Pb([])}unionWith(e){let t=new Ob(yy.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Pb(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dy(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ab extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Db{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ab("Invalid base64 string: "+e):e}}(e);return new Db(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Db(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return uy(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Db.EMPTY_BYTE_STRING=new Db("");const Mb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lb(e){if(Xv(!!e),"string"==typeof e){let t=0;const n=Mb.exec(e);if(Xv(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Fb(e.seconds),nanos:Fb(e.nanos)}}function Fb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function jb(e){return"string"==typeof e?Db.fromBase64String(e):Db.fromUint8Array(e)}function Bb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ub(e){const t=e.mapValue.fields.__previous_value__;return Bb(t)?Ub(t):t}function zb(e){const t=Lb(e.mapValue.fields.__local_write_time__.timestampValue);return new fy(t.seconds,t.nanos)}class Vb{constructor(e,t,n,r,i,o,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=c}}class qb{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new qb("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qb&&e.projectId===this.projectId&&e.database===this.database}}const Hb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wb={nullValue:"NULL_VALUE"};function Gb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bb(e)?4:sw(e)?9007199254740991:10:Qv()}function Kb(e,t){if(e===t)return!0;const n=Gb(e);if(n!==Gb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zb(e).isEqual(zb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Lb(e.timestampValue),r=Lb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return jb(e.bytesValue).isEqual(jb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Fb(e.geoPointValue.latitude)===Fb(t.geoPointValue.latitude)&&Fb(e.geoPointValue.longitude)===Fb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Fb(e.integerValue)===Fb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Fb(e.doubleValue),r=Fb(t.doubleValue);return n===r?Gy(n)===Gy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return dy(e.arrayValue.values||[],t.arrayValue.values||[],Kb);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Cb(n)!==Cb(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Kb(n[i],r[i])))return!1;return!0}(e,t);default:return Qv()}}function Qb(e,t){return void 0!==(e.values||[]).find((e=>Kb(e,t)))}function Xb(e,t){if(e===t)return 0;const n=Gb(e),r=Gb(t);if(n!==r)return uy(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return uy(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Fb(e.integerValue||e.doubleValue),r=Fb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $b(e.timestampValue,t.timestampValue);case 4:return $b(zb(e),zb(t));case 5:return uy(e.stringValue,t.stringValue);case 6:return function(e,t){const n=jb(e),r=jb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=uy(n[i],r[i]);if(0!==e)return e}return uy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=uy(Fb(e.latitude),Fb(t.latitude));return 0!==n?n:uy(Fb(e.longitude),Fb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Xb(n[i],r[i]);if(e)return e}return uy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Hb.mapValue&&t===Hb.mapValue)return 0;if(e===Hb.mapValue)return 1;if(t===Hb.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=uy(r[s],o[s]);if(0!==e)return e;const t=Xb(n[r[s]],i[o[s]]);if(0!==t)return t}return uy(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Qv()}}function $b(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return uy(e,t);const n=Lb(e),r=Lb(t),i=uy(n.seconds,r.seconds);return 0!==i?i:uy(n.nanos,r.nanos)}function Yb(e){return Jb(e)}function Jb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Lb(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?jb(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,by.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Jb(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Jb(e.fields[i]));return n+"}"}(e.mapValue):Qv();var t,n}function Zb(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ew(e){return!!e&&"integerValue"in e}function tw(e){return!!e&&"arrayValue"in e}function nw(e){return!!e&&"nullValue"in e}function rw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function iw(e){return!!e&&"mapValue"in e}function ow(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return xb(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ow(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ow(e.arrayValue.values[n]);return t}return Object.assign({},e)}function sw(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function aw(e){return"nullValue"in e?Wb:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Zb(qb.empty(),by.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Qv()}function cw(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Zb(qb.empty(),by.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Hb:Qv()}function lw(e,t){const n=Xb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function uw(e,t){const n=Xb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class dw{constructor(e){this.value=e}static empty(){return new dw({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!iw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ow(t)}setAll(e){let t=yy.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ow(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());iw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kb(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];iw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){xb(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new dw(ow(this.value))}}function hw(e){const t=[];return xb(e.fields,((e,n)=>{const r=new yy([e]);if(iw(n)){const e=hw(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Pb(t)}class fw{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new fw(e,0,py.min(),py.min(),py.min(),dw.empty(),0)}static newFoundDocument(e,t,n,r){return new fw(e,1,t,py.min(),n,r,0)}static newNoDocument(e,t){return new fw(e,2,t,py.min(),py.min(),dw.empty(),0)}static newUnknownDocument(e,t){return new fw(e,3,t,py.min(),py.min(),dw.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(py.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dw.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dw.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=py.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fw&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fw(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class pw{constructor(e,t){this.position=e,this.inclusive=t}}function mw(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?by.comparator(by.fromName(s.referenceValue),n.key):Xb(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function gw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Kb(e.position[n],t.position[n]))return!1;return!0}class vw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function yw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class bw{}class ww extends bw{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Nw(e,t,n):"array-contains"===t?new Dw(e,n):"in"===t?new Mw(e,n):"not-in"===t?new Lw(e,n):"array-contains-any"===t?new Fw(e,n):new ww(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Rw(e,n):new Pw(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xb(t,this.value)):null!==t&&Gb(this.value)===Gb(t)&&this.matchesComparison(Xb(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qv()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _w extends bw{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new _w(e,t)}matches(e){return Ew(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ew(e){return"and"===e.op}function Cw(e){return"or"===e.op}function xw(e){return Sw(e)&&Ew(e)}function Sw(e){for(const t of e.filters)if(t instanceof _w)return!1;return!0}function kw(e){if(e instanceof ww)return e.field.canonicalString()+e.op.toString()+Yb(e.value);if(xw(e))return e.filters.map((e=>kw(e))).join(",");{const t=e.filters.map((e=>kw(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Tw(e,t){return e instanceof ww?function(e,t){return t instanceof ww&&e.op===t.op&&e.field.isEqual(t.field)&&Kb(e.value,t.value)}(e,t):e instanceof _w?function(e,t){return t instanceof _w&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Tw(n,t.filters[r])),!0)}(e,t):void Qv()}function Iw(e,t){const n=e.filters.concat(t);return _w.create(n,e.op)}function Ow(e){return e instanceof ww?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Yb(e.value))}(e):e instanceof _w?function(e){return e.op.toString()+" {"+e.getFilters().map(Ow).join(" ,")+"}"}(e):"Filter"}class Nw extends ww{constructor(e,t,n){super(e,t,n),this.key=by.fromName(n.referenceValue)}matches(e){const t=by.comparator(e.key,this.key);return this.matchesComparison(t)}}class Rw extends ww{constructor(e,t){super(e,"in",t),this.keys=Aw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Pw extends ww{constructor(e,t){super(e,"not-in",t),this.keys=Aw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Aw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>by.fromName(e.referenceValue)))}class Dw extends ww{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tw(t)&&Qb(t.arrayValue,this.value)}}class Mw extends ww{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qb(this.value.arrayValue,t)}}class Lw extends ww{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qb(this.value.arrayValue,t)}}class Fw extends ww{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tw(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Qb(this.value.arrayValue,e)))}}class jw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.dt=null}}function Bw(e){return new jw(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Uw(e){const t=$v(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>kw(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Wy(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Yb(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Yb(e))).join(",")),t.dt=e}return t.dt}function zw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!yw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Tw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gw(e.startAt,t.startAt)&&gw(e.endAt,t.endAt)}function Vw(e){return by.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function qw(e,t){return e.filters.filter((e=>e instanceof ww&&e.field.isEqual(t)))}function Hw(e,t,n){let r=Wb,i=!0;for(const o of qw(e,t)){let e=Wb,t=!0;switch(o.op){case"<":case"<=":e=aw(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Wb}lw({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];lw({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Ww(e,t,n){let r=Hb,i=!0;for(const o of qw(e,t)){let e=Hb,t=!0;switch(o.op){case">=":case">":e=cw(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Hb}uw({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];uw({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Gw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function Kw(e,t,n,r,i,o,s,a){return new Gw(e,t,n,r,i,o,s,a)}function Qw(e){return new Gw(e)}function Xw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function $w(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Yw(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Jw(e){return null!==e.collectionGroup}function Zw(e){const t=$v(e);if(null===t.wt){t.wt=[];const e=Yw(t),n=$w(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new vw(e)),t.wt.push(new vw(yy.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new vw(yy.keyField(),e))}}}return t.wt}function e_(e){const t=$v(e);if(!t._t)if("F"===t.limitType)t._t=Bw(t.path,t.collectionGroup,Zw(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Zw(t)){const t="desc"===i.dir?"asc":"desc";e.push(new vw(i.field,t))}const n=t.endAt?new pw(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pw(t.startAt.position,t.startAt.inclusive):null;t._t=Bw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function t_(e,t){t.getFirstInequalityField(),Yw(e);const n=e.filters.concat([t]);return new Gw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function n_(e,t,n){return new Gw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function r_(e,t){return zw(e_(e),e_(t))&&e.limitType===t.limitType}function i_(e){return"".concat(Uw(e_(e)),"|lt:").concat(e.limitType)}function o_(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Ow(e))).join(", "),"]")),Wy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Yb(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Yb(e))).join(",")),"Target(".concat(t,")")}(e_(e)),"; limitType=").concat(e.limitType,")")}function s_(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):by.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Zw(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=mw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Zw(e),t))&&!(e.endAt&&!function(e,t,n){const r=mw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Zw(e),t))}(e,t)}function a_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function c_(e){return(t,n)=>{let r=!1;for(const i of Zw(e)){const e=l_(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function l_(e,t,n){const r=e.field.isKeyField()?by.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Xb(r,i):Qv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Qv()}}class u_{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){xb(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Sb(this.inner)}size(){return this.innerSize}}const d_=new kb(by.comparator);function h_(){return d_}const f_=new kb(by.comparator);function p_(){let e=f_;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function m_(e){let t=f_;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function g_(){return y_()}function v_(){return y_()}function y_(){return new u_((e=>e.toString()),((e,t)=>e.isEqual(t)))}const b_=new kb(by.comparator),w_=new Ob(by.comparator);function __(){let e=w_;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const E_=new Ob(uy);function C_(){return E_}function x_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gy(t)?"-0":t}}function S_(e){return{integerValue:""+e}}function k_(e,t){return Ky(t)?S_(t):x_(e,t)}class T_{constructor(){this._=void 0}}function I_(e,t,n){return e instanceof R_?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Bb(t)&&(t=Ub(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof P_?A_(e,t):e instanceof D_?M_(e,t):function(e,t){const n=N_(e,t),r=F_(n)+F_(e.gt);return ew(n)&&ew(e.gt)?S_(r):x_(e.serializer,r)}(e,t)}function O_(e,t,n){return e instanceof P_?A_(e,t):e instanceof D_?M_(e,t):n}function N_(e,t){return e instanceof L_?ew(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class R_ extends T_{}class P_ extends T_{constructor(e){super(),this.elements=e}}function A_(e,t){const n=j_(t);for(const r of e.elements)n.some((e=>Kb(e,r)))||n.push(r);return{arrayValue:{values:n}}}class D_ extends T_{constructor(e){super(),this.elements=e}}function M_(e,t){let n=j_(t);for(const r of e.elements)n=n.filter((e=>!Kb(e,r)));return{arrayValue:{values:n}}}class L_ extends T_{constructor(e,t){super(),this.serializer=e,this.gt=t}}function F_(e){return Fb(e.integerValue||e.doubleValue)}function j_(e){return tw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class B_{constructor(e,t){this.field=e,this.transform=t}}class U_{constructor(e,t){this.version=e,this.transformResults=t}}class z_{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new z_}static exists(e){return new z_(void 0,e)}static updateTime(e){return new z_(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function V_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class q_{}function H_(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new eE(e.key,z_.none()):new X_(e.key,e.data,z_.none());{const n=e.data,r=dw.empty();let i=new Ob(yy.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new $_(e.key,r,new Pb(i.toArray()),z_.none())}}function W_(e,t,n){e instanceof X_?function(e,t,n){const r=e.value.clone(),i=J_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $_?function(e,t,n){if(!V_(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=J_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Y_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function G_(e,t,n,r){return e instanceof X_?function(e,t,n,r){if(!V_(e.precondition,t))return n;const i=e.value.clone(),o=Z_(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof $_?function(e,t,n,r){if(!V_(e.precondition,t))return n;const i=Z_(e.fieldTransforms,r,t),o=t.data;return o.setAll(Y_(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return V_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function K_(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=N_(r.transform,e||null);null!=i&&(null===n&&(n=dw.empty()),n.set(r.field,i))}return n||null}function Q_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&dy(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof P_&&t instanceof P_||e instanceof D_&&t instanceof D_?dy(e.elements,t.elements,Kb):e instanceof L_&&t instanceof L_?Kb(e.gt,t.gt):e instanceof R_&&t instanceof R_}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class X_ extends q_{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $_ extends q_{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Y_(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function J_(e,t,n){const r=new Map;Xv(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,O_(s,a,n[i]))}return r}function Z_(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,I_(e,o,t))}return r}class eE extends q_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tE extends q_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nE{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&W_(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=G_(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=G_(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=v_();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=H_(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(py.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),__())}isEqual(e){return this.batchId===e.batchId&&dy(this.mutations,e.mutations,((e,t)=>Q_(e,t)))&&dy(this.baseMutations,e.baseMutations,((e,t)=>Q_(e,t)))}}class rE{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Xv(e.mutations.length===n.length);let r=b_;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new rE(e,t,n,r)}}class iE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class oE{constructor(e,t){this.count=e,this.unchangedNames=t}}var sE,aE;function cE(e){switch(e){default:return Qv();case Yv.CANCELLED:case Yv.UNKNOWN:case Yv.DEADLINE_EXCEEDED:case Yv.RESOURCE_EXHAUSTED:case Yv.INTERNAL:case Yv.UNAVAILABLE:case Yv.UNAUTHENTICATED:return!1;case Yv.INVALID_ARGUMENT:case Yv.NOT_FOUND:case Yv.ALREADY_EXISTS:case Yv.PERMISSION_DENIED:case Yv.FAILED_PRECONDITION:case Yv.ABORTED:case Yv.OUT_OF_RANGE:case Yv.UNIMPLEMENTED:case Yv.DATA_LOSS:return!0}}function lE(e){if(void 0===e)return Wv("GRPC error has no .code"),Yv.UNKNOWN;switch(e){case sE.OK:return Yv.OK;case sE.CANCELLED:return Yv.CANCELLED;case sE.UNKNOWN:return Yv.UNKNOWN;case sE.DEADLINE_EXCEEDED:return Yv.DEADLINE_EXCEEDED;case sE.RESOURCE_EXHAUSTED:return Yv.RESOURCE_EXHAUSTED;case sE.INTERNAL:return Yv.INTERNAL;case sE.UNAVAILABLE:return Yv.UNAVAILABLE;case sE.UNAUTHENTICATED:return Yv.UNAUTHENTICATED;case sE.INVALID_ARGUMENT:return Yv.INVALID_ARGUMENT;case sE.NOT_FOUND:return Yv.NOT_FOUND;case sE.ALREADY_EXISTS:return Yv.ALREADY_EXISTS;case sE.PERMISSION_DENIED:return Yv.PERMISSION_DENIED;case sE.FAILED_PRECONDITION:return Yv.FAILED_PRECONDITION;case sE.ABORTED:return Yv.ABORTED;case sE.OUT_OF_RANGE:return Yv.OUT_OF_RANGE;case sE.UNIMPLEMENTED:return Yv.UNIMPLEMENTED;case sE.DATA_LOSS:return Yv.DATA_LOSS;default:return Qv()}}(aE=sE||(sE={}))[aE.OK=0]="OK",aE[aE.CANCELLED=1]="CANCELLED",aE[aE.UNKNOWN=2]="UNKNOWN",aE[aE.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",aE[aE.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",aE[aE.NOT_FOUND=5]="NOT_FOUND",aE[aE.ALREADY_EXISTS=6]="ALREADY_EXISTS",aE[aE.PERMISSION_DENIED=7]="PERMISSION_DENIED",aE[aE.UNAUTHENTICATED=16]="UNAUTHENTICATED",aE[aE.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",aE[aE.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",aE[aE.ABORTED=10]="ABORTED",aE[aE.OUT_OF_RANGE=11]="OUT_OF_RANGE",aE[aE.UNIMPLEMENTED=12]="UNIMPLEMENTED",aE[aE.INTERNAL=13]="INTERNAL",aE[aE.UNAVAILABLE=14]="UNAVAILABLE",aE[aE.DATA_LOSS=15]="DATA_LOSS";class uE{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return dE}static getOrCreateInstance(){return null===dE&&(dE=new uE),dE}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let dE=null;function hE(){return new TextEncoder}const fE=new jv([4294967295,4294967295],0);function pE(e){const t=hE().encode(e),n=new Fv;return n.update(t),new Uint8Array(n.digest())}function mE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new jv([n,r],0),new jv([i,o],0)]}class gE{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new vE("Invalid padding: ".concat(t));if(n<0)throw new vE("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new vE("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new vE("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=jv.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(jv.fromNumber(n)));return 1===r.compare(fE)&&(r=new jv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=pE(e),[n,r]=mE(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new gE(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.It)return;const t=pE(e),[n,r]=mE(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class vE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yE{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,bE.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new yE(py.min(),r,new kb(uy),h_(),__())}}class bE{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new bE(n,t,__(),__(),__())}}class wE{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class _E{constructor(e,t){this.targetId=e,this.Vt=t}}class EE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Db.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class CE{constructor(){this.St=0,this.Dt=kE(),this.Ct=Db.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=__(),t=__(),n=__();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Qv()}})),new bE(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=kE()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class xE{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=h_(),this.zt=SE(),this.Wt=new kb(uy)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Qv()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(Vw(o))if(0===r){const e=new by(o.path);this.Yt(n,e,fw.newNoDocument(e,py.min()))}else Xv(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=uE.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,s,a,c;const l={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(l.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(s=null===(o=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(c=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==c?c:0}),l}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;let a,c;try{a=jb(i).toUint8Array()}catch(e){if(e instanceof Ab)return Gv("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{c=new gE(a,o,s)}catch(e){return Gv(e instanceof vE?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===c.It?1:r!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(o)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&Vw(i.target)){const t=new by(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,fw.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=__();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new yE(e,t,this.Wt,this.jt,n);return this.jt=h_(),this.zt=SE(),this.Wt=new kb(uy),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new CE,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ob(uy),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Hv("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new CE),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function SE(){return new kb(by.comparator)}function kE(){return new kb(by.comparator)}const TE={asc:"ASCENDING",desc:"DESCENDING"},IE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OE={and:"AND",or:"OR"};class NE{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function RE(e,t){return e.useProto3Json||Wy(t)?t:{value:t}}function PE(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function AE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function DE(e,t){return PE(e,t.toTimestamp())}function ME(e){return Xv(!!e),py.fromTimestamp(function(e){const t=Lb(e);return new fy(t.seconds,t.nanos)}(e))}function LE(e,t){return function(e){return new gy(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function FE(e){const t=gy.fromString(e);return Xv(oC(t)),t}function jE(e,t){return LE(e.databaseId,t.path)}function BE(e,t){const n=FE(t);if(n.get(1)!==e.databaseId.projectId)throw new Jv(Yv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Jv(Yv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new by(qE(n))}function UE(e,t){return LE(e.databaseId,t)}function zE(e){const t=FE(e);return 4===t.length?gy.emptyPath():qE(t)}function VE(e){return new gy(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qE(e){return Xv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function HE(e,t,n){return{name:jE(e,t),fields:n.value.mapValue.fields}}function WE(e,t,n){const r=BE(e,t.name),i=ME(t.updateTime),o=t.createTime?ME(t.createTime):py.min(),s=new dw({mapValue:{fields:t.fields}}),a=fw.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function GE(e,t){let n;if(t instanceof X_)n={update:HE(e,t.key,t.value)};else if(t instanceof eE)n={delete:jE(e,t.key)};else if(t instanceof $_)n={update:HE(e,t.key,t.data),updateMask:iC(t.fieldMask)};else{if(!(t instanceof tE))return Qv();n={verify:jE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof R_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof P_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof D_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof L_)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Qv()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:DE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Qv()}(e,t.precondition)),n}function KE(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?z_.updateTime(ME(e.updateTime)):void 0!==e.exists?z_.exists(e.exists):z_.none()}(t.currentDocument):z_.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Xv("REQUEST_TIME"===t.setToServerValue),n=new R_;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new P_(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new D_(e)}else"increment"in t?n=new L_(e,t.increment):Qv();const r=yy.fromServerFormat(t.fieldPath);return new B_(r,n)}(e,t))):[];if(t.update){t.update.name;const i=BE(e,t.update.name),o=new dw({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Pb(t.map((e=>yy.fromServerFormat(e))))}(t.updateMask);return new $_(i,o,e,n,r)}return new X_(i,o,n,r)}if(t.delete){const r=BE(e,t.delete);return new eE(r,n)}if(t.verify){const r=BE(e,t.verify);return new tE(r,n)}return Qv()}function QE(e,t){return{documents:[UE(e,t.path)]}}function XE(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=UE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=UE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return rC(_w.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:tC(e.field),direction:JE(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=RE(e,t.limit);var a;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function $E(e){let t=zE(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xv(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=YE(e);return t instanceof _w&&xw(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new vw(nC(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Wy(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new pw(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new pw(n,t)}(n.endAt)),Kw(t,i,s,o,a,"F",c,l)}function YE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nC(e.unaryFilter.field);return ww.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=nC(e.unaryFilter.field);return ww.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=nC(e.unaryFilter.field);return ww.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=nC(e.unaryFilter.field);return ww.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Qv()}}(e):void 0!==e.fieldFilter?function(e){return ww.create(nC(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qv()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return _w.create(e.compositeFilter.filters.map((e=>YE(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Qv()}}(e.compositeFilter.op))}(e):Qv()}function JE(e){return TE[e]}function ZE(e){return IE[e]}function eC(e){return OE[e]}function tC(e){return{fieldPath:e.canonicalString()}}function nC(e){return yy.fromServerFormat(e.fieldPath)}function rC(e){return e instanceof ww?function(e){if("=="===e.op){if(rw(e.value))return{unaryFilter:{field:tC(e.field),op:"IS_NAN"}};if(nw(e.value))return{unaryFilter:{field:tC(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rw(e.value))return{unaryFilter:{field:tC(e.field),op:"IS_NOT_NAN"}};if(nw(e.value))return{unaryFilter:{field:tC(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tC(e.field),op:ZE(e.op),value:e.value}}}(e):e instanceof _w?function(e){const t=e.getFilters().map((e=>rC(e)));return 1===t.length?t[0]:{compositeFilter:{op:eC(e.op),filters:t}}}(e):Qv()}function iC(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function oC(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class sC{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:py.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:py.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Db.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new sC(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new sC(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sC(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sC(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aC{constructor(e){this.fe=e}}function cC(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:lC(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:jE(e,t.key),fields:t.data.value.mapValue.fields,updateTime:PE(e,t.version.toTimestamp()),createTime:PE(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:uC(t.version)};else{if(!t.isUnknownDocument())return Qv();r.unknownDocument={path:n.path.toArray(),version:uC(t.version)}}return r}function lC(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function uC(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function dC(e){const t=new fy(e.seconds,e.nanoseconds);return py.fromTimestamp(t)}function hC(e,t){const n=(t.baseMutations||[]).map((t=>KE(e.fe,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>KE(e.fe,t))),i=fy.fromMillis(t.localWriteTimeMs);return new nE(t.batchId,i,n,r)}function fC(e){const t=dC(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?dC(e.lastLimboFreeSnapshotVersion):py.min();let r;var i;return void 0!==e.query.documents?(Xv(1===(i=e.query).documents.length),r=e_(Qw(zE(i.documents[0])))):r=function(e){return e_($E(e))}(e.query),new sC(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Db.fromBase64String(e.resumeToken))}function pC(e,t){const n=uC(t.snapshotVersion),r=uC(t.lastLimboFreeSnapshotVersion);let i;i=Vw(t.target)?QE(e.fe,t.target):XE(e.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Uw(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function mC(e){const t=$E({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?n_(t,t.limit,"L"):t}function gC(e,t){return new iE(t.largestBatchId,KE(e.fe,t.overlayMutation))}function vC(e,t){const n=t.path.lastSegment();return[e,Qy(t.path.popLast()),n]}function yC(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:uC(r.readTime),documentKey:Qy(r.documentKey.path),largestBatchId:r.largestBatchId}}class bC{getBundleMetadata(e,t){return wC(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:dC(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return wC(e).put({bundleId:(n=t).id,createTime:uC(ME(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return _C(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:mC(t.bundledQuery),readTime:dC(t.readTime)};var t}))}saveNamedQuery(e,t){return _C(e).put(function(e){return{name:e.name,readTime:uC(ME(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function wC(e){return Eb(e,"bundles")}function _C(e){return Eb(e,"namedQueries")}class EC{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new EC(e,n)}getOverlay(e,t){return CC(e).get(vC(this.userId,t)).next((e=>e?gC(this.serializer,e):null))}getOverlays(e,t){const n=g_();return Py.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new iE(t,i);r.push(this.we(e,o))})),Py.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Qy(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(CC(e).J("collectionPathOverlayIndex",r))})),Py.waitFor(i)}getOverlaysForCollection(e,t,n){const r=g_(),i=Qy(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return CC(e).j("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=gC(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=g_();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return CC(e).X({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=gC(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}we(e,t){return CC(e).put(function(e,t,n){const[r,i,o]=vC(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:GE(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function CC(e){return Eb(e,"documentOverlays")}class xC{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Fb(e.integerValue));else if("doubleValue"in e){const n=Fb(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Gy(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(jb(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?sw(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Qv()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),by.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function SC(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function kC(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=SC(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}xC.Ve=new xC;class TC{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=kC(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),n=kC(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class IC{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class OC{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class NC{constructor(){this.je=new TC,this.ze=new IC(this.je),this.We=new OC(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class RC{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new RC(this.indexId,this.documentKey,this.arrayValue,n)}}function PC(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=AC(e.arrayValue,t.arrayValue),0!==n?n:(n=AC(e.directionalValue,t.directionalValue),0!==n?n:by.comparator(e.documentKey,t.documentKey)))}function AC(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class DC{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){Xv(e.collectionGroup===this.collectionId);const t=_y(e);if(void 0!==t&&!this.en(t))return!1;const n=Ey(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const e=n[i];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[o++],e))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Ye.length||!this.sn(this.Ye[o++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function MC(e){var t,n;if(Xv(e instanceof ww||e instanceof _w),e instanceof ww){if(e instanceof Mw){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>ww.create(e.field,"==",t))))||[];return _w.create(r,"or")}return e}const r=e.filters.map((e=>MC(e)));return _w.create(r,e.op)}function LC(e){if(0===e.getFilters().length)return[];const t=UC(MC(e));return Xv(BC(t)),FC(t)||jC(t)?[t]:t.getFilters()}function FC(e){return e instanceof ww}function jC(e){return e instanceof _w&&xw(e)}function BC(e){return FC(e)||jC(e)||function(e){if(e instanceof _w&&Cw(e)){for(const t of e.getFilters())if(!FC(t)&&!jC(t))return!1;return!0}return!1}(e)}function UC(e){if(Xv(e instanceof ww||e instanceof _w),e instanceof ww)return e;if(1===e.filters.length)return UC(e.filters[0]);const t=e.filters.map((e=>UC(e)));let n=_w.create(t,e.op);return n=qC(n),BC(n)?n:(Xv(n instanceof _w),Xv(Ew(n)),Xv(n.filters.length>1),n.filters.reduce(((e,t)=>zC(e,t))))}function zC(e,t){let n;return Xv(e instanceof ww||e instanceof _w),Xv(t instanceof ww||t instanceof _w),n=e instanceof ww?t instanceof ww?function(e,t){return _w.create([e,t],"and")}(e,t):VC(e,t):t instanceof ww?VC(t,e):function(e,t){if(Xv(e.filters.length>0&&t.filters.length>0),Ew(e)&&Ew(t))return Iw(e,t.getFilters());const n=Cw(e)?e:t,r=Cw(e)?t:e,i=n.filters.map((e=>zC(e,r)));return _w.create(i,"or")}(e,t),qC(n)}function VC(e,t){if(Ew(t))return Iw(t,e.getFilters());{const n=t.filters.map((t=>zC(e,t)));return _w.create(n,"or")}}function qC(e){if(Xv(e instanceof ww||e instanceof _w),e instanceof ww)return e;const t=e.getFilters();if(1===t.length)return qC(t[0]);if(Sw(e))return e;const n=t.map((e=>qC(e))),r=[];return n.forEach((t=>{t instanceof ww?r.push(t):t instanceof _w&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:_w.create(r,e.op)}class HC{constructor(){this.rn=new WC}addToCollectionParentIndex(e,t){return this.rn.add(t),Py.resolve()}getCollectionParents(e,t){return Py.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Py.resolve()}deleteFieldIndex(e,t){return Py.resolve()}getDocumentsMatchingTarget(e,t){return Py.resolve(null)}getIndexType(e,t){return Py.resolve(0)}getFieldIndexes(e,t){return Py.resolve([])}getNextCollectionGroupToUpdate(e){return Py.resolve(null)}getMinOffset(e,t){return Py.resolve(Ty.min())}getMinOffsetFromCollectionGroup(e,t){return Py.resolve(Ty.min())}updateCollectionGroup(e,t,n){return Py.resolve()}updateIndexEntries(e,t){return Py.resolve()}}class WC{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ob(gy.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ob(gy.comparator)).toArray()}}const GC=new Uint8Array(0);class KC{constructor(e,t){this.user=e,this.databaseId=t,this.on=new WC,this.un=new u_((e=>Uw(e)),((e,t)=>zw(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.on.add(t)}));const i={collectionId:n,parent:Qy(r)};return QC(e).put(i)}return Py.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[hy(t),""],!1,!0);return QC(e).j(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Yy(r.parent))}return n}))}addFieldIndex(e,t){const n=$C(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=YC(e);return i.next((e=>{n.put(yC(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=$C(e),r=YC(e),i=XC(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=XC(e);let r=!0;const i=new Map;return Py.forEach(this.cn(t),(t=>this.an(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=__();const r=[];return Py.forEach(i,((i,o)=>{var s;Hv("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(",")))," to execute ").concat(Uw(t)));const a=function(e,t){const n=_y(t);if(void 0===n)return null;for(const r of qw(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),c=function(e,t){const n=new Map;for(const r of Ey(t))for(const t of qw(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Ey(t)){const t=0===i.kind?Hw(e,i.fieldPath,e.startAt):Ww(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new pw(n,r)}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of Ey(t)){const t=0===i.kind?Ww(e,i.fieldPath,e.endAt):Hw(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new pw(n,r)}(o,i),d=this.hn(i,o,l),h=this.hn(i,o,u),f=this.ln(i,o,c),p=this.fn(i.indexId,a,d,l.inclusive,h,u.inclusive,f);return Py.forEach(p,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=by.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Py.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:LC(_w.create(e.filters,"and")).map((t=>Bw(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}fn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.dn(t[u/c]):GC,d=this.wn(e,a,n[u%c],r),h=this._n(e,a,i[u%c],o),f=s.map((t=>this.wn(e,a,t,!0)));l.push(...this.createRange(d,h,f))}return l}wn(e,t,n,r){const i=new RC(e,by.empty(),t,n);return r?i:i.Je()}_n(e,t,n,r){const i=new RC(e,by.empty(),t,n);return r?i.Je():i}an(e,t){const n=new DC(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Py.forEach(r,(t=>this.an(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Ob(yy.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}mn(e,t){const n=new NC;for(const r of Ey(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.He(r.kind);xC.Ve._e(e,i)}return n.Qe()}dn(e){const t=new NC;return xC.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new NC;return xC.Ve._e(Zb(this.databaseId,t),n.He(function(e){const t=Ey(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let r=[];r.push(new NC);let i=0;for(const o of Ey(e)){const e=n[i++];for(const n of r)if(this.yn(t,o.fieldPath)&&tw(e))r=this.pn(r,o,e);else{const t=n.He(o.kind);xC.Ve._e(e,t)}}return this.In(r)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new NC;n.seed(e.Qe()),xC.Ve._e(o,n.He(t.kind)),i.push(n)}return i}yn(e,t){return!!e.filters.find((e=>e instanceof ww&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=$C(e),r=YC(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return Py.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new xy(t.sequenceNumber,new Ty(dC(t.readTime),new by(Yy(t.documentKey)),t.largestBatchId)):xy.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Cy(yy.fromServerFormat(t),n)}));return new wy(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:uy(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=$C(e),i=YC(e);return this.Tn(e).next((e=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Py.forEach(t,(t=>i.put(yC(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Py.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Py.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Py.forEach(i,(n=>this.En(e,t,n).next((t=>{const i=this.An(r,n);return t.isEqual(i)?Py.resolve():this.vn(e,r,n,t,i)})))))))}))}Rn(e,t,n,r){return XC(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,r){return XC(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const r=XC(e);let i=new Ob(PC);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new RC(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}An(e,t){let n=new Ob(PC);const r=this.mn(t,e);if(null==r)return n;const i=_y(t);if(null!=i){const o=e.data.field(i.fieldPath);if(tw(o))for(const i of o.arrayValue.values||[])n=n.add(new RC(t.indexId,e.key,this.dn(i),r))}else n=n.add(new RC(t.indexId,e.key,GC,r));return n}vn(e,t,n,r,i){Hv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Rb(o),c=Rb(s);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=Rb(s)):t?(i(a),a=Rb(o)):(a=Rb(o),c=Rb(s))}}(r,i,PC,(r=>{o.push(this.Rn(e,t,n,r))}),(r=>{o.push(this.Pn(e,t,n,r))})),Py.waitFor(o)}Tn(e){let t=1;return YC(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>PC(e,t))).filter(((e,t,n)=>!t||0!==PC(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=PC(o,e),i=PC(o,t);if(0===n)r[0]=e.Je();else if(n>0&&i<0)r.push(o),r.push(o.Je());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,GC,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,GC,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return PC(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(JC)}getMinOffset(e,t){return Py.mapArray(this.cn(t),(t=>this.an(e,t).next((e=>e||Qv())))).next(JC)}}function QC(e){return Eb(e,"collectionParents")}function XC(e){return Eb(e,"indexEntries")}function $C(e){return Eb(e,"indexConfiguration")}function YC(e){return Eb(e,"indexState")}function JC(e){Xv(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Iy(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ty(t.readTime,t.documentKey,n)}const ZC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ex{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ex(e,ex.DEFAULT_COLLECTION_PERCENTILE,ex.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tx(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.X({range:s},((e,t,n)=>(a++,n.delete())));o.push(c.next((()=>{Xv(1===a)})));const l=[];for(const u of n.mutations){const e=eb(t,u.key.path,n.batchId);o.push(i.delete(e)),l.push(u.key)}return Py.waitFor(o).next((()=>l))}function nx(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Qv();t=e.noDocument}return JSON.stringify(t).length}ex.DEFAULT_COLLECTION_PERCENTILE=10,ex.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ex.DEFAULT=new ex(41943040,ex.DEFAULT_COLLECTION_PERCENTILE,ex.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ex.DISABLED=new ex(-1,0,0);class rx{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(e,t,n,r){Xv(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new rx(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ox(e).X({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=sx(e),o=ox(e);return o.add({}).next((s=>{Xv("number"==typeof s);const a=new nE(s,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>GE(e.fe,t))),i=n.mutations.map((t=>GE(e.fe,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let u=new Ob(((e,t)=>uy(e.canonicalString(),t.canonicalString())));for(const e of r){const t=eb(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),l.push(o.put(c)),l.push(i.put(t,tb))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Vn[s]=a.keys()})),Py.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return ox(e).get(t).next((e=>e?(Xv(e.userId===this.userId),hC(this.serializer,e)):null))}Sn(e,t){return this.Vn[t]?Py.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return ox(e).X({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Xv(t.batchId>=n),i=hC(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return ox(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ox(e).j("userMutationsIndex",t).next((e=>e.map((e=>hC(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Zy(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return sx(e).X({range:r},((n,r,o)=>{const[s,a,c]=n,l=Yy(a);if(s===this.userId&&t.path.isEqual(l))return ox(e).get(c).next((e=>{if(!e)throw Qv();Xv(e.userId===this.userId),i.push(hC(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ob(uy);const r=[];return t.forEach((t=>{const i=Zy(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=sx(e).X({range:o},((e,r,i)=>{const[o,s,a]=e,c=Yy(s);o===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(s)})),Py.waitFor(r).next((()=>this.Dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Zy(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Ob(uy);return sx(e).X({range:o},((e,t,i)=>{const[o,a,c]=e,l=Yy(a);o===this.userId&&n.isPrefixOf(l)?l.length===r&&(s=s.add(c)):i.done()})).next((()=>this.Dn(e,s)))}Dn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(ox(e).get(t).next((e=>{if(null===e)throw Qv();Xv(e.userId===this.userId),n.push(hC(this.serializer,e))})))})),Py.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return tx(e.ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Cn(t.batchId)})),Py.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Py.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return sx(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Yy(e[1]);r.push(t)}else n.done()})).next((()=>{Xv(0===r.length)}))}))}containsKey(e,t){return ix(e,this.userId,t)}xn(e){return ax(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function ix(e,t,n){const r=Zy(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return sx(e).X({range:o,Y:!0},((e,n,r)=>{const[o,a,c]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function ox(e){return Eb(e,"mutations")}function sx(e){return Eb(e,"documentMutations")}function ax(e){return Eb(e,"mutationQueues")}class cx{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new cx(0)}static Mn(){return new cx(-1)}}class lx{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next((t=>{const n=new cx(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.$n(e).next((e=>py.fromTimestamp(new fy(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.$n(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.$n(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r))))}addTargetData(e,t){return this.Fn(e,t).next((()=>this.$n(e).next((n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>ux(e).delete(t.targetId))).next((()=>this.$n(e))).next((t=>(Xv(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return ux(e).X(((o,s)=>{const a=fC(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Py.waitFor(i))).next((()=>r))}forEachTarget(e,t){return ux(e).X(((e,n)=>{const r=fC(n);t(r)}))}$n(e){return dx(e).get("targetGlobalKey").next((e=>(Xv(null!==e),e)))}On(e,t){return dx(e).put("targetGlobalKey",t)}Fn(e,t){return ux(e).put(pC(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Uw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return ux(e).X({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=fC(n);zw(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=hx(e);return t.forEach((t=>{const o=Qy(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Py.waitFor(r)}removeMatchingKeys(e,t,n){const r=hx(e);return Py.forEach(t,(t=>{const i=Qy(t.path);return Py.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=hx(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=hx(e);let i=__();return r.X({range:n,Y:!0},((e,t,n)=>{const r=Yy(e[1]),o=new by(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Qy(t.path),r=IDBKeyRange.bound([n],[hy(n)],!1,!0);let i=0;return hx(e).X({index:"documentTargetsIndex",Y:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}le(e,t){return ux(e).get(t).next((e=>e?fC(e):null))}}function ux(e){return Eb(e,"targets")}function dx(e){return Eb(e,"targetGlobal")}function hx(e){return Eb(e,"targetDocuments")}function fx(e,t){let[n,r]=e,[i,o]=t;const s=uy(n,i);return 0===s?uy(r,o):s}class px{constructor(e){this.Ln=e,this.buffer=new Ob(fx),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();fx(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mx{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){Hv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fy(e)?Hv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Ry(e)}await this.Qn(3e5)}))}}class gx{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Py.resolve(Hy.ct);const n=new px(t);return this.jn.forEachTarget(e,(e=>n.Kn(e.sequenceNumber))).next((()=>this.jn.Wn(e,(e=>n.Kn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Hv("LruGarbageCollector","Garbage collection skipped; disabled"),Py.resolve(ZC)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Hv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),ZC):this.Hn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,r,i,o,s,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Hv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),qv()<=js.DEBUG&&Hv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),Py.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function vx(e,t){return new gx(e,t)}class yx{constructor(e,t){this.db=e,this.garbageCollector=vx(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,((e,n)=>t(n)))}addReference(e,t,n){return bx(e,n)}removeReference(e,t,n){return bx(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return bx(e,t)}Xn(e,t){return function(e,t){let n=!1;return ax(e).Z((r=>ix(e,r,t).next((e=>(e&&(n=!0),Py.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Yn(e,((o,s)=>{if(s<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,py.min()),hx(e).delete([0,Qy(o.path)]))))}));r.push(t)}})).next((()=>Py.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return bx(e,t)}Yn(e,t){const n=hx(e);let r,i=Hy.ct;return n.X({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:c}=n;0===o?(i!==Hy.ct&&t(new by(Yy(r)),i),i=c,r=a):i=Hy.ct})).next((()=>{i!==Hy.ct&&t(new by(Yy(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bx(e,t){return hx(e).put(function(e,t){return{targetId:0,path:Qy(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class wx{constructor(){this.changes=new u_((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fw.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Py.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _x{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Sx(e).put(n)}removeEntry(e,t,n){return Sx(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],lC(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Zn(e,n))))}getEntry(e,t){let n=fw.newInvalidDocument(t);return Sx(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(kx(t))},((e,r)=>{n=this.ts(t,r)})).next((()=>n))}es(e,t){let n={size:0,document:fw.newInvalidDocument(t)};return Sx(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(kx(t))},((e,r)=>{n={document:this.ts(t,r),size:nx(r)}})).next((()=>n))}getEntries(e,t){let n=h_();return this.ns(e,t,((e,t)=>{const r=this.ts(e,t);n=n.insert(e,r)})).next((()=>n))}ss(e,t){let n=h_(),r=new kb(by.comparator);return this.ns(e,t,((e,t)=>{const i=this.ts(e,t);n=n.insert(e,i),r=r.insert(e,nx(t))})).next((()=>({documents:n,rs:r})))}ns(e,t,n){if(t.isEmpty())return Py.resolve();let r=new Ob(Ix);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(kx(r.first()),kx(r.last())),o=r.getIterator();let s=o.getNext();return Sx(e).X({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=by.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&Ix(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.G(kx(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,o=[i.popLast().toArray(),i.lastSegment(),lC(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Sx(e).j(IDBKeyRange.bound(o,s,!0)).next((e=>{let n=h_();for(const i of e){const e=this.ts(by.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(s_(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=h_();const o=Tx(t,n),s=Tx(t,Ty.max());return Sx(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.ts(by.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Cx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return xx(e).get("remoteDocumentGlobalKey").next((e=>(Xv(!!e),e)))}Zn(e,t){return xx(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=WE(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=by.fromSegments(t.noDocument.path),r=dC(t.noDocument.readTime);n=fw.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Qv();{const e=by.fromSegments(t.unknownDocument.path),r=dC(t.unknownDocument.version);n=fw.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new fy(e[0],e[1]);return py.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(py.min()))return e}return fw.newInvalidDocument(e)}}function Ex(e){return new _x(e)}class Cx extends wx{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new u_((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Ob(((e,t)=>uy(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.us.get(i);if(t.push(this.os.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=cC(this.os.serializer,o);r=r.add(i.path.popLast());const c=nx(a);n+=c-s.size,t.push(this.os.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=cC(this.os.serializer,o.convertToNoDocument(py.min()));t.push(this.os.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.os.updateMetadata(e,n)),Py.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next((e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.os.ss(e,t).next((e=>{let{documents:t,rs:n}=e;return n.forEach(((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function xx(e){return Eb(e,"remoteDocumentGlobal")}function Sx(e){return Eb(e,"remoteDocumentsV14")}function kx(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Tx(e,t){const n=t.documentKey.path.toArray();return[e,lC(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ix(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=uy(n[o],r[o]),i)return i;return i=uy(n.length,r.length),i||(i=uy(n[n.length-2],r[r.length-2]),i||uy(n[n.length-1],r[r.length-1]))}class Ox{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Nx{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&G_(n.mutation,e,Pb.empty(),fy.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,__()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:__();const r=g_();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=p_();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=g_();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,__())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=h_();const o=y_(),s=y_();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof $_)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),G_(s.mutation,t,s.mutation.getFieldMask(),fy.now())):o.set(t.key,Pb.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Ox(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=y_();let r=new kb(((e,t)=>e-t)),i=__();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Pb.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||__()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,c=r.value,l=v_();c.forEach((e=>{if(!i.has(e)){const r=H_(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,l))}return Py.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return by.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Jw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Py.resolve(g_());let s=-1,a=i;return o.next((t=>Py.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Py.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,__()))).next((e=>({batchId:s,changes:m_(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new by(t)).next((e=>{let t=p_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=p_();return this.indexManager.getCollectionParents(e,r).next((o=>Py.forEach(o,(o=>{const s=function(e,t){return new Gw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,fw.newInvalidDocument(r)))}));let n=p_();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&G_(o.mutation,i,Pb.empty(),fy.now()),s_(t,i)&&(n=n.insert(e,i))})),n}))}}class Rx{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Py.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:ME(n.createTime)}),Py.resolve()}getNamedQuery(e,t){return Py.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:mC(e.bundledQuery),readTime:ME(e.readTime)}}(t)),Py.resolve()}}class Px{constructor(){this.overlays=new kb(by.comparator),this.ls=new Map}getOverlay(e,t){return Py.resolve(this.overlays.get(t))}getOverlays(e,t){const n=g_();return Py.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Py.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Py.resolve()}getOverlaysForCollection(e,t,n){const r=g_(),i=t.length+1,o=new by(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Py.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new kb(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=g_(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=g_(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Py.resolve(s)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new iE(t,n));let i=this.ls.get(t);void 0===i&&(i=__(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Ax{constructor(){this.fs=new Ob(Dx.ds),this.ws=new Ob(Dx._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Dx(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Dx(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new by(new gy([])),n=new Dx(t,e),r=new Dx(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new by(new gy([])),n=new Dx(t,e),r=new Dx(t,e+1);let i=__();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Dx(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Dx{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return by.comparator(e.key,t.key)||uy(e.As,t.As)}static _s(e,t){return uy(e.As,t.As)||by.comparator(e.key,t.key)}}class Mx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ob(Dx.ds)}checkEmpty(e){return Py.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nE(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Rs=this.Rs.add(new Dx(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Py.resolve(o)}lookupMutationBatch(e,t){return Py.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Py.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Py.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Py.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Dx(t,0),r=new Dx(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Py.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ob(uy);return t.forEach((e=>{const t=new Dx(e,0),r=new Dx(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Py.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;by.isDocumentKey(i)||(i=i.child(""));const o=new Dx(new by(i),0);let s=new Ob(uy);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.As)),!0)}),o),Py.resolve(this.Vs(s))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Xv(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Py.forEach(t.mutations,(r=>{const i=new Dx(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Dx(t,0),r=this.Rs.firstAfterOrEqual(n);return Py.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Py.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Lx{constructor(e){this.Ds=e,this.docs=new kb(by.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Py.resolve(n?n.document.mutableCopy():fw.newInvalidDocument(t))}getEntries(e,t){let n=h_();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():fw.newInvalidDocument(e))})),Py.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=h_();const o=t.path,s=new by(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Iy(ky(s),n)<=0||(r.has(s.key)||s_(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Py.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Qv()}Cs(e,t){return Py.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Fx(this)}getSize(e){return Py.resolve(this.size)}}class Fx extends wx{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Py.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class jx{constructor(e){this.persistence=e,this.xs=new u_((e=>Uw(e)),zw),this.lastRemoteSnapshotVersion=py.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Ax,this.targetCount=0,this.Ms=cx.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Py.resolve()}getLastRemoteSnapshotVersion(e){return Py.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Py.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Py.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Py.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new cx(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Py.resolve()}updateTargetData(e,t){return this.Fn(t),Py.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Py.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Py.waitFor(i).next((()=>r))}getTargetCount(e){return Py.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Py.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Py.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Py.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Py.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Py.resolve(n)}containsKey(e,t){return Py.resolve(this.ks.containsKey(t))}}class Bx{constructor(e,t){this.$s={},this.overlays={},this.Os=new Hy(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new jx(this),this.indexManager=new HC,this.remoteDocumentCache=function(e){return new Lx(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new aC(t),this.qs=new Rx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Px,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Mx(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Hv("MemoryPersistence","Starting transaction:",e);const r=new Ux(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Py.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Ux extends Ny{constructor(e){super(),this.currentSequenceNumber=e}}class zx{constructor(e){this.persistence=e,this.Qs=new Ax,this.js=null}static zs(e){return new zx(e)}get Ws(){if(this.js)return this.js;throw Qv()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Py.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Py.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Py.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Py.forEach(this.Ws,(n=>{const r=by.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,py.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Py.or([()=>Py.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Vx{constructor(e){this.serializer=e}O(e,t,n,r){const i=new Ay("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jy,{unique:!0}),e.createObjectStore("documentMutations")}(e),qx(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Py.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),qx(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:py.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jy,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Py.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Ys(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(i))))),n<7&&r>=7&&(o=o.next((()=>this.Zs(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ei(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:fb});t.createIndex("collectionPathOverlayIndex",pb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",mb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:nb});t.createIndex("documentKeyIndex",rb),t.createIndex("collectionGroupIndex",ib)}(e))).next((()=>this.ni(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:lb}).createIndex("sequenceNumberIndex",ub,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:db}).createIndex("documentKeyIndex",hb,{unique:!1})}(e)))),o}Xs(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=nx(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>Py.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next((n=>Py.forEach(n,(n=>{Xv(n.userId===t.userId);const r=hC(this.serializer,n);return tx(e,t.userId,r).next((()=>{}))}))))}))))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.X(((n,i)=>{const o=new gy(n),s=function(e){return[0,Qy(e)]}(o);r.push(t.get(s).next((n=>n?Py.resolve():(n=>t.put({targetId:0,path:Qy(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Py.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:cb});const n=t.store("collectionParents"),r=new WC,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Qy(r)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new gy(e);return i(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},((e,t)=>{let[n,r,o]=e;const s=Yy(r);return i(s.popLast())}))))}ei(e){const t=e.store("targets");return t.X(((e,n)=>{const r=fC(n),i=pC(this.serializer,r);return t.put(i)}))}ni(e,t){const n=t.store("remoteDocuments"),r=[];return n.X(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=(s=n,s.document?new by(gy.fromString(s.document.name).popFirst(5)):s.noDocument?by.fromSegments(s.noDocument.path):s.unknownDocument?by.fromSegments(s.unknownDocument.path):Qv()).path.toArray();var s;const a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>Py.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=Ex(this.serializer),i=new Bx(zx.zs,this.serializer.fe);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:__();hC(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Py.forEach(n,((e,n)=>{const o=new Uv(n),s=EC.de(this.serializer,o),a=i.getIndexManager(o),c=rx.de(o,this.serializer,a,i.referenceDelegate);return new Nx(r,c,s,a).recalculateAndSaveOverlaysForDocumentKeys(new _b(t,Hy.ct),e).next()}))}))}}function qx(e){e.createObjectStore("targetDocuments",{keyPath:sb}).createIndex("documentTargetsIndex",ab,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ob,{unique:!0}),e.createObjectStore("targetGlobal")}const Hx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wx{constructor(e,t,n,r,i,o,s,a,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=i,this.window=o,this.document=s,this.ri=c,this.oi=l,this.ui=u,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!Wx.D())throw new Jv(Yv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yx(this,r),this.di=t+"main",this.serializer=new aC(a),this.wi=new Dy(this.di,this.ui,new Vx(this.serializer)),this.Bs=new lx(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ex(this.serializer),this.qs=new bC,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&Wv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Jv(Yv.FAILED_PRECONDITION,Hx);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Bs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new Hy(e,this.ri)})).then((()=>{this.Fs=!0})).catch((e=>(this.wi&&this.wi.close(),Promise.reject(e))))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Kx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(e).next((e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(e))).next((t=>this.isPrimary&&!t?this.Ai(e).next((()=>!1)):!!t&&this.vi(e).next((()=>!0)))))).catch((e=>{if(Fy(e))return Hv("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Hv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ii.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Ti(e){return Gx(e).get("owner").next((e=>Py.resolve(this.Ri(e))))}Pi(e){return Kx(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Eb(e,"clientMetadata");return t.j().next((e=>{const n=this.Si(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Py.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Py.resolve(!0):Gx(e).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Jv(Yv.FAILED_PRECONDITION,Hx);return!1}}return!(!this.networkEnabled||!this.inForeground)||Kx(e).j().next((e=>void 0===this.Si(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Hv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new _b(e,Hy.ct);return this.Ai(t).next((()=>this.Pi(t)))})),this.wi.close(),this.Mi()}Si(e,t){return e.filter((e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>Kx(e).j().next((e=>this.Si(e,18e5).map((e=>e.clientId))))))}get started(){return this.Fs}getMutationQueue(e,t){return rx.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new KC(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return EC.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){Hv("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(o=this.ui)?wb:14===o?bb:13===o?yb:12===o?vb:11===o?gb:void Qv();var o;let s;return this.wi.runTransaction(e,r,i,(r=>(s=new _b(r,this.Os?this.Os.next():Hy.ct),"readwrite-primary"===t?this.Ti(s).next((e=>!!e||this.Ei(s))).next((t=>{if(!t)throw Wv("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new Jv(Yv.FAILED_PRECONDITION,Oy);return n(s)})).next((e=>this.vi(s).next((()=>e)))):this.Oi(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Oi(e){return Gx(e).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Jv(Yv.FAILED_PRECONDITION,Hx)}))}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gx(e).put("owner",t)}static D(){return Dy.D()}Ai(e){const t=Gx(e);return t.get("owner").next((e=>this.Ri(e)?(Hv("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Py.resolve()))}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Wv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;!ts()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Hv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Wv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(GK){Wv("Failed to set zombie client id.",GK)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(GK){}}Di(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Gx(e){return Eb(e,"owner")}function Kx(e){return Eb(e,"clientMetadata")}function Qx(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Xx{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=__(),r=__();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Xx(e,t.fromCache,n,r)}}class $x{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(Xw(t))return Py.resolve(null);let n=e_(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=n_(t,null,"F"),n=e_(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=__(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,n_(t,null,"F")):this.Wi(e,o,t,n)}))))})))))}Gi(e,t,n,r){return Xw(t)||r.isEqual(py.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const o=this.ji(t,i);return this.zi(t,o,n,r)?this.Qi(e,t):(qv()<=js.DEBUG&&Hv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),o_(t)),this.Wi(e,o,t,Sy(r,-1)))}))}ji(e,t){let n=new Ob(c_(e));return t.forEach(((t,r)=>{s_(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return qv()<=js.DEBUG&&Hv("QueryEngine","Using full collection scan to execute query:",o_(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ty.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Yx{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new kb(uy),this.Yi=new u_((e=>Uw(e)),zw),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nx(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function Jx(e,t,n,r){return new Yx(e,t,n,r)}async function Zx(e,t){const n=$v(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=__();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({er:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function eS(e){const t=$v(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function tS(e,t,n){let r=__(),i=__();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=h_();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(py.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Hv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{nr:r,sr:i}}))}function nS(e,t){const n=$v(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function rS(e,t){const n=$v(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Py.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new sC(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function iS(e,t,n){const r=$v(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Fy(e))throw e;Hv("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function oS(e,t,n){const r=$v(e);let i=py.min(),o=__();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=$v(e),i=r.Yi.get(n);return void 0!==i?Py.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,e_(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:py.min(),n?o:__()))).next((e=>(cS(r,a_(t),e),{documents:e,ir:o})))))}function sS(e,t){const n=$v(e),r=$v(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.le(e,t).next((e=>e?e.target:null))))}function aS(e,t){const n=$v(e),r=n.Xi.get(t)||py.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Zi.getAllFromCollectionGroup(e,t,Sy(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(cS(n,t,e),e)))}function cS(e,t,n){let r=e.Xi.get(t)||py.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}async function lS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:__();const r=await rS(e,e_(mC(t.bundledQuery))),i=$v(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=ME(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.qs.saveNamedQuery(e,t);const s=r.withResumeToken(Db.EMPTY_BYTE_STRING,o);return i.Ji=i.Ji.insert(s.targetId,s),i.Bs.updateTargetData(e,s).next((()=>i.Bs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Bs.addMatchingKeys(e,n,r.targetId))).next((()=>i.qs.saveNamedQuery(e,t)))}))}function uS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function dS(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function hS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class fS{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static ar(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Jv(r.error.code,r.error.message))),o?new fS(e,t,r.state,i):(Wv("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pS{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Jv(n.error.code,n.error.message))),i?new pS(e,n.state,r):(Wv("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=C_();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Ky(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new mS(e,i):(Wv("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class gS{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gS(t.clientId,t.onlineState):(Wv("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class vS{constructor(){this.activeTargetIds=C_()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yS{constructor(e,t,n,r,i){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new kb(uy),this.started=!1,this.yr=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.pr=uS(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new vS),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.wr)continue;const e=this.getItem(uS(this.persistenceKey,n));if(e){const t=mS.ar(n,e);t&&(this.gr=this.gr.insert(t.clientId,t))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const e=this.br(t);e&&this.Vr(e)}for(const n of this.yr)this.mr(n);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(hS(this.persistenceKey,e));if(n){const r=pS.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(hS(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Cr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Hv("SharedClientState","READ",e,t),t}setItem(e,t){Hv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Hv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(Hv("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void Wv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Tr.test(t.key)){if(null==t.newValue){const e=this.Or(t.key);return this.Fr(e,null)}{const e=this.Br(t.key,t.newValue);if(e)return this.Fr(e.clientId,e)}}else if(this.Er.test(t.key)){if(null!==t.newValue){const e=this.Lr(t.key,t.newValue);if(e)return this.qr(e)}}else if(this.Ar.test(t.key)){if(null!==t.newValue){const e=this.Ur(t.key,t.newValue);if(e)return this.Kr(e)}}else if(t.key===this.vr){if(null!==t.newValue){const e=this.br(t.newValue);if(e)return this.Vr(e)}}else if(t.key===this.Ir){const e=function(e){let t=Hy.ct;if(null!=e)try{const n=JSON.parse(e);Xv("number"==typeof n),t=n}catch(e){Wv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Hy.ct&&this.sequenceNumberHandler(e)}else if(t.key===this.Rr){const e=this.Gr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Qr(e))))}}else this.yr.push(t)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const r=new fS(this.currentUser,e,t,n),i=dS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}Cr(e){const t=dS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,n){const r=hS(this.persistenceKey,e),i=new pS(e,t,n);this.setItem(r,i.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return mS.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return fS.ar(new Uv(i),r,t)}Ur(e,t){const n=this.Ar.exec(e),r=Number(n[1]);return pS.ar(r,t)}br(e){return gS.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);Hv("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),i=this.Sr(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.Wr(o,s).then((()=>{this.gr=n}))}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=C_();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class bS{constructor(){this.Hr=new vS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new vS,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wS{Yr(e){}shutdown(){}}class _S{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Hv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Hv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ES=null;function CS(){return null===ES?ES=268435456+Math.round(2147483648*Math.random()):ES++,"0x"+ES.toString(16)}const xS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SS{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const kS="WebChannelConnection";class TS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=CS(),s=this.To(e,t);Hv("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={};return this.Eo(a,r,i),this.Ao(e,s,a,n).then((t=>(Hv("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Gv("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+zv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=xS[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=CS();return new Promise(((o,s)=>{const a=new Lv;a.setWithCredentials(!0),a.listenOnce(Rv.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Nv.NO_ERROR:const t=a.getResponseJson();Hv(kS,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Nv.TIMEOUT:Hv(kS,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Jv(Yv.DEADLINE_EXCEEDED,"Request time out"));break;case Nv.HTTP_ERROR:const n=a.getStatus();if(Hv(kS,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Yv).indexOf(t)>=0?t:Yv.UNKNOWN}(t.status);s(new Jv(e,t.message))}else s(new Jv(Yv.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Jv(Yv.UNAVAILABLE,"Connection failed."));break;default:Qv()}}finally{Hv(kS,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);Hv(kS,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",c,n,15)}))}Ro(e,t,n){const r=CS(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Iv(),s=Ov(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.xmlHttpFactory=new Dv({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");Hv(kS,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const u=o.createWebChannel(l,a);let d=!1,h=!1;const f=new SS({ro:t=>{h?Hv(kS,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Hv(kS,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Hv(kS,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Mv.EventType.OPEN,(()=>{h||Hv(kS,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Mv.EventType.CLOSE,(()=>{h||(h=!0,Hv(kS,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())})),p(u,Mv.EventType.ERROR,(t=>{h||(h=!0,Gv(kS,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new Jv(Yv.UNAVAILABLE,"The operation could not be completed")))})),p(u,Mv.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Xv(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Hv(kS,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=sE[e];if(void 0!==t)return lE(t)}(t),i=s.message;void 0===n&&(n=Yv.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.wo(new Jv(n,i)),u.close()}else Hv(kS,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}})),p(s,Pv.STAT_EVENT,(t=>{t.stat===Av.PROXY?Hv(kS,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Av.NOPROXY&&Hv(kS,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function IS(){return"undefined"!=typeof window?window:null}function OS(){return"undefined"!=typeof document?document:null}function NS(e){return new NE(e,!0)}class RS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Hv("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class PS{constructor(e,t,n,r,i,o,s,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new RS(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Yv.RESOURCE_EXHAUSTED?(Wv(t.toString()),Wv("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Yv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new Jv(Yv.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return Hv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(Hv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AS extends PS{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Qv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Xv(void 0===t||"string"==typeof t),Db.fromBase64String(t||"")):(Xv(void 0===t||t instanceof Uint8Array),Db.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Yv.UNKNOWN:lE(e.code);return new Jv(t,e.message||"")}(s);n=new EE(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=BE(e,r.document.name),o=ME(r.document.updateTime),s=r.document.createTime?ME(r.document.createTime):py.min(),a=new dw({mapValue:{fields:r.document.fields}}),c=fw.newFoundDocument(i,o,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new wE(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=BE(e,r.document),o=r.readTime?ME(r.readTime):py.min(),s=fw.newNoDocument(i,o),a=r.removedTargetIds||[];n=new wE([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=BE(e,r.document),o=r.removedTargetIds||[];n=new wE([],o,i,null)}else{if(!("filter"in t))return Qv();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new oE(r,i),s=e.targetId;n=new _E(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return py.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?py.min():t.readTime?ME(t.readTime):py.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=VE(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Vw(r)?{documents:QE(e,r)}:{query:XE(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=AE(e,t.resumeToken);const r=RE(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(py.min())>0){n.readTime=PE(e,t.snapshotVersion.toTimestamp());const r=RE(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qv()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=VE(this.serializer),t.removeTarget=e,this.Wo(t)}}class DS extends PS{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Xv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Xv(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ME(e.updateTime):ME(t);return n.isEqual(py.min())&&(n=ME(t)),new U_(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ME(e.commitTime);return this.listener.cu(n,t)}return Xv(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=VE(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>GE(this.serializer,e)))};this.Wo(t)}}class MS extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Jv(Yv.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.Io(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Yv.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Jv(Yv.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.vo(e,t,n,o,s,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Yv.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Jv(Yv.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class LS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Wv(t),this.mu=!1):Hv("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class FS{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{GS(this)&&(Hv("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=$v(e);t.vu.add(4),await BS(t),t.bu.set("Unknown"),t.vu.delete(4),await jS(t)}(this))}))})),this.bu=new LS(n,r)}}async function jS(e){if(GS(e))for(const t of e.Ru)await t(!0)}async function BS(e){for(const t of e.Ru)await t(!1)}function US(e,t){const n=$v(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),WS(n)?HS(n):uk(n).Ko()&&VS(n,t))}function zS(e,t){const n=$v(e),r=uk(n);n.Au.delete(t),r.Ko()&&qS(n,t),0===n.Au.size&&(r.Ko()?r.jo():GS(n)&&n.bu.set("Unknown"))}function VS(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(py.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}uk(e).su(t)}function qS(e,t){e.Vu.qt(t),uk(e).iu(t)}function HS(e){e.Vu=new xE({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),uk(e).start(),e.bu.gu()}function WS(e){return GS(e)&&!uk(e).Uo()&&e.Au.size>0}function GS(e){return 0===$v(e).vu.size}function KS(e){e.Vu=void 0}async function QS(e){e.Au.forEach(((t,n)=>{VS(e,t)}))}async function XS(e,t){KS(e),WS(e)?(e.bu.Iu(t),HS(e)):e.bu.set("Unknown")}async function $S(e,t,n){if(e.bu.set("Online"),t instanceof EE&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Hv("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await YS(e,n)}else if(t instanceof wE?e.Vu.Ht(t):t instanceof _E?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(py.min()))try{const t=await eS(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Db.EMPTY_BYTE_STRING,r.snapshotVersion)),qS(e,t);const i=new sC(r.target,t,n,r.sequenceNumber);VS(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Hv("RemoteStore","Failed to raise snapshot:",t),await YS(e,t)}}async function YS(e,t,n){if(!Fy(t))throw t;e.vu.add(1),await BS(e),e.bu.set("Offline"),n||(n=()=>eS(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Hv("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await jS(e)}))}function JS(e,t){return t().catch((n=>YS(e,n,t)))}async function ZS(e){const t=$v(e),n=dk(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;ek(t);)try{const e=await nS(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,tk(t,e)}catch(e){await YS(t,e)}nk(t)&&rk(t)}function ek(e){return GS(e)&&e.Eu.length<10}function tk(e,t){e.Eu.push(t);const n=dk(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function nk(e){return GS(e)&&!dk(e).Uo()&&e.Eu.length>0}function rk(e){dk(e).start()}async function ik(e){dk(e).hu()}async function ok(e){const t=dk(e);for(const n of e.Eu)t.uu(n.mutations)}async function sk(e,t,n){const r=e.Eu.shift(),i=rE.from(r,t,n);await JS(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ZS(e)}async function ak(e,t){t&&dk(e).ou&&await async function(e,t){if(cE(n=t.code)&&n!==Yv.ABORTED){const n=e.Eu.shift();dk(e).Qo(),await JS(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ZS(e)}var n}(e,t),nk(e)&&rk(e)}async function ck(e,t){const n=$v(e);n.asyncQueue.verifyOperationInProgress(),Hv("RemoteStore","RemoteStore received new credentials");const r=GS(n);n.vu.add(3),await BS(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await jS(n)}async function lk(e,t){const n=$v(e);t?(n.vu.delete(2),await jS(n)):t||(n.vu.add(2),await BS(n),n.bu.set("Unknown"))}function uk(e){return e.Su||(e.Su=function(e,t,n){const r=$v(e);return r.fu(),new AS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:QS.bind(null,e),ao:XS.bind(null,e),nu:$S.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),WS(e)?HS(e):e.bu.set("Unknown")):(await e.Su.stop(),KS(e))}))),e.Su}function dk(e){return e.Du||(e.Du=function(e,t,n){const r=$v(e);return r.fu(),new DS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:ik.bind(null,e),ao:ak.bind(null,e),au:ok.bind(null,e),cu:sk.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await ZS(e)):(await e.Du.stop(),e.Eu.length>0&&(Hv("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class hk{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Zv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new hk(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Jv(Yv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fk(e,t){if(Wv("AsyncQueue","".concat(t,": ").concat(e)),Fy(e))return new Jv(Yv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class pk{constructor(e){this.comparator=e?(t,n)=>e(t,n)||by.comparator(t.key,n.key):(e,t)=>by.comparator(e.key,t.key),this.keyedMap=p_(),this.sortedSet=new kb(this.comparator)}static emptySet(e){return new pk(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pk))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new pk;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class mk{constructor(){this.Cu=new kb(by.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Qv():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class gk{constructor(e,t,n,r,i,o,s,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new gk(e,t,pk.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&r_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class vk{constructor(){this.Nu=void 0,this.listeners=[]}}class yk{constructor(){this.queries=new u_((e=>i_(e)),r_),this.onlineState="Unknown",this.ku=new Set}}async function bk(e,t){const n=$v(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new vk),i)try{o.Nu=await n.onListen(r)}catch(e){const n=fk(e,"Initialization of query '".concat(o_(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&Ck(n)}async function wk(e,t){const n=$v(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function _k(e,t){const n=$v(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Ck(n)}function Ek(e,t,n){const r=$v(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function Ck(e){e.ku.forEach((e=>{e.next()}))}class xk{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new gk(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=gk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Sk{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class kk{constructor(e){this.serializer=e}rr(e){return BE(this.serializer,e)}ur(e){return e.metadata.exists?WE(this.serializer,e.document,!1):fw.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return ME(e)}}class Tk{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ik(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=gy.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new kk(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.rr(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||__()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=$v(e);let o=__(),s=h_();for(const l of n){const e=t.rr(l.metadata.name);l.document&&(o=o.add(e));const n=t.ur(l);n.setReadTime(t.cr(l.metadata.readTime)),s=s.insert(e,n)}const a=i.Zi.newChangeBuffer({trackRemovals:!0}),c=await rS(i,function(e){return e_(Qw(gy.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>tS(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Bs.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Bs.addMatchingKeys(e,o,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr))).next((()=>t.nr))))))}(this.localStore,new kk(this.serializer),this.documents,this.ju.id),t=this.Wu(this.documents);for(const n of this.queries)await lS(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function Ik(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Ok{constructor(e){this.key=e}}class Nk{constructor(e){this.key=e}}class Rk{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=__(),this.mutatedKeys=__(),this.tc=c_(e),this.ec=new pk(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new mk,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=s_(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.tc(u,a)>0||c&&this.tc(u,c)<0)&&(s=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:s,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qv()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,a=s!==this.Xu;return this.Xu=s,0!==i.length||a?{snapshot:new gk(this.query,e.ec,r,i,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new mk,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=__(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new Nk(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new Ok(n))})),t}hc(e){this.Yu=e.ir,this.Zu=__();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return gk.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Pk{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Ak{constructor(e){this.key=e,this.fc=!1}}class Dk{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new u_((e=>i_(e)),r_),this._c=new Map,this.mc=new Set,this.gc=new kb(by.comparator),this.yc=new Map,this.Ic=new Ax,this.Tc={},this.Ec=new Map,this.Ac=cx.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Mk(e,t){const n=aT(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await rS(n.localStore,e_(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Lk(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&US(n.remoteStore,e)}return i}async function Lk(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await oS(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return Kk(e,t.targetId,s.cc),s.snapshot}(e,t,n,r);const o=await oS(e.localStore,t,!0),s=new Rk(t,o.ir),a=s.sc(o.documents),c=bE.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=s.applyChanges(a,e.isPrimaryClient,c);Kk(e,n,l.cc);const u=new Pk(t,n,s);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),l.snapshot}async function Fk(e,t){const n=$v(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!r_(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await iS(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),zS(n.remoteStore,r.targetId),Wk(n,r.targetId)})).catch(Ry)):(Wk(n,r.targetId),await iS(n.localStore,r.targetId,!0))}async function jk(e,t){const n=$v(e);try{const e=await function(e,t){const n=$v(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const s=[];t.targetChanges.forEach(((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,o.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(Db.EMPTY_BYTE_STRING,py.min()).withLastLimboFreeSnapshotVersion(py.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,o)&&s.push(n.Bs.updateTargetData(e,l))}));let a=h_(),c=__();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(tS(e,o,t.documentUpdates).next((e=>{a=e.nr,c=e.sr}))),!r.isEqual(py.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Py.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(Xv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Xv(r.fc):e.removedDocuments.size>0&&(Xv(r.fc),r.fc=!1))})),await $k(n,e,t)}catch(e){await Ry(e)}}function Bk(e,t,n){const r=$v(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=$v(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&Ck(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Uk(e,t,n){const r=$v(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new kb(by.comparator);e=e.insert(o,fw.newNoDocument(o,py.min()));const n=__().add(o),i=new yE(py.min(),new Map,new kb(uy),e,n);await jk(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),Xk(r)}else await iS(r.localStore,t,!1).then((()=>Wk(r,t,n))).catch(Ry)}async function zk(e,t){const n=$v(e),r=t.batch.batchId;try{const e=await function(e,t){const n=$v(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Py.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Xv(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=__();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Hk(n,r,null),qk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $k(n,e)}catch(e){await Ry(e)}}async function Vk(e,t,n){const r=$v(e);try{const e=await function(e,t){const n=$v(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Xv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Hk(r,t,n),qk(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await $k(r,e)}catch(n){await Ry(n)}}function qk(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function Hk(e,t,n){const r=$v(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Wk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Gk(e,t)}))}function Gk(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(zS(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Xk(e))}function Kk(e,t,n){for(const r of n)r instanceof Ok?(e.Ic.addReference(r.key,t),Qk(e,r)):r instanceof Nk?(Hv("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Gk(e,r.key)):Qv()}function Qk(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Hv("SyncEngine","New document in limbo: "+n),e.mc.add(r),Xk(e))}function Xk(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new by(gy.fromString(t)),r=e.Ac.next();e.yc.set(r,new Ak(n)),e.gc=e.gc.insert(n,r),US(e.remoteStore,new sC(e_(Qw(n.path)),r,"TargetPurposeLimboResolution",Hy.ct))}}async function $k(e,t,n){const r=$v(e),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach(((e,a)=>{s.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Xx.Li(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.dc.nu(i),await async function(e,t){const n=$v(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Py.forEach(t,(t=>Py.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Py.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Fy(e))throw e;Hv("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,o))}async function Yk(e,t){const n=$v(e);if(!n.currentUser.isEqual(t)){Hv("SyncEngine","User change. New user:",t.toKey());const e=await Zx(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Jv(Yv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await $k(n,e.er)}}function Jk(e,t){const n=$v(e),r=n.yc.get(t);if(r&&r.fc)return __().add(r.key);{let e=__();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}async function Zk(e,t){const n=$v(e),r=await oS(n.localStore,t.query,!0),i=t.view.hc(r);return n.isPrimaryClient&&Kk(n,t.targetId,i.cc),i}async function eT(e,t){const n=$v(e);return aS(n.localStore,t).then((e=>$k(n,e)))}async function tT(e,t,n,r){const i=$v(e),o=await function(e,t){const n=$v(e),r=$v(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Sn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Py.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await ZS(i.remoteStore):"acknowledged"===n||"rejected"===n?(Hk(i,t,r||null),qk(i,t),function(e,t){$v($v(e).mutationQueue).Cn(t)}(i.localStore,t)):Qv(),await $k(i,o)):Hv("SyncEngine","Cannot apply mutation batch with id: "+t)}async function nT(e,t,n){const r=$v(e),i=[],o=[];for(const s of t){let e;const t=r._c.get(s);if(t&&0!==t.length){e=await rS(r.localStore,e_(t[0]));for(const e of t){const t=r.wc.get(e),n=await Zk(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await sS(r.localStore,s);e=await rS(r.localStore,t),await Lk(r,rT(t),s,!1,e.resumeToken)}i.push(e)}return r.dc.nu(o),i}function rT(e){return Kw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function iT(e){const t=$v(e);return $v($v(t.localStore).persistence).$i()}async function oT(e,t,n,r){const i=$v(e);if(i.vc)return void Hv("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await aS(i.localStore,a_(o[0])),r=yE.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Db.EMPTY_BYTE_STRING);await $k(i,e,r);break}case"rejected":await iS(i.localStore,t,!0),Wk(i,t,r);break;default:Qv()}}async function sT(e,t,n){const r=aT(e);if(r.vc){for(const e of t){if(r._c.has(e)){Hv("SyncEngine","Adding an already active target "+e);continue}const t=await sS(r.localStore,e),n=await rS(r.localStore,t);await Lk(r,rT(t),n.targetId,!1,n.resumeToken),US(r.remoteStore,n)}for(const e of n)r._c.has(e)&&await iS(r.localStore,e,!1).then((()=>{zS(r.remoteStore,e),Wk(r,e)})).catch(Ry)}}function aT(e){const t=$v(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Uk.bind(null,t),t.dc.nu=_k.bind(null,t.eventManager),t.dc.Pc=Ek.bind(null,t.eventManager),t}function cT(e){const t=$v(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vk.bind(null,t),t}class lT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=NS(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Jx(this.persistence,new $x,e.initialUser,this.serializer)}createPersistence(e){return new Bx(zx.zs,this.serializer)}createSharedClientState(e){return new bS}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class uT extends lT{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await cT(this.Vc.syncEngine),await ZS(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Jx(this.persistence,new $x,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new mx(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new qy(t,this.persistence);return new Vy(e.asyncQueue,n)}createPersistence(e){const t=Qx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ex.withCacheSize(this.cacheSizeBytes):ex.DEFAULT;return new Wx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,IS(),OS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new bS}}class dT extends uT{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof yS&&(this.sharedClientState.syncEngine={jr:tT.bind(null,t),zr:oT.bind(null,t),Wr:sT.bind(null,t),$i:iT.bind(null,t),Qr:eT.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii((async e=>{await async function(e,t){const n=$v(e);if(aT(n),cT(n),!0===t&&!0!==n.vc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await nT(n,e.toArray());n.vc=!0,await lk(n.remoteStore,!0);for(const r of t)US(n.remoteStore,r)}else if(!1===t&&!1!==n.vc){const e=[];let t=Promise.resolve();n._c.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Wk(n,i),iS(n.localStore,i,!0)))),zS(n.remoteStore,i)})),await t,await nT(n,e),function(e){const t=$v(e);t.yc.forEach(((e,n)=>{zS(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new kb(by.comparator)}(n),n.vc=!1,await lk(n.remoteStore,!1)}}(this.Vc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=IS();if(!yS.D(t))throw new Jv(Yv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Qx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class hT{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Bk(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yk.bind(null,this.syncEngine),await lk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new yk}createDatastore(e){const t=NS(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new TS(r));var r;return function(e,t,n,r){return new MS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Bk(this.syncEngine,e,0),o=_S.D()?new _S:new wS,new FS(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Dk(e,t,n,r,i,o);return s&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=$v(e);Hv("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await BS(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}function fT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class pT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Wv("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class mT{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Zv,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((e=>{e&&e.Qu()?this.metadata.resolve(e.Gu.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(e=>this.metadata.reject(e)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(null===e)return null;const t=this.xc.decode(e),n=Number(t);isNaN(n)&&this.Mc("length string (".concat(t,") is not valid number"));const r=await this.$c(n);return new Sk(JSON.parse(r),e.length+n)}Oc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(0===this.buffer.length)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const t=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Mc(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}async Fc(){const e=await this.Cc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class gT{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Jv(Yv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=$v(e),r=VE(n.serializer)+"/documents",i={documents:t.map((e=>jE(n.serializer,e)))},o=await n.vo("BatchGetDocuments",r,i,t.length),s=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Xv(!!t.found),t.found.name,t.found.updateTime;const n=BE(e,t.found.name),r=ME(t.found.updateTime),i=t.found.createTime?ME(t.found.createTime):py.min(),o=new dw({mapValue:{fields:t.found.fields}});return fw.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Xv(!!t.missing),Xv(!!t.readTime);const n=BE(e,t.missing),r=ME(t.readTime);return fw.newNoDocument(n,r)}(e,t):Qv()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());Xv(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new eE(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=by.fromPath(t);this.mutations.push(new tE(n,this.precondition(n)))})),await async function(e,t){const n=$v(e),r=VE(n.serializer)+"/documents",i={writes:t.map((e=>GE(n.serializer,e)))};await n.Io("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Qv();t=py.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Jv(Yv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(py.min())?z_.exists(!1):z_.updateTime(t):z_.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(py.min()))throw new Jv(Yv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return z_.updateTime(t)}return z_.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vT{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Bc=n.maxAttempts,this.qo=new RS(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const e=new gT(this.datastore),t=this.qc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Uc(e)}))))})).catch((e=>{this.Uc(e)}))}))}qc(e){try{const t=this.updateFunction(e);return!Wy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!cE(t)}return!1}}class yT{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Uv.UNAUTHENTICATED,this.clientId=ly.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Hv("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Hv("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Jv(Yv.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(KK){const n=fk(KK,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function bT(e,t){e.asyncQueue.verifyOperationInProgress(),Hv("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Zx(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function wT(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ET(e);Hv("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>ck(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ck(t.remoteStore,n))),e._onlineComponents=t}function _T(e){return"FirebaseError"===e.name?e.code===Yv.FAILED_PRECONDITION||e.code===Yv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function ET(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Hv("FirestoreClient","Using user provided OfflineComponentProvider");try{await bT(e,e._uninitializedComponentsProvider._offline)}catch(KK){const n=KK;if(!_T(n))throw n;Gv("Error using user provided cache. Falling back to memory cache: "+n),await bT(e,new lT)}}else Hv("FirestoreClient","Using default OfflineComponentProvider"),await bT(e,new lT);return e._offlineComponents}async function CT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Hv("FirestoreClient","Using user provided OnlineComponentProvider"),await wT(e,e._uninitializedComponentsProvider._online)):(Hv("FirestoreClient","Using default OnlineComponentProvider"),await wT(e,new hT))),e._onlineComponents}function xT(e){return ET(e).then((e=>e.persistence))}function ST(e){return ET(e).then((e=>e.localStore))}function kT(e){return CT(e).then((e=>e.remoteStore))}function TT(e){return CT(e).then((e=>e.syncEngine))}function IT(e){return CT(e).then((e=>e.datastore))}async function OT(e){const t=await CT(e),n=t.eventManager;return n.onListen=Mk.bind(null,t.syncEngine),n.onUnlisten=Fk.bind(null,t.syncEngine),n}function NT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Zv;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new pT({next:o=>{t.enqueueAndForget((()=>wk(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Jv(Yv.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Jv(Yv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new xk(Qw(n.path),o,{includeMetadataChanges:!0,Ku:!0});return bk(e,s)}(await OT(e),e.asyncQueue,t,n,r))),r.promise}function RT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Zv;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new pT({next:n=>{t.enqueueAndForget((()=>wk(e,s))),n.fromCache&&"server"===r.source?i.reject(new Jv(Yv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new xk(n,o,{includeMetadataChanges:!0,Ku:!0});return bk(e,s)}(await OT(e),e.asyncQueue,t,n,r))),r.promise}function PT(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?hE().encode(e):e,function(e,t){return new mT(e,t)}(function(e,t){if(e instanceof Uint8Array)return fT(e,t);if(e instanceof ArrayBuffer)return fT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,NS(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=$v(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=$v(e),r=ME(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.qs.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Ik(r));const i=new Tk(r,e.localStore,t.serializer);let o=await t.bc();for(;o;){const e=await i.zu(o);e&&n._updateProgress(e),o=await t.bc()}const s=await i.complete();return await $k(e,s.Ju,void 0),await function(e,t){const n=$v(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.qs.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.Hu)}catch(e){return Gv("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await TT(e),i,r)}))}function AT(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const DT=new Map;function MT(e,t,n){if(!n)throw new Jv(Yv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function LT(e,t,n,r){if(!0===t&&!0===r)throw new Jv(Yv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function FT(e){if(!by.isDocumentKey(e))throw new Jv(Yv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function jT(e){if(by.isDocumentKey(e))throw new Jv(Yv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function BT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Qv()}function UT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Jv(Yv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=BT(e);throw new Jv(Yv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function zT(e,t){if(t<=0)throw new Jv(Yv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class VT{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Jv(Yv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Jv(Yv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AT(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Jv(Yv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Jv(Yv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Jv(Yv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class qT{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Jv(Yv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Jv(Yv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ty;switch(e.type){case"firstParty":return new oy(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Jv(Yv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=DT.get(e);t&&(Hv("ComponentProvider","Removing Datastore"),DT.delete(e),t.terminate())}(this),Promise.resolve()}}function HT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=UT(e,qT))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Gv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Uv.MOCK_USER;else{t=Jo(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Jv(Yv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Uv(o)}e._authCredentials=new ny(new ey(t,n))}}class WT{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new KT(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new WT(this.firestore,e,this._key)}}class GT{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new GT(this.firestore,e,this._query)}}class KT extends GT{constructor(e,t,n){super(e,t,Qw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new WT(this.firestore,null,new by(e))}withConverter(e){return new KT(this.firestore,e,this._path)}}function QT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rs(e),MT("collection","path",t),e instanceof qT){const n=gy.fromString(t,...r);return jT(n),new KT(e,null,n)}{if(!(e instanceof WT||e instanceof KT))throw new Jv(Yv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(gy.fromString(t,...r));return jT(n),new KT(e.firestore,null,n)}}function XT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rs(e),1===arguments.length&&(t=ly.A()),MT("doc","path",t),e instanceof qT){const n=gy.fromString(t,...r);return FT(n),new WT(e,null,new by(n))}{if(!(e instanceof WT||e instanceof KT))throw new Jv(Yv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(gy.fromString(t,...r));return FT(n),new WT(e.firestore,e instanceof KT?e.converter:null,new by(n))}}function $T(e,t){return e=Rs(e),t=Rs(t),(e instanceof WT||e instanceof KT)&&(t instanceof WT||t instanceof KT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function YT(e,t){return e=Rs(e),t=Rs(t),e instanceof GT&&t instanceof GT&&e.firestore===t.firestore&&r_(e._query,t._query)&&e.converter===t.converter}class JT{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new RS(this,"async_queue_retry"),this.Xc=()=>{const e=OS();e&&Hv("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=OS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=OS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new Zv;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(GK){if(!Fy(GK))throw GK;Hv("AsyncQueue","Operation failed with retryable error: "+GK)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Wv("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=hk.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&Qv()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function ZT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class eI{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class tI extends qT{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new JT,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rI(this),this._firestoreClient.terminate()}}function nI(e){return e._firestoreClient||rI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rI(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Vb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,AT(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new yT(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function iI(e,t,n){const r=new Zv;return e.asyncQueue.enqueue((async()=>{try{await bT(e,n),await wT(e,t),r.resolve()}catch(e){const n=e;if(!_T(n))throw n;Gv("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function oI(e){return function(e){const t=new Zv;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=$v(e);GS(n.remoteStore)||Hv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=$v(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ec.get(e)||[];r.push(t),n.Ec.set(e,r)}catch(e){const n=fk(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await TT(e),t))),t.promise}(nI(e=UT(e,tI)))}function sI(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await xT(e),n=await kT(e);return t.setNetworkEnabled(!0),function(e){const t=$v(e);return t.vu.delete(0),jS(t)}(n)}))}(nI(e=UT(e,tI)))}function aI(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await xT(e),n=await kT(e);return t.setNetworkEnabled(!1),async function(e){const t=$v(e);t.vu.add(0),await BS(t),t.bu.set("Offline")}(n)}))}(nI(e=UT(e,tI)))}function cI(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=$v(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.qs.getNamedQuery(e,t)))}(await ST(e),t)))}(nI(e=UT(e,tI)),t).then((t=>t?new GT(e,null,t.query):null))}function lI(e){if(e._initialized||e._terminated)throw new Jv(Yv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uI(Db.fromBase64String(e))}catch(e){throw new Jv(Yv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new uI(Db.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dI{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Jv(Yv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yy(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hI{constructor(e){this._methodName=e}}class fI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Jv(Yv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Jv(Yv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return uy(this._lat,e._lat)||uy(this._long,e._long)}}const pI=/^__.*__$/;class mI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new $_(e,this.data,this.fieldMask,t,this.fieldTransforms):new X_(e,this.data,t,this.fieldTransforms)}}class gI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new $_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qv()}}class yI{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new yI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return jI(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(vI(this.ca)&&pI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class bI{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||NS(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new yI({ca:e,methodName:t,ga:n,path:yy.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wI(e){const t=e._freezeSettings(),n=NS(e._databaseId);return new bI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _I(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ya(o.merge||o.mergeFields?2:0,t,n,i);DI("Data must be an object, but it was:",s,r);const a=PI(r,s);let c,l;if(o.merge)c=new Pb(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=MI(t,r,n);if(!s.contains(i))throw new Jv(Yv.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));BI(e,i)||e.push(i)}c=new Pb(e),l=s.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=s.fieldTransforms;return new mI(new dw(a),c,l)}class EI extends hI{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof EI}}function CI(e,t,n){return new yI({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class xI extends hI{_toFieldTransform(e){return new B_(e.path,new R_)}isEqual(e){return e instanceof xI}}class SI extends hI{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=CI(this,e,!0),n=this.pa.map((e=>RI(e,t))),r=new P_(n);return new B_(e.path,r)}isEqual(e){return this===e}}class kI extends hI{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=CI(this,e,!0),n=this.pa.map((e=>RI(e,t))),r=new D_(n);return new B_(e.path,r)}isEqual(e){return this===e}}class TI extends hI{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new L_(e.serializer,k_(e.serializer,this.Ia));return new B_(e.path,t)}isEqual(e){return this===e}}function II(e,t,n,r){const i=e.ya(1,t,n);DI("Data must be an object, but it was:",i,r);const o=[],s=dw.empty();xb(r,((e,r)=>{const a=FI(t,e,n);r=Rs(r);const c=i.da(a);if(r instanceof EI)o.push(a);else{const e=RI(r,c);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Pb(o);return new gI(s,a,i.fieldTransforms)}function OI(e,t,n,r,i,o){const s=e.ya(1,t,n),a=[MI(t,r,n)],c=[i];if(o.length%2!=0)throw new Jv(Yv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(MI(t,o[h])),c.push(o[h+1]);const l=[],u=dw.empty();for(let h=a.length-1;h>=0;--h)if(!BI(l,a[h])){const e=a[h];let t=c[h];t=Rs(t);const n=s.da(e);if(t instanceof EI)l.push(e);else{const r=RI(t,n);null!=r&&(l.push(e),u.set(e,r))}}const d=new Pb(l);return new gI(u,d,s.fieldTransforms)}function NI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return RI(n,e.ya(r?4:3,t))}function RI(e,t){if(AI(e=Rs(e)))return DI("Unsupported field value:",t,e),PI(e,t);if(e instanceof hI)return function(e,t){if(!vI(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=RI(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Rs(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return k_(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=fy.fromDate(e);return{timestampValue:PE(t.serializer,n)}}if(e instanceof fy){const n=new fy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:PE(t.serializer,n)}}if(e instanceof fI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uI)return{bytesValue:AE(t.serializer,e._byteString)};if(e instanceof WT){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:LE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(BT(e)))}(e,t)}function PI(e,t){const n={};return Sb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xb(e,((e,r)=>{const i=RI(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function AI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof fy||e instanceof fI||e instanceof uI||e instanceof WT||e instanceof hI)}function DI(e,t,n){if(!AI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=BT(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function MI(e,t,n){if((t=Rs(t))instanceof dI)return t._internalPath;if("string"==typeof t)return FI(e,t);throw jI("Field path arguments must be of type string or ",e,!1,void 0,n)}const LI=new RegExp("[~\\*/\\[\\]]");function FI(e,t,n){if(t.search(LI)>=0)throw jI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new dI(...t.split("."))._internalPath}catch(r){throw jI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function jI(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=" in field ".concat(r)),s&&(c+=" in document ".concat(i)),c+=")"),new Jv(Yv.INVALID_ARGUMENT,a+e+c)}function BI(e,t){return e.some((e=>e.isEqual(t)))}class UI{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new WT(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(VI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zI extends UI{data(){return super.data()}}function VI(e,t){return"string"==typeof t?FI(e,t):t instanceof dI?t._internalPath:t._delegate._internalPath}function qI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Jv(Yv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HI{}class WI extends HI{}function GI(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof HI&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof QI)).length,n=e.filter((e=>e instanceof KI)).length;if(t>1||t>0&&n>0)throw new Jv(Yv.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class KI extends WI{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new KI(e,t,n)}_apply(e){const t=this._parse(e);return nO(e._query,t),new GT(e.firestore,e.converter,t_(e._query,t))}_parse(e){const t=wI(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Jv(Yv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){tO(s,o);const t=[];for(const n of s)t.push(eO(r,e,n));a={arrayValue:{values:t}}}else a=eO(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||tO(s,o),a=NI(n,"where",s,"in"===o||"not-in"===o);return ww.create(i,o,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class QI extends HI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new QI(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:_w.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)nO(n,i),n=t_(n,i)}(e._query,t),new GT(e.firestore,e.converter,t_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class XI extends WI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new XI(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Jv(Yv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Jv(Yv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new vw(t,n);return function(e,t){if(null===$w(e)){const n=Yw(e);null!==n&&rO(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new GT(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Gw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class $I extends WI{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new $I(e,t,n)}_apply(e){return new GT(e.firestore,e.converter,n_(e._query,this._limit,this._limitType))}}class YI extends WI{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new YI(e,t,n)}_apply(e){const t=ZI(e,this.type,this._docOrFields,this._inclusive);return new GT(e.firestore,e.converter,function(e,t){return new Gw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class JI extends WI{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new JI(e,t,n)}_apply(e){const t=ZI(e,this.type,this._docOrFields,this._inclusive);return new GT(e.firestore,e.converter,function(e,t){return new Gw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function ZI(e,t,n,r){if(n[0]=Rs(n[0]),n[0]instanceof UI)return function(e,t,n,r,i){if(!r)throw new Jv(Yv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of Zw(e))if(s.field.isKeyField())o.push(Zb(t,r.key));else{const e=r.data.field(s.field);if(Bb(e))throw new Jv(Yv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new Jv(Yv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new pw(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=wI(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new Jv(Yv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<i.length;c++){const o=i[c];if(s[c].field.isKeyField()){if("string"!=typeof o)throw new Jv(Yv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!Jw(e)&&-1!==o.indexOf("/"))throw new Jv(Yv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(gy.fromString(o));if(!by.isDocumentKey(n))throw new Jv(Yv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new by(n);a.push(Zb(t,i))}else{const e=NI(n,r,o);a.push(e)}}return new pw(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function eO(e,t,n){if("string"==typeof(n=Rs(n))){if(""===n)throw new Jv(Yv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jw(t)&&-1!==n.indexOf("/"))throw new Jv(Yv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(gy.fromString(n));if(!by.isDocumentKey(r))throw new Jv(Yv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Zb(e,new by(r))}if(n instanceof WT)return Zb(e,n._key);throw new Jv(Yv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(BT(n),"."))}function tO(e,t){if(!Array.isArray(e)||0===e.length)throw new Jv(Yv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function nO(e,t){if(t.isInequality()){const n=Yw(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Jv(Yv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=$w(e);null!==i&&rO(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Jv(Yv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Jv(Yv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function rO(e,t,n){if(!n.isEqual(t))throw new Jv(Yv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class iO{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Gb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Qv()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return xb(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new fI(Fb(e.latitude),Fb(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ub(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(zb(e));default:return null}}convertTimestamp(e){const t=Lb(e);return new fy(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=gy.fromString(e);Xv(oC(n));const r=new qb(n.get(1),n.get(3)),i=new by(n.popFirst(5));return r.isEqual(t)||Wv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function oO(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class sO extends iO{constructor(e){super(),this.firestore=e}convertBytes(e){return new uI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new WT(this.firestore,null,t)}}class aO{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cO extends UI{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new lO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(VI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class lO extends cO{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class uO{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new aO(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new lO(this._firestore,this._userDataWriter,n.key,n,new aO(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Jv(Yv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new lO(e._firestore,e._userDataWriter,n.doc.key,n.doc,new aO(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new lO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new aO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:dO(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function dO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qv()}}function hO(e,t){return e instanceof cO&&t instanceof cO?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof uO&&t instanceof uO&&e._firestore===t._firestore&&YT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class fO extends iO{constructor(e){super(),this.firestore=e}convertBytes(e){return new uI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new WT(this.firestore,null,t)}}function pO(e){e=UT(e,WT);const t=UT(e.firestore,tI),n=nI(t),r=new fO(t);return function(e,t){const n=new Zv;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=$v(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Jv(Yv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=fk(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await ST(e),t,n))),n.promise}(n,e._key).then((n=>new cO(t,r,e._key,n,new aO(null!==n&&n.hasLocalMutations,!0),e.converter)))}function mO(e){e=UT(e,GT);const t=UT(e.firestore,tI),n=nI(t),r=new fO(t);return function(e,t){const n=new Zv;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await oS(e,t,!0),i=new Rk(t,r.ir),o=i.sc(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=fk(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await ST(e),t,n))),n.promise}(n,e._query).then((n=>new uO(t,r,e,n)))}function gO(e,t,n){e=UT(e,WT);const r=UT(e.firestore,tI),i=oO(e.converter,t,n);return wO(r,[_I(wI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,z_.none())])}function vO(e,t,n){e=UT(e,WT);const r=UT(e.firestore,tI),i=wI(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),c=3;c<s;c++)a[c-3]=arguments[c];return o="string"==typeof(t=Rs(t))||t instanceof dI?OI(i,"updateDoc",e._key,t,n,a):II(i,"updateDoc",e._key,t),wO(r,[o.toMutation(e._key,z_.exists(!0))])}function yO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=Rs(e);let a={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||ZT(n[c])||(a=n[c],c++);const l={includeMetadataChanges:a.includeMetadataChanges};if(ZT(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[c+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof WT)d=UT(e.firestore,tI),h=Qw(e._key.path),u={next:t=>{n[c]&&n[c](_O(d,e,t))},error:n[c+1],complete:n[c+2]};else{const t=UT(e,GT);d=UT(t.firestore,tI),h=t._query;const r=new fO(d);u={next:e=>{n[c]&&n[c](new uO(d,r,t,e))},error:n[c+1],complete:n[c+2]},qI(e._query)}return function(e,t,n,r){const i=new pT(r),o=new xk(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>bk(await OT(e),o))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>wk(await OT(e),o)))}}(nI(d),h,l,u)}function bO(e,t){return function(e,t){const n=new pT(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){$v(e).ku.add(t),t.next()}(await OT(e),n))),()=>{n.Dc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){$v(e).ku.delete(t)}(await OT(e),n)))}}(nI(e=UT(e,tI)),ZT(t)?t:{next:t})}function wO(e,t){return function(e,t){const n=new Zv;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=cT(e);try{const e=await function(e,t){const n=$v(e),r=fy.now(),i=t.reduce(((e,t)=>e.add(t.key)),__());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=h_(),c=__();return n.Zi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=K_(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new $_(e.key,t,hw(t.value.mapValue),z_.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:m_(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new kb(uy)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await $k(r,e.changes),await ZS(r.remoteStore)}catch(e){const t=fk(e,"Failed to persist write");n.reject(t)}}(await TT(e),t,n))),n.promise}(nI(e),t)}function _O(e,t,n){const r=n.docs.get(t._key),i=new fO(e);return new cO(e,i,t._key,r,new aO(n.hasPendingWrites,n.fromCache),t.converter)}const EO={maxAttempts:5};class CO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wI(e)}set(e,t,n){this._verifyNotCommitted();const r=xO(e,this._firestore),i=oO(r.converter,t,n),o=_I(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,z_.none())),this}update(e,t,n){this._verifyNotCommitted();const r=xO(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Rs(t))||t instanceof dI?OI(this._dataReader,"WriteBatch.update",r._key,t,n,s):II(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,z_.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=xO(e,this._firestore);return this._mutations=this._mutations.concat(new eE(t._key,z_.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Jv(Yv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xO(e,t){if((e=Rs(e)).firestore!==t)throw new Jv(Yv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class SO extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wI(e)}get(e){const t=xO(e,this._firestore),n=new sO(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Qv();const r=e[0];if(r.isFoundDocument())return new UI(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new UI(this._firestore,n,t._key,null,t.converter);throw Qv()}))}set(e,t,n){const r=xO(e,this._firestore),i=oO(r.converter,t,n),o=_I(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=xO(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Rs(t))||t instanceof dI?OI(this._dataReader,"Transaction.update",r._key,t,n,s):II(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=xO(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=xO(e,this._firestore),n=new fO(this._firestore);return super.get(e).then((e=>new cO(this._firestore,n,t._key,e._document,new aO(!1,!1),t.converter)))}}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){zv=e}(Ka),za(new Ps("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new tI(new ry(e.getProvider("auth-internal")),new ay(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Jv(Yv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qb(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Ja(Bv,"3.13.0",e),Ja(Bv,"3.13.0","esm2017")}();function kO(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Jv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function TO(){if("undefined"===typeof Uint8Array)throw new Jv("unimplemented","Uint8Arrays are not available in this environment.")}function IO(){if("undefined"==typeof atob)throw new Jv("unimplemented","Blobs are unavailable in Firestore in this environment.")}class OO{constructor(e){this._delegate=e}static fromBase64String(e){return IO(),new OO(uI.fromBase64String(e))}static fromUint8Array(e){return TO(),new OO(uI.fromUint8Array(e))}toBase64(){return IO(),this._delegate.toBase64()}toUint8Array(){return TO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function NO(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class RO{enableIndexedDbPersistence(e,t){return function(e,t){lI(e=UT(e,tI));const n=nI(e);if(n._uninitializedComponentsProvider)throw new Jv(Yv.FAILED_PRECONDITION,"SDK cache is already specified.");Gv("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new hT;return iI(n,i,new uT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){lI(e=UT(e,tI));const t=nI(e);if(t._uninitializedComponentsProvider)throw new Jv(Yv.FAILED_PRECONDITION,"SDK cache is already specified.");Gv("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new hT;return iI(t,r,new dT(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Jv(Yv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Zv;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Dy.D())return Promise.resolve();const t=e+"main";await Dy.delete(t)}(Qx(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class PO{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof qb||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Gv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};HT(this._delegate,e,t,n)}enableNetwork(){return sI(this._delegate)}disableNetwork(){return aI(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,LT("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return oI(this._delegate)}onSnapshotsInSync(e){return bO(this._delegate,e)}get app(){if(!this._appCompat)throw new Jv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new GO(this,QT(this._delegate,e))}catch(KK){throw jO(KK,"collection()","Firestore.collection()")}}doc(e){try{return new FO(this,XT(this._delegate,e))}catch(KK){throw jO(KK,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qO(this,function(e,t){if(e=UT(e,qT),MT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Jv(Yv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new GT(e,null,function(e){return new Gw(gy.emptyPath(),e)}(t))}(this._delegate,e))}catch(KK){throw jO(KK,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=UT(e,tI);const r=Object.assign(Object.assign({},EO),n);return function(e){if(e.maxAttempts<1)throw new Jv(Yv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Zv;return e.asyncQueue.enqueueAndForget((async()=>{const i=await IT(e);new vT(e.asyncQueue,i,n,t,r).run()})),r.promise}(nI(e),(n=>t(new SO(e,n))),r)}(this._delegate,(t=>e(new DO(this,t))))}batch(){return nI(this._delegate),new MO(new CO(this._delegate,(e=>wO(this._delegate,e))))}loadBundle(e){return function(e,t){const n=nI(e=UT(e,tI)),r=new eI;return PT(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return cI(this._delegate,e).then((e=>e?new qO(this,e):null))}}class AO extends iO{constructor(e){super(),this.firestore=e}convertBytes(e){return new OO(new uI(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return FO.forKey(t,this.firestore,null)}}class DO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new AO(e)}get(e){const t=KO(e);return this._delegate.get(t).then((e=>new zO(this._firestore,new cO(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=KO(e);return n?(kO("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=KO(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=KO(e);return this._delegate.delete(t),this}}class MO{constructor(e){this._delegate=e}set(e,t,n){const r=KO(e);return n?(kO("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=KO(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=KO(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class LO{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new lO(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new VO(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=LO.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new LO(e,new AO(e),t),r.set(t,i)),i}}LO.INSTANCES=new WeakMap;class FO{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AO(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Jv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new FO(t,new WT(t._delegate,n,new by(e)))}static forKey(e,t,n){return new FO(t,new WT(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new GO(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new GO(this.firestore,QT(this._delegate,e))}catch(KK){throw jO(KK,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Rs(e))instanceof WT&&$T(this._delegate,e)}set(e,t){t=kO("DocumentReference.set",t);try{return t?gO(this._delegate,e,t):gO(this._delegate,e)}catch(KK){throw jO(KK,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?vO(this._delegate,e):vO(this._delegate,e,t,...r)}catch(KK){throw jO(KK,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return wO(UT(e.firestore,tI),[new eE(e._key,z_.none())])}(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=BO(t),i=UO(t,(e=>new zO(this.firestore,new cO(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return yO(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?pO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=UT(e,WT);const t=UT(e.firestore,tI);return NT(nI(t),e._key,{source:"server"}).then((n=>_O(t,e,n)))}(this._delegate):function(e){e=UT(e,WT);const t=UT(e.firestore,tI);return NT(nI(t),e._key).then((n=>_O(t,e,n)))}(this._delegate),t.then((e=>new zO(this.firestore,new cO(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new FO(this.firestore,e?this._delegate.withConverter(LO.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function jO(e,t,n){return e.message=e.message.replace(t,n),e}function BO(e){for(const t of e)if("object"===typeof t&&!NO(t))return t;return{}}function UO(e,t){var n,r;let i;return i=NO(e[0])?e[0]:NO(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class zO{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new FO(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return hO(this._delegate,e._delegate)}}class VO extends zO{data(e){const t=this._delegate.data(e);return function(e,t){e||Qv()}(void 0!==t),t}}class qO{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AO(e)}where(e,t,n){try{return new qO(this.firestore,GI(this._delegate,function(e,t,n){const r=t,i=VI("where",e);return KI._create(i,r,n)}(e,t,n)))}catch(KK){throw jO(KK,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new qO(this.firestore,GI(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=VI("orderBy",e);return XI._create(n,t)}(e,t)))}catch(KK){throw jO(KK,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new qO(this.firestore,GI(this._delegate,function(e){return zT("limit",e),$I._create("limit",e,"F")}(e)))}catch(KK){throw jO(KK,"limit()","Query.limit()")}}limitToLast(e){try{return new qO(this.firestore,GI(this._delegate,function(e){return zT("limitToLast",e),$I._create("limitToLast",e,"L")}(e)))}catch(KK){throw jO(KK,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new qO(this.firestore,GI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YI._create("startAt",t,!0)}(...arguments)))}catch(KK){throw jO(KK,"startAt()","Query.startAt()")}}startAfter(){try{return new qO(this.firestore,GI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YI._create("startAfter",t,!1)}(...arguments)))}catch(KK){throw jO(KK,"startAfter()","Query.startAfter()")}}endBefore(){try{return new qO(this.firestore,GI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JI._create("endBefore",t,!1)}(...arguments)))}catch(KK){throw jO(KK,"endBefore()","Query.endBefore()")}}endAt(){try{return new qO(this.firestore,GI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JI._create("endAt",t,!0)}(...arguments)))}catch(KK){throw jO(KK,"endAt()","Query.endAt()")}}isEqual(e){return YT(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?mO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=UT(e,GT);const t=UT(e.firestore,tI),n=nI(t),r=new fO(t);return RT(n,e._query,{source:"server"}).then((n=>new uO(t,r,e,n)))}(this._delegate):function(e){e=UT(e,GT);const t=UT(e.firestore,tI),n=nI(t),r=new fO(t);return qI(e._query),RT(n,e._query).then((n=>new uO(t,r,e,n)))}(this._delegate),t.then((e=>new WO(this.firestore,new uO(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=BO(t),i=UO(t,(e=>new WO(this.firestore,new uO(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return yO(this._delegate,r,i)}withConverter(e){return new qO(this.firestore,e?this._delegate.withConverter(LO.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class HO{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new VO(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class WO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new qO(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new VO(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new HO(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new VO(this._firestore,n))}))}isEqual(e){return hO(this._delegate,e._delegate)}}class GO extends qO{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new FO(this.firestore,e):null}doc(e){try{return new FO(this.firestore,void 0===e?XT(this._delegate):XT(this._delegate,e))}catch(KK){throw jO(KK,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=UT(e.firestore,tI),r=XT(e),i=oO(e.converter,t);return wO(n,[_I(wI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,z_.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new FO(this.firestore,e)))}isEqual(e){return $T(this._delegate,e._delegate)}withConverter(e){return new GO(this.firestore,e?this._delegate.withConverter(LO.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function KO(e){return UT(e,WT)}class QO{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new dI(...t)}static documentId(){return new QO(yy.keyField().canonicalString())}isEqual(e){return(e=Rs(e))instanceof dI&&this._delegate._internalPath.isEqual(e._internalPath)}}class XO{constructor(e){this._delegate=e}static serverTimestamp(){const e=new xI("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new XO(e)}static delete(){const e=new EI("deleteField");return e._methodName="FieldValue.delete",new XO(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new SI("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new XO(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kI("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new XO(e)}static increment(e){const t=function(e){return new TI("increment",e)}(e);return t._methodName="FieldValue.increment",new XO(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const $O={Firestore:PO,GeoPoint:fI,Timestamp:fy,Blob:OO,Transaction:DO,WriteBatch:MO,DocumentReference:FO,DocumentSnapshot:zO,Query:qO,QueryDocumentSnapshot:VO,QuerySnapshot:WO,CollectionReference:GO,FieldPath:QO,FieldValue:XO,setLogLevel:function(e){!function(e){Vv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ps("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},$O)))}(e,((e,t)=>new PO(e,t,new RO))),e.registerVersion("@firebase/firestore-compat","0.3.12")}(vc);const YO="@firebase/database",JO="0.14.4";let ZO="";function eN(e){ZO=e}class tN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ds(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:us(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class nN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return fs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const rN=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new tN(t)}}catch(KK){}return new nN},iN=rN("localStorage"),oN=rN("sessionStorage"),sN=new qs("@firebase/database"),aN=function(){let e=1;return function(){return e++}}(),cN=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Lo(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Es;n.update(t);const r=n.digest();return Bo.encodeByteArray(r)},lN=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=lN.apply(null,n):e+="object"===typeof n?ds(n):n,e+=" "}return e};let uN=null,dN=!0;const hN=function(e,t){Lo(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(sN.logLevel=js.VERBOSE,uN=sN.log.bind(sN),t&&oN.set("logging_enabled",!0)):"function"===typeof e?uN=e:(uN=null,oN.remove("logging_enabled"))},fN=function(){if(!0===dN&&(dN=!1,null===uN&&!0===oN.get("logging_enabled")&&hN(!0)),uN){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=lN.apply(null,t);uN(r)}},pN=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];fN(e,...n)}},mN=function(){const e="FIREBASE INTERNAL ERROR: "+lN(...arguments);sN.error(e)},gN=function(){const e="FIREBASE FATAL ERROR: ".concat(lN(...arguments));throw sN.error(e),new Error(e)},vN=function(){const e="FIREBASE WARNING: "+lN(...arguments);sN.warn(e)},yN=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},bN="[MIN_NAME]",wN="[MAX_NAME]",_N=function(e,t){if(e===t)return 0;if(e===bN||t===wN)return-1;if(t===bN||e===wN)return 1;{const n=ON(e),r=ON(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},EN=function(e,t){return e===t?0:e<t?-1:1},CN=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ds(t))},xN=function(e){if("object"!==typeof e||null===e)return ds(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=ds(t[r]),n+=":",n+=xN(e[t[r]]);return n+="}",n},SN=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function kN(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const TN=function(e){Lo(!yN(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const c=a.join("");let l="";for(s=0;s<64;s+=8){let e=parseInt(c.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()};const IN=new RegExp("^-?(0*)\\d{1,10}$"),ON=function(e){if(IN.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},NN=function(e){try{e()}catch(KK){setTimeout((()=>{const t=KK.stack||"";throw vN("Exception was thrown by user callback.",t),KK}),Math.floor(0))}},RN=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class PN{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){vN('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class AN{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(fN("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vN(e)}}class DN{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}DN.OWNER="owner";const MN="5",LN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,FN="ac",jN="websocket",BN="long_polling";class UN{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=iN.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&iN.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function zN(e,t,n){let r;if(Lo("string"===typeof t,"typeof type must == string"),Lo("object"===typeof n,"typeof params must == object"),t===jN)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==BN)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return kN(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class VN{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;fs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Ho(void 0,this.counters_)}}const qN={},HN={};function WN(e){const t=e.toString();return qN[t]||(qN[t]=new VN),qN[t]}class GN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&NN((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const KN="start";class QN{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pN(e),this.stats_=WN(t),this.urlFn=e=>(this.appCheckToken&&(e[FN]=this.appCheckToken),zN(t,BN,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new GN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(os()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new XN((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,c]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===KN)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[KN]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=MN,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[FN]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&LN.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){QN.forceAllow_=!0}static forceDisallow(){QN.forceDisallow_=!0}static isAvailable(){return!os()&&(!!QN.forceAllow_||!QN.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=ds(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=zo(t),r=SN(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(os())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=ds(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class XN{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,os())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=aN(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=XN.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(KK){fN("frame writing exception"),KK.stack&&fN(KK.stack),fN(KK)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||fN("No IE domain setting required")}catch(KK){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){os()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{fN("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(KK){}}),Math.floor(1))}}let $N=null;"undefined"!==typeof MozWebSocket?$N=MozWebSocket:"undefined"!==typeof WebSocket&&($N=WebSocket);class YN{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pN(this.connId),this.stats_=WN(t),this.connURL=YN.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=MN,!os()&&"undefined"!==typeof location&&location.hostname&&LN.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[FN]=r),i&&(o.p=i),zN(e,jN,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,iN.set("previous_websocket_failure",!0);try{let e;if(os()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(MN,"/").concat(ZO,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new $N(this.connURL,[],e)}catch(KK){this.log_("Error instantiating WebSocket.");const t=KK.message||KK.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){YN.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==$N&&!YN.forceDisallow_}static previouslyFailed(){return iN.isInMemoryStorage||!0===iN.get("previous_websocket_failure")}markConnectionHealthy(){iN.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=us(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Lo(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=ds(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=SN(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(KK){this.log_("Exception thrown from WebSocket.send():",KK.message||KK.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}YN.responsesRequiredToBeHealthy=2,YN.healthyTimeout=3e4;class JN{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[QN,YN]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=YN&&YN.isAvailable();let n=t&&!YN.previouslyFailed();if(e.webSocketOnly&&(t||vN("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[YN];else{const e=this.transports_=[];for(const t of JN.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);JN.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}JN.globalTransportInitialized_=!1;class ZN{constructor(e,t,n,r,i,o,s,a,c,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pN("c:"+this.id+":"),this.transportManager_=new JN(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=RN((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=CN("t",e),n=CN("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=CN("t",e),n=CN("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=CN("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?mN("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mN("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),MN!==n&&vN("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),RN((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):RN((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(iN.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class eR{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class tR{constructor(e){this.allowedEvents_=e,this.listeners_={},Lo(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Lo(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class nR extends tR{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||es()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new nR}getInitialEvent(e){return Lo("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const rR=32,iR=768;class oR{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function sR(){return new oR("")}function aR(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function cR(e){return e.pieces_.length-e.pieceNum_}function lR(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new oR(e.pieces_,t)}function uR(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function dR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function hR(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new oR(t,0)}function fR(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof oR)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new oR(n,0)}function pR(e){return e.pieceNum_>=e.pieces_.length}function mR(e,t){const n=aR(e),r=aR(t);if(null===n)return t;if(n===r)return mR(lR(e),lR(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function gR(e,t){const n=dR(e,0),r=dR(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=_N(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function vR(e,t){if(cR(e)!==cR(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function yR(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(cR(e)>cR(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class bR{constructor(e,t){this.errorPrefix_=t,this.parts_=dR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Ns(this.parts_[n]);wR(this)}}function wR(e){if(e.byteLength_>iR)throw new Error(e.errorPrefix_+"has a key path longer than "+iR+" bytes ("+e.byteLength_+").");if(e.parts_.length>rR)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+rR+") or object contains a cycle "+_R(e))}function _R(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class ER extends tR{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new ER}getInitialEvent(e){return Lo("visible"===e,"Unknown event type: "+e),[this.visible_]}}const CR=1e3;class xR extends eR{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=xR.nextPersistentConnectionId_++,this.log_=pN("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=CR,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!os())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ER.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&nR.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(ds(i)),Lo(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Yo,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Lo(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Lo(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;xR.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&fs(e,"w")){const n=ps(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();vN("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=hs(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=hs(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Lo(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ds(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):mN("Unrecognized action received from server: "+ds(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Lo(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=CR,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=CR,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=CR),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+xR.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},c=function(e){Lo(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:c};const l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,c]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);o?fN("getToken() completed but was canceled"):(fN("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=c&&c.token,s=new ZN(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{vN(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(mN){this.log_("Failed to get token: "+mN),o||(this.repoInfo_.nodeAdmin&&vN(mN),a())}}}interrupt(e){fN("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){fN("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ms(this.interruptReasons_)&&(this.reconnectDelay_=CR,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>xN(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new oR(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){fN("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){fN("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";os()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+ZO.replace(/\./g,"-")]=1,es()?e["framework.cordova"]=1:rs()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=nR.getInstance().currentlyOnline();return ms(this.interruptReasons_)&&e}}xR.nextPersistentConnectionId_=0,xR.nextConnectionId_=0;class SR{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new SR(e,t)}}class kR{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new SR(bN,e),r=new SR(bN,t);return 0!==this.compare(n,r)}minPost(){return SR.MIN}}let TR;class IR extends kR{static get __EMPTY_NODE(){return TR}static set __EMPTY_NODE(e){TR=e}compare(e,t){return _N(e.name,t.name)}isDefinedOn(e){throw Fo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return SR.MIN}maxPost(){return new SR(wN,TR)}makePost(e,t){return Lo("string"===typeof e,"KeyIndex indexValue must always be a string."),new SR(e,TR)}toString(){return".key"}}const OR=new IR;class NR{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class RR{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:RR.RED,this.left=null!=r?r:PR.EMPTY_NODE,this.right=null!=i?i:PR.EMPTY_NODE}copy(e,t,n,r,i){return new RR(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return PR.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return PR.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,RR.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,RR.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}RR.RED=!0,RR.BLACK=!1;class PR{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PR.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new PR(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,RR.BLACK,null,null))}remove(e){return new PR(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,RR.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new NR(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new NR(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new NR(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new NR(this.root_,null,this.comparator_,!0,e)}}function AR(e,t){return _N(e.name,t.name)}function DR(e,t){return _N(e,t)}let MR;PR.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new RR(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const LR=function(e){return"number"===typeof e?"number:"+TN(e):"string:"+e},FR=function(e){if(e.isLeafNode()){const t=e.val();Lo("string"===typeof t||"number"===typeof t||"object"===typeof t&&fs(t,".sv"),"Priority must be a string or number.")}else Lo(e===MR||e.isEmpty(),"priority of unexpected type.");Lo(e===MR||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let jR,BR,UR;class zR{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zR.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Lo(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),FR(this.priorityNode_)}static set __childrenNodeConstructor(e){jR=e}static get __childrenNodeConstructor(){return jR}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new zR(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:zR.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pR(e)?this:".priority"===aR(e)?this.priorityNode_:zR.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:zR.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=aR(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Lo(".priority"!==n||1===cR(e),".priority must be the last token in a path"),this.updateImmediateChild(n,zR.__childrenNodeConstructor.EMPTY_NODE.updateChild(lR(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+LR(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?TN(this.value_):this.value_,this.lazyHash_=cN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===zR.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof zR.__childrenNodeConstructor?-1:(Lo(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=zR.VALUE_TYPE_ORDER.indexOf(t),i=zR.VALUE_TYPE_ORDER.indexOf(n);return Lo(r>=0,"Unknown leaf type: "+t),Lo(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}zR.VALUE_TYPE_ORDER=["object","boolean","number","string"];const VR=new class extends kR{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?_N(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return SR.MIN}maxPost(){return new SR(wN,new zR("[PRIORITY-POST]",UR))}makePost(e,t){const n=BR(e);return new SR(t,new zR("[PRIORITY-POST]",n))}toString(){return".priority"}},qR=Math.log(2);class HR{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/qR,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const WR=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new RR(a,s.node,RR.BLACK,null,null);{const c=parseInt(o/2,10)+t,l=i(t,c),u=i(c+1,r);return s=e[c],a=n?n(s):s,new RR(a,s.node,RR.BLACK,l,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const l=i(o+1,a),u=e[o],d=n?n(u):u;c(new RR(d,u.node,r,null,l))},c=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,RR.BLACK):(a(r,RR.BLACK),a(r,RR.RED))}return o}(new HR(e.length));return new PR(r||t,o)};let GR;const KR={};class QR{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Lo(KR&&VR,"ChildrenNode.ts has not been loaded"),GR=GR||new QR({".priority":KR},{".priority":VR}),GR}get(e){const t=ps(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof PR?t:null}hasIndex(e){return fs(this.indexSet_,e.toString())}addIndex(e,t){Lo(e!==OR,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(SR.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?WR(n,e.getCompare()):KR;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const l=Object.assign({},this.indexes_);return l[a]=o,new QR(l,c)}addToIndexes(e,t){const n=gs(this.indexes_,((n,r)=>{const i=ps(this.indexSet_,r);if(Lo(i,"Missing index implementation for "+r),n===KR){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(SR.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),WR(n,i.getCompare())}return KR}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new SR(e.name,r))),i.insert(e,e.node)}}));return new QR(n,this.indexSet_)}removeFromIndexes(e,t){const n=gs(this.indexes_,(n=>{if(n===KR)return n;{const r=t.get(e.name);return r?n.remove(new SR(e.name,r)):n}}));return new QR(n,this.indexSet_)}}let XR;class $R{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&FR(this.priorityNode_),this.children_.isEmpty()&&Lo(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return XR||(XR=new $R(new PR(DR),null,QR.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||XR}updatePriority(e){return this.children_.isEmpty()?this:new $R(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?XR:t}}getChild(e){const t=aR(e);return null===t?this:this.getImmediateChild(t).getChild(lR(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Lo(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new SR(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?XR:this.priorityNode_;return new $R(r,o,i)}}updateChild(e,t){const n=aR(e);if(null===n)return t;{Lo(".priority"!==aR(e)||1===cR(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(lR(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(VR,((o,s)=>{t[o]=s.val(e),n++,i&&$R.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+LR(this.getPriority().val())+":"),this.forEachChild(VR,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":cN(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new SR(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new SR(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new SR(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,SR.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,SR.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===YR?-1:0}withIndex(e){if(e===OR||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new $R(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===OR||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(VR),n=t.getIterator(VR);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===OR?null:this.indexMap_.get(e.toString())}}$R.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const YR=new class extends $R{constructor(){super(new PR(DR),$R.EMPTY_NODE,QR.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return $R.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(SR,{MIN:{value:new SR(bN,$R.EMPTY_NODE)},MAX:{value:new SR(wN,YR)}}),IR.__EMPTY_NODE=$R.EMPTY_NODE,zR.__childrenNodeConstructor=$R,MR=YR,function(e){UR=e}(YR);const JR=!0;function ZR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return $R.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Lo(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new zR(e,ZR(t))}if(e instanceof Array||!JR){let n=$R.EMPTY_NODE;return kN(e,((t,r)=>{if(fs(e,t)&&"."!==t.substring(0,1)){const e=ZR(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(ZR(t))}{const n=[];let r=!1;if(kN(e,((e,t)=>{if("."!==e.substring(0,1)){const i=ZR(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new SR(e,i)))}})),0===n.length)return $R.EMPTY_NODE;const i=WR(n,AR,(e=>e.name),DR);if(r){const e=WR(n,VR.getCompare());return new $R(i,ZR(t),new QR({".priority":e},{".priority":VR}))}return new $R(i,ZR(t),QR.Default)}}!function(e){BR=e}(ZR);class eP extends kR{constructor(e){super(),this.indexPath_=e,Lo(!pR(e)&&".priority"!==aR(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?_N(e.name,t.name):i}makePost(e,t){const n=ZR(e),r=$R.EMPTY_NODE.updateChild(this.indexPath_,n);return new SR(t,r)}maxPost(){const e=$R.EMPTY_NODE.updateChild(this.indexPath_,YR);return new SR(wN,e)}toString(){return dR(this.indexPath_,0).join("/")}}const tP=new class extends kR{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?_N(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return SR.MIN}maxPost(){return SR.MAX}makePost(e,t){const n=ZR(e);return new SR(t,n)}toString(){return".value"}};function nP(e){return{type:"value",snapshotNode:e}}function rP(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function iP(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function oP(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class sP{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){Lo(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(iP(t,s)):Lo(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(rP(t,n)):o.trackChildChange(oP(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(VR,((e,r)=>{t.hasChild(e)||n.trackChildChange(iP(e,r))})),t.isLeafNode()||t.forEachChild(VR,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(oP(t,r,i))}else n.trackChildChange(rP(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?$R.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class aP{constructor(e){this.indexedFilter_=new sP(e.getIndex()),this.index_=e.getIndex(),this.startPost_=aP.getStartPost_(e),this.endPost_=aP.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new SR(t,n))||(n=$R.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=$R.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority($R.EMPTY_NODE);const i=this;return t.forEachChild(VR,((e,t)=>{i.matches(new SR(e,t))||(r=r.updateImmediateChild(e,$R.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class cP{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new aP(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new SR(t,n))||(n=$R.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=$R.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=$R.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority($R.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,$R.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;Lo(s.numChildren()===this.limit_,"");const a=new SR(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,a);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(oP(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(iP(t,e));const n=s.updateImmediateChild(t,$R.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(rP(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:l&&o(c,a)>=0?(null!=i&&(i.trackChildChange(iP(c.name,c.node)),i.trackChildChange(rP(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,$R.EMPTY_NODE)):e}}class lP{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=VR}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Lo(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Lo(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:bN}hasEnd(){return this.endSet_}getIndexEndValue(){return Lo(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Lo(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wN}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Lo(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===VR}copy(){const e=new lP;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function uP(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function dP(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function hP(e,t){const n=e.copy();return n.index_=t,n}function fP(e){const t={};if(e.isDefault())return t;let n;if(e.index_===VR?n="$priority":e.index_===tP?n="$value":e.index_===OR?n="$key":(Lo(e.index_ instanceof eP,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ds(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=ds(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+ds(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=ds(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+ds(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function pP(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==VR&&(t.i=e.index_.toString()),t}class mP extends eR{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=pN("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Lo(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=mP.getListenId_(e,n),s={};this.listens_[o]=s;const a=fP(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),ps(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=mP.getListenId_(e,t);delete this.listens_[n]}get(e){const t=fP(e._queryParams),n=e._path.toString(),r=new Yo;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+bs(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=us(a.responseText)}catch(KK){vN("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&vN("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class gP{constructor(){this.rootNode_=$R.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function vP(){return{value:null,children:new Map}}function yP(e,t,n){if(pR(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=aR(t);e.children.has(r)||e.children.set(r,vP());yP(e.children.get(r),t=lR(t),n)}}function bP(e,t){if(pR(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(VR,((t,n)=>{yP(e,new oR(t),n)})),bP(e,t)}}if(e.children.size>0){const n=aR(t);if(t=lR(t),e.children.has(n)){bP(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function wP(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{wP(r,new oR(t.toString()+"/"+e),n)}))}class _P{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&kN(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class EP{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new _P(e);const n=1e4+2e4*Math.random();RN(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;kN(e,((e,r)=>{r>0&&fs(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),RN(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var CP;function xP(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(CP||(CP={}));class SP{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=CP.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(pR(this.path)){if(null!=this.affectedTree.value)return Lo(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new oR(e));return new SP(sR(),t,this.revert)}}return Lo(aR(this.path)===e,"operationForChild called for unrelated child."),new SP(lR(this.path),this.affectedTree,this.revert)}}class kP{constructor(e,t){this.source=e,this.path=t,this.type=CP.LISTEN_COMPLETE}operationForChild(e){return pR(this.path)?new kP(this.source,sR()):new kP(this.source,lR(this.path))}}class TP{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=CP.OVERWRITE}operationForChild(e){return pR(this.path)?new TP(this.source,sR(),this.snap.getImmediateChild(e)):new TP(this.source,lR(this.path),this.snap)}}class IP{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=CP.MERGE}operationForChild(e){if(pR(this.path)){const t=this.children.subtree(new oR(e));return t.isEmpty()?null:t.value?new TP(this.source,sR(),t.value):new IP(this.source,sR(),t)}return Lo(aR(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new IP(this.source,lR(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class OP{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pR(e))return this.isFullyInitialized()&&!this.filtered_;const t=aR(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class NP{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function RP(e,t,n,r,i,o){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Fo("Should only compare child_ events.");const r=new SR(t.childName,t.snapshotNode),i=new SR(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function PP(e,t){return{eventCache:e,serverCache:t}}function AP(e,t,n,r){return PP(new OP(t,n,r),e.serverCache)}function DP(e,t,n,r){return PP(e.eventCache,new OP(t,n,r))}function MP(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function LP(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let FP;class jP{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(FP||(FP=new PR(EN)),FP);this.value=e,this.children=t}static fromObject(e){let t=new jP(null);return kN(e,((e,n)=>{t=t.set(new oR(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:sR(),value:this.value};if(pR(e))return null;{const n=aR(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(lR(e),t);if(null!=i){return{path:fR(new oR(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(pR(e))return this;{const t=aR(e),n=this.children.get(t);return null!==n?n.subtree(lR(e)):new jP(null)}}set(e,t){if(pR(e))return new jP(t,this.children);{const n=aR(e),r=(this.children.get(n)||new jP(null)).set(lR(e),t),i=this.children.insert(n,r);return new jP(this.value,i)}}remove(e){if(pR(e))return this.children.isEmpty()?new jP(null):new jP(null,this.children);{const t=aR(e),n=this.children.get(t);if(n){const r=n.remove(lR(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new jP(null):new jP(this.value,i)}return this}}get(e){if(pR(e))return this.value;{const t=aR(e),n=this.children.get(t);return n?n.get(lR(e)):null}}setTree(e,t){if(pR(e))return t;{const n=aR(e),r=(this.children.get(n)||new jP(null)).setTree(lR(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new jP(this.value,i)}}fold(e){return this.fold_(sR(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(fR(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,sR(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(pR(e))return null;{const r=aR(e),i=this.children.get(r);return i?i.findOnPath_(lR(e),fR(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,sR(),t)}foreachOnPath_(e,t,n){if(pR(e))return this;{this.value&&n(t,this.value);const r=aR(e),i=this.children.get(r);return i?i.foreachOnPath_(lR(e),fR(t,r),n):new jP(null)}}foreach(e){this.foreach_(sR(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(fR(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class BP{constructor(e){this.writeTree_=e}static empty(){return new BP(new jP(null))}}function UP(e,t,n){if(pR(t))return new BP(new jP(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=mR(i,t);return o=o.updateChild(s,n),new BP(e.writeTree_.set(i,o))}{const r=new jP(n),i=e.writeTree_.setTree(t,r);return new BP(i)}}}function zP(e,t,n){let r=e;return kN(n,((e,n)=>{r=UP(r,fR(t,e),n)})),r}function VP(e,t){if(pR(t))return BP.empty();{const n=e.writeTree_.setTree(t,new jP(null));return new BP(n)}}function qP(e,t){return null!=HP(e,t)}function HP(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(mR(n.path,t)):null}function WP(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(VR,((e,n)=>{t.push(new SR(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new SR(e,n.value))})),t}function GP(e,t){if(pR(t))return e;{const n=HP(e,t);return new BP(null!=n?new jP(n):e.writeTree_.subtree(t))}}function KP(e){return e.writeTree_.isEmpty()}function QP(e,t){return XP(sR(),e.writeTree_,t)}function XP(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(Lo(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=XP(fR(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(fR(e,".priority"),r)),n}}function $P(e,t){return lA(t,e)}function YP(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Lo(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&JP(t,r.path)?i=!1:yR(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=eA(e.allWrites,ZP,sR()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=VP(e.visibleWrites,r.path);else{kN(r.children,(t=>{e.visibleWrites=VP(e.visibleWrites,fR(r.path,t))}))}return!0}return!1}function JP(e,t){if(e.snap)return yR(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&yR(fR(e.path,n),t))return!0;return!1}function ZP(e){return e.visible}function eA(e,t,n){let r=BP.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)yR(n,e)?(t=mR(n,e),r=UP(r,t,o.snap)):yR(e,n)&&(t=mR(e,n),r=UP(r,sR(),o.snap.getChild(t)));else{if(!o.children)throw Fo("WriteRecord should have .snap or .children");if(yR(n,e))t=mR(n,e),r=zP(r,t,o.children);else if(yR(e,n))if(t=mR(e,n),pR(t))r=zP(r,sR(),o.children);else{const e=ps(o.children,aR(t));if(e){const n=e.getChild(lR(t));r=UP(r,sR(),n)}}}}}return r}function tA(e,t,n,r,i){if(r||i){const o=GP(e.visibleWrites,t);if(!i&&KP(o))return n;if(i||null!=n||qP(o,sR())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(yR(e.path,t)||yR(t,e.path))};return QP(eA(e.allWrites,o,t),n||$R.EMPTY_NODE)}return null}{const r=HP(e.visibleWrites,t);if(null!=r)return r;{const r=GP(e.visibleWrites,t);if(KP(r))return n;if(null!=n||qP(r,sR())){return QP(r,n||$R.EMPTY_NODE)}return null}}}function nA(e,t,n,r){return tA(e.writeTree,e.treePath,t,n,r)}function rA(e,t){return function(e,t,n){let r=$R.EMPTY_NODE;const i=HP(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(VR,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=GP(e.visibleWrites,t);return n.forEachChild(VR,((e,t)=>{const n=QP(GP(i,new oR(e)),t);r=r.updateImmediateChild(e,n)})),WP(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return WP(GP(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function iA(e,t,n,r){return function(e,t,n,r,i){Lo(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=fR(t,n);if(qP(e.visibleWrites,o))return null;{const t=GP(e.visibleWrites,o);return KP(t)?i.getChild(n):QP(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function oA(e,t){return function(e,t){return HP(e.visibleWrites,t)}(e.writeTree,fR(e.treePath,t))}function sA(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const c=GP(e.visibleWrites,t),l=HP(c,sR());if(null!=l)a=l;else{if(null==n)return[];a=QP(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let c=n.getNext();for(;c&&e.length<i;)0!==t(c,r)&&e.push(c),c=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function aA(e,t,n){return function(e,t,n,r){const i=fR(t,n),o=HP(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return QP(GP(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function cA(e,t){return lA(fR(e.treePath,t),e.writeTree)}function lA(e,t){return{treePath:e,writeTree:t}}class uA{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Lo("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Lo(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,oP(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,iP(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,rP(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Fo("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,oP(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const dA=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class hA{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new OP(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return aA(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:LP(this.viewCache_),i=sA(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function fA(e,t,n,r,i){const o=new uA;let s,a;if(n.type===CP.OVERWRITE){const c=n;c.source.fromUser?s=gA(e,t,c.path,c.snap,r,i,o):(Lo(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!pR(c.path),s=mA(e,t,c.path,c.snap,r,i,a,o))}else if(n.type===CP.MERGE){const c=n;c.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,c)=>{const l=fR(n,r);vA(t,aR(l))&&(a=gA(e,a,l,c,i,o,s))})),r.foreach(((r,c)=>{const l=fR(n,r);vA(t,aR(l))||(a=gA(e,a,l,c,i,o,s))})),a}(e,t,c.path,c.children,r,i,o):(Lo(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=bA(e,t,c.path,c.children,r,i,a,o))}else if(n.type===CP.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=oA(r,n))return t;{const a=new hA(r,t,i),c=t.eventCache.getNode();let l;if(pR(n)||".priority"===aR(n)){let n;if(t.serverCache.isFullyInitialized())n=nA(r,LP(t));else{const e=t.serverCache.getNode();Lo(e instanceof $R,"serverChildren would be complete if leaf node"),n=rA(r,e)}l=e.filter.updateFullNode(c,n,o)}else{const i=aR(n);let u=aA(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=c.getImmediateChild(i)),l=null!=u?e.filter.updateChild(c,i,u,lR(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,$R.EMPTY_NODE,lR(n),a,o):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=nA(r,LP(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=oA(r,sR()),AP(t,l,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=oA(i,n))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(pR(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return mA(e,t,n,c.getNode().getChild(n),i,o,a,s);if(pR(n)){let r=new jP(null);return c.getNode().forEachChild(OR,((e,t)=>{r=r.set(new oR(e),t)})),bA(e,t,n,r,i,o,a,s)}return t}{let l=new jP(null);return r.foreach(((e,t)=>{const r=fR(n,e);c.isCompleteForPath(r)&&(l=l.set(e,c.getNode().getChild(r)))})),bA(e,t,n,l,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==CP.LISTEN_COMPLETE)throw Fo("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=DP(t,o.getNode(),o.isFullyInitialized()||pR(n),o.isFiltered());return pA(e,s,n,r,dA,i)}(e,t,n.path,r,o)}const c=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=MP(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(nP(MP(t)))}}(t,s,c),{viewCache:s,changes:c}}function pA(e,t,n,r,i,o){const s=t.eventCache;if(null!=oA(r,n))return t;{let a,c;if(pR(n))if(Lo(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=LP(t),i=rA(r,n instanceof $R?n:$R.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=nA(r,LP(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const l=aR(n);if(".priority"===l){Lo(1===cR(n),"Can't have a priority with additional path components");const i=s.getNode();c=t.serverCache.getNode();const o=iA(r,n,i,c);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=lR(n);let d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();const e=iA(r,n,s.getNode(),c);d=null!=e?s.getNode().getImmediateChild(l).updateChild(u,e):s.getNode().getImmediateChild(l)}else d=aA(r,l,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),l,d,u,i,o):s.getNode()}}return AP(t,a,s.isFullyInitialized()||pR(n),e.filter.filtersNodes())}}function mA(e,t,n,r,i,o,s,a){const c=t.serverCache;let l;const u=s?e.filter:e.filter.getIndexedFilter();if(pR(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const e=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),e,null)}else{const e=aR(n);if(!c.isCompleteForPath(n)&&cR(n)>1)return t;const i=lR(n),o=c.getNode().getImmediateChild(e).updateChild(i,r);l=".priority"===e?u.updatePriority(c.getNode(),o):u.updateChild(c.getNode(),e,o,i,dA,null)}const d=DP(t,l,c.isFullyInitialized()||pR(n),u.filtersNodes());return pA(e,d,n,i,new hA(i,d,o),a)}function gA(e,t,n,r,i,o,s){const a=t.eventCache;let c,l;const u=new hA(i,t,o);if(pR(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=AP(t,l,!0,e.filter.filtersNodes());else{const i=aR(n);if(".priority"===i)l=e.filter.updatePriority(t.eventCache.getNode(),r),c=AP(t,l,a.isFullyInitialized(),a.isFiltered());else{const o=lR(n),l=a.getNode().getImmediateChild(i);let d;if(pR(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===uR(o)&&e.getChild(hR(o)).isEmpty()?e:e.updateChild(o,r):$R.EMPTY_NODE}if(l.equals(d))c=t;else{c=AP(t,e.filter.updateChild(a.getNode(),i,d,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function vA(e,t){return e.eventCache.isCompleteForChild(t)}function yA(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function bA(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=pR(n)?r:new jP(null).setTree(n,r);const u=t.serverCache.getNode();return c.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const c=yA(0,t.serverCache.getNode().getImmediateChild(n),r);l=mA(e,l,new oR(n),c,i,o,s,a)}})),c.children.inorderTraversal(((n,r)=>{const c=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!c){const c=yA(0,t.serverCache.getNode().getImmediateChild(n),r);l=mA(e,l,new oR(n),c,i,o,s,a)}})),l}class wA{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new sP(n.getIndex()),i=(o=n).loadsAllData()?new sP(o.getIndex()):o.hasLimit()?new cP(o):new aP(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,c=r.updateFullNode($R.EMPTY_NODE,s.getNode(),null),l=i.updateFullNode($R.EMPTY_NODE,a.getNode(),null),u=new OP(c,s.isFullyInitialized(),r.filtersNodes()),d=new OP(l,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=PP(d,u),this.eventGenerator_=new NP(this.query_)}get query(){return this.query_}}function _A(e,t){const n=LP(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!pR(t)&&!n.getImmediateChild(aR(t)).isEmpty())?n.getChild(t):null}function EA(e){return 0===e.eventRegistrations_.length}function CA(e,t,n){const r=[];if(n){Lo(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function xA(e,t,n,r){t.type===CP.MERGE&&null!==t.source.queryId&&(Lo(LP(e.viewCache_),"We should always have a full cache before handling merges"),Lo(MP(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=fA(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,Lo(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Lo(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),Lo(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,SA(e,o.changes,o.viewCache.eventCache.getNode(),null)}function SA(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),RP(e,i,"child_removed",t,r,n),RP(e,i,"child_added",t,r,n),RP(e,i,"child_moved",o,r,n),RP(e,i,"child_changed",t,r,n),RP(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let kA,TA;class IA{constructor(){this.views=new Map}}function OA(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return Lo(null!=o,"SyncTree gave us an op for an invalid query."),xA(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(xA(o,t,n,r));return i}}function NA(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=nA(n,i?r:null),o=!1;e?o=!0:r instanceof $R?(e=rA(n,r),o=!1):(e=$R.EMPTY_NODE,o=!1);const s=PP(new OP(e,o,!1),new OP(r,i,!1));return new wA(t,s)}return s}function RA(e,t,n,r,i,o){const s=NA(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(VR,((e,t)=>{r.push(rP(e,t))}));return n.isFullyInitialized()&&r.push(nP(n.getNode())),SA(e,r,n.getNode(),t)}(s,n)}function PA(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=FA(e);if("default"===i)for(const[c,l]of e.views.entries())s=s.concat(CA(l,n,r)),EA(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const t=e.views.get(i);t&&(s=s.concat(CA(t,n,r)),EA(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!FA(e)&&o.push(new(Lo(kA,"Reference.ts has not been loaded"),kA)(t._repo,t._path)),{removed:o,events:s}}function AA(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function DA(e,t){let n=null;for(const r of e.views.values())n=n||_A(r,t);return n}function MA(e,t){if(t._queryParams.loadsAllData())return jA(e);{const n=t._queryIdentifier;return e.views.get(n)}}function LA(e,t){return null!=MA(e,t)}function FA(e){return null!=jA(e)}function jA(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let BA=1;class UA{constructor(e){this.listenProvider_=e,this.syncPointTree_=new jP(null),this.pendingWriteTree_={visibleWrites:BP.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zA(e,t,n,r,i){return function(e,t,n,r,i){Lo(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=UP(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?$A(e,new TP({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function VA(e,t,n,r){!function(e,t,n,r){Lo(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=zP(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=jP.fromObject(n);return $A(e,new IP({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function qA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(YP(e.pendingWriteTree_,t)){let t=new jP(null);return null!=r.snap?t=t.set(sR(),!0):kN(r.children,(e=>{t=t.set(new oR(e),!0)})),$A(e,new SP(r.path,t,n))}return[]}function HA(e,t,n){return $A(e,new TP({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function WA(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||LA(s,t))){const c=PA(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!i){const n=-1!==l.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>FA(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&FA(t)){return[jA(t)]}{let e=[];return t&&(e=AA(t)),kN(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=ZA(e,r);e.listenProvider_.startListening(oD(i),eD(e,i),o.hashFn,o.onComplete)}}}if(!i&&l.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(oD(t),n)}else l.forEach((t=>{const n=e.queryToTagMap.get(tD(t));e.listenProvider_.stopListening(oD(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=tD(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,l)}return a}function GA(e,t,n,r){const i=nD(e,r);if(null!=i){const r=rD(i),o=r.path,s=r.queryId,a=mR(o,t);return iD(e,o,new TP(xP(s),a,n))}return[]}function KA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=mR(e,i);o=o||DA(t,n),s=s||FA(t)}));let a,c=e.syncPointTree_.get(i);if(c?(s=s||FA(c),o=o||DA(c,sR())):(c=new IA,e.syncPointTree_=e.syncPointTree_.set(i,c)),null!=o)a=!0;else{a=!1,o=$R.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=DA(t,sR());n&&(o=o.updateImmediateChild(e,n))}))}const l=LA(c,t);if(!l&&!t._queryParams.loadsAllData()){const n=tD(t);Lo(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=BA++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=RA(c,t,n,$P(e.pendingWriteTree_,i),o,a);if(!l&&!s&&!r){const n=MA(c,t);u=u.concat(function(e,t,n){const r=t._path,i=eD(e,t),o=ZA(e,n),s=e.listenProvider_.startListening(oD(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)Lo(!FA(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!pR(e)&&t&&FA(t))return[jA(t).query];{let e=[];return t&&(e=e.concat(AA(t).map((e=>e.query)))),kN(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(oD(r),eD(e,r))}}return s}(e,t,n))}return u}function QA(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=DA(n,mR(e,t));if(r)return r}));return tA(r,t,i,n,!0)}function XA(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=mR(e,n);r=r||DA(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||DA(i,sR()):(i=new IA,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new OP(r,!0,!1):null;return function(e){return MP(e.viewCache_)}(NA(i,t,$P(e.pendingWriteTree_,t._path),o?s.getNode():$R.EMPTY_NODE,o))}function $A(e,t){return YA(t,e.syncPointTree_,null,$P(e.pendingWriteTree_,sR()))}function YA(e,t,n,r){if(pR(e.path))return JA(e,t,n,r);{const i=t.get(sR());null==n&&null!=i&&(n=DA(i,sR()));let o=[];const s=aR(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){const e=n?n.getImmediateChild(s):null,t=cA(r,s);o=o.concat(YA(a,c,e,t))}return i&&(o=o.concat(OA(i,e,r,n))),o}}function JA(e,t,n,r){const i=t.get(sR());null==n&&null!=i&&(n=DA(i,sR()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=cA(r,t),c=e.operationForChild(t);c&&(o=o.concat(JA(c,i,s,a)))})),i&&(o=o.concat(OA(i,e,r,n))),o}function ZA(e,t){const n=t.query,r=eD(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||$R.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=nD(e,n);if(r){const n=rD(r),i=n.path,o=n.queryId,s=mR(i,t);return iD(e,i,new kP(xP(o),s))}return[]}(e,n._path,r):function(e,t){return $A(e,new kP({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return WA(e,n,null,r)}}}}function eD(e,t){const n=tD(t);return e.queryToTagMap.get(n)}function tD(e){return e._path.toString()+"$"+e._queryIdentifier}function nD(e,t){return e.tagToQueryMap.get(t)}function rD(e){const t=e.indexOf("$");return Lo(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new oR(e.substr(0,t))}}function iD(e,t,n){const r=e.syncPointTree_.get(t);Lo(r,"Missing sync point for query tag that we're tracking");return OA(r,n,$P(e.pendingWriteTree_,t),null)}function oD(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Lo(TA,"Reference.ts has not been loaded"),TA)(e._repo,e._path):e}class sD{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new sD(t)}node(){return this.node_}}class aD{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=fR(this.path_,e);return new aD(this.syncTree_,t)}node(){return QA(this.syncTree_,this.path_)}}const cD=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},lD=function(e,t,n){return e&&"object"===typeof e?(Lo(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?uD(e[".sv"],t,n):"object"===typeof e[".sv"]?dD(e[".sv"],t):void Lo(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},uD=function(e,t,n){if("timestamp"===e)return n.timestamp;Lo(!1,"Unexpected server value: "+e)},dD=function(e,t,n){e.hasOwnProperty("increment")||Lo(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Lo(!1,"Unexpected increment value: "+r);const i=t.node();if(Lo(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},hD=function(e,t,n,r){return pD(t,new aD(n,e),r)},fD=function(e,t,n){return pD(e,new sD(t),n)};function pD(e,t,n){const r=e.getPriority().val(),i=lD(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=lD(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new zR(o,ZR(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new zR(i))),r.forEachChild(VR,((e,r)=>{const i=pD(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class mD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function gD(e,t){let n=t instanceof oR?t:new oR(t),r=e,i=aR(n);for(;null!==i;){const e=ps(r.node.children,i)||{children:{},childCount:0};r=new mD(i,r,e),n=lR(n),i=aR(n)}return r}function vD(e){return e.node.value}function yD(e,t){e.node.value=t,CD(e)}function bD(e){return e.node.childCount>0}function wD(e,t){kN(e.node.children,((n,r)=>{t(new mD(n,e,r))}))}function _D(e,t,n,r){n&&!r&&t(e),wD(e,(e=>{_D(e,t,!0,r)})),n&&r&&t(e)}function ED(e){return new oR(null===e.parent?e.name:ED(e.parent)+"/"+e.name)}function CD(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===vD(e)&&!bD(e)}(n),i=fs(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,CD(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,CD(e))}(e.parent,e.name,e)}const xD=/[\[\].#$\/\u0000-\u001F\u007F]/,SD=/[\[\].#$\u0000-\u001F\u007F]/,kD=10485760,TD=function(e){return"string"===typeof e&&0!==e.length&&!xD.test(e)},ID=function(e){return"string"===typeof e&&0!==e.length&&!SD.test(e)},OD=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!yN(e)||e&&"object"===typeof e&&fs(e,".sv")},ND=function(e,t,n,r){r&&void 0===t||RD(Ts(e,"value"),t,n)},RD=function(e,t,n){const r=n instanceof oR?new bR(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+_R(r));if("function"===typeof t)throw new Error(e+"contains a function "+_R(r)+" with contents = "+t.toString());if(yN(t))throw new Error(e+"contains "+t.toString()+" "+_R(r));if("string"===typeof t&&t.length>kD/3&&Ns(t)>kD)throw new Error(e+"contains a string greater than "+kD+" utf8 bytes "+_R(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(kN(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!TD(t)))throw new Error(e+" contains an invalid key ("+t+") "+_R(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ns(t),wR(e)}(r,t),RD(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=Ns(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+_R(r)+" in addition to actual children.")}},PD=function(e,t,n,r){if(r&&void 0===t)return;const i=Ts(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];kN(t,((e,t)=>{const r=new oR(e);if(RD(i,t,fR(n,r)),".priority"===uR(r)&&!OD(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=dR(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!TD(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(gR);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&yR(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},AD=function(e,t,n){if(!n||void 0!==t){if(yN(t))throw new Error(Ts(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!OD(t))throw new Error(Ts(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},DD=function(e,t,n,r){if((!r||void 0!==n)&&!TD(n))throw new Error(Ts(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},MD=function(e,t,n,r){if((!r||void 0!==n)&&!ID(n))throw new Error(Ts(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},LD=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),MD(e,t,n,r)},FD=function(e,t){if(".info"===aR(t))throw new Error(e+" failed = Can't modify data under /.info/")},jD=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!TD(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ID(e)}(n))throw new Error(Ts(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class BD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function UD(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||vR(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function zD(e,t,n){UD(e,n),qD(e,(e=>vR(e,t)))}function VD(e,t,n){UD(e,n),qD(e,(e=>yR(e,t)||yR(t,e)))}function qD(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(HD(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function HD(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();uN&&fN("event: "+n.toString()),NN(r)}}}const WD="repo_interrupt",GD=25;class KD{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new BD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vP(),this.transactionQueueTree_=new mD,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QD(e,t,n){if(e.stats_=WN(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new mP(e.repoInfo_,((t,n,r,i)=>{YD(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>JD(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ds(n)}catch(KK){throw new Error("Invalid authOverride provided: "+KK)}}e.persistentConnection_=new xR(e.repoInfo_,t,((t,n,r,i)=>{YD(e,t,n,r,i)}),(t=>{JD(e,t)}),(t=>{!function(e,t){kN(t,((t,n)=>{ZD(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return HN[n]||(HN[n]=t()),HN[n]}(e.repoInfo_,(()=>new EP(e.stats_,e.server_))),e.infoData_=new gP,e.infoSyncTree_=new UA({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=HA(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),ZD(e,"connected",!1),e.serverSyncTree_=new UA({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);VD(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function XD(e){const t=e.infoData_.getNode(new oR(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function $D(e){return cD({timestamp:XD(e)})}function YD(e,t,n,r,i){e.dataUpdateCount++;const o=new oR(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=gs(n,(e=>ZR(e)));s=function(e,t,n,r){const i=nD(e,r);if(i){const r=rD(i),o=r.path,s=r.queryId,a=mR(o,t),c=jP.fromObject(n);return iD(e,o,new IP(xP(s),a,c))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=ZR(n);s=GA(e.serverSyncTree_,o,t,i)}else if(r){const t=gs(n,(e=>ZR(e)));s=function(e,t,n){const r=jP.fromObject(n);return $A(e,new IP({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=ZR(n);s=HA(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=uM(e,o)),VD(e.eventQueue_,a,s)}function JD(e,t){ZD(e,"connected",t),!1===t&&function(e){sM(e,"onDisconnectEvents");const t=$D(e),n=vP();wP(e.onDisconnect_,sR(),((r,i)=>{const o=hD(r,i,e.serverSyncTree_,t);yP(n,r,o)}));let r=[];wP(n,sR(),((t,n)=>{r=r.concat(HA(e.serverSyncTree_,t,n));const i=mM(e,t);uM(e,i)})),e.onDisconnect_=vP(),VD(e.eventQueue_,sR(),r)}(e)}function ZD(e,t,n){const r=new oR("/.info/"+t),i=ZR(n);e.infoData_.updateSnapshot(r,i);const o=HA(e.infoSyncTree_,r,i);VD(e.eventQueue_,r,o)}function eM(e){return e.nextWriteId_++}function tM(e,t,n,r,i){sM(e,"set",{path:t.toString(),value:n,priority:r});const o=$D(e),s=ZR(n,r),a=QA(e.serverSyncTree_,t),c=fD(s,a,o),l=eM(e),u=zA(e.serverSyncTree_,t,c,l,!0);UD(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||vN("set at "+t+" failed: "+n);const s=qA(e.serverSyncTree_,l,!o);VD(e.eventQueue_,t,s),aM(e,i,n,r)}));const d=mM(e,t);uM(e,d),VD(e.eventQueue_,d,[])}function nM(e,t,n){e.server_.onDisconnectCancel(t.toString(),((r,i)=>{"ok"===r&&bP(e.onDisconnect_,t),aM(e,n,r,i)}))}function rM(e,t,n,r){const i=ZR(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),((n,o)=>{"ok"===n&&yP(e.onDisconnect_,t,i),aM(e,r,n,o)}))}function iM(e,t,n){let r;r=".info"===aR(t._path)?WA(e.infoSyncTree_,t,n):WA(e.serverSyncTree_,t,n),zD(e.eventQueue_,t._path,r)}function oM(e){e.persistentConnection_&&e.persistentConnection_.interrupt(WD)}function sM(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];fN(t,...r)}function aM(e,t,n,r){t&&NN((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function cM(e,t,n){return QA(e.serverSyncTree_,t,n)||$R.EMPTY_NODE}function lM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||pM(e,t),vD(t)){const n=hM(e,t);Lo(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=cM(e,t,r);let o=i;const s=i.hash();for(let l=0;l<n.length;l++){const e=n[l];Lo(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=mR(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),c=t;e.server_.put(c.toString(),a,(r=>{sM(e,"transaction put response",{path:c.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(qA(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();pM(e,gD(e.transactionQueueTree_,t)),lM(e,e.transactionQueueTree_),VD(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)NN(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{vN("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}uM(e,t)}}),s)}(e,ED(t),n)}else bD(t)&&wD(t,(t=>{lM(e,t)}))}function uM(e,t){const n=dM(e,t),r=ED(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let c=0;c<t.length;c++){const o=t[c],l=mR(n,o.path);let u,d=!1;if(Lo(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)d=!0,u=o.abortReason,i=i.concat(qA(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=GD)d=!0,u="maxretry",i=i.concat(qA(e.serverSyncTree_,o.currentWriteId,!0));else{const n=cM(e,o.path,s);o.currentInputSnapshot=n;const r=t[c].update(n.val());if(void 0!==r){RD("transaction failed: Data returned ",r,o.path);let t=ZR(r);"object"===typeof r&&null!=r&&fs(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,c=$D(e),l=fD(t,n,c);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=l,o.currentWriteId=eM(e),s.splice(s.indexOf(a),1),i=i.concat(zA(e.serverSyncTree_,o.path,l,o.currentWriteId,o.applyLocally)),i=i.concat(qA(e.serverSyncTree_,a,!0))}else d=!0,u="nodata",i=i.concat(qA(e.serverSyncTree_,o.currentWriteId,!0))}VD(e.eventQueue_,n,i),i=[],d&&(t[c].status=2,a=t[c].unwatcher,setTimeout(a,Math.floor(0)),t[c].onComplete&&("nodata"===u?r.push((()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot))):r.push((()=>t[c].onComplete(new Error(u),!1,null)))))}var a;pM(e,e.transactionQueueTree_);for(let c=0;c<r.length;c++)NN(r[c]);lM(e,e.transactionQueueTree_)}(e,hM(e,n),r),r}function dM(e,t){let n,r=e.transactionQueueTree_;for(n=aR(t);null!==n&&void 0===vD(r);)r=gD(r,n),n=aR(t=lR(t));return r}function hM(e,t){const n=[];return fM(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function fM(e,t,n){const r=vD(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);wD(t,(t=>{fM(e,t,n)}))}function pM(e,t){const n=vD(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,yD(t,n.length>0?n:void 0)}wD(t,(t=>{pM(e,t)}))}function mM(e,t){const n=ED(dM(e,t)),r=gD(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{gM(e,t)})),gM(e,r),_D(r,(t=>{gM(e,t)})),n}function gM(e,t){const n=vD(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Lo(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(Lo(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(qA(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?yD(t,void 0):n.length=o+1,VD(e.eventQueue_,ED(t),i);for(let e=0;e<r.length;e++)NN(r[e])}}const vM=function(e,t){const n=yM(e),r=n.namespace;"firebase.com"===n.domain&&gN(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||gN("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&vN("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new UN(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new oR(n.pathString)}},yM=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"===typeof e){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(KK){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vN("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(l+1),10)):l=t.length;const f=t.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},bM="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",wM=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=bM.charAt(n%64),n=Math.floor(n/64);Lo(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=bM.charAt(t[i]);return Lo(20===s.length,"nextPushId: Length should be 20."),s}}();class _M{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ds(this.snapshot.exportVal())}}class EM{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class CM{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Lo(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class xM{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new Yo;return nM(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){FD("OnDisconnect.remove",this._path);const e=new Yo;return rM(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){FD("OnDisconnect.set",this._path),ND("OnDisconnect.set",e,this._path,!1);const t=new Yo;return rM(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){FD("OnDisconnect.setWithPriority",this._path),ND("OnDisconnect.setWithPriority",e,this._path,!1),AD("OnDisconnect.setWithPriority",t,!1);const n=new Yo;return function(e,t,n,r,i){const o=ZR(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),((n,r)=>{"ok"===n&&yP(e.onDisconnect_,t,o),aM(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){FD("OnDisconnect.update",this._path),PD("OnDisconnect.update",e,this._path,!1);const t=new Yo;return function(e,t,n,r){if(ms(n))return fN("onDisconnect().update() called with empty data.  Don't do anything."),void aM(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((i,o)=>{"ok"===i&&kN(n,((n,r)=>{const i=ZR(r);yP(e.onDisconnect_,fR(t,n),i)})),aM(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}class SM{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return pR(this._path)?null:uR(this._path)}get ref(){return new OM(this._repo,this._path)}get _queryIdentifier(){const e=pP(this._queryParams),t=xN(e);return"{}"===t?"default":t}get _queryObject(){return pP(this._queryParams)}isEqual(e){if(!((e=Rs(e))instanceof SM))return!1;const t=this._repo===e._repo,n=vR(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function kM(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function TM(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===OR){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==bN)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==wN)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===VR){if(null!=t&&!OD(t)||null!=n&&!OD(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Lo(e.getIndex()instanceof eP||e.getIndex()===tP,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function IM(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class OM extends SM{constructor(e,t){super(e,t,new lP,!1)}get parent(){const e=hR(this._path);return null===e?null:new OM(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class NM{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new oR(e),n=AM(this.ref,e);return new NM(this._node.getChild(t),n,VR)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new NM(n,AM(this.ref,t),VR))))}hasChild(e){const t=new oR(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function RM(e,t){return(e=Rs(e))._checkNotDeleted("ref"),void 0!==t?AM(e._root,t):e._root}function PM(e,t){(e=Rs(e))._checkNotDeleted("refFromURL");const n=vM(t,e._repo.repoInfo_.nodeAdmin);jD("refFromURL",n);const r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||gN("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),RM(e,n.path.toString())}function AM(e,t){return null===aR((e=Rs(e))._path)?LD("child","path",t,!1):MD("child","path",t,!1),new OM(e._repo,fR(e._path,t))}function DM(e,t){e=Rs(e),FD("set",e._path),ND("set",t,e._path,!1);const n=new Yo;return tM(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function MM(e,t){PD("update",t,e._path,!1);const n=new Yo;return function(e,t,n,r){sM(e,"update",{path:t.toString(),value:n});let i=!0;const o=$D(e),s={};if(kN(n,((n,r)=>{i=!1,s[n]=hD(fR(t,n),ZR(r),e.serverSyncTree_,o)})),i)fN("update() called with empty data.  Don't do anything."),aM(0,r,"ok",void 0);else{const i=eM(e),o=VA(e.serverSyncTree_,t,s,i);UD(e.eventQueue_,o),e.server_.merge(t.toString(),n,((n,o)=>{const s="ok"===n;s||vN("update at "+t+" failed: "+n);const a=qA(e.serverSyncTree_,i,!s),c=a.length>0?uM(e,t):t;VD(e.eventQueue_,c,a),aM(0,r,n,o)})),kN(n,(n=>{const r=mM(e,fR(t,n));uM(e,r)})),VD(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function LM(e){e=Rs(e);const t=new CM((()=>{})),n=new FM(t);return function(e,t,n){const r=XA(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=ZR(r).withIndex(t._queryParams.getIndex());let o;if(KA(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=HA(e.serverSyncTree_,t._path,i);else{const n=eD(e.serverSyncTree_,t);o=GA(e.serverSyncTree_,t._path,i,n)}return VD(e.eventQueue_,t._path,o),WA(e.serverSyncTree_,t,n,null,!0),i}),(n=>(sM(e,"get for query "+ds(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new NM(t,new OM(e._repo,e._path),e._queryParams.getIndex())))}class FM{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new _M("value",this,new NM(e.snapshotNode,new OM(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new EM(this,e,t):null}matches(e){return e instanceof FM&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class jM{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new EM(this,e,t):null}createEvent(e,t){Lo(null!=e.childName,"Child events should have a childName.");const n=AM(new OM(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new _M(e.type,this,new NM(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof jM&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function BM(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{iM(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new CM(n,o||void 0),a="value"===t?new FM(s):new jM(t,s);return function(e,t,n){let r;r=".info"===aR(t._path)?KA(e.infoSyncTree_,t,n):KA(e.serverSyncTree_,t,n),zD(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>iM(e._repo,e,a)}function UM(e,t,n,r){return BM(e,"value",t,n,r)}function zM(e,t,n,r){return BM(e,"child_added",t,n,r)}function VM(e,t,n,r){return BM(e,"child_changed",t,n,r)}function qM(e,t,n,r){return BM(e,"child_moved",t,n,r)}function HM(e,t,n,r){return BM(e,"child_removed",t,n,r)}function WM(e,t,n){let r=null;const i=n?new CM(n):null;"value"===t?r=new FM(i):t&&(r=new jM(t,i)),iM(e._repo,e,r)}class GM{}class KM extends GM{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ND("endAt",this._value,e._path,!0);const t=dP(e._queryParams,this._value,this._key);if(IM(t),TM(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new SM(e._repo,e._path,t,e._orderByCalled)}}class QM extends GM{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ND("endBefore",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===OR||n?dP(e,t,n):dP(e,t,bN),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(IM(t),TM(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new SM(e._repo,e._path,t,e._orderByCalled)}}class XM extends GM{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ND("startAt",this._value,e._path,!0);const t=uP(e._queryParams,this._value,this._key);if(IM(t),TM(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new SM(e._repo,e._path,t,e._orderByCalled)}}class $M extends GM{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ND("startAfter",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===OR||n?uP(e,t,n):uP(e,t,wN),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(IM(t),TM(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new SM(e._repo,e._path,t,e._orderByCalled)}}class YM extends GM{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new SM(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class JM extends GM{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new SM(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class ZM extends GM{constructor(e){super(),this._path=e}_apply(e){kM(e,"orderByChild");const t=new oR(this._path);if(pR(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new eP(t),r=hP(e._queryParams,n);return TM(r),new SM(e._repo,e._path,r,!0)}}class eL extends GM{_apply(e){kM(e,"orderByKey");const t=hP(e._queryParams,OR);return TM(t),new SM(e._repo,e._path,t,!0)}}class tL extends GM{_apply(e){kM(e,"orderByPriority");const t=hP(e._queryParams,VR);return TM(t),new SM(e._repo,e._path,t,!0)}}class nL extends GM{_apply(e){kM(e,"orderByValue");const t=hP(e._queryParams,tP);return TM(t),new SM(e._repo,e._path,t,!0)}}class rL extends GM{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(ND("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new KM(this._value,this._key)._apply(new XM(this._value,this._key)._apply(e))}}function iL(e){let t=Rs(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const o of r)t=o._apply(t);return t}!function(e){Lo(!kA,"__referenceConstructor has already been defined"),kA=e}(OM),function(e){Lo(!TA,"__referenceConstructor has already been defined"),TA=e}(OM);const oL="FIREBASE_DATABASE_EMULATOR_HOST",sL={};let aL=!1;function cL(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||gN("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fN("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,c=vM(o,i),l=c.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[oL]),a?(s=!0,o="http://".concat(a,"?ns=").concat(l.namespace),c=vM(o,i),l=c.repoInfo):s=!c.repoInfo.secure;const u=i&&s?new DN(DN.OWNER):new AN(e.name,e.options,t);jD("Invalid Firebase Database URL",c),pR(c.path)||gN("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=sL[t.name];i||(i={},sL[t.name]=i);let o=i[e.toURLString()];o&&gN("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new KD(e,aL,n,r),i[e.toURLString()]=o,o}(l,e,u,new PN(e.name,n));return new lL(d,e)}class lL{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(QD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new OM(this._repo,sR())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=sL[t];n&&n[e.key]===e||gN("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),oM(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&gN("Cannot call "+e+" on a deleted database.")}}function uL(){JN.IS_TRANSPORT_INITIALIZED&&vN("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function dL(){uL(),QN.forceDisallow()}function hL(){uL(),YN.forceDisallow(),QN.forceAllow()}function fL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Rs(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&gN("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&gN('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new DN(DN.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:Jo(r.mockUserToken,e.app.options.projectId);o=new DN(t)}!function(e,t,n,r){e.repoInfo_=new UN("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}function pL(e){var t;(e=Rs(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(WD)}function mL(e,t){hN(e,t)}const gL={".sv":"timestamp"};class vL{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function yL(e,t,n){var r;if(e=Rs(e),FD("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,o=new Yo,s=UM(e,(()=>{}));return function(e,t,n,r,i,o){sM(e,"transaction on "+t);const s={path:t,update:n,onComplete:r,status:null,order:aN(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=cM(e,t,void 0);s.currentInputSnapshot=a;const c=s.update(a.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{RD("transaction failed: Data returned ",c,s.path),s.status=0;const n=gD(e.transactionQueueTree_,t),r=vD(n)||[];let i;r.push(s),yD(n,r),"object"===typeof c&&null!==c&&fs(c,".priority")?(i=ps(c,".priority"),Lo(OD(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):i=(QA(e.serverSyncTree_,t)||$R.EMPTY_NODE).getPriority().val();const o=$D(e),l=ZR(c,i),u=fD(l,a,o);s.currentOutputSnapshotRaw=l,s.currentOutputSnapshotResolved=u,s.currentWriteId=eM(e);const d=zA(e.serverSyncTree_,t,u,s.currentWriteId,s.applyLocally);VD(e.eventQueue_,t,d),lM(e,e.transactionQueueTree_)}}(e._repo,e._path,t,((t,n,r)=>{let i=null;t?o.reject(t):(i=new NM(r,new OM(e._repo,e._path),VR),o.resolve(new vL(n,i)))}),s,i),o.promise}xR.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},xR.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){eN(Ka),za(new Ps("database",((e,t)=>{let{instanceIdentifier:n}=t;return cL(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Ja(YO,JO,e),Ja(YO,JO,"esm2017")}();const bL=new qs("@firebase/database-compat"),wL=function(e){const t="FIREBASE WARNING: "+e;bL.warn(t)};class _L{constructor(e){this._delegate=e}cancel(e){ks("OnDisconnect.cancel",0,1,arguments.length),Is("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then((()=>e(null)),(t=>e(t))),t}remove(e){ks("OnDisconnect.remove",0,1,arguments.length),Is("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then((()=>e(null)),(t=>e(t))),t}set(e,t){ks("OnDisconnect.set",1,2,arguments.length),Is("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){ks("OnDisconnect.setWithPriority",2,3,arguments.length),Is("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}update(e,t){if(ks("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,wL("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Is("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}}class EL{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return ks("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class CL{constructor(e,t){this._database=e,this._delegate=t}val(){return ks("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return ks("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return ks("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return ks("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return ks("DataSnapshot.child",0,1,arguments.length),e=String(e),MD("DataSnapshot.child","path",e,!1),new CL(this._database,this._delegate.child(e))}hasChild(e){return ks("DataSnapshot.hasChild",1,1,arguments.length),MD("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return ks("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return ks("DataSnapshot.forEach",1,1,arguments.length),Is("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((t=>e(new CL(this._database,t))))}hasChildren(){return ks("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return ks("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return ks("DataSnapshot.ref",0,0,arguments.length),new SL(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class xL{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var i;ks("Query.on",2,4,arguments.length),Is("Query.on","callback",t,!1);const o=xL.getCancelAndContextArgs_("Query.on",n,r),s=(e,n)=>{t.call(o.context,new CL(this.database,e),n)};s.userCallback=t,s.context=o.context;const a=null===(i=o.cancel)||void 0===i?void 0:i.bind(o.context);switch(e){case"value":return UM(this._delegate,s,a),t;case"child_added":return zM(this._delegate,s,a),t;case"child_removed":return HM(this._delegate,s,a),t;case"child_changed":return VM(this._delegate,s,a),t;case"child_moved":return qM(this._delegate,s,a),t;default:throw new Error(Ts("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if(ks("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ts(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),Is("Query.off","callback",t,!0),Os("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,WM(this._delegate,e,r)}else WM(this._delegate,e)}get(){return LM(this._delegate).then((e=>new CL(this.database,e)))}once(e,t,n,r){ks("Query.once",1,4,arguments.length),Is("Query.once","callback",t,!0);const i=xL.getCancelAndContextArgs_("Query.once",n,r),o=new Yo,s=(e,n)=>{const r=new CL(this.database,e);t&&t.call(i.context,r,n),o.resolve(r)};s.userCallback=t,s.context=i.context;const a=e=>{i.cancel&&i.cancel.call(i.context,e),o.reject(e)};switch(e){case"value":UM(this._delegate,s,a,{onlyOnce:!0});break;case"child_added":zM(this._delegate,s,a,{onlyOnce:!0});break;case"child_removed":HM(this._delegate,s,a,{onlyOnce:!0});break;case"child_changed":VM(this._delegate,s,a,{onlyOnce:!0});break;case"child_moved":qM(this._delegate,s,a,{onlyOnce:!0});break;default:throw new Error(Ts("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return ks("Query.limitToFirst",1,1,arguments.length),new xL(this.database,iL(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new YM(e)}(e)))}limitToLast(e){return ks("Query.limitToLast",1,1,arguments.length),new xL(this.database,iL(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new JM(e)}(e)))}orderByChild(e){return ks("Query.orderByChild",1,1,arguments.length),new xL(this.database,iL(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return MD("orderByChild","path",e,!1),new ZM(e)}(e)))}orderByKey(){return ks("Query.orderByKey",0,0,arguments.length),new xL(this.database,iL(this._delegate,new eL))}orderByPriority(){return ks("Query.orderByPriority",0,0,arguments.length),new xL(this.database,iL(this._delegate,new tL))}orderByValue(){return ks("Query.orderByValue",0,0,arguments.length),new xL(this.database,iL(this._delegate,new nL))}startAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return ks("Query.startAt",0,2,arguments.length),new xL(this.database,iL(this._delegate,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return DD("startAt","key",t,!0),new XM(e,t)}(e,t)))}startAfter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return ks("Query.startAfter",0,2,arguments.length),new xL(this.database,iL(this._delegate,function(e,t){return DD("startAfter","key",t,!0),new $M(e,t)}(e,t)))}endAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return ks("Query.endAt",0,2,arguments.length),new xL(this.database,iL(this._delegate,function(e,t){return DD("endAt","key",t,!0),new KM(e,t)}(e,t)))}endBefore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return ks("Query.endBefore",0,2,arguments.length),new xL(this.database,iL(this._delegate,function(e,t){return DD("endBefore","key",t,!0),new QM(e,t)}(e,t)))}equalTo(e,t){return ks("Query.equalTo",1,2,arguments.length),new xL(this.database,iL(this._delegate,function(e,t){return DD("equalTo","key",t,!0),new rL(e,t)}(e,t)))}toString(){return ks("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return ks("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(ks("Query.isEqual",1,1,arguments.length),!(e instanceof xL)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Is(e,"cancel",r.cancel,!0),r.context=n,Os(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Ts(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new SL(this.database,new OM(this._delegate._repo,this._delegate._path))}}class SL extends xL{constructor(e,t){super(e,new SM(t._repo,t._path,new lP,!1)),this.database=e,this._delegate=t}getKey(){return ks("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return ks("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new SL(this.database,AM(this._delegate,e))}getParent(){ks("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new SL(this.database,e):null}getRoot(){return ks("Reference.root",0,0,arguments.length),new SL(this.database,this._delegate.root)}set(e,t){ks("Reference.set",1,2,arguments.length),Is("Reference.set","onComplete",t,!0);const n=DM(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}update(e,t){if(ks("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,wL("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}FD("Reference.update",this._delegate._path),Is("Reference.update","onComplete",t,!0);const n=MM(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){ks("Reference.setWithPriority",2,3,arguments.length),Is("Reference.setWithPriority","onComplete",n,!0);const r=function(e,t,n){if(FD("setWithPriority",e._path),ND("setWithPriority",t,e._path,!1),AD("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new Yo;return tM(e._repo,e._path,t,n,r.wrapCallback((()=>{}))),r.promise}(this._delegate,e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}remove(e){ks("Reference.remove",0,1,arguments.length),Is("Reference.remove","onComplete",e,!0);const t=function(e){return FD("remove",e._path),DM(e,null)}(this._delegate);return e&&t.then((()=>e(null)),(t=>e(t))),t}transaction(e,t,n){ks("Reference.transaction",1,3,arguments.length),Is("Reference.transaction","transactionUpdate",e,!1),Is("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Ts(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);const r=yL(this._delegate,e,{applyLocally:n}).then((e=>new EL(e.committed,new CL(this.database,e.snapshot))));return t&&r.then((e=>t(null,e.committed,e.snapshot)),(e=>t(e,!1,null))),r}setPriority(e,t){ks("Reference.setPriority",1,2,arguments.length),Is("Reference.setPriority","onComplete",t,!0);const n=function(e,t){e=Rs(e),FD("setPriority",e._path),AD("setPriority",t,!1);const n=new Yo;return tM(e._repo,fR(e._path,".priority"),t,null,n.wrapCallback((()=>{}))),n.promise}(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}push(e,t){ks("Reference.push",0,2,arguments.length),Is("Reference.push","onComplete",t,!0);const n=function(e,t){e=Rs(e),FD("push",e._path),ND("push",t,e._path,!0);const n=XD(e._repo),r=wM(n),i=AM(e,r),o=AM(e,r);let s;return s=null!=t?DM(o,t).then((()=>o)):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(this._delegate,e),r=n.then((e=>new SL(this.database,e)));t&&r.then((()=>t(null)),(e=>t(e)));const i=new SL(this.database,n);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return FD("Reference.onDisconnect",this._delegate._path),new _L(new xM(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class kL{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:dL,forceLongPolling:hL}}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fL(this._delegate,e,t,n)}ref(e){if(ks("database.ref",0,1,arguments.length),e instanceof SL){const t=PM(this._delegate,e.toString());return new SL(this,t)}{const t=RM(this._delegate,e);return new SL(this,t)}}refFromURL(e){ks("database.refFromURL",1,1,arguments.length);const t=PM(this._delegate,e);return new SL(this,t)}goOffline(){return ks("database.goOffline",0,0,arguments.length),function(e){(e=Rs(e))._checkNotDeleted("goOffline"),oM(e._repo)}(this._delegate)}goOnline(){return ks("database.goOnline",0,0,arguments.length),pL(this._delegate)}}kL.ServerValue={TIMESTAMP:gL,increment:e=>function(e){return{".sv":{increment:e}}}(e)};var TL=Object.freeze({__proto__:null,initStandalone:function(e){let{app:t,url:n,version:r,customAuthImpl:i,namespace:o,nodeAdmin:s=!1}=e;eN(r);const a=new Ds("auth-internal",new Ls("database-standalone"));return a.setComponent(new Ps("auth-internal",(()=>i),"PRIVATE")),{instance:new kL(cL(t,a,void 0,n,s),t),namespace:o}}});const IL=kL.ServerValue;!function(e){e.INTERNAL.registerComponent(new Ps("database-compat",((e,t)=>{let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new kL(i,r)}),"PUBLIC").setServiceProps({Reference:SL,Query:xL,Database:kL,DataSnapshot:CL,enableLogging:mL,INTERNAL:TL,ServerValue:IL}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.3.4")}(vc);const OL="firebasestorage.googleapis.com",NL="storageBucket";class RL extends as{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(DL(e),"Firebase Storage: ".concat(t," (").concat(DL(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,RL.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return DL(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var PL,AL;function DL(e){return"storage/"+e}function ML(){return new RL(PL.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function LL(){return new RL(PL.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FL(){return new RL(PL.CANCELED,"User canceled the upload/download.")}function jL(){return new RL(PL.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function BL(e){return new RL(PL.INVALID_ARGUMENT,e)}function UL(){return new RL(PL.APP_DELETED,"The Firebase app was deleted.")}function zL(e){return new RL(PL.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function VL(e,t){return new RL(PL.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function qL(e){throw new RL(PL.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(PL||(PL={}));class HL{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=HL.makeFromUrl(e,t)}catch(KK){return new HL(e,"")}if(""===n.path)return n;throw r=e,new RL(PL.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===OL?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let c=0;c<a.length;c++){const t=a[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new HL(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new RL(PL.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class WL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function GL(e){return"string"===typeof e||e instanceof String}function KL(e){return QL()&&e instanceof Blob}function QL(){return"undefined"!==typeof Blob&&!ts()}function XL(e,t,n,r){if(r<t)throw BL("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw BL("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function $L(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function YL(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function JL(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(AL||(AL={}));class ZL{constructor(e,t,n,r,i,o,s,a,c,l,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new eF(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===AL.NO_ERROR,i=n.getStatus();if(!t||JL(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===AL.ABORT;return void e(!1,new eF(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new eF(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(KK){r(KK)}else if(null!==i){const e=ML();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?UL():FL())}else{r(LL())}};this.canceled_?t(0,new eF(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,c())}),t)}function h(){o&&clearTimeout(o)}function f(e){if(l)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(c()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function m(e){p||(p=!0,h(),l||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class eF{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function tF(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function nF(){const e=tF();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(QL())return new Blob(n);throw new RL(PL.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function rF(e){if("undefined"===typeof atob)throw t="base-64",new RL(PL.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const iF={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class oF{constructor(e,t){this.data=e,this.contentType=t||null}}function sF(e,t){switch(e){case iF.RAW:return new oF(aF(t));case iF.BASE64:case iF.BASE64URL:return new oF(cF(e,t));case iF.DATA_URL:return new oF(function(e){const t=new lF(e);return t.base64?cF(iF.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(KK){throw VL(iF.DATA_URL,"Malformed data URL.")}return aF(t)}(t.rest)}(t),new lF(t).contentType)}throw ML()}function aF(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function cF(e,t){switch(e){case iF.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw VL(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case iF.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw VL(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=rF(t)}catch(KK){if(KK.message.includes("polyfill"))throw KK;throw VL(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class lF{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw VL(iF.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class uF{constructor(e,t){let n=0,r="";KL(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(KL(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new uF(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new uF(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(QL()){const e=t.map((e=>e instanceof uF?e.data_:e));return new uF(nF.apply(null,e))}{const e=t.map((e=>GL(e)?sF(iF.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new uF(r,!0)}}uploadData(){return this.data_}}function dF(e){let t;try{t=JSON.parse(e)}catch(KK){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function hF(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function fF(e,t){return t}class pF{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||fF}}let mF=null;function gF(){if(mF)return mF;const e=[];e.push(new pF("bucket")),e.push(new pF("generation")),e.push(new pF("metageneration")),e.push(new pF("name","fullPath",!0));const t=new pF("name");t.xform=function(e,t){return function(e){return!GL(e)||e.length<2?e:hF(e)}(t)},e.push(t);const n=new pF("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new pF("timeCreated")),e.push(new pF("updated")),e.push(new pF("md5Hash",null,!0)),e.push(new pF("cacheControl",null,!0)),e.push(new pF("contentDisposition",null,!0)),e.push(new pF("contentEncoding",null,!0)),e.push(new pF("contentLanguage",null,!0)),e.push(new pF("contentType",null,!0)),e.push(new pF("metadata","customMetadata",!0)),mF=e,mF}function vF(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new HL(n,r);return t._makeStorageReference(i)}})}(r,e),r}function yF(e,t,n){const r=dF(t);if(null===r)return null;return vF(e,r,n)}function bF(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const wF="prefixes",_F="items";function EF(e,t,n){const r=dF(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[wF])for(const i of n[wF]){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new HL(t,n));r.prefixes.push(o)}if(n[_F])for(const i of n[_F]){const n=e._makeStorageReference(new HL(t,i.name));r.items.push(n)}return r}(e,t,r)}class CF{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function xF(e){if(!e)throw ML()}function SF(e,t){return function(n,r){const i=yF(e,r,t);return xF(null!==i),i}}function kF(e,t){return function(n,r){const i=yF(e,r,t);return xF(null!==i),function(e,t,n,r){const i=dF(t);if(null===i)return null;if(!GL(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent,a=o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return $L("/b/"+s(i)+"/o/"+s(o),n,r)+YL({alt:"media",token:t})}));return a[0]}(i,r,e.host,e._protocol)}}function TF(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new RL(PL.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new RL(PL.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new RL(PL.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new RL(PL.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function IF(e){const t=TF(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new RL(PL.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function OF(e,t,n){const r=$L(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new CF(r,"GET",SF(e,n),i);return o.errorHandler=IF(t),o}function NF(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=$L(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new CF(s,"GET",function(e,t){return function(n,r){const i=EF(e,t,r);return xF(null!==i),i}}(e,t.bucket),a);return c.urlParams=o,c.errorHandler=TF(t),c}function RF(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function PF(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const c=RF(t,r,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+bF(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=uF.getBlob(l,r,u);if(null===d)throw jL();const h={name:c.fullPath},f=$L(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new CF(f,"POST",SF(e,n),p);return m.urlParams=h,m.headers=s,m.body=d.uploadData(),m.errorHandler=TF(t),m}class AF{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function DF(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(KK){xF(!1)}return xF(!!n&&-1!==(t||["active"]).indexOf(n)),n}const MF=262144;function LF(e,t,n,r,i,o,s,a){const c=new AF(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new RL(PL.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const l=c.total-c.current;let u=l;i>0&&(u=Math.min(u,i));const d=c.current,h=d+u;let f="";f=0===u?"finalize":l===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(c.current)},m=r.slice(d,h);if(null===m)throw jL();const g=t.maxUploadRetryTime,v=new CF(n,"POST",(function(e,n){const i=DF(e,["active","final"]),s=c.current+u,a=r.size();let l;return l="final"===i?SF(t,o)(e,n):null,new AF(s,a,"final"===i,l)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=TF(e),v}const FF={STATE_CHANGED:"state_changed"},jF={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function BF(e){switch(e){case"running":case"pausing":case"canceling":return jF.RUNNING;case"paused":return jF.PAUSED;case"success":return jF.SUCCESS;case"canceled":return jF.CANCELED;default:return jF.ERROR}}class UF{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function zF(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let VF=null;class qF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=AL.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=AL.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=AL.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw qL("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qL("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qL("cannot .getStatus() before sending");try{return this.xhr_.status}catch(KK){return-1}}getResponse(){if(!this.sent_)throw qL("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qL("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class HF extends qF{initXhr(){this.xhr_.responseType="text"}}function WF(){return VF?VF():new HF}class GF{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=gF(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(PL.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(JL(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=LL()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(PL.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=RF(t,r,i),a={name:s.fullPath},c=$L(o,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=bF(s,n),d=e.maxUploadRetryTime,h=new CF(c,"POST",(function(e){let t;DF(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(KK){xF(!1)}return xF(GL(t)),t}),d);return h.urlParams=a,h.headers=l,h.body=u,h.errorHandler=TF(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,WF,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new CF(n,"POST",(function(e){const t=DF(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(KK){xF(!1)}n||xF(!1);const i=Number(n);return xF(!isNaN(i)),new AF(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=TF(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,WF,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=MF*this._chunkMultiplier,t=new AF(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=LF(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(KK){return this._error=KK,void this._transition("error")}const s=this._ref.storage._makeRequest(o,WF,r,i,!1);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(MF*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=OF(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,WF,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=PF(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,WF,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=FL(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=BF(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new UF(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(BF(this._state)){case jF.SUCCESS:zF(this._resolve.bind(null,this.snapshot))();break;case jF.CANCELED:case jF.ERROR:zF(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(BF(this._state)){case jF.RUNNING:case jF.PAUSED:e.next&&zF(e.next.bind(e,this.snapshot))();break;case jF.SUCCESS:e.complete&&zF(e.complete.bind(e))();break;default:e.error&&zF(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class KF{constructor(e,t){this._service=e,this._location=t instanceof HL?t:HL.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new KF(e,t)}get root(){const e=new HL(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hF(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new HL(this._location.bucket,e);return new KF(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw zL(e)}}function QF(e){const t={prefixes:[],items:[]};return XF(e,t).then((()=>t))}async function XF(e,t,n){const r={pageToken:n},i=await $F(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await XF(e,t,i.nextPageToken)}function $F(e,t){null!=t&&"number"===typeof t.maxResults&&XL("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=NF(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,WF)}function YF(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=$L(t.fullServerUrl(),e.host,e._protocol),o=bF(n,r),s=e.maxOperationRetryTime,a=new CF(i,"PATCH",SF(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=IF(t),a}(e.storage,e._location,t,gF());return e.storage.makeRequestWithTokens(n,WF)}function JF(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=$L(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new CF(r,"GET",kF(e,n),i);return o.errorHandler=IF(t),o}(e.storage,e._location,gF());return e.storage.makeRequestWithTokens(t,WF).then((e=>{if(null===e)throw new RL(PL.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function ZF(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=$L(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new CF(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=IF(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,WF)}function ej(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new HL(e._location.bucket,n);return new KF(e.storage,r)}function tj(e,t){if(e instanceof ij){const n=e;if(null==n._bucket)throw new RL(PL.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NL+"' property when initializing the app?");const r=new KF(n,n._bucket);return null!=t?tj(r,t):r}return void 0!==t?ej(e,t):e}function nj(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ij)return new KF(e,t);throw BL("To use ref(service, url), the first argument must be a Storage instance.")}return tj(e,t)}function rj(e,t){const n=null===t||void 0===t?void 0:t[NL];return null==n?null:HL.makeFromBucketSpec(n,e)}class ij{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=OL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?HL.makeFromBucketSpec(r,this._host):rj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=HL.makeFromBucketSpec(this._url,e):this._bucket=rj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){XL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){XL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new KF(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new WL(UL());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=YL(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new ZL(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const oj="@firebase/storage",sj="0.11.2",aj="storage";function cj(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new GF(e,new uF(t),n)}(e=Rs(e),t,n)}function lj(e){return function(e){e._throwIfRoot("getMetadata");const t=OF(e.storage,e._location,gF());return e.storage.makeRequestWithTokens(t,WF)}(e=Rs(e))}function uj(e,t){return nj(e=Rs(e),t)}function dj(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Jo(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function hj(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new ij(r,i,o,n,Ka)}za(new Ps(aj,hj,"PUBLIC").setMultipleInstances(!0)),Ja(oj,sj,""),Ja(oj,sj,"esm2017");class fj{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class pj{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new fj(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new fj(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new fj(e,this,this._ref)):{next:t.next?e=>t.next(new fj(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class mj{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new gj(e,this._service)))}get items(){return this._delegate.items.map((e=>new gj(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class gj{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return ej(e,t)}(this._delegate,e);return new gj(t,this.storage)}get root(){return new gj(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new gj(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new pj(cj(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iF.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=sF(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new pj(new GF(this._delegate,new uF(r.data,!0),i),this)}listAll(){return function(e){return QF(e=Rs(e))}(this._delegate).then((e=>new mj(e,this.storage)))}list(e){return function(e,t){return $F(e=Rs(e),t)}(this._delegate,e||void 0).then((e=>new mj(e,this.storage)))}getMetadata(){return lj(this._delegate)}updateMetadata(e){return function(e,t){return YF(e=Rs(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return JF(e=Rs(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return ZF(e=Rs(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw zL(e)}}class vj{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(yj(e))throw BL("ref() expected a child path but got a URL, use refFromURL instead.");return new gj(uj(this._delegate,e),this)}refFromURL(e){if(!yj(e))throw BL("refFromURL() expected a full URL but got a child path, use ref() instead.");try{HL.makeFromUrl(e,this._delegate.host)}catch(KK){throw BL("refFromUrl() expected a valid full URL but got an invalid one.")}return new gj(uj(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dj(this._delegate,e,t,n)}}function yj(e){return/^[A-Za-z]+:\/\//.test(e)}function bj(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new vj(r,i)}!function(e){const t={TaskState:jF,TaskEvent:FF,StringFormat:iF,Storage:vj,Reference:gj};e.INTERNAL.registerComponent(new Ps("storage-compat",bj,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(vc);const wj=vc.initializeApp({apiKey:"AIzaSyCMAs8cyM68K1JfVseIjU_nNgEeyXBxL-s",authDomain:"financefrenzy-biz.firebaseapp.com",databaseURL:"https://financefrenzy-biz-default-rtdb.firebaseio.com",projectId:"financefrenzy-biz",storageBucket:"financefrenzy-biz.appspot.com",messagingSenderId:"580011627408",appId:"1:580011627408:web:47e0a3be92ebb7c2995915",measurementId:"G-T14QWMKGD7"}),_j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa();const t=Va(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Va(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(vs(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Pc(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:wh,persistence:[md,Ju,ed]}),r=$o("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Th)return;const r=null===t||void 0===t?void 0:t.token;Ih!==r&&(Ih=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Rs(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){Rs(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const o=Qo("auth");return o&&Ul(n,"http://".concat(o)),n}(wj);console.log("Firebase initialized");const Ej=wj.firestore(),Cj=vc,xj=()=>(0,Pn.jsxs)(Pn.Fragment,{children:[(0,Pn.jsx)(Po,{collapseOnSelect:!0,expand:"lg ",bg:"dark",variant:"dark",fixed:"top",children:(0,Pn.jsxs)(Un,{className:"container-fluid",children:[(0,Pn.jsxs)(Ar.Link,{href:"#hero",children:[" ",(0,Pn.jsx)(Po.Brand,{children:(0,Pn.jsx)(Tn,{to:"/",className:"navbar-brand",children:(0,Pn.jsx)("img",{src:".\\assets\\img\\logo.png",width:"50",height:"50",style:{position:"relative",right:"1rem",top:"-0.3rem"},className:"d-inline-block align-top ml-8",alt:"React Bootstrap logo"})})})]}),(0,Pn.jsx)(Po.Toggle,{"aria-controls":"responsive-navbar-nav",className:"ms-auto m-2 float-sm-left  float-md-left float-lg-left float-xl-left"}),(0,Pn.jsx)(Po.Collapse,{id:"responsive-navbar-nav",children:(0,Pn.jsxs)(Ar,{className:"ms-auto",children:[(0,Pn.jsx)(Ar.Link,{href:"#hero",className:"logo",children:(0,Pn.jsx)(Tn,{className:"nav-link",to:"/",children:(0,Pn.jsx)("h1",{className:"logo",children:(0,Pn.jsxs)(Tn,{className:"nav-link",to:"/",children:[(0,Pn.jsxs)("h6",{children:["Finance Frenzy ",(0,Pn.jsx)("br",{})," ",(0,Pn.jsx)("span",{style:{fontSize:"6.5px",color:"white",fontWeight:"bolder"},children:"We help build your Dream!"})," "]})," "]})})})}),(0,Pn.jsx)(Ar.Link,{href:"#logout",children:(0,Pn.jsx)(Tn,{className:"nav-link",to:"/logout",children:(0,Pn.jsx)("h5",{children:"Logout"})})})]})})]})}),(0,Pn.jsx)(Pn.Fragment,{})]}),Sj=()=>{const[e,n]=(0,t.useState)(!1);return(0,Pn.jsxs)(Pn.Fragment,{children:[(0,Pn.jsxs)("button",{className:"sidebar-toggle",onClick:()=>{n(!e)},children:[e?"Close":"Open"," Sidebar"]}),(0,Pn.jsx)("div",{className:"sidebar ".concat(e?"open":""),children:(0,Pn.jsxs)("ul",{className:"sidebar-menu",children:[(0,Pn.jsx)("li",{children:(0,Pn.jsx)(Tn,{to:"/contact",children:"Contact"})}),(0,Pn.jsx)("li",{children:(0,Pn.jsx)(Tn,{to:"/careers",children:"Careers"})})]})})]})};function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kj.apply(this,arguments)}var Tj;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Tj||(Tj={}));function Ij(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Oj(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var Nj;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Nj||(Nj={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Rj(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Pj(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Aj(e,t){let n=Pj(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function Dj(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=Oj(e):(i=kj({},e),Ij(!i.pathname||!i.pathname.includes("?"),Rj("?","pathname","search",i)),Ij(!i.pathname||!i.pathname.includes("#"),Rj("#","pathname","hash",i)),Ij(!i.search||!i.search.includes("#"),Rj("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?Oj(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Lj(r),hash:Fj(i)}}(i,o),l=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return c.pathname.endsWith("/")||!l&&!u||(c.pathname+="/"),c}const Mj=e=>e.join("/").replace(/\/\/+/g,"/"),Lj=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Fj=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const jj=["post","put","patch","delete"],Bj=(new Set(jj),["get",...jj]);new Set(Bj),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Uj(){return Uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uj.apply(this,arguments)}const zj=t.createContext(null);const Vj=t.createContext(null);const qj=t.createContext(null);const Hj=t.createContext({outlet:null,matches:[],isDataRoute:!1});function Wj(){return null!=t.useContext(qj)}function Gj(){return Wj()||Ij(!1),t.useContext(qj).location}function Kj(e){t.useContext(Vj).static||t.useLayoutEffect(e)}function Qj(){let{isDataRoute:e}=t.useContext(Hj);return e?function(){let{router:e}=Yj(Xj.UseNavigateStable),n=Jj($j.UseNavigateStable),r=t.useRef(!1);Kj((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,Uj({fromRouteId:n},i)))}),[e,n]);return i}():function(){Wj()||Ij(!1);let e=t.useContext(zj),{basename:n,future:r,navigator:i}=t.useContext(Vj),{matches:o}=t.useContext(Hj),{pathname:s}=Gj(),a=JSON.stringify(Aj(o,r.v7_relativeSplatPath)),c=t.useRef(!1);Kj((()=>{c.current=!0}));let l=t.useCallback((function(t,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof t)return void i.go(t);let o=Dj(t,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:Mj([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,a,s,e]);return l}()}t.Component;var Xj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Xj||{}),$j=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($j||{});function Yj(e){let n=t.useContext(zj);return n||Ij(!1),n}function Jj(e){let n=function(e){let n=t.useContext(Hj);return n||Ij(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||Ij(!1),r.route.id}r.startTransition;function Zj(e){let{to:n,replace:r,state:i,relative:o}=e;Wj()||Ij(!1);let{future:s,static:a}=t.useContext(Vj),{matches:c}=t.useContext(Hj),{pathname:l}=Gj(),u=Qj(),d=Dj(n,Aj(c,s.v7_relativeSplatPath),l,"path"===o),h=JSON.stringify(d);return t.useEffect((()=>u(JSON.parse(h),{replace:r,state:i,relative:o})),[u,h,o,r,i]),null}new Promise((()=>{}));t.Component;function eB(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=eB(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const tB=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=eB(e))&&(r&&(r+=" "),r+=t);return r};function nB(){return nB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nB.apply(this,arguments)}function rB(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function iB(e){return"number"===typeof e&&!isNaN(e)}function oB(e){return"boolean"===typeof e}function sB(e){return"string"===typeof e}function aB(e){return"function"===typeof e}function cB(e){return sB(e)||aB(e)?e:null}function lB(e){return 0===e||e}var uB=!("undefined"===typeof window||!window.document||!window.document.createElement);function dB(e){return(0,t.isValidElement)(e)||sB(e)||aB(e)||iB(e)}var hB={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},fB={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function pB(e){var n=e.enter,r=e.exit,i=e.appendPosition,o=void 0!==i&&i,s=e.collapse,a=void 0===s||s,c=e.collapseDuration,l=void 0===c?300:c;return function(e){var i=e.children,s=e.position,c=e.preventExitTransition,u=e.done,d=e.nodeRef,h=e.isIn,f=o?n+"--"+s:n,p=o?r+"--"+s:r,m=(0,t.useRef)(),g=(0,t.useRef)(0);function v(e){if(e.target===d.current){var t=d.current;t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",v),t.removeEventListener("animationcancel",v),0===g.current&&(t.className=m.current)}}function y(){var e=d.current;e.removeEventListener("animationend",y),a?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,u,l):u()}return(0,t.useLayoutEffect)((function(){!function(){var e=d.current;m.current=e.className,e.className+=" "+f,e.addEventListener("animationend",v),e.addEventListener("animationcancel",v)}()}),[]),(0,t.useEffect)((function(){h||(c?y():function(){g.current=1;var e=d.current;e.className+=" "+p,e.addEventListener("animationend",y)}())}),[h]),t.createElement(t.Fragment,null,i)}}var mB={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.list.has(e)&&this.list.get(e).forEach((function(n){var i=setTimeout((function(){n.apply(void 0,r)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(i)}))}},gB=["delay","staleId"];function vB(e){var n=(0,t.useReducer)((function(e){return e+1}),0),r=n[1],i=(0,t.useState)([]),o=i[0],s=i[1],a=(0,t.useRef)(null),c=(0,t.useRef)(new Map).current,l=function(e){return-1!==o.indexOf(e)},u=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:l,getToast:function(e){return c.get(e)}}).current;function d(e){var t=e.containerId;!u.props.limit||t&&u.containerId!==t||(u.count-=u.queue.length,u.queue=[])}function h(e){s((function(t){return lB(e)?t.filter((function(t){return t!==e})):[]}))}function f(){var e=u.queue.shift();m(e.toastContent,e.toastProps,e.staleId)}function p(e,n){var i=n.delay,o=n.staleId,s=rB(n,gB);if(dB(e)&&!function(e){return!a.current||u.props.enableMultiContainer&&e.containerId!==u.props.containerId||c.has(e.toastId)&&null==e.updateId}(s)){var l=s.toastId,d=s.updateId,p=s.data,g=u.props,v=function(){return h(l)},y=null==d;y&&u.count++;var b,w,_={toastId:l,updateId:d,isLoading:s.isLoading,theme:s.theme||g.theme,icon:null!=s.icon?s.icon:g.icon,isIn:!1,key:s.key||u.toastKey++,type:s.type,closeToast:v,closeButton:s.closeButton,rtl:g.rtl,position:s.position||g.position,transition:s.transition||g.transition,className:cB(s.className||g.toastClassName),bodyClassName:cB(s.bodyClassName||g.bodyClassName),style:s.style||g.toastStyle,bodyStyle:s.bodyStyle||g.bodyStyle,onClick:s.onClick||g.onClick,pauseOnHover:oB(s.pauseOnHover)?s.pauseOnHover:g.pauseOnHover,pauseOnFocusLoss:oB(s.pauseOnFocusLoss)?s.pauseOnFocusLoss:g.pauseOnFocusLoss,draggable:oB(s.draggable)?s.draggable:g.draggable,draggablePercent:s.draggablePercent||g.draggablePercent,draggableDirection:s.draggableDirection||g.draggableDirection,closeOnClick:oB(s.closeOnClick)?s.closeOnClick:g.closeOnClick,progressClassName:cB(s.progressClassName||g.progressClassName),progressStyle:s.progressStyle||g.progressStyle,autoClose:!s.isLoading&&(b=s.autoClose,w=g.autoClose,!1===b||iB(b)&&b>0?b:w),hideProgressBar:oB(s.hideProgressBar)?s.hideProgressBar:g.hideProgressBar,progress:s.progress,role:s.role||g.role,deleteToast:function(){c.delete(l);var e=u.queue.length;if(u.count=lB(l)?u.count-1:u.count-u.displayedToast,u.count<0&&(u.count=0),e>0){var t=lB(l)?1:u.props.limit;if(1===e||1===t)u.displayedToast++,f();else{var n=t>e?e:t;u.displayedToast=n;for(var i=0;i<n;i++)f()}}else r()}};aB(s.onOpen)&&(_.onOpen=s.onOpen),aB(s.onClose)&&(_.onClose=s.onClose),_.closeButton=g.closeButton,!1===s.closeButton||dB(s.closeButton)?_.closeButton=s.closeButton:!0===s.closeButton&&(_.closeButton=!dB(g.closeButton)||g.closeButton);var E=e;(0,t.isValidElement)(e)&&!sB(e.type)?E=(0,t.cloneElement)(e,{closeToast:v,toastProps:_,data:p}):aB(e)&&(E=e({closeToast:v,toastProps:_,data:p})),g.limit&&g.limit>0&&u.count>g.limit&&y?u.queue.push({toastContent:E,toastProps:_,staleId:o}):iB(i)&&i>0?setTimeout((function(){m(E,_,o)}),i):m(E,_,o)}}function m(e,t,n){var r=t.toastId;n&&c.delete(n),c.set(r,{content:e,props:t}),s((function(e){return[].concat(e,[r]).filter((function(e){return e!==n}))}))}return(0,t.useEffect)((function(){return u.containerId=e.containerId,mB.cancelEmit(3).on(0,p).on(1,(function(e){return a.current&&h(e)})).on(5,d).emit(2,u),function(){return mB.emit(3,u)}}),[]),(0,t.useEffect)((function(){u.isToastActive=l,u.displayedToast=o.length,mB.emit(4,o.length,e.containerId)}),[o]),(0,t.useEffect)((function(){u.props=e})),{getToastToRender:function(t){var n=new Map,r=Array.from(c.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:a,isToastActive:l}}function yB(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function bB(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function wB(e){var n=(0,t.useState)(!1),r=n[0],i=n[1],o=(0,t.useState)(!1),s=o[0],a=o[1],c=(0,t.useRef)(null),l=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,u=(0,t.useRef)(e),d=e.autoClose,h=e.pauseOnHover,f=e.closeToast,p=e.onClick,m=e.closeOnClick;function g(t){if(e.draggable){l.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",_),document.addEventListener("touchmove",w),document.addEventListener("touchend",_);var n=c.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=yB(t.nativeEvent),l.y=bB(t.nativeEvent),"x"===e.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function v(){if(l.boundingRect){var t=l.boundingRect,n=t.top,r=t.bottom,i=t.left,o=t.right;e.pauseOnHover&&l.x>=i&&l.x<=o&&l.y>=n&&l.y<=r?b():y()}}function y(){i(!0)}function b(){i(!1)}function w(t){var n=c.current;l.canDrag&&n&&(l.didMove=!0,r&&b(),l.x=yB(t),l.y=bB(t),"x"===e.draggableDirection?l.delta=l.x-l.start:l.delta=l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),n.style.transform="translate"+e.draggableDirection+"("+l.delta+"px)",n.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function _(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",_);var t=c.current;if(l.canDrag&&l.didMove&&t){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return a(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,t.useEffect)((function(){u.current=e})),(0,t.useEffect)((function(){return c.current&&c.current.addEventListener("d",y,{once:!0}),aB(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),function(){var e=u.current;aB(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)}}),[]),(0,t.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||b();window.addEventListener("focus",y),window.addEventListener("blur",b)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",b))}}),[e.pauseOnFocusLoss]);var E={onMouseDown:g,onTouchStart:g,onMouseUp:v,onTouchEnd:v};return d&&h&&(E.onMouseEnter=b,E.onMouseLeave=y),m&&(E.onClick=function(e){p&&p(e),l.canCloseOnClick&&f()}),{playToast:y,pauseToast:b,isRunning:r,preventExitTransition:s,toastRef:c,eventHandlers:E}}function _B(e){var n=e.closeToast,r=e.theme,i=e.ariaLabel,o=void 0===i?"close":i;return(0,t.createElement)("button",{className:"Toastify__close-button Toastify__close-button--"+r,type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":o},(0,t.createElement)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},(0,t.createElement)("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function EB(e){var n,r,i=e.delay,o=e.isRunning,s=e.closeToast,a=e.type,c=e.hide,l=e.className,u=e.style,d=e.controlledProgress,h=e.progress,f=e.rtl,p=e.isIn,m=e.theme,g=nB({},u,{animationDuration:i+"ms",animationPlayState:o?"running":"paused",opacity:c?0:1});d&&(g.transform="scaleX("+h+")");var v=tB("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+m,"Toastify__progress-bar--"+a,((n={})["Toastify__progress-bar--rtl"]=f,n)),y=aB(l)?l({rtl:f,type:a,defaultClassName:v}):tB(v,l),b=((r={})[d&&h>=1?"onTransitionEnd":"onAnimationEnd"]=d&&h<1?null:function(){p&&s()},r);return(0,t.createElement)("div",Object.assign({role:"progressbar","aria-hidden":c?"true":"false","aria-label":"notification timer",className:y,style:g},b))}EB.defaultProps={type:fB.DEFAULT,hide:!1};var CB=["theme","type"],xB=function(e){var n=e.theme,r=e.type,i=rB(e,CB);return(0,t.createElement)("svg",Object.assign({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-"+r+")"},i))};var SB={info:function(e){return(0,t.createElement)(xB,Object.assign({},e),(0,t.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return(0,t.createElement)(xB,Object.assign({},e),(0,t.createElement)("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return(0,t.createElement)(xB,Object.assign({},e),(0,t.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return(0,t.createElement)(xB,Object.assign({},e),(0,t.createElement)("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return(0,t.createElement)("div",{className:"Toastify__spinner"})}},kB=function(e){var n,r,i=wB(e),o=i.isRunning,s=i.preventExitTransition,a=i.toastRef,c=i.eventHandlers,l=e.closeButton,u=e.children,d=e.autoClose,h=e.onClick,f=e.type,p=e.hideProgressBar,m=e.closeToast,g=e.transition,v=e.position,y=e.className,b=e.style,w=e.bodyClassName,_=e.bodyStyle,E=e.progressClassName,C=e.progressStyle,x=e.updateId,S=e.role,k=e.progress,T=e.rtl,I=e.toastId,O=e.deleteToast,N=e.isIn,R=e.isLoading,P=e.icon,A=e.theme,D=tB("Toastify__toast","Toastify__toast-theme--"+A,"Toastify__toast--"+f,((n={})["Toastify__toast--rtl"]=T,n)),M=aB(y)?y({rtl:T,position:v,type:f,defaultClassName:D}):tB(D,y),L=!!k,F=SB[f],j={theme:A,type:f},B=F&&F(j);return!1===P?B=void 0:aB(P)?B=P(j):(0,t.isValidElement)(P)?B=(0,t.cloneElement)(P,j):sB(P)?B=P:R&&(B=SB.spinner()),(0,t.createElement)(g,{isIn:N,done:O,position:v,preventExitTransition:s,nodeRef:a},(0,t.createElement)("div",Object.assign({id:I,onClick:h,className:M},c,{style:b,ref:a}),(0,t.createElement)("div",Object.assign({},N&&{role:S},{className:aB(w)?w({type:f}):tB("Toastify__toast-body",w),style:_}),B&&(0,t.createElement)("div",{className:tB("Toastify__toast-icon",(r={},r["Toastify--animate-icon Toastify__zoom-enter"]=!R,r))},B),(0,t.createElement)("div",null,u)),function(e){if(e){var n={closeToast:m,type:f,theme:A};return aB(e)?e(n):(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):void 0}}(l),(d||L)&&(0,t.createElement)(EB,Object.assign({},x&&!L?{key:"pb-"+x}:{},{rtl:T,theme:A,delay:d,isRunning:o,isIn:N,closeToast:m,hide:p,type:f,style:C,className:E,controlledProgress:L,progress:k}))))},TB=pB({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),IB=function(e){var n=vB(e),r=n.getToastToRender,i=n.containerRef,o=n.isToastActive,s=e.className,a=e.style,c=e.rtl,l=e.containerId;function u(e){var t,n=tB("Toastify__toast-container","Toastify__toast-container--"+e,((t={})["Toastify__toast-container--rtl"]=c,t));return aB(s)?s({position:e,rtl:c,defaultClassName:n}):tB(n,cB(s))}return(0,t.createElement)("div",{ref:i,className:"Toastify",id:l},r((function(e,n){var r=n.length?nB({},a):nB({},a,{pointerEvents:"none"});return(0,t.createElement)("div",{className:u(e),style:r,key:"container-"+e},n.map((function(e){var n=e.content,r=e.props;return(0,t.createElement)(kB,Object.assign({},r,{isIn:o(r.toastId),key:"toast-"+r.key,closeButton:!0===r.closeButton?_B:r.closeButton}),n)})))})))};IB.defaultProps={position:hB.TOP_RIGHT,transition:TB,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:_B,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var OB,NB,RB,PB=new Map,AB=[],DB=!1;function MB(){return Math.random().toString(36).substring(2,9)}function LB(e){return e&&(sB(e.toastId)||iB(e.toastId))?e.toastId:MB()}function FB(e,n){return PB.size>0?mB.emit(0,e,n):(AB.push({content:e,options:n}),DB&&uB&&(DB=!1,NB=document.createElement("div"),document.body.appendChild(NB),(0,i.render)((0,t.createElement)(IB,Object.assign({},RB)),NB))),n.toastId}function jB(e,t){return nB({},t,{type:t&&t.type||e,toastId:LB(t)})}function BB(e){return function(t,n){return FB(t,jB(e,n))}}function UB(e,t){return FB(e,jB(fB.DEFAULT,t))}UB.loading=function(e,t){return FB(e,jB(fB.DEFAULT,nB({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},UB.promise=function(e,t,n){var r,i=t.pending,o=t.error,s=t.success;i&&(r=sB(i)?UB.loading(i,n):UB.loading(i.render,nB({},n,i)));var a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=function(e,t,i){if(null!=t){var o=nB({type:e},a,n,{data:i}),s=sB(t)?{render:t}:t;return r?UB.update(r,nB({},o,s)):UB(s.render,nB({},o,s)),i}UB.dismiss(r)},l=aB(e)?e():e;return l.then((function(e){return c("success",s,e)})).catch((function(e){return c("error",o,e)})),l},UB.success=BB(fB.SUCCESS),UB.info=BB(fB.INFO),UB.error=BB(fB.ERROR),UB.warning=BB(fB.WARNING),UB.warn=UB.warning,UB.dark=function(e,t){return FB(e,jB(fB.DEFAULT,nB({theme:"dark"},t)))},UB.dismiss=function(e){return mB.emit(1,e)},UB.clearWaitingQueue=function(e){return void 0===e&&(e={}),mB.emit(5,e)},UB.isActive=function(e){var t=!1;return PB.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},UB.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=PB.get(n||OB);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,o=nB({},r,t,{toastId:t.toastId||e,updateId:MB()});o.toastId!==e&&(o.staleId=e);var s=o.render||i;delete o.render,FB(s,o)}}),0)},UB.done=function(e){UB.update(e,{progress:1})},UB.onChange=function(e){return aB(e)&&mB.on(4,e),function(){aB(e)&&mB.off(4,e)}},UB.configure=function(e){void 0===e&&(e={}),DB=!0,RB=e},UB.POSITION=hB,UB.TYPE=fB,mB.on(2,(function(e){OB=e.containerId||e,PB.set(OB,e),AB.forEach((function(e){mB.emit(0,e.content,e.options)})),AB=[]})).on(3,(function(e){PB.delete(e.containerId||e),0===PB.size&&mB.off(0).off(1).off(5),uB&&NB&&document.body.removeChild(NB)})),UB.configure();const zB=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[o,s]=(0,t.useState)({name:"",email:"",subject:"",message:""}),[a,c]=(0,t.useState)(!1),[l,u]=(0,t.useState)(null),d=async()=>{try{const e=(await Ej.collection("contacts").get()).docs.map((e=>({id:e.id,...e.data()})));n(e)}catch(mN){console.error("Error fetching contacts: ",mN),UB.error("Error fetching contacts!")}finally{i(!1)}};(0,t.useEffect)((()=>{d()}),[]);return r?(0,Pn.jsx)("div",{children:"Loading..."}):(0,Pn.jsxs)("div",{className:"container",children:[(0,Pn.jsx)("h1",{children:"Contact List"}),(0,Pn.jsxs)("div",{className:"mb-4",children:[(0,Pn.jsx)("h3",{children:a?"Edit Contact":"Add New Contact"}),(0,Pn.jsx)("input",{type:"text",className:"form-control",placeholder:"Name",value:o.name,onChange:e=>s({...o,name:e.target.value})}),(0,Pn.jsx)("input",{type:"email",className:"form-control",placeholder:"Email",value:o.email,onChange:e=>s({...o,email:e.target.value})}),(0,Pn.jsx)("input",{type:"text",className:"form-control",placeholder:"Subject",value:o.subject,onChange:e=>s({...o,subject:e.target.value})}),(0,Pn.jsx)("textarea",{className:"form-control",placeholder:"Message",value:o.message,onChange:e=>s({...o,message:e.target.value})}),(0,Pn.jsx)("button",{className:"btn btn-primary",onClick:a?async()=>{if(o.name&&o.email&&o.subject&&o.message)try{await Ej.collection("contacts").doc(l.id).update(o),c(!1),u(null),s({name:"",email:"",subject:"",message:""}),d(),UB.success("Contact updated successfully!")}catch(mN){console.error("Error updating contact: ",mN),UB.error("Error updating contact!")}else UB.warn("All fields are required!")}:async()=>{if(o.name&&o.email&&o.subject&&o.message)try{await Ej.collection("contacts").add(o),s({name:"",email:"",subject:"",message:""}),d(),UB.success("Contact added successfully!")}catch(mN){console.error("Error adding contact: ",mN),UB.error("Error adding contact!")}else UB.warn("All fields are required!")},children:a?"Update Contact":"Add Contact"})]}),(0,Pn.jsxs)("table",{className:"table table-striped",children:[(0,Pn.jsx)("thead",{children:(0,Pn.jsxs)("tr",{children:[(0,Pn.jsx)("th",{scope:"col",children:"Name"}),(0,Pn.jsx)("th",{scope:"col",children:"Email"}),(0,Pn.jsx)("th",{scope:"col",children:"Subject"}),(0,Pn.jsx)("th",{scope:"col",children:"Message"}),(0,Pn.jsx)("th",{scope:"col",children:"Actions"})]})}),(0,Pn.jsx)("tbody",{children:e.map((e=>(0,Pn.jsxs)("tr",{children:[(0,Pn.jsx)("td",{children:e.name}),(0,Pn.jsx)("td",{children:e.email}),(0,Pn.jsx)("td",{children:e.subject}),(0,Pn.jsx)("td",{children:e.message}),(0,Pn.jsxs)("td",{children:[(0,Pn.jsx)("button",{className:"btn btn-warning",onClick:()=>(e=>{c(!0),u(e),s({name:e.name,email:e.email,subject:e.subject,message:e.message})})(e),children:"Edit"}),(0,Pn.jsx)("button",{className:"btn btn-danger",onClick:()=>(async e=>{try{await Ej.collection("contacts").doc(e).delete(),d(),UB.success("Contact deleted successfully!")}catch(mN){console.error("Error deleting contact: ",mN),UB.error("Error deleting contact!")}})(e.id),children:"Delete"})]})]},e.id)))})]})]})},VB=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[o,s]=(0,t.useState)({Fname:"",Lname:"",email:"",evening:"",options:"",phoneN:"",referN:"",roleN:""}),[a,c]=(0,t.useState)(!1),[l,u]=(0,t.useState)(null),d=async()=>{try{const e=(await Ej.collection("careers").get()).docs.map((e=>({id:e.id,...e.data()})));n(e)}catch(mN){console.error("Error fetching careers: ",mN)}finally{i(!1)}};(0,t.useEffect)((()=>{d()}),[]);return r?(0,Pn.jsx)("div",{children:"Loading..."}):(0,Pn.jsxs)("div",{className:"container",children:[(0,Pn.jsx)("h1",{children:"Career List"}),(0,Pn.jsxs)("div",{className:"mb-4",children:[(0,Pn.jsx)("h3",{children:a?"Edit Career":"Add New Career"}),(0,Pn.jsx)("input",{type:"text",className:"form-control",placeholder:"First Name",value:o.Fname,onChange:e=>s({...o,Fname:e.target.value})}),(0,Pn.jsx)("input",{type:"text",className:"form-control",placeholder:"Last Name",value:o.Lname,onChange:e=>s({...o,Lname:e.target.value})}),(0,Pn.jsx)("input",{type:"email",className:"form-control",placeholder:"Email",value:o.email,onChange:e=>s({...o,email:e.target.value})}),(0,Pn.jsx)("input",{type:"text",className:"form-control",placeholder:"Phone Number",value:o.phoneN,onChange:e=>s({...o,phoneN:e.target.value})}),(0,Pn.jsx)("input",{type:"text",className:"form-control",placeholder:"Role",value:o.roleN,onChange:e=>s({...o,roleN:e.target.value})}),(0,Pn.jsx)("button",{className:"btn btn-primary",onClick:a?async()=>{if(o.Fname&&o.Lname&&o.email&&o.phoneN&&o.roleN)try{await Ej.collection("careers").doc(l.id).update(o),c(!1),u(null),s({Fname:"",Lname:"",email:"",evening:"",options:"",phoneN:"",referN:"",roleN:""}),d(),alert("Career updated successfully!")}catch(mN){console.error("Error updating career: ",mN),alert("Error updating career.")}else alert("All fields are required!")}:async()=>{if(o.Fname&&o.Lname&&o.email&&o.phoneN&&o.roleN)try{await Ej.collection("careers").add(o),s({Fname:"",Lname:"",email:"",evening:"",options:"",phoneN:"",referN:"",roleN:""}),d(),alert("Career created successfully!")}catch(mN){console.error("Error adding career: ",mN),alert("Error creating career.")}else alert("All fields are required!")},children:a?"Update Career":"Add Career"})]}),(0,Pn.jsxs)("table",{className:"table table-striped",children:[(0,Pn.jsx)("thead",{children:(0,Pn.jsxs)("tr",{children:[(0,Pn.jsx)("th",{scope:"col",children:"First Name"}),(0,Pn.jsx)("th",{scope:"col",children:"Last Name"}),(0,Pn.jsx)("th",{scope:"col",children:"Email"}),(0,Pn.jsx)("th",{scope:"col",children:"Phone"}),(0,Pn.jsx)("th",{scope:"col",children:"Role"}),(0,Pn.jsx)("th",{scope:"col",children:"Actions"})]})}),(0,Pn.jsx)("tbody",{children:e.map((e=>(0,Pn.jsxs)("tr",{children:[(0,Pn.jsx)("td",{children:e.Fname}),(0,Pn.jsx)("td",{children:e.Lname}),(0,Pn.jsx)("td",{children:e.email}),(0,Pn.jsx)("td",{children:e.phoneN}),(0,Pn.jsx)("td",{children:e.roleN}),(0,Pn.jsxs)("td",{children:[(0,Pn.jsx)("button",{className:"btn btn-warning",onClick:()=>(e=>{c(!0),u(e),s({Fname:e.Fname,Lname:e.Lname,email:e.email,evening:e.evening,options:e.options,phoneN:e.phoneN,referN:e.referN,roleN:e.roleN})})(e),children:"Edit"}),(0,Pn.jsx)("button",{className:"btn btn-danger",onClick:()=>(async e=>{try{await Ej.collection("careers").doc(e).delete(),d(),alert("Career deleted successfully!")}catch(mN){console.error("Error deleting career: ",mN),alert("Error deleting career.")}})(e.id),children:"Delete"})]})]},e.id)))})]})]})};class qB extends t.Component{render(){const{user:e}=this.props;return e?(0,Pn.jsxs)("div",{className:"home-layout",children:[(0,Pn.jsxs)(gt,{children:[(0,Pn.jsx)("script",{src:"assets/vendor/purecounter/purecounter.js"}),(0,Pn.jsx)("script",{src:"assets/vendor/aos/aos.js"}),(0,Pn.jsx)("script",{src:"assets/vendor/bootstrap/js/bootstrap.bundle.min.js"}),(0,Pn.jsx)("script",{src:"assets/vendor/glightbox/js/glightbox.min.js"}),(0,Pn.jsx)("script",{src:"assets/vendor/isotope-layout/isotope.pkgd.min.js"}),(0,Pn.jsx)("script",{src:"assets/vendor/swiper/swiper-bundle.min.js"}),(0,Pn.jsx)("script",{src:"assets/vendor/php-email-form/validate.js"}),(0,Pn.jsx)("script",{src:"assets/js/main.js",type:"text/javascript"})]}),(0,Pn.jsx)(Sj,{}),(0,Pn.jsx)(xj,{}),(0,Pn.jsx)("div",{className:"main-content",children:(0,Pn.jsxs)(bn,{children:[(0,Pn.jsx)(fn,{path:"/contact",component:zB}),(0,Pn.jsx)(fn,{path:"/careers",component:VB}),(0,Pn.jsx)(fn,{path:"/",render:()=>(0,Pn.jsx)("h1",{children:"Welcome to Home Page"})})]})})]}):(0,Pn.jsx)(Zj,{to:"/login"})}}const HB=W((e=>({user:e.auth.user})))(qB);function WB(e,t){if(null==e)return{};var n,r,i=p(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GB(e){return GB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GB(e)}function KB(){KB=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,s=Object.create(o.prototype),a=new N(r||[]);return i(s,"_invoke",{value:k(e,n,a)}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",f="suspendedYield",p="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};l(w,s,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(R([])));E&&E!==n&&r.call(E,s)&&(w=E);var C=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,s,a){var c=d(e[i],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==GB(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function k(t,n,r){var i=h;return function(o,s){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var c=T(a,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=d(t,n,r);if("normal"===l.type){if(i=r.done?m:f,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function T(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(GB(t)+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},x(S.prototype),l(S.prototype,a,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new S(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},x(C),l(C,c,"Generator"),l(C,s,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function QB(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(mN){return void n(mN)}a.done?t(c):Promise.resolve(c).then(r,i)}function XB(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){QB(o,r,i,s,a,"next",e)}function a(e){QB(o,r,i,s,a,"throw",e)}s(void 0)}))}}function $B(e){var t=function(e,t){if("object"!=GB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=GB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GB(t)?t:t+""}function YB(e,t,n){return(t=$B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JB(Object(n),!0).forEach((function(t){YB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tU(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function nU(e,t){if(e){if("string"===typeof e)return eU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eU(e,t):void 0}}function rU(e){return function(e){if(Array.isArray(e))return eU(e)}(e)||tU(e)||nU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$B(r.key),r)}}function sU(e,t,n){return t&&oU(e.prototype,t),n&&oU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cU(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vt(e,t)}function lU(e){return lU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lU(e)}function uU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(uU=function(){return!!e})()}function dU(e,t){if(t&&("object"===GB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return aU(e)}function hU(e){var t=uU();return function(){var n,r=lU(e);if(t){var i=lU(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dU(this,n)}}var fU=n(816);function pU(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return t.Children.forEach(e,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(pU(e)):(0,fU.isFragment)(e)&&e.props?r=r.concat(pU(e.props.children,n)):r.push(e))})),r}var mU={},gU=[];function vU(e,t){}function yU(e,t){}function bU(e,t,n){t||mU[n]||(e(!1,n),mU[n]=!0)}function wU(e,t){bU(vU,e,t)}wU.preMessage=function(e){gU.push(e)},wU.resetWarned=function(){mU={}},wU.noteOnce=function(e,t){bU(yU,e,t)};const _U=wU;const EU=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=r.has(t);if(_U(!s,"Warning: There may be circular references"),s)return!1;if(t===i)return!0;if(n&&o>1)return!1;r.add(t);var a=o+1;if(Array.isArray(t)){if(!Array.isArray(i)||t.length!==i.length)return!1;for(var c=0;c<t.length;c++)if(!e(t[c],i[c],a))return!1;return!0}if(t&&i&&"object"===GB(t)&&"object"===GB(i)){var l=Object.keys(t);return l.length===Object.keys(i).length&&l.every((function(n){return e(t[n],i[n],a)}))}return!1}(e,t)};var CU="RC_FORM_INTERNAL_HOOKS",xU=function(){_U(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const SU=t.createContext({getFieldValue:xU,getFieldsValue:xU,getFieldError:xU,getFieldWarning:xU,getFieldsError:xU,isFieldsTouched:xU,isFieldTouched:xU,isFieldValidating:xU,isFieldsValidating:xU,resetFields:xU,setFields:xU,setFieldValue:xU,setFieldsValue:xU,validateFields:xU,submit:xU,getInternalHooks:function(){return xU(),{dispatch:xU,initEntityValue:xU,registerField:xU,useSubscribe:xU,setInitialValues:xU,destroyForm:xU,setCallbacks:xU,registerWatch:xU,getFields:xU,setValidateMessages:xU,setPreserve:xU,getInitialValue:xU}}});const kU=t.createContext(null);function TU(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function IU(){return IU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IU.apply(this,arguments)}function OU(e){return OU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},OU(e)}function NU(e,t){return NU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},NU(e,t)}function RU(e,t,n){return RU=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(KK){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&NU(i,n.prototype),i},RU.apply(null,arguments)}function PU(e){var t="function"===typeof Map?new Map:void 0;return PU=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return RU(e,arguments,OU(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),NU(n,e)},PU(e)}var AU=/%[sdj%]/g;function DU(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function MU(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var s=e.replace(AU,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}}));return s}return e}function LU(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function FU(e,t,n){var r=0,i=e.length;!function o(s){if(s&&s.length)n(s);else{var a=r;r+=1,a<i?t(e[a],o):n([])}}([])}var jU=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,NU(t,n),r}(PU(Error));function BU(e,t,n,r,i){if(t.first){var o=new Promise((function(t,o){var s=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);FU(s,n,(function(e){return r(e),e.length?o(new jU(e,DU(e))):t(i)}))}));return o.catch((function(e){return e})),o}var s=!0===t.firstFields?Object.keys(e):t.firstFields||[],a=Object.keys(e),c=a.length,l=0,u=[],d=new Promise((function(t,o){var d=function(e){if(u.push.apply(u,e),++l===c)return r(u),u.length?o(new jU(u,DU(u))):t(i)};a.length||(r(u),t(i)),a.forEach((function(t){var r=e[t];-1!==s.indexOf(t)?FU(r,n,d):function(e,t,n){var r=[],i=0,o=e.length;function s(e){r.push.apply(r,e||[]),++i===o&&n(r)}e.forEach((function(e){t(e,s)}))}(r,n,d)}))}));return d.catch((function(e){return e})),d}function UU(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function zU(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=IU({},e[n],r):e[n]=r}return e}var VU,qU=function(e,t,n,r,i,o){!e.required||n.hasOwnProperty(e.field)&&!LU(t,o||e.type)||r.push(MU(i.messages.required,e.fullField))},HU=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,WU=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,GU={integer:function(e){return GU.number(e)&&parseInt(e,10)===e},float:function(e){return GU.number(e)&&!GU.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(KK){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!GU.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(HU)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(VU)return VU;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),s=new RegExp("^"+n+"$"),a=new RegExp("^"+i+"$"),c=function(e){return e&&e.exact?o:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+i+t(e)+")","g")};c.v4=function(e){return e&&e.exact?s:new RegExp(""+t(e)+n+t(e),"g")},c.v6=function(e){return e&&e.exact?a:new RegExp(""+t(e)+i+t(e),"g")};var l=c.v4().source,u=c.v6().source;return VU=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+l+"|"+u+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(WU)}},KU="enum",QU={required:qU,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(MU(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)qU(e,t,n,r,i);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?GU[o](t)||r.push(MU(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(MU(i.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,r,i){var o="number"===typeof e.len,s="number"===typeof e.min,a="number"===typeof e.max,c=t,l=null,u="number"===typeof t,d="string"===typeof t,h=Array.isArray(t);if(u?l="number":d?l="string":h&&(l="array"),!l)return!1;h&&(c=t.length),d&&(c=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?c!==e.len&&r.push(MU(i.messages[l].len,e.fullField,e.len)):s&&!a&&c<e.min?r.push(MU(i.messages[l].min,e.fullField,e.min)):a&&!s&&c>e.max?r.push(MU(i.messages[l].max,e.fullField,e.max)):s&&a&&(c<e.min||c>e.max)&&r.push(MU(i.messages[l].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e[KU]=Array.isArray(e[KU])?e[KU]:[],-1===e[KU].indexOf(t)&&r.push(MU(i.messages[KU],e.fullField,e[KU].join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(MU(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(MU(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},XU=function(e,t,n,r,i){var o=e.type,s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(LU(t,o)&&!e.required)return n();QU.required(e,t,r,s,i,o),LU(t,o)||QU.type(e,t,r,s,i)}n(s)},$U={string:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(LU(t,"string")&&!e.required)return n();QU.required(e,t,r,o,i,"string"),LU(t,"string")||(QU.type(e,t,r,o,i),QU.range(e,t,r,o,i),QU.pattern(e,t,r,o,i),!0===e.whitespace&&QU.whitespace(e,t,r,o,i))}n(o)},method:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(LU(t)&&!e.required)return n();QU.required(e,t,r,o,i),void 0!==t&&QU.type(e,t,r,o,i)}n(o)},number:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),LU(t)&&!e.required)return n();QU.required(e,t,r,o,i),void 0!==t&&(QU.type(e,t,r,o,i),QU.range(e,t,r,o,i))}n(o)},boolean:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(LU(t)&&!e.required)return n();QU.required(e,t,r,o,i),void 0!==t&&QU.type(e,t,r,o,i)}n(o)},regexp:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(LU(t)&&!e.required)return n();QU.required(e,t,r,o,i),LU(t)||QU.type(e,t,r,o,i)}n(o)},integer:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(LU(t)&&!e.required)return n();QU.required(e,t,r,o,i),void 0!==t&&(QU.type(e,t,r,o,i),QU.range(e,t,r,o,i))}n(o)},float:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(LU(t)&&!e.required)return n();QU.required(e,t,r,o,i),void 0!==t&&(QU.type(e,t,r,o,i),QU.range(e,t,r,o,i))}n(o)},array:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();QU.required(e,t,r,o,i,"array"),void 0!==t&&null!==t&&(QU.type(e,t,r,o,i),QU.range(e,t,r,o,i))}n(o)},object:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(LU(t)&&!e.required)return n();QU.required(e,t,r,o,i),void 0!==t&&QU.type(e,t,r,o,i)}n(o)},enum:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(LU(t)&&!e.required)return n();QU.required(e,t,r,o,i),void 0!==t&&QU.enum(e,t,r,o,i)}n(o)},pattern:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(LU(t,"string")&&!e.required)return n();QU.required(e,t,r,o,i),LU(t,"string")||QU.pattern(e,t,r,o,i)}n(o)},date:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(LU(t,"date")&&!e.required)return n();var s;if(QU.required(e,t,r,o,i),!LU(t,"date"))s=t instanceof Date?t:new Date(t),QU.type(e,s,r,o,i),s&&QU.range(e,s.getTime(),r,o,i)}n(o)},url:XU,hex:XU,email:XU,required:function(e,t,n,r,i){var o=[],s=Array.isArray(t)?"array":typeof t;QU.required(e,t,r,o,i,s),n(o)},any:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(LU(t)&&!e.required)return n();QU.required(e,t,r,o,i)}n(o)}};function YU(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var JU=YU(),ZU=function(){function e(e){this.rules=null,this._messages=JU,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=zU(YU(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var o=t,s=n,a=r;if("function"===typeof s&&(a=s,s={}),!this.rules||0===Object.keys(this.rules).length)return a&&a(null,o),Promise.resolve(o);if(s.messages){var c=this.messages();c===JU&&(c=YU()),zU(c,s.messages),s.messages=c}else s.messages=this.messages();var l={};(s.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=o[e];n.forEach((function(n){var s=n;"function"===typeof s.transform&&(o===t&&(o=IU({},o)),r=o[e]=s.transform(r)),(s="function"===typeof s?{validator:s}:IU({},s)).validator=i.getValidationMethod(s),s.validator&&(s.field=e,s.fullField=s.fullField||e,s.type=i.getType(s),l[e]=l[e]||[],l[e].push({rule:s,value:r,source:o,field:e}))}))}));var u={};return BU(l,s,(function(t,n){var r,i=t.rule,a=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function c(e,t){return IU({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function l(r){void 0===r&&(r=[]);var l=Array.isArray(r)?r:[r];!s.suppressWarning&&l.length&&e.warning("async-validator:",l),l.length&&void 0!==i.message&&(l=[].concat(i.message));var d=l.map(UU(i,o));if(s.first&&d.length)return u[i.field]=1,n(d);if(a){if(i.required&&!t.value)return void 0!==i.message?d=[].concat(i.message).map(UU(i,o)):s.error&&(d=[s.error(i,MU(s.messages.required,i.field))]),n(d);var h={};i.defaultField&&Object.keys(t.value).map((function(e){h[e]=i.defaultField})),h=IU({},h,t.rule.fields);var f={};Object.keys(h).forEach((function(e){var t=h[e],n=Array.isArray(t)?t:[t];f[e]=n.map(c.bind(null,e))}));var p=new e(f);p.messages(s.messages),t.rule.options&&(t.rule.options.messages=s.messages,t.rule.options.error=s.error),p.validate(t.value,t.rule.options||s,(function(e){var t=[];d&&d.length&&t.push.apply(t,d),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(d)}if(a=a&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)r=i.asyncValidator(i,t.value,l,t.source,s);else if(i.validator){try{r=i.validator(i,t.value,l,t.source,s)}catch(mN){null==console.error||console.error(mN),s.suppressValidatorError||setTimeout((function(){throw mN}),0),l(mN.message)}!0===r?l():!1===r?l("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?l(r):r instanceof Error&&l(r.message)}r&&r.then&&r.then((function(){return l()}),(function(e){return l(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=DU(t),a(t,n)):a(null,o)}(e)}),o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!$U.hasOwnProperty(e.type))throw new Error(MU("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?$U.required:$U[this.getType(e)]||void 0},e}();ZU.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");$U[e]=t},ZU.warning=function(){},ZU.messages=JU,ZU.validators=$U;var ez="'${name}' is not a valid ${type}",tz={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:ez,method:ez,array:ez,object:ez,number:ez,date:ez,boolean:ez,integer:ez,float:ez,regexp:ez,email:ez,url:ez,hex:ez},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function nz(e){if(Array.isArray(e))return e}function rz(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function iz(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function oz(e,t,n,r){if(!t.length)return n;var i,o,s=nz(i=t)||tU(i)||nU(i)||rz(),a=s[0],c=s.slice(1);return o=e||"number"!==typeof a?Array.isArray(e)?rU(e):ZB({},e):[],r&&void 0===n&&1===c.length?delete o[a][c[0]]:o[a]=oz(o[a],c,n,r),o}function sz(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!iz(e,t.slice(0,-1))?e:oz(e,t,n,r)}function az(e){return Array.isArray(e)?[]:{}}var cz="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function lz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=az(t[0]);return t.forEach((function(e){!function t(n,i){var o,s=new Set(i),a=iz(e,n),c=Array.isArray(a);if(c||"object"===GB(o=a)&&null!==o&&Object.getPrototypeOf(o)===Object.prototype){if(!s.has(a)){s.add(a);var l=iz(r,n);c?r=sz(r,n,[]):l&&"object"===GB(l)||(r=sz(r,n,az(a))),cz(a).forEach((function(e){t([].concat(rU(n),[e]),s)}))}}else r=sz(r,n,a)}([])})),r}var uz=ZU;function dz(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var hz="CODE_LOGIC_ERROR";function fz(e,t,n,r,i){return pz.apply(this,arguments)}function pz(){return pz=XB(KB().mark((function e(n,r,i,o,s){var a,c,l,u,d,h,f,p,m;return KB().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(a=ZB({},i)).ruleIndex,uz.warning=function(){},a.validator&&(c=a.validator,a.validator=function(){try{return c.apply(void 0,arguments)}catch(mN){return console.error(mN),Promise.reject(hz)}}),l=null,a&&"array"===a.type&&a.defaultField&&(l=a.defaultField,delete a.defaultField),u=new uz(YB({},n,[a])),d=lz(tz,o.validateMessages),u.messages(d),h=[],e.prev=10,e.next=13,Promise.resolve(u.validate(YB({},n,r),ZB({},o)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(h=e.t0.errors.map((function(e,n){var r=e.message,i=r===hz?d.default:r;return t.isValidElement(i)?t.cloneElement(i,{key:"error_".concat(n)}):i})));case 18:if(h.length||!l){e.next=23;break}return e.next=21,Promise.all(r.map((function(e,t){return fz("".concat(n,".").concat(t),e,l,o,s)})));case 21:return f=e.sent,e.abrupt("return",f.reduce((function(e,t){return[].concat(rU(e),rU(t))}),[]));case 23:return p=ZB(ZB({},i),{},{name:n,enum:(i.enum||[]).join(", ")},s),m=h.map((function(e){return"string"===typeof e?dz(e,p):e})),e.abrupt("return",m);case 26:case"end":return e.stop()}}),e,null,[[10,15]])}))),pz.apply(this,arguments)}function mz(e,t,n,r,i,o){var s,a=e.join("."),c=n.map((function(e,t){var n=e.validator,r=ZB(ZB({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,o=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){_U(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=o&&"function"===typeof o.then&&"function"===typeof o.catch,_U(i,"`callback` is deprecated. Please return a promise instead."),i&&o.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,o=t.ruleIndex;return!!n===!!i?r-o:n?1:-1}));if(!0===i)s=new Promise(function(){var e=XB(KB().mark((function e(n,i){var s,l,u;return KB().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0;case 1:if(!(s<c.length)){e.next=12;break}return l=c[s],e.next=5,fz(a,t,l,r,o);case 5:if(!(u=e.sent).length){e.next=9;break}return i([{errors:u,rule:l}]),e.abrupt("return");case 9:s+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var l=c.map((function(e){return fz(a,t,e,r,o).then((function(t){return{errors:t,rule:e}}))}));s=(i?function(e){return vz.apply(this,arguments)}(l):function(e){return gz.apply(this,arguments)}(l)).then((function(e){return Promise.reject(e)}))}return s.catch((function(e){return e})),s}function gz(){return(gz=XB(KB().mark((function e(t){return KB().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,rU(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vz(){return(vz=XB(KB().mark((function e(t){var n;return KB().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yz(e){return TU(e)}function bz(e,t){var n={};return t.forEach((function(t){var r=iz(e,t);n=sz(n,t,r)})),n}function wz(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some((function(e){return _z(t,e,n)}))}function _z(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every((function(t,n){return e[n]===t})))}function Ez(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===GB(t.target)&&e in t.target?t.target[e]:t}function Cz(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],o=t-n;return o>0?[].concat(rU(e.slice(0,n)),[i],rU(e.slice(n,t)),rU(e.slice(t+1,r))):o<0?[].concat(rU(e.slice(0,t)),rU(e.slice(t+1,n+1)),[i],rU(e.slice(n+1,r))):e}var xz=["name"],Sz=[];function kz(e,t,n,r,i,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var Tz=function(e){cU(r,e);var n=hU(r);function r(e){var i;(iU(this,r),YB(aU(i=n.call(this,e)),"state",{resetCount:0}),YB(aU(i),"cancelRegisterFunc",null),YB(aU(i),"mounted",!1),YB(aU(i),"touched",!1),YB(aU(i),"dirty",!1),YB(aU(i),"validatePromise",void 0),YB(aU(i),"prevValidating",void 0),YB(aU(i),"errors",Sz),YB(aU(i),"warnings",Sz),YB(aU(i),"cancelRegister",(function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,yz(r)),i.cancelRegisterFunc=null})),YB(aU(i),"getNamePath",(function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(rU(void 0===n?[]:n),rU(t)):[]})),YB(aU(i),"getRules",(function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))})),YB(aU(i),"refresh",(function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))})),YB(aU(i),"metaCache",null),YB(aU(i),"triggerMetaEvent",(function(e){var t=i.props.onMetaChange;if(t){var n=ZB(ZB({},i.getMeta()),{},{destroy:e});EU(i.metaCache,n)||t(n),i.metaCache=n}else i.metaCache=null})),YB(aU(i),"onStoreChange",(function(e,t,n){var r=i.props,o=r.shouldUpdate,s=r.dependencies,a=void 0===s?[]:s,c=r.onReset,l=n.store,u=i.getNamePath(),d=i.getValue(e),h=i.getValue(l),f=t&&wz(t,u);switch("valueUpdate"!==n.type||"external"!==n.source||EU(d,h)||(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=Sz,i.warnings=Sz,i.triggerMetaEvent()),n.type){case"reset":if(!t||f)return i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=Sz,i.warnings=Sz,i.triggerMetaEvent(),null===c||void 0===c||c(),void i.refresh();break;case"remove":if(o)return void i.reRender();break;case"setField":var p=n.data;if(f)return"touched"in p&&(i.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(i.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(i.errors=p.errors||Sz),"warnings"in p&&(i.warnings=p.warnings||Sz),i.dirty=!0,i.triggerMetaEvent(),void i.reRender();if("value"in p&&wz(t,u,!0))return void i.reRender();if(o&&!u.length&&kz(o,e,l,d,h,n))return void i.reRender();break;case"dependenciesUpdate":if(a.map(yz).some((function(e){return wz(n.relatedFields,e)})))return void i.reRender();break;default:if(f||(!a.length||u.length||o)&&kz(o,e,l,d,h,n))return void i.reRender()}!0===o&&i.reRender()})),YB(aU(i),"validateRules",(function(e){var t=i.getNamePath(),n=i.getValue(),r=e||{},o=r.triggerName,s=r.validateOnly,a=void 0!==s&&s,c=Promise.resolve().then(XB(KB().mark((function r(){var s,a,l,u,d,h,f;return KB().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i.mounted){r.next=2;break}return r.abrupt("return",[]);case 2:if(s=i.props,a=s.validateFirst,l=void 0!==a&&a,u=s.messageVariables,d=s.validateDebounce,h=i.getRules(),o&&(h=h.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||TU(t).includes(o)}))),!d||!o){r.next=10;break}return r.next=8,new Promise((function(e){setTimeout(e,d)}));case 8:if(i.validatePromise===c){r.next=10;break}return r.abrupt("return",[]);case 10:return(f=mz(t,n,h,e,l,u)).catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sz;if(i.validatePromise===c){var t;i.validatePromise=null;var n=[],r=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors,o=void 0===i?Sz:i;t?r.push.apply(r,rU(o)):n.push.apply(n,rU(o))})),i.errors=n,i.warnings=r,i.triggerMetaEvent(),i.reRender()}})),r.abrupt("return",f);case 13:case"end":return r.stop()}}),r)}))));return a||(i.validatePromise=c,i.dirty=!0,i.errors=Sz,i.warnings=Sz,i.triggerMetaEvent(),i.reRender()),c})),YB(aU(i),"isFieldValidating",(function(){return!!i.validatePromise})),YB(aU(i),"isFieldTouched",(function(){return i.touched})),YB(aU(i),"isFieldDirty",(function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(CU).getInitialValue)(i.getNamePath())})),YB(aU(i),"getErrors",(function(){return i.errors})),YB(aU(i),"getWarnings",(function(){return i.warnings})),YB(aU(i),"isListField",(function(){return i.props.isListField})),YB(aU(i),"isList",(function(){return i.props.isList})),YB(aU(i),"isPreserve",(function(){return i.props.preserve})),YB(aU(i),"getMeta",(function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:null===i.validatePromise}})),YB(aU(i),"getOnlyChild",(function(e){if("function"===typeof e){var n=i.getMeta();return ZB(ZB({},i.getOnlyChild(e(i.getControlled(),n,i.props.fieldContext))),{},{isFunction:!0})}var r=pU(e);return 1===r.length&&t.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}})),YB(aU(i),"getValue",(function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return iz(e||t(!0),n)})),YB(aU(i),"getControlled",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.name,r=t.trigger,o=t.validateTrigger,s=t.getValueFromEvent,a=t.normalize,c=t.valuePropName,l=t.getValueProps,u=t.fieldContext,d=void 0!==o?o:u.validateTrigger,h=i.getNamePath(),f=u.getInternalHooks,p=u.getFieldsValue,m=f(CU).dispatch,g=i.getValue(),v=l||function(e){return YB({},c,e)},y=e[r],b=void 0!==n?v(g):{};var w=ZB(ZB({},e),b);return w[r]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=s?s.apply(void 0,n):Ez.apply(void 0,[c].concat(n)),a&&(e=a(e,g,p(!0))),m({type:"updateValue",namePath:h,value:e}),y&&y.apply(void 0,n)},TU(d||[]).forEach((function(e){var t=w[e];w[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&m({type:"validateField",namePath:h,triggerName:e})}})),w})),e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(CU).initEntityValue)(aU(i));return i}return sU(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(CU).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,n=this.state.resetCount,r=this.props.children,i=this.getOnlyChild(r),o=i.child;return i.isFunction?e=o:t.isValidElement(o)?e=t.cloneElement(o,this.getControlled(o.props)):(_U(!o,"`children` of Field is not validate ReactElement."),e=o),t.createElement(t.Fragment,{key:n},e)}}]),r}(t.Component);YB(Tz,"contextType",SU),YB(Tz,"defaultProps",{trigger:"onChange",valuePropName:"value"});const Iz=function(e){var n=e.name,r=WB(e,xz),i=t.useContext(SU),o=t.useContext(kU),s=void 0!==n?yz(n):void 0,a="keep";return r.isListField||(a="_".concat((s||[]).join("_"))),t.createElement(Tz,f({key:a,name:s,isListField:!!o},r,{fieldContext:i}))};const Oz=function(e){var n=e.name,r=e.initialValue,i=e.children,o=e.rules,s=e.validateTrigger,a=e.isListField,c=t.useContext(SU),l=t.useContext(kU),u=t.useRef({keys:[],id:0}).current,d=t.useMemo((function(){var e=yz(c.prefixName)||[];return[].concat(rU(e),rU(yz(n)))}),[c.prefixName,n]),h=t.useMemo((function(){return ZB(ZB({},c),{},{prefixName:d})}),[c,d]),f=t.useMemo((function(){return{getKey:function(e){var t=d.length,n=e[t];return[u.keys[n],e.slice(t+1)]}}}),[d]);return"function"!==typeof i?(_U(!1,"Form.List only accepts function as children."),null):t.createElement(kU.Provider,{value:f},t.createElement(SU.Provider,{value:h},t.createElement(Iz,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:o,validateTrigger:s,initialValue:r,isList:!0,isListField:null!==a&&void 0!==a?a:!!l},(function(e,t){var n=e.value,r=void 0===n?[]:n,o=e.onChange,s=c.getFieldValue,a=function(){return s(d||[])||[]},l={add:function(e,t){var n=a();t>=0&&t<=n.length?(u.keys=[].concat(rU(u.keys.slice(0,t)),[u.id],rU(u.keys.slice(t))),o([].concat(rU(n.slice(0,t)),[e],rU(n.slice(t))))):(u.keys=[].concat(rU(u.keys),[u.id]),o([].concat(rU(n),[e]))),u.id+=1},remove:function(e){var t=a(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(u.keys=u.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=a();e<0||e>=n.length||t<0||t>=n.length||(u.keys=Cz(u.keys,e,t),o(Cz(n,e,t)))}}},h=r||[];return Array.isArray(h)||(h=[]),i(h.map((function(e,t){var n=u.keys[t];return void 0===n&&(u.keys[t]=u.id,n=u.keys[t],u.id+=1),{name:t,key:n,isListField:!0}})),l,t)}))))};function Nz(e,t){return nz(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||nU(e,t)||rz()}var Rz="__@field_split__";function Pz(e){return e.map((function(e){return"".concat(GB(e),":").concat(e)})).join(Rz)}var Az=function(){function e(){iU(this,e),YB(this,"kvs",new Map)}return sU(e,[{key:"set",value:function(e,t){this.kvs.set(Pz(e),t)}},{key:"get",value:function(e){return this.kvs.get(Pz(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Pz(e))}},{key:"map",value:function(e){return rU(this.kvs.entries()).map((function(t){var n=Nz(t,2),r=n[0],i=n[1],o=r.split(Rz);return e({key:o.map((function(e){var t=Nz(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}();const Dz=Az;var Mz=["name"],Lz=sU((function e(t){var n=this;iU(this,e),YB(this,"formHooked",!1),YB(this,"forceRootUpdate",void 0),YB(this,"subscribable",!0),YB(this,"store",{}),YB(this,"fieldEntities",[]),YB(this,"initialValues",{}),YB(this,"callbacks",{}),YB(this,"validateMessages",null),YB(this,"preserve",null),YB(this,"lastValidatePromise",null),YB(this,"getForm",(function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}})),YB(this,"getInternalHooks",(function(e){return e===CU?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(_U(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)})),YB(this,"useSubscribe",(function(e){n.subscribable=e})),YB(this,"prevWithoutPreserves",null),YB(this,"setInitialValues",(function(e,t){if(n.initialValues=e||{},t){var r,i=lz(e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=sz(i,n,iz(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}})),YB(this,"destroyForm",(function(){var e=new Dz;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e})),YB(this,"getInitialValue",(function(e){var t=iz(n.initialValues,e);return e.length?lz(t):t})),YB(this,"setCallbacks",(function(e){n.callbacks=e})),YB(this,"setValidateMessages",(function(e){n.validateMessages=e})),YB(this,"setPreserve",(function(e){n.preserve=e})),YB(this,"watchList",[]),YB(this,"registerWatch",(function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}})),YB(this,"notifyWatch",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue(),r=n.getFieldsValue(!0);n.watchList.forEach((function(n){n(t,r,e)}))}})),YB(this,"timeoutId",null),YB(this,"warningUnhooked",(function(){0})),YB(this,"updateStore",(function(e){n.store=e})),YB(this,"getFieldEntities",(function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities})),YB(this,"getFieldsMap",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Dz;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t})),YB(this,"getFieldEntitiesForNamePathList",(function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=yz(e);return t.get(n)||{INVALIDATE_NAME_PATH:yz(e)}}))})),YB(this,"getFieldsValue",(function(e,t){var r,i,o;if(n.warningUnhooked(),!0===e||Array.isArray(e)?(r=e,i=t):e&&"object"===GB(e)&&(o=e.strict,i=e.filter),!0===r&&!i)return n.store;var s=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),a=[];return s.forEach((function(e){var t,n,s,c,l="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(o){if(null!==(s=(c=e).isList)&&void 0!==s&&s.call(c))return}else if(!r&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(i){var u="getMeta"in e?e.getMeta():null;i(u)&&a.push(l)}else a.push(l)})),bz(n.store,a.map(yz))})),YB(this,"getFieldValue",(function(e){n.warningUnhooked();var t=yz(e);return iz(n.store,t)})),YB(this,"getFieldsError",(function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:yz(e[n]),errors:[],warnings:[]}}))})),YB(this,"getFieldError",(function(e){n.warningUnhooked();var t=yz(e);return n.getFieldsError([t])[0].errors})),YB(this,"getFieldWarning",(function(e){n.warningUnhooked();var t=yz(e);return n.getFieldsError([t])[0].warnings})),YB(this,"isFieldsTouched",(function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o=t[0],s=t[1],a=!1;0===t.length?i=null:1===t.length?Array.isArray(o)?(i=o.map(yz),a=!1):(i=null,a=o):(i=o.map(yz),a=s);var c=n.getFieldEntities(!0),l=function(e){return e.isFieldTouched()};if(!i)return a?c.every((function(e){return l(e)||e.isList()})):c.some(l);var u=new Dz;i.forEach((function(e){u.set(e,[])})),c.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&u.update(n,(function(t){return[].concat(rU(t),[e])}))}))}));var d=function(e){return e.some(l)},h=u.map((function(e){return e.value}));return a?h.every(d):h.some(d)})),YB(this,"isFieldTouched",(function(e){return n.warningUnhooked(),n.isFieldsTouched([e])})),YB(this,"isFieldsValidating",(function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(yz);return t.some((function(e){var t=e.getNamePath();return wz(r,t)&&e.isFieldValidating()}))})),YB(this,"isFieldValidating",(function(e){return n.warningUnhooked(),n.isFieldsValidating([e])})),YB(this,"resetWithFieldInitialValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Dz,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i;e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,rU(rU(r).map((function(e){return e.entity}))))}))):i=r,i.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))_U(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var o=t.get(i);if(o&&o.size>1)_U(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var s=n.getFieldValue(i);r.isListField()||e.skipExist&&void 0!==s||n.updateStore(sz(n.store,i,rU(o)[0].value))}}}}))})),YB(this,"resetFields",(function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(lz(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(yz);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(sz(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)})),YB(this,"setFields",(function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,o=WB(e,Mz),s=yz(i);r.push(s),"value"in o&&n.updateStore(sz(n.store,s,o.value)),n.notifyObservers(t,[s],{type:"setField",data:e})})),n.notifyWatch(r)})),YB(this,"getFields",(function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=ZB(ZB({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))})),YB(this,"initEntityValue",(function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===iz(n.store,r)&&n.updateStore(sz(n.store,r,t))}})),YB(this,"isMergedPreserve",(function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t})),YB(this,"registerField",(function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||o.length>1)){var s=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==s&&n.fieldEntities.every((function(e){return!_z(e.getNamePath(),t)}))){var a=n.store;n.updateStore(sz(a,t,s,!0)),n.notifyObservers(a,[t],{type:"remove"}),n.triggerDependenciesUpdate(a,t)}}n.notifyWatch([t])}})),YB(this,"dispatch",(function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,o=e.triggerName;n.validateFields([i],{triggerName:o})}})),YB(this,"notifyObservers",(function(e,t,r){if(n.subscribable){var i=ZB(ZB({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()})),YB(this,"triggerDependenciesUpdate",(function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(rU(r))}),r})),YB(this,"updateValue",(function(e,t){var r=yz(e),i=n.store;n.updateStore(sz(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var o=n.triggerDependenciesUpdate(i,r),s=n.callbacks.onValuesChange;s&&s(bz(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(rU(o)))})),YB(this,"setFieldsValue",(function(e){n.warningUnhooked();var t=n.store;if(e){var r=lz(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()})),YB(this,"setFieldValue",(function(e,t){n.setFields([{name:e,value:t}])})),YB(this,"getDependencyChildrenFields",(function(e){var t=new Set,r=[],i=new Dz;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=yz(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r})),YB(this,"triggerOnFieldsChange",(function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var o=new Dz;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),i.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}var s=i.filter((function(t){var n=t.name;return wz(e,n)}));s.length&&r(s,i)}})),YB(this,"validateFields",(function(e,t){var r,i;n.warningUnhooked(),Array.isArray(e)||"string"===typeof e||"string"===typeof t?(r=e,i=t):i=e;var o=!!r,s=o?r.map(yz):[],a=[],c=String(Date.now()),l=new Set,u=i||{},d=u.recursive,h=u.dirty;n.getFieldEntities(!0).forEach((function(e){if(o||s.push(e.getNamePath()),e.props.rules&&e.props.rules.length&&(!h||e.isFieldDirty())){var t=e.getNamePath();if(l.add(t.join(c)),!o||wz(s,t,d)){var r=e.validateRules(ZB({validateMessages:ZB(ZB({},tz),n.validateMessages)},i));a.push(r.then((function(){return{name:t,errors:[],warnings:[]}})).catch((function(e){var n,r=[],i=[];return null===(n=e.forEach)||void 0===n||n.call(e,(function(e){var t=e.rule.warningOnly,n=e.errors;t?i.push.apply(i,rU(n)):r.push.apply(r,rU(n))})),r.length?Promise.reject({name:t,errors:r,warnings:i}):{name:t,errors:r,warnings:i}})))}}}));var f=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,o){e.forEach((function(e,s){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[s]=e,n>0||(t&&o(r),i(r))}))}))})):Promise.resolve([])}(a);n.lastValidatePromise=f,f.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var p=f.then((function(){return n.lastValidatePromise===f?Promise.resolve(n.getFieldsValue(s)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(s),errorFields:t,outOfDate:n.lastValidatePromise!==f})}));p.catch((function(e){return e}));var m=s.filter((function(e){return l.has(e.join(c))}));return n.triggerOnFieldsChange(m),p})),YB(this,"submit",(function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))})),this.forceRootUpdate=t}));const Fz=function(e){var n=t.useRef(),r=Nz(t.useState({}),2)[1];if(!n.current)if(e)n.current=e;else{var i=new Lz((function(){r({})}));n.current=i.getForm()}return[n.current]};var jz=t.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Bz=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,s=t.useContext(jz),a=t.useRef({});return t.createElement(jz.Provider,{value:ZB(ZB({},s),{},{validateMessages:ZB(ZB({},s.validateMessages),n),triggerFormChange:function(e,t){r&&r(e,{changedFields:t,forms:a.current}),s.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:a.current}),s.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(a.current=ZB(ZB({},a.current),{},YB({},e,t))),s.registerForm(e,t)},unregisterForm:function(e){var t=ZB({},a.current);delete t[e],a.current=t,s.unregisterForm(e)}})},o)};const Uz=jz;var zz=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"];const Vz=function(e,n){var r=e.name,i=e.initialValues,o=e.fields,s=e.form,a=e.preserve,c=e.children,l=e.component,u=void 0===l?"form":l,d=e.validateMessages,h=e.validateTrigger,p=void 0===h?"onChange":h,m=e.onValuesChange,g=e.onFieldsChange,v=e.onFinish,y=e.onFinishFailed,b=WB(e,zz),w=t.useContext(Uz),_=Nz(Fz(s),1)[0],E=_.getInternalHooks(CU),C=E.useSubscribe,x=E.setInitialValues,S=E.setCallbacks,k=E.setValidateMessages,T=E.setPreserve,I=E.destroyForm;t.useImperativeHandle(n,(function(){return _})),t.useEffect((function(){return w.registerForm(r,_),function(){w.unregisterForm(r)}}),[w,_,r]),k(ZB(ZB({},w.validateMessages),d)),S({onValuesChange:m,onFieldsChange:function(e){if(w.triggerFormChange(r,e),g){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];g.apply(void 0,[e].concat(n))}},onFinish:function(e){w.triggerFormFinish(r,e),v&&v(e)},onFinishFailed:y}),T(a);var O,N=t.useRef(null);x(i,!N.current),N.current||(N.current=!0),t.useEffect((function(){return I}),[]);var R="function"===typeof c;R?O=c(_.getFieldsValue(!0),_):O=c;C(!R);var P=t.useRef();t.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==GB(e)||"object"!==GB(t))return!1;var n=Object.keys(e),r=Object.keys(t);return rU(new Set([].concat(n,r))).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(P.current||[],o||[])||_.setFields(o||[]),P.current=o}),[o,_]);var A=t.useMemo((function(){return ZB(ZB({},_),{},{validateTrigger:p})}),[_,p]),D=t.createElement(kU.Provider,{value:null},t.createElement(SU.Provider,{value:A},O));return!1===u?D:t.createElement(u,f({},b,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),_.submit()},onReset:function(e){var t;e.preventDefault(),_.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),D)};function qz(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var Hz=function(){};const Wz=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=void 0===o?{}:o,a=function(e){return e&&!!e._init}(s)?{form:s}:s,c=a.form,l=Nz((0,t.useState)(),2),u=l[0],d=l[1],h=(0,t.useMemo)((function(){return qz(u)}),[u]),f=(0,t.useRef)(h);f.current=h;var p=(0,t.useContext)(SU),m=c||p,g=m&&m._init,v=yz(i),y=(0,t.useRef)(v);return y.current=v,Hz(v),(0,t.useEffect)((function(){if(g){var e=m.getFieldsValue,t=(0,m.getInternalHooks)(CU).registerWatch,n=function(e,t){var n=a.preserve?t:e;return"function"===typeof i?i(n):iz(n,y.current)},r=t((function(e,t){var r=n(e,t),i=qz(r);f.current!==i&&(f.current=i,d(r))})),o=n(e(),e(!0));return u!==o&&d(o),r}}),[g]),u};var Gz=t.forwardRef(Vz);Gz.FormProvider=Bz,Gz.Field=Iz,Gz.List=Oz,Gz.useForm=Fz,Gz.useWatch=Wz;const Kz=Gz;function Qz(e,t){var n=ZB({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}const Xz=t.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),$z=t.createContext(null),Yz=e=>{const n=Qz(e,["prefixCls"]);return t.createElement(Bz,Object.assign({},n))},Jz=t.createContext({prefixCls:""}),Zz=t.createContext({});const eV=e=>{let{children:n,status:r,override:i}=e;const o=(0,t.useContext)(Zz),s=(0,t.useMemo)((()=>{const e=Object.assign({},o);return i&&delete e.isFormItemInput,r&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[r,i,o]);return t.createElement(Zz.Provider,{value:s},n)},tV=(0,t.createContext)(void 0);function nV(e){return e instanceof HTMLElement||e instanceof SVGElement}function rV(e){return nV(e)?e:e instanceof t.Component?i.findDOMNode(e):null}function iV(e,t){"function"===typeof e?e(t):"object"===GB(e)&&e&&"current"in e&&(e.current=t)}function oV(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){iV(t,e)}))}}function sV(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e,n,r){var i=t.useRef({});return"value"in i.current&&!r(i.current.condition,n)||(i.current.value=e(),i.current.condition=n),i.current.value}((function(){return oV.apply(void 0,n)}),n,(function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))}))}function aV(e){var t,n,r=(0,fU.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===fU.ForwardRef)&&!!("function"!==typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===fU.ForwardRef)}var cV=t.createContext({});const lV=function(e){cU(n,e);var t=hU(n);function n(){return iU(this,n),t.apply(this,arguments)}return sU(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component);function uV(e){var n=t.useRef(!1),r=Nz(t.useState(e),2),i=r[0],o=r[1];return t.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[i,function(e,t){t&&n.current||o(e)}]}var dV="none",hV="appear",fV="enter",pV="leave",mV="none",gV="prepare",vV="start",yV="active",bV="end",wV="prepared";function _V(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function EV(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var CV=function(e,t){var n={animationend:EV("Animation","AnimationEnd"),transitionend:EV("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(_V(),"undefined"!==typeof window?window:{}),xV={};if(_V()){var SV=document.createElement("div");xV=SV.style}var kV={};function TV(e){if(kV[e])return kV[e];var t=CV[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in xV)return kV[e]=t[o],kV[e]}return""}var IV=TV("animationend"),OV=TV("transitionend"),NV=!(!IV||!OV),RV=IV||"animationend",PV=OV||"transitionend";function AV(e,t){if(!e)return null;if("object"===GB(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}const DV=function(e){var n=(0,t.useRef)(),r=(0,t.useRef)(e);r.current=e;var i=t.useCallback((function(e){r.current(e)}),[]);function o(e){e&&(e.removeEventListener(PV,i),e.removeEventListener(RV,i))}return t.useEffect((function(){return function(){o(n.current)}}),[]),[function(e){n.current&&n.current!==e&&o(n.current),e&&e!==n.current&&(e.addEventListener(PV,i),e.addEventListener(RV,i),n.current=e)},o]};const MV=_V()?t.useLayoutEffect:t.useEffect;var LV=function(e){return+setTimeout(e,16)},FV=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(LV=function(e){return window.requestAnimationFrame(e)},FV=function(e){return window.cancelAnimationFrame(e)});var jV=0,BV=new Map;function UV(e){BV.delete(e)}var zV=function(e){var t=jV+=1;return function n(r){if(0===r)UV(t),e();else{var i=LV((function(){n(r-1)}));BV.set(t,i)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};zV.cancel=function(e){var t=BV.get(e);return UV(e),FV(t)};const VV=zV;var qV=[gV,vV,yV,bV],HV=[gV,wV],WV=!1,GV=!0;function KV(e){return e===yV||e===bV}const QV=function(e,n,r){var i=Nz(uV(mV),2),o=i[0],s=i[1],a=function(){var e=t.useRef(null);function n(){VV.cancel(e.current)}return t.useEffect((function(){return function(){n()}}),[]),[function t(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var o=VV((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):t(r,i-1)}));e.current=o},n]}(),c=Nz(a,2),l=c[0],u=c[1];var d=n?HV:qV;return MV((function(){if(o!==mV&&o!==bV){var e=d.indexOf(o),t=d[e+1],n=r(o);n===WV?s(t,!0):t&&l((function(e){function r(){e.isCanceled()||s(t,!0)}!0===n?r():Promise.resolve(n).then(r)}))}}),[e,o]),t.useEffect((function(){return function(){u()}}),[]),[function(){s(gV,!0)},o]};const XV=function(e){var n=e;"object"===GB(e)&&(n=e.transitionSupport);var r=t.forwardRef((function(e,r){var i=e.visible,o=void 0===i||i,s=e.removeOnLeave,a=void 0===s||s,c=e.forceRender,l=e.children,u=e.motionName,d=e.leavedClassName,h=e.eventProps,f=function(e,t){return!(!e.motionName||!n||!1===t)}(e,t.useContext(cV).motion),p=(0,t.useRef)(),m=(0,t.useRef)();var g=function(e,n,r,i){var o=i.motionEnter,s=void 0===o||o,a=i.motionAppear,c=void 0===a||a,l=i.motionLeave,u=void 0===l||l,d=i.motionDeadline,h=i.motionLeaveImmediately,f=i.onAppearPrepare,p=i.onEnterPrepare,m=i.onLeavePrepare,g=i.onAppearStart,v=i.onEnterStart,y=i.onLeaveStart,b=i.onAppearActive,w=i.onEnterActive,_=i.onLeaveActive,E=i.onAppearEnd,C=i.onEnterEnd,x=i.onLeaveEnd,S=i.onVisibleChanged,k=Nz(uV(),2),T=k[0],I=k[1],O=Nz(uV(dV),2),N=O[0],R=O[1],P=Nz(uV(null),2),A=P[0],D=P[1],M=(0,t.useRef)(!1),L=(0,t.useRef)(null);function F(){return r()}var j=(0,t.useRef)(!1);function B(){R(dV,!0),D(null,!0)}function U(e){var t=F();if(!e||e.deadline||e.target===t){var n,r=j.current;N===hV&&r?n=null===E||void 0===E?void 0:E(t,e):N===fV&&r?n=null===C||void 0===C?void 0:C(t,e):N===pV&&r&&(n=null===x||void 0===x?void 0:x(t,e)),N!==dV&&r&&!1!==n&&B()}}var z=Nz(DV(U),1)[0],V=function(e){var t,n,r;switch(e){case hV:return YB(t={},gV,f),YB(t,vV,g),YB(t,yV,b),t;case fV:return YB(n={},gV,p),YB(n,vV,v),YB(n,yV,w),n;case pV:return YB(r={},gV,m),YB(r,vV,y),YB(r,yV,_),r;default:return{}}},q=t.useMemo((function(){return V(N)}),[N]),H=Nz(QV(N,!e,(function(e){if(e===gV){var t=q[gV];return t?t(F()):WV}var n;return G in q&&D((null===(n=q[G])||void 0===n?void 0:n.call(q,F(),null))||null),G===yV&&(z(F()),d>0&&(clearTimeout(L.current),L.current=setTimeout((function(){U({deadline:!0})}),d))),G===wV&&B(),GV})),2),W=H[0],G=H[1],K=KV(G);j.current=K,MV((function(){I(n);var t,r=M.current;M.current=!0,!r&&n&&c&&(t=hV),r&&n&&s&&(t=fV),(r&&!n&&u||!r&&h&&!n&&u)&&(t=pV);var i=V(t);t&&(e||i[gV])?(R(t),W()):R(dV)}),[n]),(0,t.useEffect)((function(){(N===hV&&!c||N===fV&&!s||N===pV&&!u)&&R(dV)}),[c,s,u]),(0,t.useEffect)((function(){return function(){M.current=!1,clearTimeout(L.current)}}),[]);var Q=t.useRef(!1);(0,t.useEffect)((function(){T&&(Q.current=!0),void 0!==T&&N===dV&&((Q.current||T)&&(null===S||void 0===S||S(T)),Q.current=!0)}),[T,N]);var X=A;return q[gV]&&G===vV&&(X=ZB({transition:"none"},X)),[N,G,X,null!==T&&void 0!==T?T:n]}(f,o,(function(){try{return p.current instanceof HTMLElement?p.current:rV(m.current)}catch(KK){return null}}),e),v=Nz(g,4),y=v[0],b=v[1],w=v[2],_=v[3],E=t.useRef(_);_&&(E.current=!0);var C,x=t.useCallback((function(e){p.current=e,iV(r,e)}),[r]),S=ZB(ZB({},h),{},{visible:o});if(l)if(y===dV)C=_?l(ZB({},S),x):!a&&E.current&&d?l(ZB(ZB({},S),{},{className:d}),x):c||!a&&!d?l(ZB(ZB({},S),{},{style:{display:"none"}}),x):null;else{var k,T;b===gV?T="prepare":KV(b)?T="active":b===vV&&(T="start");var I=AV(u,"".concat(y,"-").concat(T));C=l(ZB(ZB({},S),{},{className:Rn()(AV(u,y),(k={},YB(k,I,I&&T),YB(k,u,"string"===typeof u),k)),style:w}),x)}else C=null;t.isValidElement(C)&&aV(C)&&(C.ref||(C=t.cloneElement(C,{ref:x})));return t.createElement(lV,{ref:m},C)}));return r.displayName="CSSMotion",r}(NV);var $V="add",YV="keep",JV="remove",ZV="removed";function eq(e){var t;return ZB(ZB({},t=e&&"object"===GB(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function tq(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(eq)}var nq=["component","children","onVisibleChanged","onAllRemoved"],rq=["status"],iq=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const oq=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XV,r=function(e){cU(i,e);var r=hU(i);function i(){var e;iU(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return YB(aU(e=r.call.apply(r,[this].concat(n))),"state",{keyEntities:[]}),YB(aU(e),"removeKey",(function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:ZB(ZB({},e),{},{status:ZV})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==ZV})).length})),e}return sU(i,[{key:"render",value:function(){var e=this,r=this.state.keyEntities,i=this.props,o=i.component,s=i.children,a=i.onVisibleChanged,c=i.onAllRemoved,l=WB(i,nq),u=o||t.Fragment,d={};return iq.forEach((function(e){d[e]=l[e],delete l[e]})),delete l.keys,t.createElement(u,l,r.map((function(r,i){var o=r.status,l=WB(r,rq),u=o===$V||o===YV;return t.createElement(n,f({},d,{key:l.key,visible:u,eventProps:l,onVisibleChanged:function(t){(null===a||void 0===a||a(t,{key:l.key}),t)||0===e.removeKey(l.key)&&c&&c()}}),(function(e,t){return s(ZB(ZB({},e),{},{index:i}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=tq(n),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=tq(e),s=tq(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var a=s[o];if(a.key===e.key){r<o&&(n=n.concat(s.slice(r,o).map((function(e){return ZB(ZB({},e),{},{status:$V})}))),r=o),n.push(ZB(ZB({},a),{},{status:YV})),r+=1,t=!0;break}}t||n.push(ZB(ZB({},e),{},{status:JV}))})),r<i&&(n=n.concat(s.slice(r).map((function(e){return ZB(ZB({},e),{},{status:$V})}))));var a={};n.forEach((function(e){var t=e.key;a[t]=(a[t]||0)+1}));var c=Object.keys(a).filter((function(e){return a[e]>1}));return c.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==JV})),n.forEach((function(t){t.key===e&&(t.status=YV)}))})),n}(r,i);return{keyEntities:o.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==ZV||e.status!==JV}))}}}]),i}(t.Component);return YB(r,"defaultProps",{component:"div"}),r}(NV),sq=XV,aq=()=>({height:0,opacity:0}),cq=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},lq=e=>({height:e?e.offsetHeight:0}),uq=(e,t)=>!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName,dq=(e,t,n)=>void 0!==n?n:"".concat(e,"-").concat(t),hq=function(){return{motionName:"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ant","-motion-collapse"),onAppearStart:aq,onEnterStart:aq,onAppearActive:cq,onEnterActive:cq,onLeaveStart:lq,onLeaveActive:aq,onAppearEnd:uq,onEnterEnd:uq,onLeaveEnd:uq,motionDeadline:500}};const fq=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};var pq="data-rc-order",mq="data-rc-priority",gq="rc-util-key",vq=new Map;function yq(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):gq}function bq(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function wq(e){return Array.from((vq.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function _q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!_V())return null;var n=t.csp,r=t.prepend,i=t.priority,o=void 0===i?0:i,s=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),a="prependQueue"===s,c=document.createElement("style");c.setAttribute(pq,s),a&&o&&c.setAttribute(mq,"".concat(o)),null!==n&&void 0!==n&&n.nonce&&(c.nonce=null===n||void 0===n?void 0:n.nonce),c.innerHTML=e;var l=bq(t),u=l.firstChild;if(r){if(a){var d=(t.styles||wq(l)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(pq)))return!1;var t=Number(e.getAttribute(mq)||0);return o>=t}));if(d.length)return l.insertBefore(c,d[d.length-1].nextSibling),c}l.insertBefore(c,u)}else l.appendChild(c);return c}function Eq(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=bq(t);return(t.styles||wq(n)).find((function(n){return n.getAttribute(yq(t))===e}))}function Cq(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Eq(e,t);n&&bq(t).removeChild(n)}function xq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=bq(n),i=wq(r),o=ZB(ZB({},n),{},{styles:i});!function(e,t){var n=vq.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=_q("",t),i=r.parentNode;vq.set(e,i),e.removeChild(r)}}(r,o);var s=Eq(t,o);if(s){var a,c,l;if(null!==(a=o.csp)&&void 0!==a&&a.nonce&&s.nonce!==(null===(c=o.csp)||void 0===c?void 0:c.nonce))s.nonce=null===(l=o.csp)||void 0===l?void 0:l.nonce;return s.innerHTML!==e&&(s.innerHTML=e),s}var u=_q(e,o);return u.setAttribute(yq(o),t),u}var Sq="%";function kq(e){return e.join(Sq)}var Tq=function(){function e(t){iU(this,e),YB(this,"instanceId",void 0),YB(this,"cache",new Map),this.instanceId=t}return sU(e,[{key:"get",value:function(e){return this.opGet(kq(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(kq(e),t)}},{key:"opUpdate",value:function(e,t){var n=t(this.cache.get(e));null===n?this.cache.delete(e):this.cache.set(e,n)}}]),e}();const Iq=Tq;var Oq="data-token-hash",Nq="data-css-hash",Rq="__cssinjs_instance__";function Pq(){var e=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(Nq,"]"))||[],n=document.head.firstChild;Array.from(t).forEach((function(t){t[Rq]=t[Rq]||e,t[Rq]===e&&document.head.insertBefore(t,n)}));var r={};Array.from(document.querySelectorAll("style[".concat(Nq,"]"))).forEach((function(t){var n,i=t.getAttribute(Nq);r[i]?t[Rq]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t)):r[i]=!0}))}return new Iq(e)}var Aq=t.createContext({hashPriority:"low",cache:Pq(),defaultCache:!0});const Dq=Aq;var Mq=function(){function e(){iU(this,e),YB(this,"cache",void 0),YB(this,"keys",void 0),YB(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return sU(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={map:this.cache};return e.forEach((function(e){var t;i?i=null===(t=i)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):i=void 0})),null!==(t=i)&&void 0!==t&&t.value&&r&&(i.value[1]=this.cacheCallTimes++),null===(n=i)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var i=this.keys.reduce((function(e,t){var n=Nz(e,2)[1];return r.internalGet(t)[1]<n?[t,r.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),o=Nz(i,1)[0];this.delete(o)}this.keys.push(t)}var s=this.cache;t.forEach((function(e,i){if(i===t.length-1)s.set(e,{value:[n,r.cacheCallTimes++]});else{var o=s.get(e);o?o.map||(o.map=new Map):s.set(e,{map:new Map}),s=s.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var n,r=e.get(t[0]);if(1===t.length)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),null===(n=r.value)||void 0===n?void 0:n[0];var i=this.deleteByPath(r.map,t.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(t[0]),i}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();YB(Mq,"MAX_CACHE_SIZE",20),YB(Mq,"MAX_CACHE_OFFSET",5);var Lq=0,Fq=function(){function e(t){iU(this,e),YB(this,"derivatives",void 0),YB(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=Lq,0===t.length&&t.length,Lq+=1}return sU(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,n){return n(e,t)}),void 0)}}]),e}(),jq=new Mq;var Bq=new WeakMap,Uq={};var zq=new WeakMap;function Vq(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=zq.get(e)||"";return n||(Object.keys(e).forEach((function(r){var i=e[r];n+=r,i instanceof Fq?n+=i.id:i&&"object"===GB(i)?n+=Vq(i,t):n+=i})),t&&(n=fq(n)),zq.set(e,n)),n}function qq(e,t){return fq("".concat(t,"_").concat(Vq(e,!0)))}"random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,"");var Hq=_V();function Wq(e){return"number"===typeof e?"".concat(e,"px"):e}function Gq(e,t,n){var r;if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var i=ZB(ZB({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},(YB(r={},Oq,t),YB(r,Nq,n),r)),o=Object.keys(i).map((function(e){var t=i[e];return t?"".concat(e,'="').concat(t,'"'):null})).filter((function(e){return e})).join(" ");return"<style ".concat(o,">").concat(e,"</style>")}var Kq=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Qq=function(e,t,n){return Object.keys(e).length?".".concat(t).concat(null!==n&&void 0!==n&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map((function(e){var t=Nz(e,2),n=t[0],r=t[1];return"".concat(n,":").concat(r,";")})).join(""),"}"):""},Xq=function(e,t,n){var r={},i={};return Object.entries(e).forEach((function(e){var t,o,s=Nz(e,2),a=s[0],c=s[1];if(null!==n&&void 0!==n&&null!==(t=n.preserve)&&void 0!==t&&t[a])i[a]=c;else if(("string"===typeof c||"number"===typeof c)&&(null===n||void 0===n||null===(o=n.ignore)||void 0===o||!o[a])){var l,u=Kq(a,null===n||void 0===n?void 0:n.prefix);r[u]="number"!==typeof c||null!==n&&void 0!==n&&null!==(l=n.unitless)&&void 0!==l&&l[a]?String(c):"".concat(c,"px"),i[a]="var(".concat(u,")")}})),[i,Qq(r,t,{scope:null===n||void 0===n?void 0:n.scope})]},$q=_V()?t.useLayoutEffect:t.useEffect,Yq=function(e,n){var r=t.useRef(!0);$q((function(){return e(r.current)}),n),$q((function(){return r.current=!1,function(){r.current=!0}}),[])},Jq=function(e,t){Yq((function(t){if(!t)return e()}),t)};const Zq=Yq;var eH=ZB({},r).useInsertionEffect;const tH=eH?function(e,t,n){return eH((function(){return e(),t()}),n)}:function(e,n,r){t.useMemo(e,r),Zq((function(){return n(!0)}),r)};var nH="undefined"!==typeof ZB({},r).useInsertionEffect?function(e){var n=[],r=!1;return t.useEffect((function(){return r=!1,function(){r=!0,n.length&&n.forEach((function(e){return e()}))}}),e),function(e){r||n.push(e)}}:function(){return function(e){e()}};const rH=nH;const iH=function(){return!1};function oH(e,n,r,i,o){var s=t.useContext(Dq).cache,a=kq([e].concat(rU(n))),c=rH([a]),l=(iH(),function(e){s.opUpdate(a,(function(t){var n=Nz(t||[void 0,void 0],2),i=n[0];var o=[void 0===i?0:i,n[1]||r()];return e?e(o):o}))});t.useMemo((function(){l()}),[a]);var u=s.opGet(a)[1];return tH((function(){null===o||void 0===o||o(u)}),(function(e){return l((function(t){var n=Nz(t,2),r=n[0],i=n[1];return e&&0===r&&(null===o||void 0===o||o(u)),[r+1,i]})),function(){s.opUpdate(a,(function(t){var n=Nz(t||[],2),r=n[0],o=void 0===r?0:r,l=n[1];return 0===o-1?(c((function(){!e&&s.opGet(a)||null===i||void 0===i||i(l,!1)})),null):[o-1,l]}))}}),[a]),u}var sH={},aH="css",cH=new Map;var lH=0;function uH(e,t){cH.set(e,(cH.get(e)||0)-1);var n=Array.from(cH.keys()),r=n.filter((function(e){return(cH.get(e)||0)<=0}));n.length-r.length>lH&&r.forEach((function(e){!function(e,t){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(Oq,'="').concat(e,'"]')).forEach((function(e){var n;e[Rq]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))}))}(e,t),cH.delete(e)}))}var dH=function(e,t,n,r){var i=ZB(ZB({},n.getDerivativeToken(e)),t);return r&&(i=r(i)),i},hH="token";function fH(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,t.useContext)(Dq),o=i.cache.instanceId,s=i.container,a=r.salt,c=void 0===a?"":a,l=r.override,u=void 0===l?sH:l,d=r.formatToken,h=r.getComputedToken,f=r.cssVar,p=function(e,t){for(var n=Bq,r=0;r<t.length;r+=1){var i=t[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(Uq)||n.set(Uq,e()),n.get(Uq)}((function(){return Object.assign.apply(Object,[{}].concat(rU(n)))}),n),m=Vq(p),g=Vq(u),v=f?Vq(f):"",y=oH(hH,[c,e.id,m,g,v],(function(){var t,n=h?h(p,u,e):dH(p,u,e,d),r=ZB({},n),i="";if(f){var o=Nz(Xq(n,f.key,{prefix:f.prefix,ignore:f.ignore,unitless:f.unitless,preserve:f.preserve}),2);n=o[0],i=o[1]}var s=qq(n,c);n._tokenKey=s,r._tokenKey=qq(r,c);var a=null!==(t=null===f||void 0===f?void 0:f.key)&&void 0!==t?t:s;n._themeKey=a,function(e){cH.set(e,(cH.get(e)||0)+1)}(a);var l="".concat(aH,"-").concat(fq(s));return n._hashId=l,[n,l,r,i,(null===f||void 0===f?void 0:f.key)||""]}),(function(e){uH(e[0]._themeKey,o)}),(function(e){var t=Nz(e,4),n=t[0],r=t[3];if(f&&r){var i=xq(r,fq("css-variables-".concat(n._themeKey)),{mark:Nq,prepend:"queue",attachTo:s,priority:-999});i[Rq]=o,i.setAttribute(Oq,n._themeKey)}}));return y}const pH={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var mH="comm",gH="rule",vH="decl",yH="@import",bH="@keyframes",wH="@layer",_H=Math.abs,EH=String.fromCharCode;Object.assign;function CH(e){return e.trim()}function xH(e,t,n){return e.replace(t,n)}function SH(e,t,n){return e.indexOf(t,n)}function kH(e,t){return 0|e.charCodeAt(t)}function TH(e,t,n){return e.slice(t,n)}function IH(e){return e.length}function OH(e,t){return t.push(e),e}function NH(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function RH(e,t,n,r){switch(e.type){case wH:if(e.children.length)break;case yH:case vH:return e.return=e.return||e.value;case mH:return"";case bH:return e.return=e.value+"{"+NH(e.children,r)+"}";case gH:if(!IH(e.value=e.props.join(",")))return""}return IH(n=NH(e.children,r))?e.return=e.value+"{"+n+"}":""}var PH=1,AH=1,DH=0,MH=0,LH=0,FH="";function jH(e,t,n,r,i,o,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:PH,column:AH,length:s,return:"",siblings:a}}function BH(){return LH=MH>0?kH(FH,--MH):0,AH--,10===LH&&(AH=1,PH--),LH}function UH(){return LH=MH<DH?kH(FH,MH++):0,AH++,10===LH&&(AH=1,PH++),LH}function zH(){return kH(FH,MH)}function VH(){return MH}function qH(e,t){return TH(FH,e,t)}function HH(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WH(e){return PH=AH=1,DH=IH(FH=e),MH=0,[]}function GH(e){return FH="",e}function KH(e){return CH(qH(MH-1,$H(91===e?e+2:40===e?e+1:e)))}function QH(e){for(;(LH=zH())&&LH<33;)UH();return HH(e)>2||HH(LH)>3?"":" "}function XH(e,t){for(;--t&&UH()&&!(LH<48||LH>102||LH>57&&LH<65||LH>70&&LH<97););return qH(e,VH()+(t<6&&32==zH()&&32==UH()))}function $H(e){for(;UH();)switch(LH){case e:return MH;case 34:case 39:34!==e&&39!==e&&$H(LH);break;case 40:41===e&&$H(e);break;case 92:UH()}return MH}function YH(e,t){for(;UH()&&e+LH!==57&&(e+LH!==84||47!==zH()););return"/*"+qH(t,MH-1)+"*"+EH(47===e?e:UH())}function JH(e){for(;!HH(zH());)UH();return qH(e,MH)}function ZH(e){return GH(eW("",null,null,null,[""],e=WH(e),0,[0],e))}function eW(e,t,n,r,i,o,s,a,c){for(var l=0,u=0,d=s,h=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",w=i,_=o,E=r,C=b;g;)switch(p=y,y=UH()){case 40:if(108!=p&&58==kH(C,d-1)){-1!=SH(C+=xH(KH(y),"&","&\f"),"&\f",_H(l?a[l-1]:0))&&(v=-1);break}case 34:case 39:case 91:C+=KH(y);break;case 9:case 10:case 13:case 32:C+=QH(p);break;case 92:C+=XH(VH()-1,7);continue;case 47:switch(zH()){case 42:case 47:OH(nW(YH(UH(),VH()),t,n,c),c);break;default:C+="/"}break;case 123*m:a[l++]=IH(C)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(C=xH(C,/\f/g,"")),f>0&&IH(C)-d&&OH(f>32?rW(C+";",r,n,d-1,c):rW(xH(C," ","")+";",r,n,d-2,c),c);break;case 59:C+=";";default:if(OH(E=tW(C,t,n,l,u,i,a,b,w=[],_=[],d,o),o),123===y)if(0===u)eW(C,t,E,E,w,o,d,a,_);else switch(99===h&&110===kH(C,3)?100:h){case 100:case 108:case 109:case 115:eW(e,E,E,r&&OH(tW(e,E,E,0,0,i,a,b,i,w=[],d,_),_),i,_,d,a,r?w:_);break;default:eW(C,E,E,E,[""],_,0,a,_)}}l=u=f=0,m=v=1,b=C="",d=s;break;case 58:d=1+IH(C),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==BH())continue;switch(C+=EH(y),y*m){case 38:v=u>0?1:(C+="\f",-1);break;case 44:a[l++]=(IH(C)-1)*v,v=1;break;case 64:45===zH()&&(C+=KH(UH())),h=zH(),u=d=IH(b=C+=JH(VH())),y++;break;case 45:45===p&&2==IH(C)&&(m=0)}}return o}function tW(e,t,n,r,i,o,s,a,c,l,u,d){for(var h=i-1,f=0===i?o:[""],p=function(e){return e.length}(f),m=0,g=0,v=0;m<r;++m)for(var y=0,b=TH(e,h+1,h=_H(g=s[m])),w=e;y<p;++y)(w=CH(g>0?f[y]+" "+b:xH(b,/&\f/g,f[y])))&&(c[v++]=w);return jH(e,t,n,0===i?gH:a,c,l,u,d)}function nW(e,t,n,r){return jH(e,t,n,mH,EH(LH),TH(e,2,-2),0,r)}function rW(e,t,n,r,i){return jH(e,t,n,vH,TH(e,0,r),TH(e,r+1,-1),r,i)}var iW,oW="data-ant-cssinjs-cache-path",sW="_FILE_STYLE__";var aW=!0;function cW(e){return function(){if(!iW&&(iW={},_V())){var e=document.createElement("div");e.className=oW,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach((function(e){var t=Nz(e.split(":"),2),n=t[0],r=t[1];iW[n]=r}));var n,r=document.querySelector("style[".concat(oW,"]"));r&&(aW=!1,null===(n=r.parentNode)||void 0===n||n.removeChild(r)),document.body.removeChild(e)}}(),!!iW[e]}var lW="_multi_value_";function uW(e){return NH(ZH(e),RH).replace(/\{%%%\:[^;];}/g,";")}var dW=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,o=r.injectHash,s=r.parentSelectors,a=n.hashId,c=n.layer,l=(n.path,n.hashPriority),u=n.transformers,d=void 0===u?[]:u,h=(n.linters,""),f={};function p(t){var r=t.getName(a);if(!f[r]){var i=Nz(e(t.style,n,{root:!1,parentSelectors:s}),1)[0];f[r]="@keyframes ".concat(t.getName(a)).concat(i)}}var m=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){Array.isArray(t)?e(t,n):t&&n.push(t)})),n}(Array.isArray(t)?t:[t]);return m.forEach((function(t){var r="string"!==typeof t||i?t:{};if("string"===typeof r)h+="".concat(r,"\n");else if(r._keyframe)p(r);else{var c=d.reduce((function(e,t){var n;return(null===t||void 0===t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e}),r);Object.keys(c).forEach((function(t){var r=c[t];if("object"!==GB(r)||!r||"animationName"===t&&r._keyframe||function(e){return"object"===GB(e)&&e&&("_skip_check_"in e||lW in e)}(r)){var u;function _(e,t){var n=e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),r=t;pH[e]||"number"!==typeof r||0===r||(r="".concat(r,"px")),"animationName"===e&&null!==t&&void 0!==t&&t._keyframe&&(p(t),r=t.getName(a)),h+="".concat(n,":").concat(r,";")}var d=null!==(u=null===r||void 0===r?void 0:r.value)&&void 0!==u?u:r;"object"===GB(r)&&null!==r&&void 0!==r&&r[lW]&&Array.isArray(d)?d.forEach((function(e){_(t,e)})):_(t,d)}else{var m=!1,g=t.trim(),v=!1;(i||o)&&a?g.startsWith("@")?m=!0:g=function(e,t,n){if(!t)return e;var r=".".concat(t),i="low"===n?":where(".concat(r,")"):r,o=e.split(",").map((function(e){var t,n=e.trim().split(/\s+/),r=n[0]||"",o=(null===(t=r.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[r="".concat(o).concat(i).concat(r.slice(o.length))].concat(rU(n.slice(1))).join(" ")}));return o.join(",")}(t,a,l):!i||a||"&"!==g&&""!==g||(g="",v=!0);var y=Nz(e(r,n,{root:v,injectHash:m,parentSelectors:[].concat(rU(s),[g])}),2),b=y[0],w=y[1];f=ZB(ZB({},f),w),h+="".concat(g).concat(b)}}))}})),i?c&&(h="@layer ".concat(c.name," {").concat(h,"}"),c.dependencies&&(f["@layer ".concat(c.name)]=c.dependencies.map((function(e){return"@layer ".concat(e,", ").concat(c.name,";")})).join("\n"))):h="{".concat(h,"}"),[h,f]};function hW(e,t){return fq("".concat(e.join("%")).concat(t))}function fW(){return null}var pW="style";function mW(e,n){var r=e.token,i=e.path,o=e.hashId,s=e.layer,a=e.nonce,c=e.clientOnly,l=e.order,u=void 0===l?0:l,d=t.useContext(Dq),h=d.autoClear,p=(d.mock,d.defaultCache),m=d.hashPriority,g=d.container,v=d.ssrInline,y=d.transformers,b=d.linters,w=d.cache,_=d.layer,E=r._tokenKey,C=[E];_&&C.push("layer"),C.push.apply(C,rU(i));var x=Hq;var S=oH(pW,C,(function(){var e=C.join("|");if(cW(e)){var t=function(e){var t=iW[e],n=null;if(t&&_V())if(aW)n=sW;else{var r=document.querySelector("style[".concat(Nq,'="').concat(iW[e],'"]'));r?n=r.innerHTML:delete iW[e]}return[n,t]}(e),r=Nz(t,2),a=r[0],l=r[1];if(a)return[a,E,l,{},c,u]}var d=n(),h=Nz(dW(d,{hashId:o,hashPriority:m,layer:_?s:void 0,path:i.join("-"),transformers:y,linters:b}),2),f=h[0],p=h[1],g=uW(f),v=hW(C,g);return[g,E,v,p,c,u]}),(function(e,t){var n=Nz(e,3)[2];(t||h)&&Hq&&Cq(n,{mark:Nq})}),(function(e){var t=Nz(e,4),n=t[0],r=(t[1],t[2]),i=t[3];if(x&&n!==sW){var o={mark:Nq,prepend:!_&&"queue",attachTo:g,priority:u},s="function"===typeof a?a():a;s&&(o.csp={nonce:s});var c=[],l=[];Object.keys(i).forEach((function(e){e.startsWith("@layer")?c.push(e):l.push(e)})),c.forEach((function(e){xq(uW(i[e]),"_layer-".concat(e),ZB(ZB({},o),{},{prepend:!0}))}));var d=xq(n,r,o);d[Rq]=w.instanceId,d.setAttribute(Oq,E),l.forEach((function(e){xq(uW(i[e]),"_effect-".concat(e),o)}))}})),k=Nz(S,3),T=k[0],I=k[1],O=k[2];return function(e){var n,r;v&&!x&&p?n=t.createElement("style",f({},(YB(r={},Oq,I),YB(r,Nq,O),r),{dangerouslySetInnerHTML:{__html:T}})):n=t.createElement(fW,null);return t.createElement(t.Fragment,null,n,e)}}var gW="cssVar";const vW=function(e,n){var r=e.key,i=e.prefix,o=e.unitless,s=e.ignore,a=e.token,c=e.scope,l=void 0===c?"":c,u=(0,t.useContext)(Dq),d=u.cache.instanceId,h=u.container,f=a._tokenKey,p=[].concat(rU(e.path),[r,l,f]),m=oH(gW,p,(function(){var e=n(),t=Nz(Xq(e,r,{prefix:i,unitless:o,ignore:s,scope:l}),2),a=t[0],c=t[1];return[a,c,hW(p,c),r]}),(function(e){var t=Nz(e,3)[2];Hq&&Cq(t,{mark:Nq})}),(function(e){var t=Nz(e,3),n=t[1],i=t[2];if(n){var o=xq(n,i,{mark:Nq,prepend:"queue",attachTo:h,priority:-999});o[Rq]=d,o.setAttribute(Oq,r)}}));return m};var yW;YB(yW={},pW,(function(e,t,n){var r=Nz(e,6),i=r[0],o=r[1],s=r[2],a=r[3],c=r[4],l=r[5],u=(n||{}).plain;if(c)return null;var d=i,h={"data-rc-order":"prependQueue","data-rc-priority":"".concat(l)};return d=Gq(i,o,s,h,u),a&&Object.keys(a).forEach((function(e){if(!t[e]){t[e]=!0;var n=Gq(uW(a[e]),o,"_effect-".concat(e),h,u);e.startsWith("@layer")?d=n+d:d+=n}})),[l,s,d]})),YB(yW,hH,(function(e,t,n){var r=Nz(e,5),i=r[2],o=r[3],s=r[4],a=(n||{}).plain;if(!o)return null;var c=i._tokenKey;return[-999,c,Gq(o,s,c,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},a)]})),YB(yW,gW,(function(e,t,n){var r=Nz(e,4),i=r[1],o=r[2],s=r[3],a=(n||{}).plain;if(!i)return null;return[-999,o,Gq(i,s,o,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},a)]}));var bW=function(){function e(t,n){iU(this,e),YB(this,"name",void 0),YB(this,"style",void 0),YB(this,"_keyframe",!0),this.name=t,this.style=n}return sU(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}();const wW=bW;function _W(e){return e.notSplit=!0,e}_W(["borderTop","borderBottom"]),_W(["borderTop"]),_W(["borderBottom"]),_W(["borderLeft","borderRight"]),_W(["borderLeft"]),_W(["borderRight"]);const EW="5.16.2";function CW(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function xW(e){return Math.min(1,Math.max(0,e))}function SW(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function kW(e){return e<=1?"".concat(100*Number(e),"%"):e}function TW(e){return 1===e.length?"0"+e:String(e)}function IW(e,t,n){e=CW(e,255),t=CW(t,255),n=CW(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,s=0,a=(r+i)/2;if(r===i)s=0,o=0;else{var c=r-i;switch(s=a>.5?c/(2-r-i):c/(r+i),r){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:s,l:a}}function OW(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function NW(e,t,n){e=CW(e,255),t=CW(t,255),n=CW(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,s=r,a=r-i,c=0===r?0:a/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/a+(t<n?6:0);break;case t:o=(n-e)/a+2;break;case n:o=(e-t)/a+4}o/=6}return{h:o,s:c,v:s}}function RW(e,t,n,r){var i=[TW(Math.round(e).toString(16)),TW(Math.round(t).toString(16)),TW(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function PW(e){return Math.round(255*parseFloat(e)).toString(16)}function AW(e){return DW(e)/255}function DW(e){return parseInt(e,16)}var MW={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function LW(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return"string"===typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(MW[e])e=MW[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=UW.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=UW.rgba.exec(e),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=UW.hsl.exec(e),n)return{h:n[1],s:n[2],l:n[3]};if(n=UW.hsla.exec(e),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=UW.hsv.exec(e),n)return{h:n[1],s:n[2],v:n[3]};if(n=UW.hsva.exec(e),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=UW.hex8.exec(e),n)return{r:DW(n[1]),g:DW(n[2]),b:DW(n[3]),a:AW(n[4]),format:t?"name":"hex8"};if(n=UW.hex6.exec(e),n)return{r:DW(n[1]),g:DW(n[2]),b:DW(n[3]),format:t?"name":"hex"};if(n=UW.hex4.exec(e),n)return{r:DW(n[1]+n[1]),g:DW(n[2]+n[2]),b:DW(n[3]+n[3]),a:AW(n[4]+n[4]),format:t?"name":"hex8"};if(n=UW.hex3.exec(e),n)return{r:DW(n[1]+n[1]),g:DW(n[2]+n[2]),b:DW(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(zW(e.r)&&zW(e.g)&&zW(e.b)?(t=function(e,t,n){return{r:255*CW(e,255),g:255*CW(t,255),b:255*CW(n,255)}}(e.r,e.g,e.b),s=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):zW(e.h)&&zW(e.s)&&zW(e.v)?(r=kW(e.s),i=kW(e.v),t=function(e,t,n){e=6*CW(e,360),t=CW(t,100),n=CW(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),c=r%6;return{r:255*[n,s,o,o,a,n][c],g:255*[a,n,n,s,o,o][c],b:255*[o,o,a,n,n,s][c]}}(e.h,r,i),s=!0,a="hsv"):zW(e.h)&&zW(e.s)&&zW(e.l)&&(r=kW(e.s),o=kW(e.l),t=function(e,t,n){var r,i,o;if(e=CW(e,360),t=CW(t,100),n=CW(n,100),0===t)i=n,o=n,r=n;else{var s=n<.5?n*(1+t):n+t-n*t,a=2*n-s;r=OW(a,s,e+1/3),i=OW(a,s,e),o=OW(a,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=SW(n),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var FW="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),jW="[\\s|\\(]+(".concat(FW,")[,|\\s]+(").concat(FW,")[,|\\s]+(").concat(FW,")\\s*\\)?"),BW="[\\s|\\(]+(".concat(FW,")[,|\\s]+(").concat(FW,")[,|\\s]+(").concat(FW,")[,|\\s]+(").concat(FW,")\\s*\\)?"),UW={CSS_UNIT:new RegExp(FW),rgb:new RegExp("rgb"+jW),rgba:new RegExp("rgba"+BW),hsl:new RegExp("hsl"+jW),hsla:new RegExp("hsla"+BW),hsv:new RegExp("hsv"+jW),hsva:new RegExp("hsva"+BW),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function zW(e){return Boolean(UW.CSS_UNIT.exec(String(e)))}var VW=2,qW=.16,HW=.05,WW=.05,GW=.15,KW=5,QW=4,XW=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function $W(e){var t=NW(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function YW(e){var t=e.r,n=e.g,r=e.b;return"#".concat(RW(t,n,r,!1))}function JW(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-VW*t:Math.round(e.h)+VW*t:n?Math.round(e.h)+VW*t:Math.round(e.h)-VW*t)<0?r+=360:r>=360&&(r-=360),r}function ZW(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-qW*t:t===QW?e.s+qW:e.s+HW*t)>1&&(r=1),n&&t===KW&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function eG(e,t,n){var r;return(r=n?e.v+WW*t:e.v-GW*t)>1&&(r=1),Number(r.toFixed(2))}function tG(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=LW(e),i=KW;i>0;i-=1){var o=$W(r),s=YW(LW({h:JW(o,i,!0),s:ZW(o,i,!0),v:eG(o,i,!0)}));n.push(s)}n.push(YW(r));for(var a=1;a<=QW;a+=1){var c=$W(r),l=YW(LW({h:JW(c,a),s:ZW(c,a),v:eG(c,a)}));n.push(l)}return"dark"===t.theme?XW.map((function(e){var r=e.index,i=e.opacity,o=YW(function(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}(LW(t.backgroundColor||"#141414"),LW(n[r]),100*i));return o})):n}var nG={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},rG={},iG={};Object.keys(nG).forEach((function(e){rG[e]=tG(nG[e]),rG[e].primary=rG[e][5],iG[e]=tG(nG[e],{theme:"dark",backgroundColor:"#141414"}),iG[e].primary=iG[e][5]}));rG.red,rG.volcano,rG.gold,rG.orange,rG.yellow,rG.lime,rG.green,rG.cyan;var oG=rG.blue;rG.geekblue,rG.purple,rG.magenta,rG.grey,rG.grey;const sG={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},aG=Object.assign(Object.assign({},sG),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});var cG=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=LW(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=SW(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=NW(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=NW(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=IW(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=IW(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),RW(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,i){var o=[TW(Math.round(e).toString(16)),TW(Math.round(t).toString(16)),TW(Math.round(n).toString(16)),TW(PW(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*CW(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*CW(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+RW(this.r,this.g,this.b,!1),t=0,n=Object.entries(MW);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=xW(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=xW(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=xW(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=xW(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),o=n/100;return new e({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(new e({h:r,s:i,v:o})),o=(o+a)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),i=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],o=360/t,s=1;s<t;s++)i.push(new e({h:(r+s*o)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();const lG=e=>{let t=e,n=e,r=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:i}};const uG=e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}};function dG(e){return(e+8)/e}const hG=e=>{const t=function(e){const t=new Array(10).fill(null).map(((t,n)=>{const r=n-1,i=e*Math.pow(2.71828,r/5),o=n>1?Math.floor(i):Math.ceil(i);return 2*Math.floor(o/2)}));return t[1]=e,t.map((e=>({size:e,lineHeight:dG(e)})))}(e),n=t.map((e=>e.size)),r=t.map((e=>e.lineHeight)),i=n[1],o=n[0],s=n[2],a=r[1],c=r[0],l=r[2];return{fontSizeSM:o,fontSize:i,fontSizeLG:s,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:a,lineHeightLG:l,lineHeightSM:c,fontHeight:Math.round(a*i),fontHeightLG:Math.round(l*s),fontHeightSM:Math.round(c*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};const fG=(e,t)=>new cG(e).setAlpha(t).toRgbString(),pG=(e,t)=>new cG(e).darken(t).toHexString(),mG=e=>{const t=tG(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},gG=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:fG(r,.88),colorTextSecondary:fG(r,.65),colorTextTertiary:fG(r,.45),colorTextQuaternary:fG(r,.25),colorFill:fG(r,.15),colorFillSecondary:fG(r,.06),colorFillTertiary:fG(r,.04),colorFillQuaternary:fG(r,.02),colorBgLayout:pG(n,4),colorBgContainer:pG(n,0),colorBgElevated:pG(n,0),colorBgSpotlight:fG(r,.85),colorBgBlur:"transparent",colorBorder:pG(n,15),colorBorderSecondary:pG(n,6)}};const vG=function(e){var t=Array.isArray(e)?e:[e];return jq.has(t)||jq.set(t,new Fq(t)),jq.get(t)}((function(e){const t=Object.keys(sG).map((t=>{const n=tG(e[t]);return new Array(10).fill(1).reduce(((e,r,i)=>(e["".concat(t,"-").concat(i+1)]=n[i],e["".concat(t).concat(i+1)]=n[i],e)),{})})).reduce(((e,t)=>e=Object.assign(Object.assign({},e),t)),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=t;const{colorSuccess:i,colorWarning:o,colorError:s,colorInfo:a,colorPrimary:c,colorBgBase:l,colorTextBase:u}=e,d=n(c),h=n(i),f=n(o),p=n(s),m=n(a),g=r(l,u),v=n(e.colorLink||e.colorInfo);return Object.assign(Object.assign({},g),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:h[1],colorSuccessBgHover:h[2],colorSuccessBorder:h[3],colorSuccessBorderHover:h[4],colorSuccessHover:h[4],colorSuccess:h[6],colorSuccessActive:h[7],colorSuccessTextHover:h[8],colorSuccessText:h[9],colorSuccessTextActive:h[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:f[1],colorWarningBgHover:f[2],colorWarningBorder:f[3],colorWarningBorderHover:f[4],colorWarningHover:f[4],colorWarning:f[6],colorWarningActive:f[7],colorWarningTextHover:f[8],colorWarningText:f[9],colorWarningTextActive:f[10],colorInfoBg:m[1],colorInfoBgHover:m[2],colorInfoBorder:m[3],colorInfoBorderHover:m[4],colorInfoHover:m[4],colorInfo:m[6],colorInfoActive:m[7],colorInfoTextHover:m[8],colorInfoText:m[9],colorInfoTextActive:m[10],colorLinkHover:v[4],colorLink:v[6],colorLinkActive:v[7],colorBgMask:new cG("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:mG,generateNeutralColorPalettes:gG})),hG(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),uG(e)),function(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:i}=e;return Object.assign({motionDurationFast:"".concat((n+t).toFixed(1),"s"),motionDurationMid:"".concat((n+2*t).toFixed(1),"s"),motionDurationSlow:"".concat((n+3*t).toFixed(1),"s"),lineWidthBold:i+1},lG(r))}(e))})),yG={token:aG,override:{override:aG},hashed:!0},bG=t.createContext(yG);function wG(e){return e>=0&&e<=255}const _G=function(e,t){const{r:n,g:r,b:i,a:o}=new cG(e).toRgb();if(o<1)return e;const{r:s,g:a,b:c}=new cG(t).toRgb();for(let l=.01;l<=1;l+=.01){const e=Math.round((n-s*(1-l))/l),t=Math.round((r-a*(1-l))/l),o=Math.round((i-c*(1-l))/l);if(wG(e)&&wG(t)&&wG(o))return new cG({r:e,g:t,b:o,a:Math.round(100*l)/100}).toRgbString()}return new cG({r:n,g:r,b:i,a:1}).toRgbString()};var EG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function CG(e){const{override:t}=e,n=EG(e,["override"]),r=Object.assign({},t);Object.keys(aG).forEach((e=>{delete r[e]}));const i=Object.assign(Object.assign({},n),r),o=1200,s=1600;if(!1===i.motion){const e="0s";i.motionDurationFast=e,i.motionDurationMid=e,i.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:_G(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:_G(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:_G(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:4*i.lineWidth,lineWidth:i.lineWidth,controlOutlineWidth:2*i.lineWidth,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:_G(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:o,screenXLMin:o,screenXLMax:1599,screenXXL:s,screenXXLMin:s,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:"\n      0 1px 2px -2px ".concat(new cG("rgba(0, 0, 0, 0.16)").toRgbString(),",\n      0 3px 6px 0 ").concat(new cG("rgba(0, 0, 0, 0.12)").toRgbString(),",\n      0 5px 12px 4px ").concat(new cG("rgba(0, 0, 0, 0.09)").toRgbString(),"\n    "),boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var xG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const SG={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0},kG={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},TG={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},IG=(e,t,n)=>{const r=n.getDerivativeToken(e),{override:i}=t,o=xG(t,["override"]);let s=Object.assign(Object.assign({},r),{override:i});return s=CG(s),o&&Object.entries(o).forEach((e=>{let[t,n]=e;const{theme:r}=n,i=xG(n,["theme"]);let o=i;r&&(o=IG(Object.assign(Object.assign({},s),i),{override:i},r)),s[t]=o})),s};function OG(){const{token:e,hashed:n,theme:r,override:i,cssVar:o}=t.useContext(bG),s="".concat(EW,"-").concat(n||""),a=r||vG,[c,l,u]=fH(a,[aG,e],{salt:s,override:i,getComputedToken:IG,formatToken:CG,cssVar:o&&{prefix:o.prefix,key:o.key,unitless:SG,ignore:kG,preserve:TG}});return[a,u,n?l:"",c,o]}const NG=e=>{const[,,,,t]=OG();return t?"".concat(e,"-css-var"):""};function RG(e){const[n,r]=t.useState(e);return t.useEffect((()=>{const t=setTimeout((()=>{r(e)}),e.length?0:10);return()=>{clearTimeout(t)}}),[e]),n}const PG=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},AG=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active,\n  &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),DG=(e,t,n)=>{const{fontFamily:r,fontSize:i}=e,o='[class^="'.concat(t,'"], [class*=" ').concat(t,'"]'),s=n?".".concat(n):o;return{[s]:{fontFamily:r,fontSize:i,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[o]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},MG=e=>({outline:"".concat(Wq(e.lineWidthFocus)," solid ").concat(e.colorPrimaryBorder),outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),LG=e=>({"&:focus-visible":Object.assign({},MG(e))}),FG=e=>({animationDuration:e,animationFillMode:"both"}),jG=e=>({animationDuration:e,animationFillMode:"both"}),BG=function(e,t,n,r){const i=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return{["\n      ".concat(i).concat(e,"-enter,\n      ").concat(i).concat(e,"-appear\n    ")]:Object.assign(Object.assign({},FG(r)),{animationPlayState:"paused"}),["".concat(i).concat(e,"-leave")]:Object.assign(Object.assign({},jG(r)),{animationPlayState:"paused"}),["\n      ".concat(i).concat(e,"-enter").concat(e,"-enter-active,\n      ").concat(i).concat(e,"-appear").concat(e,"-appear-active\n    ")]:{animationName:t,animationPlayState:"running"},["".concat(i).concat(e,"-leave").concat(e,"-leave-active")]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},UG=new wW("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),zG=new wW("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),VG=new wW("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),qG=new wW("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),HG=new wW("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),WG=new wW("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),GG=new wW("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),KG=new wW("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),QG=new wW("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),XG=new wW("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),$G=new wW("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),YG=new wW("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),JG={zoom:{inKeyframes:UG,outKeyframes:zG},"zoom-big":{inKeyframes:VG,outKeyframes:qG},"zoom-big-fast":{inKeyframes:VG,outKeyframes:qG},"zoom-left":{inKeyframes:GG,outKeyframes:KG},"zoom-right":{inKeyframes:QG,outKeyframes:XG},"zoom-up":{inKeyframes:HG,outKeyframes:WG},"zoom-down":{inKeyframes:$G,outKeyframes:YG}},ZG=(e,t)=>{const{antCls:n}=e,r="".concat(n,"-").concat(t),{inKeyframes:i,outKeyframes:o}=JG[t];return[BG(r,i,o,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),{["\n        ".concat(r,"-enter,\n        ").concat(r,"-appear\n      ")]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},["".concat(r,"-leave")]:{animationTimingFunction:e.motionEaseInOutCirc}}]},eK=e=>({[e.componentCls]:{["".concat(e.antCls,"-motion-collapse-legacy")]:{overflow:"hidden","&-active":{transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}},["".concat(e.antCls,"-motion-collapse")]:{overflow:"hidden",transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}}}),tK="undefined"!==typeof CSSINJS_STATISTIC;let nK=!0;function rK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!tK)return Object.assign.apply(Object,[{}].concat(t));nK=!1;const r={};return t.forEach((e=>{Object.keys(e).forEach((t=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:()=>e[t]})}))})),nK=!0,r}const iK={};function oK(){}const sK=e=>{let t,n=e,r=oK;return tK&&"undefined"!==typeof Proxy&&(t=new Set,n=new Proxy(e,{get:(e,n)=>(nK&&t.add(n),e[n])}),r=(e,n)=>{var r;iK[e]={global:Array.from(t),component:Object.assign(Object.assign({},null===(r=iK[e])||void 0===r?void 0:r.component),n)}}),{token:n,keys:t,flush:r}};function aK(e){var n=t.useRef();n.current=e;var r=t.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return r}function cK(e){return void 0!==e}function lK(e,t){var n=t||{},r=n.defaultValue,i=n.value,o=n.onChange,s=n.postState,a=Nz(uV((function(){return cK(i)?i:cK(r)?"function"===typeof r?r():r:"function"===typeof e?e():e})),2),c=a[0],l=a[1],u=void 0!==i?i:c,d=s?s(u):u,h=aK(o),f=Nz(uV([u]),2),p=f[0],m=f[1];return Jq((function(){var e=p[0];c!==e&&h(c,e)}),[p]),Jq((function(){cK(i)||l(i)}),[i]),[d,aK((function(e,t){l(e,t),m([u],t)}))]}const uK=t.createContext({getPrefixCls:(e,t)=>t||(e?"ant-".concat(e):"ant"),iconPrefixCls:"anticon"}),{Consumer:dK}=uK;function hK(e,t,n){return t=lU(t),dU(e,uU()?Reflect.construct(t,n||[],lU(e).constructor):t.apply(e,n))}const fK=sU((function e(){iU(this,e)})),pK="CALC_UNIT";function mK(e){return"number"===typeof e?"".concat(e).concat(pK):e}let gK=function(e){function t(e){var n;return iU(this,t),(n=hK(this,t)).result="",e instanceof t?n.result="(".concat(e.result,")"):"number"===typeof e?n.result=mK(e):"string"===typeof e&&(n.result=e),n}return cU(t,e),sU(t,[{key:"add",value:function(e){return e instanceof t?this.result="".concat(this.result," + ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," + ").concat(mK(e))),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof t?this.result="".concat(this.result," - ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," - ").concat(mK(e))),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof t?this.result="".concat(this.result," * ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," * ").concat(e)),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof t?this.result="".concat(this.result," / ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," / ").concat(e)),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(e){const{unit:t=!0}=e||{},n=new RegExp("".concat(pK),"g");return this.result=this.result.replace(n,t?"px":""),"undefined"!==typeof this.lowPriority?"calc(".concat(this.result,")"):this.result}}])}(fK),vK=function(e){function t(e){var n;return iU(this,t),(n=hK(this,t)).result=0,e instanceof t?n.result=e.result:"number"===typeof e&&(n.result=e),n}return cU(t,e),sU(t,[{key:"add",value:function(e){return e instanceof t?this.result+=e.result:"number"===typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof t?this.result-=e.result:"number"===typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof t?this.result*=e.result:"number"===typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof t?this.result/=e.result:"number"===typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}])}(fK);const yK=e=>{const t="css"===e?gK:vK;return e=>new t(e)};const bK=(e,t)=>{const[n,r]=OG();return mW({theme:n,token:r,hashId:"",path:["ant-design-icons",e],nonce:()=>null===t||void 0===t?void 0:t.nonce},(()=>[{[".".concat(e)]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{[".".concat(e," .").concat(e,"-icon")]:{display:"block"}})}]))},wK=(e,t,n)=>{var r;return"function"===typeof n?n(rK(t,null!==(r=t[e])&&void 0!==r?r:{})):null!==n&&void 0!==n?n:{}},_K=(e,t,n,r)=>{const i=Object.assign({},t[e]);if(null===r||void 0===r?void 0:r.deprecatedTokens){const{deprecatedTokens:e}=r;e.forEach((e=>{let[t,n]=e;var r;((null===i||void 0===i?void 0:i[t])||(null===i||void 0===i?void 0:i[n]))&&(null!==(r=i[n])&&void 0!==r||(i[n]=null===i||void 0===i?void 0:i[t]))}))}const o=Object.assign(Object.assign({},n),i);return Object.keys(o).forEach((e=>{o[e]===t[e]&&delete o[e]})),o};function EK(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=Array.isArray(e)?e:[e,e],[s]=o,a=o.join("-");return function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const[c,l,u,d,h]=OG(),{getPrefixCls:f,iconPrefixCls:p,csp:m}=(0,t.useContext)(uK),g=f(),v=h?"css":"js",y=yK(v),{max:b,min:w}=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"max(".concat(t.map((e=>Wq(e))).join(","),")")},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"min(".concat(t.map((e=>Wq(e))).join(","),")")}}}(v),_={theme:c,token:d,hashId:u,nonce:()=>null===m||void 0===m?void 0:m.nonce,clientOnly:i.clientOnly,order:i.order||-999};mW(Object.assign(Object.assign({},_),{clientOnly:!1,path:["Shared",g]}),(()=>[{"&":AG(d)}])),bK(p,m);const E=mW(Object.assign(Object.assign({},_),{path:[a,e,p]}),(()=>{if(!1===i.injectStyle)return[];const{token:t,flush:a}=sK(d),c=wK(s,l,r),f=".".concat(e),m=_K(s,l,c,{deprecatedTokens:i.deprecatedTokens});h&&Object.keys(c).forEach((e=>{c[e]="var(".concat(Kq(e,((e,t)=>"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")))(s,h.prefix)),")")}));const v=rK(t,{componentCls:f,prefixCls:e,iconCls:".".concat(p),antCls:".".concat(g),calc:y,max:b,min:w},h?c:m),_=n(v,{hashId:u,prefixCls:e,rootPrefixCls:g,iconPrefixCls:p});return a(s,m),[!1===i.resetStyle?null:DG(v,e,o),_]}));return[E,u]}}const CK=(e,t,n,r)=>{const i=EK(e,t,n,Object.assign({resetStyle:!1,order:-998},r));return e=>{let{prefixCls:t,rootCls:n=t}=e;return i(t,n),null}},xK=(e,n,r,i)=>{const o=EK(e,n,r,i),s=((e,n,r)=>{function i(t){return"".concat(e).concat(t.slice(0,1).toUpperCase()).concat(t.slice(1))}const{unitless:o={},injectStyle:s=!0}=null!==r&&void 0!==r?r:{},a={[i("zIndexPopup")]:!0};Object.keys(o).forEach((e=>{a[i(e)]=o[e]}));const c=t=>{let{rootCls:o,cssVar:s}=t;const[,c]=OG();return vW({path:[e],prefix:s.prefix,key:null===s||void 0===s?void 0:s.key,unitless:Object.assign(Object.assign({},SG),a),ignore:kG,token:c,scope:o},(()=>{const t=wK(e,c,n),o=_K(e,c,t,{deprecatedTokens:null===r||void 0===r?void 0:r.deprecatedTokens});return Object.keys(t).forEach((e=>{o[i(e)]=o[e],delete o[e]})),o})),null};return n=>{const[,,,,r]=OG();return[i=>s&&r?t.createElement(t.Fragment,null,t.createElement(c,{rootCls:n,cssVar:r,component:e}),i):i,null===r||void 0===r?void 0:r.key]}})(Array.isArray(e)?e[0]:e,r,i);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const[,n]=o(e,t),[r,i]=s(t);return[r,n,i]}},SK=e=>{const{componentCls:t}=e,n="".concat(t,"-show-help"),r="".concat(t,"-show-help-item");return{[n]:{transition:"opacity ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut),"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:"height ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut,",\n                     opacity ").concat(e.motionDurationSlow," ").concat(e.motionEaseInOut,",\n                     transform ").concat(e.motionDurationSlow," ").concat(e.motionEaseInOut," !important"),["&".concat(r,"-appear, &").concat(r,"-enter")]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},["&".concat(r,"-leave-active")]:{transform:"translateY(-5px)"}}}}},kK=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:"".concat(Wq(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:"0 0 0 ".concat(Wq(e.controlOutlineWidth)," ").concat(e.controlOutline)},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),TK=(e,t)=>{const{formItemCls:n}=e;return{[n]:{["".concat(n,"-label > label")]:{height:t},["".concat(n,"-control-input")]:{minHeight:t}}}},IK=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},PG(e)),kK(e)),{["".concat(t,"-text")]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},TK(e,e.controlHeightSM)),"&-large":Object.assign({},TK(e,e.controlHeightLG))})}},OK=e=>{const{formItemCls:t,iconCls:n,componentCls:r,rootPrefixCls:i,labelRequiredMarkColor:o,labelColor:s,labelFontSize:a,labelHeight:c,labelColonMarginInlineStart:l,labelColonMarginInlineEnd:u,itemMarginBottom:d}=e;return{[t]:Object.assign(Object.assign({},PG(e)),{marginBottom:d,verticalAlign:"top","&-with-help":{transition:"none"},["&-hidden,\n        &-hidden.".concat(i,"-row")]:{display:"none"},"&-has-warning":{["".concat(t,"-split")]:{color:e.colorError}},"&-has-error":{["".concat(t,"-split")]:{color:e.colorWarning}},["".concat(t,"-label")]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:c,color:s,fontSize:a,["> ".concat(n)]:{fontSize:e.fontSize,verticalAlign:"top"},["&".concat(t,"-required:not(").concat(t,"-required-mark-optional)::before")]:{display:"inline-block",marginInlineEnd:e.marginXXS,color:o,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',["".concat(r,"-hide-required-mark &")]:{display:"none"}},["".concat(t,"-optional")]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,["".concat(r,"-hide-required-mark &")]:{display:"none"}},["".concat(t,"-tooltip")]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:l,marginInlineEnd:u},["&".concat(t,"-no-colon::after")]:{content:'"\\a0"'}}},["".concat(t,"-control")]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,["&:first-child:not([class^=\"'".concat(i,"-col-'\"]):not([class*=\"' ").concat(i,"-col-'\"])")]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[t]:{"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:"color ".concat(e.motionDurationMid," ").concat(e.motionEaseOut)},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},["&-with-help ".concat(t,"-explain")]:{height:"auto",opacity:1},["".concat(t,"-feedback-icon")]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:UG,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},NK=e=>{const{componentCls:t,formItemCls:n}=e;return{["".concat(t,"-horizontal")]:{["".concat(n,"-label")]:{flexGrow:0},["".concat(n,"-control")]:{flex:"1 1 0",minWidth:0},["".concat(n,"-label[class$='-24'], ").concat(n,"-label[class*='-24 ']")]:{["& + ".concat(n,"-control")]:{minWidth:"unset"}}}}},RK=e=>{const{componentCls:t,formItemCls:n}=e;return{["".concat(t,"-inline")]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:e.margin,marginBottom:0,"&-row":{flexWrap:"nowrap"},["> ".concat(n,"-label,\n        > ").concat(n,"-control")]:{display:"inline-block",verticalAlign:"top"},["> ".concat(n,"-label")]:{flex:"none"},["".concat(t,"-text")]:{display:"inline-block"},["".concat(n,"-has-feedback")]:{display:"inline-block"}}}}},PK=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),AK=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{["".concat(n," ").concat(n,"-label")]:PK(e),["".concat(t,":not(").concat(t,"-inline)")]:{[n]:{flexWrap:"wrap",["".concat(n,"-label, ").concat(n,"-control")]:{['&:not([class*=" '.concat(r,'-col-xs"])')]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},DK=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{["".concat(t,"-vertical")]:{[n]:{"&-row":{flexDirection:"column"},"&-label > label":{height:"auto"},["".concat(t,"-item-control")]:{width:"100%"}}},["".concat(t,"-vertical ").concat(n,"-label,\n      .").concat(r,"-col-24").concat(n,"-label,\n      .").concat(r,"-col-xl-24").concat(n,"-label")]:PK(e),["@media (max-width: ".concat(Wq(e.screenXSMax),")")]:[AK(e),{[t]:{[".".concat(r,"-col-xs-24").concat(n,"-label")]:PK(e)}}],["@media (max-width: ".concat(Wq(e.screenSMMax),")")]:{[t]:{[".".concat(r,"-col-sm-24").concat(n,"-label")]:PK(e)}},["@media (max-width: ".concat(Wq(e.screenMDMax),")")]:{[t]:{[".".concat(r,"-col-md-24").concat(n,"-label")]:PK(e)}},["@media (max-width: ".concat(Wq(e.screenLGMax),")")]:{[t]:{[".".concat(r,"-col-lg-24").concat(n,"-label")]:PK(e)}}}},MK=(e,t)=>rK(e,{formItemCls:"".concat(e.componentCls,"-item"),rootPrefixCls:t}),LK=xK("Form",((e,t)=>{let{rootPrefixCls:n}=t;const r=MK(e,n);return[IK(r),OK(r),SK(r),NK(r),RK(r),DK(r),eK(r),UG]}),(e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:"0 0 ".concat(e.paddingXS,"px"),verticalLabelMargin:0})),{order:-1e3}),FK=[];function jK(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"===typeof e?e:"".concat(t,"-").concat(r),error:e,errorStatus:n}}const BK=e=>{let{help:n,helpStatus:r,errors:i=FK,warnings:o=FK,className:s,fieldId:a,onVisibleChanged:c}=e;const{prefixCls:l}=t.useContext(Jz),u="".concat(l,"-item-explain"),d=NG(l),[h,f,p]=LK(l,d),m=(0,t.useMemo)((()=>hq(l)),[l]),g=RG(i),v=RG(o),y=t.useMemo((()=>void 0!==n&&null!==n?[jK(n,"help",r)]:[].concat(rU(g.map(((e,t)=>jK(e,"error","error",t)))),rU(v.map(((e,t)=>jK(e,"warning","warning",t)))))),[n,r,g,v]),b={};return a&&(b.id="".concat(a,"_help")),h(t.createElement(sq,{motionDeadline:m.motionDeadline,motionName:"".concat(l,"-show-help"),visible:!!y.length,onVisibleChanged:c},(e=>{const{className:n,style:r}=e;return t.createElement("div",Object.assign({},b,{className:Rn()(u,n,p,d,s,f),style:r,role:"alert"}),t.createElement(oq,Object.assign({keys:y},hq(l),{motionName:"".concat(l,"-show-help-item"),component:!1}),(e=>{const{key:n,error:r,errorStatus:i,className:o,style:s}=e;return t.createElement("div",{key:n,className:Rn()(o,{["".concat(u,"-").concat(i)]:i}),style:s},r)})))})))},UK=t.createContext(!1),zK=e=>{let{children:n,disabled:r}=e;const i=t.useContext(UK);return t.createElement(UK.Provider,{value:null!==r&&void 0!==r?r:i},n)},VK=UK,qK=t.createContext(void 0),HK=qK,WK=e=>{const n=t.useContext(HK);return t.useMemo((()=>e?"string"===typeof e?null!==e&&void 0!==e?e:n:e instanceof Function?e(n):n:n),[e,n])},GK=e=>"object"==typeof e&&null!=e&&1===e.nodeType,KK=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,QK=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return KK(n.overflowY,t)||KK(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},XK=(e,t,n,r,i,o,s,a)=>o<e&&s>t||o>e&&s<t?0:o<=e&&a<=n||s>=t&&a>=n?o-e-r:s>t&&a<n||o<e&&a>n?s-t+i:0,$K=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},YK=(e,t)=>{var n,r,i,o;if("undefined"==typeof document)return[];const{scrollMode:s,block:a,inline:c,boundary:l,skipOverflowHiddenElements:u}=t,d="function"==typeof l?l:e=>e!==l;if(!GK(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,f=[];let p=e;for(;GK(p)&&d(p);){if(p=$K(p),p===h){f.push(p);break}null!=p&&p===document.body&&QK(p)&&!QK(document.documentElement)||null!=p&&QK(p,u)&&f.push(p)}const m=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,g=null!=(o=null==(i=window.visualViewport)?void 0:i.height)?o:innerHeight,{scrollX:v,scrollY:y}=window,{height:b,width:w,top:_,right:E,bottom:C,left:x}=e.getBoundingClientRect(),{top:S,right:k,bottom:T,left:I}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let O="start"===a||"nearest"===a?_-S:"end"===a?C+T:_+b/2-S+T,N="center"===c?x+w/2-I+k:"end"===c?E+k:x-I;const R=[];for(let P=0;P<f.length;P++){const e=f[P],{height:t,width:n,top:r,right:i,bottom:o,left:l}=e.getBoundingClientRect();if("if-needed"===s&&_>=0&&x>=0&&C<=g&&E<=m&&_>=r&&C<=o&&x>=l&&E<=i)return R;const u=getComputedStyle(e),d=parseInt(u.borderLeftWidth,10),p=parseInt(u.borderTopWidth,10),S=parseInt(u.borderRightWidth,10),k=parseInt(u.borderBottomWidth,10);let T=0,I=0;const A="offsetWidth"in e?e.offsetWidth-e.clientWidth-d-S:0,D="offsetHeight"in e?e.offsetHeight-e.clientHeight-p-k:0,M="offsetWidth"in e?0===e.offsetWidth?0:n/e.offsetWidth:0,L="offsetHeight"in e?0===e.offsetHeight?0:t/e.offsetHeight:0;if(h===e)T="start"===a?O:"end"===a?O-g:"nearest"===a?XK(y,y+g,g,p,k,y+O,y+O+b,b):O-g/2,I="start"===c?N:"center"===c?N-m/2:"end"===c?N-m:XK(v,v+m,m,d,S,v+N,v+N+w,w),T=Math.max(0,T+y),I=Math.max(0,I+v);else{T="start"===a?O-r-p:"end"===a?O-o+k+D:"nearest"===a?XK(r,o,t,p,k+D,O,O+b,b):O-(r+t/2)+D/2,I="start"===c?N-l-d:"center"===c?N-(l+n/2)+A/2:"end"===c?N-i+S+A:XK(l,i,n,d,S+A,N,N+w,w);const{scrollLeft:s,scrollTop:u}=e;T=0===L?0:Math.max(0,Math.min(u+T/L,e.scrollHeight-t/L+D)),I=0===M?0:Math.max(0,Math.min(s+I/M,e.scrollWidth-n/M+A)),O+=u-T,N+=s-I}R.push({el:e,top:T,left:I})}return R},JK=e=>!1===e?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&0!==Object.keys(e).length)(e)?e:{block:"start",inline:"nearest"};const ZK=["parentNode"],eQ="form_item";function tQ(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function nQ(e,t){if(!e.length)return;const n=e.join("_");if(t)return"".concat(t,"_").concat(n);return ZK.includes(n)?"".concat(eQ,"_").concat(n):n}function rQ(e,t,n,r,i,o){let s=r;return void 0!==o?s=o:n.validating?s="validating":e.length?s="error":t.length?s="warning":(n.touched||i&&n.validated)&&(s="success"),s}function iQ(e){return tQ(e).join("_")}function oQ(e){const[n]=Fz(),r=t.useRef({}),i=t.useMemo((()=>null!==e&&void 0!==e?e:Object.assign(Object.assign({},n),{__INTERNAL__:{itemRef:e=>t=>{const n=iQ(e);t?r.current[n]=t:delete r.current[n]}},scrollToField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=nQ(tQ(e),i.__INTERNAL__.name),r=n?document.getElementById(n):null;r&&function(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const n=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if((e=>"object"==typeof e&&"function"==typeof e.behavior)(t))return t.behavior(YK(e,t));const r="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:i,top:o,left:s}of YK(e,JK(t))){const e=o-n.top+n.bottom,t=s-n.left+n.right;i.scroll({top:e,left:t,behavior:r})}}(r,Object.assign({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:e=>{const t=iQ(e);return r.current[t]}})),[e,n]);return[i]}const sQ=(0,t.createContext)(void 0);var aQ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const cQ=(e,n)=>{const r=t.useContext(VK),{getPrefixCls:i,direction:o,form:s}=t.useContext(uK),{prefixCls:a,className:c,rootClassName:l,size:u,disabled:d=r,form:h,colon:f,labelAlign:p,labelWrap:m,labelCol:g,wrapperCol:v,hideRequiredMark:y,layout:b="horizontal",scrollToFirstError:w,requiredMark:_,onFinishFailed:E,name:C,style:x,feedbackIcons:S,variant:k}=e,T=aQ(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),I=WK(u),O=t.useContext(sQ);const N=(0,t.useMemo)((()=>void 0!==_?_:!y&&(!s||void 0===s.requiredMark||s.requiredMark)),[y,_,s]),R=null!==f&&void 0!==f?f:null===s||void 0===s?void 0:s.colon,P=i("form",a),A=NG(P),[D,M,L]=LK(P,A),F=Rn()(P,"".concat(P,"-").concat(b),{["".concat(P,"-hide-required-mark")]:!1===N,["".concat(P,"-rtl")]:"rtl"===o,["".concat(P,"-").concat(I)]:I},L,A,M,null===s||void 0===s?void 0:s.className,c,l),[j]=oQ(h),{__INTERNAL__:B}=j;B.name=C;const U=(0,t.useMemo)((()=>({name:C,labelAlign:p,labelCol:g,labelWrap:m,wrapperCol:v,vertical:"vertical"===b,colon:R,requiredMark:N,itemRef:B.itemRef,form:j,feedbackIcons:S})),[C,p,g,v,b,R,N,j,S]);t.useImperativeHandle(n,(()=>j));const z=(e,t)=>{if(e){let n={block:"nearest"};"object"===typeof e&&(n=e),j.scrollToField(t,n)}};return D(t.createElement(tV.Provider,{value:k},t.createElement(zK,{disabled:d},t.createElement(HK.Provider,{value:I},t.createElement(Yz,{validateMessages:O},t.createElement(Xz.Provider,{value:U},t.createElement(Kz,Object.assign({id:C},T,{name:C,onFinishFailed:e=>{if(null===E||void 0===E||E(e),e.errorFields.length){const t=e.errorFields[0].name;if(void 0!==w)return void z(w,t);s&&void 0!==s.scrollToFirstError&&z(s.scrollToFirstError,t)}},form:j,style:Object.assign(Object.assign({},null===s||void 0===s?void 0:s.style),x),className:F}))))))))};const lQ=t.forwardRef(cQ);function uQ(e){return e&&t.isValidElement(e)&&e.type===t.Fragment}const dQ=(e,n,r)=>t.isValidElement(e)?t.cloneElement(e,"function"===typeof r?r(e.props||{}):r):n;function hQ(e,t){return dQ(e,e,t)}function fQ(){}const pQ=()=>{const e=()=>{};return e.deprecated=fQ,e};const mQ=()=>{const{status:e,errors:n=[],warnings:r=[]}=(0,t.useContext)(Zz);return{status:e,errors:n,warnings:r}};mQ.Context=Zz;const gQ=mQ;const vQ=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,s=i.height;if(o||s)return!0}}return!1},yQ=["xxl","xl","lg","md","sm","xs"];function bQ(){const[,e]=OG(),n=(e=>({xs:"(max-width: ".concat(e.screenXSMax,"px)"),sm:"(min-width: ".concat(e.screenSM,"px)"),md:"(min-width: ".concat(e.screenMD,"px)"),lg:"(min-width: ".concat(e.screenLG,"px)"),xl:"(min-width: ".concat(e.screenXL,"px)"),xxl:"(min-width: ".concat(e.screenXXL,"px)")}))((e=>{const t=e,n=[].concat(yQ).reverse();return n.forEach(((e,r)=>{const i=e.toUpperCase(),o="screen".concat(i,"Min"),s="screen".concat(i);if(!(t[o]<=t[s]))throw new Error("".concat(o,"<=").concat(s," fails : !(").concat(t[o],"<=").concat(t[s],")"));if(r<n.length-1){const e="screen".concat(i,"Max");if(!(t[s]<=t[e]))throw new Error("".concat(s,"<=").concat(e," fails : !(").concat(t[s],"<=").concat(t[e],")"));const o=n[r+1].toUpperCase(),a="screen".concat(o,"Min");if(!(t[e]<=t[a]))throw new Error("".concat(e,"<=").concat(a," fails : !(").concat(t[e],"<=").concat(t[a],")"))}})),e})(e));return t.useMemo((()=>{const e=new Map;let t=-1,r={};return{matchHandlers:{},dispatch:t=>(r=t,e.forEach((e=>e(r))),e.size>=1),subscribe(n){return e.size||this.register(),t+=1,e.set(t,n),n(r),t},unsubscribe(t){e.delete(t),e.size||this.unregister()},unregister(){Object.keys(n).forEach((e=>{const t=n[e],r=this.matchHandlers[t];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),e.clear()},register(){Object.keys(n).forEach((e=>{const t=n[e],i=t=>{let{matches:n}=t;this.dispatch(Object.assign(Object.assign({},r),{[e]:n}))},o=window.matchMedia(t);o.addListener(i),this.matchHandlers[t]={mql:o,listener:i},i(o)}))},responsiveMap:n}}),[e])}const wQ=(0,t.createContext)({}),_Q=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},EQ=(e,t)=>((e,t)=>{const{prefixCls:n,componentCls:r,gridColumns:i}=e,o={};for(let s=i;s>=0;s--)0===s?(o["".concat(r).concat(t,"-").concat(s)]={display:"none"},o["".concat(r,"-push-").concat(s)]={insetInlineStart:"auto"},o["".concat(r,"-pull-").concat(s)]={insetInlineEnd:"auto"},o["".concat(r).concat(t,"-push-").concat(s)]={insetInlineStart:"auto"},o["".concat(r).concat(t,"-pull-").concat(s)]={insetInlineEnd:"auto"},o["".concat(r).concat(t,"-offset-").concat(s)]={marginInlineStart:0},o["".concat(r).concat(t,"-order-").concat(s)]={order:0}):(o["".concat(r).concat(t,"-").concat(s)]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:"0 0 ".concat(s/i*100,"%"),maxWidth:"".concat(s/i*100,"%")}],o["".concat(r).concat(t,"-push-").concat(s)]={insetInlineStart:"".concat(s/i*100,"%")},o["".concat(r).concat(t,"-pull-").concat(s)]={insetInlineEnd:"".concat(s/i*100,"%")},o["".concat(r).concat(t,"-offset-").concat(s)]={marginInlineStart:"".concat(s/i*100,"%")},o["".concat(r).concat(t,"-order-").concat(s)]={order:s});return o["".concat(r).concat(t,"-flex")]={flex:"var(--".concat(n).concat(t,"-flex)")},o})(e,t),CQ=xK("Grid",(e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}}),(()=>({}))),xQ=xK("Grid",(e=>{const t=rK(e,{gridColumns:24}),n={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[_Q(t),EQ(t,""),EQ(t,"-xs"),Object.keys(n).map((e=>((e,t,n)=>({["@media (min-width: ".concat(Wq(t),")")]:Object.assign({},EQ(e,n))}))(t,n[e],e))).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})]}),(()=>({})));var SQ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function kQ(e,n){const[r,i]=t.useState("string"===typeof e?e:"");return t.useEffect((()=>{(()=>{if("string"===typeof e&&i(e),"object"===typeof e)for(let t=0;t<yQ.length;t++){const r=yQ[t];if(!n[r])continue;const o=e[r];if(void 0!==o)return void i(o)}})()}),[JSON.stringify(e),n]),r}const TQ=t.forwardRef(((e,n)=>{const{prefixCls:r,justify:i,align:o,className:s,style:a,children:c,gutter:l=0,wrap:u}=e,d=SQ(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:h,direction:f}=t.useContext(uK),[p,m]=t.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[g,v]=t.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),y=kQ(o,g),b=kQ(i,g),w=t.useRef(l),_=bQ();t.useEffect((()=>{const e=_.subscribe((e=>{v(e);const t=w.current||0;(!Array.isArray(t)&&"object"===typeof t||Array.isArray(t)&&("object"===typeof t[0]||"object"===typeof t[1]))&&m(e)}));return()=>_.unsubscribe(e)}),[]);const E=h("row",r),[C,x,S]=CQ(E),k=(()=>{const e=[void 0,void 0];return(Array.isArray(l)?l:[l,void 0]).forEach(((t,n)=>{if("object"===typeof t)for(let r=0;r<yQ.length;r++){const i=yQ[r];if(p[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t})),e})(),T=Rn()(E,{["".concat(E,"-no-wrap")]:!1===u,["".concat(E,"-").concat(b)]:b,["".concat(E,"-").concat(y)]:y,["".concat(E,"-rtl")]:"rtl"===f},s,x,S),I={},O=null!=k[0]&&k[0]>0?k[0]/-2:void 0;O&&(I.marginLeft=O,I.marginRight=O);const[N,R]=k;I.rowGap=R;const P=t.useMemo((()=>({gutter:[N,R],wrap:u})),[N,R,u]);return C(t.createElement(wQ.Provider,{value:P},t.createElement("div",Object.assign({},d,{className:T,style:Object.assign(Object.assign({},I),a),ref:n}),c)))}));const IQ=TQ;var OQ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function NQ(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}const RQ=["xs","sm","md","lg","xl","xxl"],PQ=t.forwardRef(((e,n)=>{const{getPrefixCls:r,direction:i}=t.useContext(uK),{gutter:o,wrap:s}=t.useContext(wQ),{prefixCls:a,span:c,order:l,offset:u,push:d,pull:h,className:f,children:p,flex:m,style:g}=e,v=OQ(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),y=r("col",a),[b,w,_]=xQ(y),E={};let C={};RQ.forEach((t=>{let n={};const r=e[t];"number"===typeof r?n.span=r:"object"===typeof r&&(n=r||{}),delete v[t],C=Object.assign(Object.assign({},C),{["".concat(y,"-").concat(t,"-").concat(n.span)]:void 0!==n.span,["".concat(y,"-").concat(t,"-order-").concat(n.order)]:n.order||0===n.order,["".concat(y,"-").concat(t,"-offset-").concat(n.offset)]:n.offset||0===n.offset,["".concat(y,"-").concat(t,"-push-").concat(n.push)]:n.push||0===n.push,["".concat(y,"-").concat(t,"-pull-").concat(n.pull)]:n.pull||0===n.pull,["".concat(y,"-rtl")]:"rtl"===i}),n.flex&&(C["".concat(y,"-").concat(t,"-flex")]=!0,E["--".concat(y,"-").concat(t,"-flex")]=NQ(n.flex))}));const x=Rn()(y,{["".concat(y,"-").concat(c)]:void 0!==c,["".concat(y,"-order-").concat(l)]:l,["".concat(y,"-offset-").concat(u)]:u,["".concat(y,"-push-").concat(d)]:d,["".concat(y,"-pull-").concat(h)]:h},f,C,w,_),S={};if(o&&o[0]>0){const e=o[0]/2;S.paddingLeft=e,S.paddingRight=e}return m&&(S.flex=NQ(m),!1!==s||S.minWidth||(S.minWidth=0)),b(t.createElement("div",Object.assign({},v,{style:Object.assign(Object.assign(Object.assign({},S),g),E),className:x,ref:n}),p))}));const AQ=PQ,DQ=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{["".concat(t,"-control")]:{display:"flex"}}}},MQ=CK(["Form","item-item"],((e,t)=>{let{rootPrefixCls:n}=t;const r=MK(e,n);return[DQ(r)]})),LQ=e=>{const{prefixCls:n,status:r,wrapperCol:i,children:o,errors:s,warnings:a,_internalItemRender:c,extra:l,help:u,fieldId:d,marginBottom:h,onErrorVisibleChanged:f}=e,p="".concat(n,"-item"),m=t.useContext(Xz),g=i||m.wrapperCol||{},v=Rn()("".concat(p,"-control"),g.className),y=t.useMemo((()=>Object.assign({},m)),[m]);delete y.labelCol,delete y.wrapperCol;const b=t.createElement("div",{className:"".concat(p,"-control-input")},t.createElement("div",{className:"".concat(p,"-control-input-content")},o)),w=t.useMemo((()=>({prefixCls:n,status:r})),[n,r]),_=null!==h||s.length||a.length?t.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},t.createElement(Jz.Provider,{value:w},t.createElement(BK,{fieldId:d,errors:s,warnings:a,help:u,helpStatus:r,className:"".concat(p,"-explain-connected"),onVisibleChanged:f})),!!h&&t.createElement("div",{style:{width:0,height:h}})):null,E={};d&&(E.id="".concat(d,"_extra"));const C=l?t.createElement("div",Object.assign({},E,{className:"".concat(p,"-extra")}),l):null,x=c&&"pro_table_render"===c.mark&&c.render?c.render(e,{input:b,errorList:_,extra:C}):t.createElement(t.Fragment,null,b,_,C);return t.createElement(Xz.Provider,{value:y},t.createElement(AQ,Object.assign({},g,{className:v}),x),t.createElement(MQ,{prefixCls:n}))};const FQ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};const jQ=(0,t.createContext)({});function BQ(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function UQ(e){return function(e){return BQ(e)instanceof ShadowRoot}(e)?BQ(e):null}function zQ(e){return"object"===GB(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===GB(e.icon)||"function"===typeof e.icon)}function VQ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else delete t[n],t[function(e){return e.replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}(n)]=r;return t}),{})}function qQ(e,n,r){return r?t.createElement(e.tag,ZB(ZB({key:n},VQ(e.attrs)),r),(e.children||[]).map((function(t,r){return qQ(t,"".concat(n,"-").concat(e.tag,"-").concat(r))}))):t.createElement(e.tag,ZB({key:n},VQ(e.attrs)),(e.children||[]).map((function(t,r){return qQ(t,"".concat(n,"-").concat(e.tag,"-").concat(r))})))}function HQ(e){return tG(e)[0]}function WQ(e){return e?Array.isArray(e)?e:[e]:[]}var GQ=["icon","className","onClick","style","primaryColor","secondaryColor"],KQ={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var QQ=function(e){var n,r,i=e.icon,o=e.className,s=e.onClick,a=e.style,c=e.primaryColor,l=e.secondaryColor,u=WB(e,GQ),d=t.useRef(),h=KQ;if(c&&(h={primaryColor:c,secondaryColor:l||HQ(c)}),function(e){var n=(0,t.useContext)(jQ),r=n.csp,i=n.prefixCls,o="\n.anticon {\n  display: inline-flex;\n  alignItems: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";i&&(o=o.replace(/anticon/g,i)),(0,t.useEffect)((function(){var t=UQ(e.current);xq(o,"@ant-design-icons",{prepend:!0,csp:r,attachTo:t})}),[])}(d),n=zQ(i),r="icon should be icon definiton, but got ".concat(i),_U(n,"[@ant-design/icons] ".concat(r)),!zQ(i))return null;var f=i;return f&&"function"===typeof f.icon&&(f=ZB(ZB({},f),{},{icon:f.icon(h.primaryColor,h.secondaryColor)})),qQ(f.icon,"svg-".concat(f.name),ZB(ZB({className:o,onClick:s,style:a,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:d}))};QQ.displayName="IconReact",QQ.getTwoToneColors=function(){return ZB({},KQ)},QQ.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;KQ.primaryColor=t,KQ.secondaryColor=n||HQ(t),KQ.calculated=!!n};const XQ=QQ;function $Q(e){var t=Nz(WQ(e),2),n=t[0],r=t[1];return XQ.setTwoToneColors({primaryColor:n,secondaryColor:r})}var YQ=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];$Q(oG.primary);var JQ=t.forwardRef((function(e,n){var r=e.className,i=e.icon,o=e.spin,s=e.rotate,a=e.tabIndex,c=e.onClick,l=e.twoToneColor,u=WB(e,YQ),d=t.useContext(jQ),h=d.prefixCls,p=void 0===h?"anticon":h,m=d.rootClassName,g=Rn()(m,p,YB(YB({},"".concat(p,"-").concat(i.name),!!i.name),"".concat(p,"-spin"),!!o||"loading"===i.name),r),v=a;void 0===v&&c&&(v=-1);var y=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,b=Nz(WQ(l),2),w=b[0],_=b[1];return t.createElement("span",f({role:"img","aria-label":i.name},u,{ref:n,tabIndex:v,onClick:c,className:g}),t.createElement(XQ,{icon:i,primaryColor:w,secondaryColor:_,style:y}))}));JQ.displayName="AntdIcon",JQ.getTwoToneColor=function(){var e=XQ.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},JQ.setTwoToneColor=$Q;const ZQ=JQ;var eX=function(e,n){return t.createElement(ZQ,f({},e,{ref:n,icon:FQ}))};const tX=t.forwardRef(eX),nX=(0,t.createContext)(void 0);const rX={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};const iX={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},oX={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},sX={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},iX),timePickerLocale:Object.assign({},oX)},aX="${label} is not a valid ${type}",cX={locale:"en",Pagination:rX,DatePicker:sX,TimePicker:oX,Calendar:sX,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:aX,method:aX,array:aX,object:aX,number:aX,date:aX,boolean:aX,integer:aX,float:aX,regexp:aX,email:aX,url:aX,hex:aX},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty"}},lX=(e,n)=>{const r=t.useContext(nX),i=t.useMemo((()=>{var t;const i=n||cX[e],o=null!==(t=null===r||void 0===r?void 0:r[e])&&void 0!==t?t:{};return Object.assign(Object.assign({},"function"===typeof i?i():i),o||{})}),[e,n,r]);return[i,t.useMemo((()=>{const e=null===r||void 0===r?void 0:r.locale;return(null===r||void 0===r?void 0:r.exist)&&!e?cX.locale:e}),[r])]};function uX(e){var n=e.children,r=e.prefixCls,i=e.id,o=e.overlayInnerStyle,s=e.className,a=e.style;return t.createElement("div",{className:Rn()("".concat(r,"-content"),s),style:a},t.createElement("div",{className:"".concat(r,"-inner"),id:i,role:"tooltip",style:o},"function"===typeof n?n():n))}const dX=t.createContext(null);var hX=[];function fX(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,i,o=n.style;if(o.position="absolute",o.left="0",o.top="0",o.width="100px",o.height="100px",o.overflow="scroll",e){var s=getComputedStyle(e);o.scrollbarColor=s.scrollbarColor,o.scrollbarWidth=s.scrollbarWidth;var a=getComputedStyle(e,"::-webkit-scrollbar"),c=parseInt(a.width,10),l=parseInt(a.height,10);try{var u=c?"width: ".concat(a.width,";"):"",d=l?"height: ".concat(a.height,";"):"";xq("\n#".concat(t,"::-webkit-scrollbar {\n").concat(u,"\n").concat(d,"\n}"),t)}catch(KK){console.error(KK),r=c,i=l}}document.body.appendChild(n);var h=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,f=e&&i&&!isNaN(i)?i:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),Cq(t),{width:h,height:f}}var pX="rc-util-locker-".concat(Date.now()),mX=0;function gX(e){var n=!!e,r=Nz(t.useState((function(){return mX+=1,"".concat(pX,"_").concat(mX)})),1)[0];Zq((function(){if(n){var e=(i=document.body,"undefined"!==typeof document&&i&&i instanceof Element?fX(i):{width:0,height:0}).width,t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;xq("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(e,"px);"):"","\n}"),r)}else Cq(r);var i;return function(){Cq(r)}}),[n,r])}var vX=!1;var yX=function(e){return!1!==e&&(_V()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)},bX=t.forwardRef((function(e,n){var r=e.open,o=e.autoLock,s=e.getContainer,a=(e.debug,e.autoDestroy),c=void 0===a||a,l=e.children,u=Nz(t.useState(r),2),d=u[0],h=u[1],f=d||r;t.useEffect((function(){(c||r)&&h(r)}),[r,c]);var p=Nz(t.useState((function(){return yX(s)})),2),m=p[0],g=p[1];t.useEffect((function(){var e=yX(s);g(null!==e&&void 0!==e?e:null)}));var v=function(e,n){var r=Nz(t.useState((function(){return _V()?document.createElement("div"):null})),1)[0],i=t.useRef(!1),o=t.useContext(dX),s=Nz(t.useState(hX),2),a=s[0],c=s[1],l=o||(i.current?void 0:function(e){c((function(t){return[e].concat(rU(t))}))});function u(){r.parentElement||document.body.appendChild(r),i.current=!0}function d(){var e;null===(e=r.parentElement)||void 0===e||e.removeChild(r),i.current=!1}return Zq((function(){return e?o?o(u):u():d(),d}),[e]),Zq((function(){a.length&&(a.forEach((function(e){return e()})),c(hX))}),[a]),[r,l]}(f&&!m),y=Nz(v,2),b=y[0],w=y[1],_=null!==m&&void 0!==m?m:b;gX(o&&r&&_V()&&(_===b||_===document.body));var E=null;l&&aV(l)&&n&&(E=l.ref);var C=sV(E,n);if(!f||!_V()||void 0===m)return null;var x,S=!1===_||("boolean"===typeof x&&(vX=x),vX),k=l;return n&&(k=t.cloneElement(l,{ref:C})),t.createElement(dX.Provider,{value:w},S?k:(0,i.createPortal)(k,_))}));const wX=bX;var _X=t.createContext(null);var EX=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),CX="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,xX="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),SX="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(xX):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var kX=["top","right","bottom","left","width","height","size","weight"],TX="undefined"!==typeof MutationObserver,IX=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&a()}function s(){SX(o)}function a(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return a}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){CX&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),TX?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){CX&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=kX.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),OX=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},NX=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||xX},RX=FX(0,0,0,0);function PX(e){return parseFloat(e)||0}function AX(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+PX(e["border-"+n+"-width"])}),0)}function DX(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return RX;var r=NX(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=PX(o)}return t}(r),o=i.left+i.right,s=i.top+i.bottom,a=PX(r.width),c=PX(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==t&&(a-=AX(r,"left","right")+o),Math.round(c+s)!==n&&(c-=AX(r,"top","bottom")+s)),!function(e){return e===NX(e).document.documentElement}(e)){var l=Math.round(a+o)-t,u=Math.round(c+s)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(u)&&(c-=u)}return FX(i.left,i.top,a,c)}var MX="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof NX(e).SVGGraphicsElement}:function(e){return e instanceof NX(e).SVGElement&&"function"===typeof e.getBBox};function LX(e){return CX?MX(e)?function(e){var t=e.getBBox();return FX(0,0,t.width,t.height)}(e):DX(e):RX}function FX(e,t,n,r){return{x:e,y:t,width:n,height:r}}var jX=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=FX(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=LX(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),BX=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return OX(s,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),s}(t);OX(this,{target:e,contentRect:n})},UX=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new EX,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof NX(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new jX(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof NX(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new BX(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),zX="undefined"!==typeof WeakMap?new WeakMap:new EX,VX=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=IX.getInstance(),r=new UX(t,n,this);zX.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){VX.prototype[e]=function(){var t;return(t=zX.get(this))[e].apply(t,arguments)}}));const qX="undefined"!==typeof xX.ResizeObserver?xX.ResizeObserver:VX;var HX=new Map;var WX=new qX((function(e){e.forEach((function(e){var t,n=e.target;null===(t=HX.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var GX=function(e){cU(n,e);var t=hU(n);function n(){return iU(this,n),t.apply(this,arguments)}return sU(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component);function KX(e,n){var r=e.children,i=e.disabled,o=t.useRef(null),s=t.useRef(null),a=t.useContext(_X),c="function"===typeof r,l=c?r(o):r,u=t.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!c&&t.isValidElement(l)&&aV(l),h=sV(d?l.ref:null,o),f=function(){var e;return rV(o.current)||(o.current&&"object"===GB(o.current)?rV(null===(e=o.current)||void 0===e?void 0:e.nativeElement):null)||rV(s.current)};t.useImperativeHandle(n,(function(){return f()}));var p=t.useRef(e);p.current=e;var m=t.useCallback((function(e){var t=p.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),o=i.width,s=i.height,c=e.offsetWidth,l=e.offsetHeight,d=Math.floor(o),h=Math.floor(s);if(u.current.width!==d||u.current.height!==h||u.current.offsetWidth!==c||u.current.offsetHeight!==l){var f={width:d,height:h,offsetWidth:c,offsetHeight:l};u.current=f;var m=c===Math.round(o)?o:c,g=l===Math.round(s)?s:l,v=ZB(ZB({},f),{},{offsetWidth:m,offsetHeight:g});null===a||void 0===a||a(v,e,r),n&&Promise.resolve().then((function(){n(v,e)}))}}),[]);return t.useEffect((function(){var e=f();return e&&!i&&function(e,t){HX.has(e)||(HX.set(e,new Set),WX.observe(e)),HX.get(e).add(t)}(e,m),function(){return function(e,t){HX.has(e)&&(HX.get(e).delete(t),HX.get(e).size||(WX.unobserve(e),HX.delete(e)))}(e,m)}}),[o.current,i]),t.createElement(GX,{ref:s},d?t.cloneElement(l,{ref:h}):l)}const QX=t.forwardRef(KX);function XX(e,n){var r=e.children;return("function"===typeof r?[r]:pU(r)).map((function(r,i){var o=(null===r||void 0===r?void 0:r.key)||"".concat("rc-observer-key","-").concat(i);return t.createElement(QX,f({},e,{key:o,ref:0===i?n:void 0}),r)}))}var $X=t.forwardRef(XX);$X.Collection=function(e){var n=e.children,r=e.onBatchResize,i=t.useRef(0),o=t.useRef([]),s=t.useContext(_X),a=t.useCallback((function(e,t,n){i.current+=1;var a=i.current;o.current.push({size:e,element:t,data:n}),Promise.resolve().then((function(){a===i.current&&(null===r||void 0===r||r(o.current),o.current=[])})),null===s||void 0===s||s(e,t,n)}),[r,s]);return t.createElement(_X.Provider,{value:a},n)};const YX=$X;var JX=0;var ZX=ZB({},r).useId;const e$=ZX?function(e){var t=ZX();return e||t}:function(e){var n=Nz(t.useState("ssr-id"),2),r=n[0],i=n[1];return t.useEffect((function(){var e=JX;JX+=1,i("rc_unique_".concat(e))}),[]),e||r};function t$(e){var n=e.prefixCls,r=e.align,i=e.arrow,o=e.arrowPos,s=i||{},a=s.className,c=s.content,l=o.x,u=void 0===l?0:l,d=o.y,h=void 0===d?0:d,f=t.useRef();if(!r||!r.points)return null;var p={position:"absolute"};if(!1!==r.autoArrow){var m=r.points[0],g=r.points[1],v=m[0],y=m[1],b=g[0],w=g[1];v!==b&&["t","b"].includes(v)?"t"===v?p.top=0:p.bottom=0:p.top=h,y!==w&&["l","r"].includes(y)?"l"===y?p.left=0:p.right=0:p.left=u}return t.createElement("div",{ref:f,className:Rn()("".concat(n,"-arrow"),a),style:p},c)}function n$(e){var n=e.prefixCls,r=e.open,i=e.zIndex,o=e.mask,s=e.motion;return o?t.createElement(sq,f({},s,{motionAppear:!0,visible:r,removeOnLeave:!0}),(function(e){var r=e.className;return t.createElement("div",{style:{zIndex:i},className:Rn()("".concat(n,"-mask"),r)})})):null}var r$=t.memo((function(e){return e.children}),(function(e,t){return t.cache}));const i$=r$;var o$=t.forwardRef((function(e,n){var r=e.popup,i=e.className,o=e.prefixCls,s=e.style,a=e.target,c=e.onVisibleChanged,l=e.open,u=e.keepDom,d=e.fresh,h=e.onClick,p=e.mask,m=e.arrow,g=e.arrowPos,v=e.align,y=e.motion,b=e.maskMotion,w=e.forceRender,_=e.getPopupContainer,E=e.autoDestroy,C=e.portal,x=e.zIndex,S=e.onMouseEnter,k=e.onMouseLeave,T=e.onPointerEnter,I=e.ready,O=e.offsetX,N=e.offsetY,R=e.offsetR,P=e.offsetB,A=e.onAlign,D=e.onPrepare,M=e.stretch,L=e.targetWidth,F=e.targetHeight,j="function"===typeof r?r():r,B=l||u,U=(null===_||void 0===_?void 0:_.length)>0,z=Nz(t.useState(!_||!U),2),V=z[0],q=z[1];if(Zq((function(){!V&&U&&a&&q(!0)}),[V,U,a]),!V)return null;var H="auto",W={left:"-1000vw",top:"-1000vh",right:H,bottom:H};if(I||!l){var G,K=v.points,Q=v.dynamicInset||(null===(G=v._experimental)||void 0===G?void 0:G.dynamicInset),X=Q&&"r"===K[0][1],$=Q&&"b"===K[0][0];X?(W.right=R,W.left=H):(W.left=O,W.right=H),$?(W.bottom=P,W.top=H):(W.top=N,W.bottom=H)}var Y={};return M&&(M.includes("height")&&F?Y.height=F:M.includes("minHeight")&&F&&(Y.minHeight=F),M.includes("width")&&L?Y.width=L:M.includes("minWidth")&&L&&(Y.minWidth=L)),l||(Y.pointerEvents="none"),t.createElement(C,{open:w||B,getContainer:_&&function(){return _(a)},autoDestroy:E},t.createElement(n$,{prefixCls:o,open:l,zIndex:x,mask:p,motion:b}),t.createElement(YX,{onResize:A,disabled:!l},(function(e){return t.createElement(sq,f({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(o,"-hidden")},y,{onAppearPrepare:D,onEnterPrepare:D,visible:l,onVisibleChanged:function(e){var t;null===y||void 0===y||null===(t=y.onVisibleChanged)||void 0===t||t.call(y,e),c(e)}}),(function(r,a){var c=r.className,u=r.style,f=Rn()(o,c,i);return t.createElement("div",{ref:oV(e,n,a),className:f,style:ZB(ZB(ZB(ZB({"--arrow-x":"".concat(g.x||0,"px"),"--arrow-y":"".concat(g.y||0,"px")},W),Y),u),{},{boxSizing:"border-box",zIndex:x},s),onMouseEnter:S,onMouseLeave:k,onPointerEnter:T,onClick:h},m&&t.createElement(t$,{prefixCls:o,arrow:m,arrowPos:g,align:v}),t.createElement(i$,{cache:!l&&!d},j))}))})))}));const s$=o$;var a$=t.forwardRef((function(e,n){var r=e.children,i=e.getTriggerDOMNode,o=aV(r),s=t.useCallback((function(e){iV(n,i?i(e):e)}),[i]),a=sV(s,r.ref);return o?t.cloneElement(r,{ref:a}):r}));const c$=a$;const l$=t.createContext(null);function u$(e){return e?Array.isArray(e)?e:[e]:[]}function d$(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function h$(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function f$(e){return e.ownerDocument.defaultView}function p$(e){for(var t=[],n=null===e||void 0===e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=f$(n).getComputedStyle(n);[i.overflowX,i.overflowY,i.overflow].some((function(e){return r.includes(e)}))&&t.push(n),n=n.parentElement}return t}function m$(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function g$(e){return m$(parseFloat(e),0)}function v$(e,t){var n=ZB({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=f$(e).getComputedStyle(e),r=t.overflow,i=t.overflowClipMargin,o=t.borderTopWidth,s=t.borderBottomWidth,a=t.borderLeftWidth,c=t.borderRightWidth,l=e.getBoundingClientRect(),u=e.offsetHeight,d=e.clientHeight,h=e.offsetWidth,f=e.clientWidth,p=g$(o),m=g$(s),g=g$(a),v=g$(c),y=m$(Math.round(l.width/h*1e3)/1e3),b=m$(Math.round(l.height/u*1e3)/1e3),w=(h-f-g-v)*y,_=(u-d-p-m)*b,E=p*b,C=m*b,x=g*y,S=v*y,k=0,T=0;if("clip"===r){var I=g$(i);k=I*y,T=I*b}var O=l.x+x-k,N=l.y+E-T,R=O+l.width+2*k-x-S-w,P=N+l.height+2*T-E-C-_;n.left=Math.max(n.left,O),n.top=Math.max(n.top,N),n.right=Math.min(n.right,R),n.bottom=Math.min(n.bottom,P)}})),n}function y$(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function b$(e,t){var n=Nz(t||[],2),r=n[0],i=n[1];return[y$(e.width,r),y$(e.height,i)]}function w$(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function _$(e,t){var n,r=t[0],i=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===i?e.x:"r"===i?e.x+e.width:e.x+e.width/2,y:n}}function E$(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,r){return r===t?n[e]||"c":e})).join("")}var C$=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const x$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wX,n=t.forwardRef((function(n,r){var i=n.prefixCls,o=void 0===i?"rc-trigger-popup":i,s=n.children,a=n.action,c=void 0===a?"hover":a,l=n.showAction,u=n.hideAction,d=n.popupVisible,h=n.defaultPopupVisible,f=n.onPopupVisibleChange,p=n.afterPopupVisibleChange,m=n.mouseEnterDelay,g=n.mouseLeaveDelay,v=void 0===g?.1:g,y=n.focusDelay,b=n.blurDelay,w=n.mask,_=n.maskClosable,E=void 0===_||_,C=n.getPopupContainer,x=n.forceRender,S=n.autoDestroy,k=n.destroyPopupOnHide,T=n.popup,I=n.popupClassName,O=n.popupStyle,N=n.popupPlacement,R=n.builtinPlacements,P=void 0===R?{}:R,A=n.popupAlign,D=n.zIndex,M=n.stretch,L=n.getPopupClassNameFromAlign,F=n.fresh,j=n.alignPoint,B=n.onPopupClick,U=n.onPopupAlign,z=n.arrow,V=n.popupMotion,q=n.maskMotion,H=n.popupTransitionName,W=n.popupAnimation,G=n.maskTransitionName,K=n.maskAnimation,Q=n.className,X=n.getTriggerDOMNode,$=WB(n,C$),Y=S||k||!1,J=Nz(t.useState(!1),2),Z=J[0],ee=J[1];Zq((function(){ee(function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))}())}),[]);var te=t.useRef({}),ne=t.useContext(l$),re=t.useMemo((function(){return{registerSubPopup:function(e,t){te.current[e]=t,null===ne||void 0===ne||ne.registerSubPopup(e,t)}}}),[ne]),ie=e$(),oe=Nz(t.useState(null),2),se=oe[0],ae=oe[1],ce=t.useRef(null),le=aK((function(e){ce.current=e,nV(e)&&se!==e&&ae(e),null===ne||void 0===ne||ne.registerSubPopup(ie,e)})),ue=Nz(t.useState(null),2),de=ue[0],he=ue[1],fe=t.useRef(null),pe=aK((function(e){nV(e)&&de!==e&&(he(e),fe.current=e)})),me=t.Children.only(s),ge=(null===me||void 0===me?void 0:me.props)||{},ve={},ye=aK((function(e){var t,n,r=de;return(null===r||void 0===r?void 0:r.contains(e))||(null===(t=UQ(r))||void 0===t?void 0:t.host)===e||e===r||(null===se||void 0===se?void 0:se.contains(e))||(null===(n=UQ(se))||void 0===n?void 0:n.host)===e||e===se||Object.values(te.current).some((function(t){return(null===t||void 0===t?void 0:t.contains(e))||e===t}))})),be=h$(o,V,W,H),we=h$(o,q,K,G),_e=Nz(t.useState(h||!1),2),Ee=_e[0],Ce=_e[1],xe=null!==d&&void 0!==d?d:Ee,Se=aK((function(e){void 0===d&&Ce(e)}));Zq((function(){Ce(d||!1)}),[d]);var ke=t.useRef(xe);ke.current=xe;var Te=t.useRef([]);Te.current=[];var Ie=aK((function(e){var t;Se(e),(null!==(t=Te.current[Te.current.length-1])&&void 0!==t?t:xe)!==e&&(Te.current.push(e),null===f||void 0===f||f(e))})),Oe=t.useRef(),Ne=function(){clearTimeout(Oe.current)},Re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Ne(),0===t?Ie(e):Oe.current=setTimeout((function(){Ie(e)}),1e3*t)};t.useEffect((function(){return Ne}),[]);var Pe=Nz(t.useState(!1),2),Ae=Pe[0],De=Pe[1];Zq((function(e){e&&!xe||De(!0)}),[xe]);var Me=Nz(t.useState(null),2),Le=Me[0],Fe=Me[1],je=Nz(t.useState([0,0]),2),Be=je[0],Ue=je[1],ze=function(e){Ue([e.clientX,e.clientY])},Ve=function(e,n,r,i,o,s,a){var c=Nz(t.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[i]||{}}),2),l=c[0],u=c[1],d=t.useRef(0),h=t.useMemo((function(){return n?p$(n):[]}),[n]),f=t.useRef({});e||(f.current={});var p=aK((function(){if(n&&r&&e){var t,c,l,d=n,p=d.ownerDocument,m=f$(d).getComputedStyle(d),g=m.width,v=m.height,y=m.position,b=d.style.left,w=d.style.top,_=d.style.right,E=d.style.bottom,C=d.style.overflow,x=ZB(ZB({},o[i]),s),S=p.createElement("div");if(null===(t=d.parentElement)||void 0===t||t.appendChild(S),S.style.left="".concat(d.offsetLeft,"px"),S.style.top="".concat(d.offsetTop,"px"),S.style.position=y,S.style.height="".concat(d.offsetHeight,"px"),S.style.width="".concat(d.offsetWidth,"px"),d.style.left="0",d.style.top="0",d.style.right="auto",d.style.bottom="auto",d.style.overflow="hidden",Array.isArray(r))l={x:r[0],y:r[1],width:0,height:0};else{var k=r.getBoundingClientRect();l={x:k.x,y:k.y,width:k.width,height:k.height}}var T=d.getBoundingClientRect(),I=p.documentElement,O=I.clientWidth,N=I.clientHeight,R=I.scrollWidth,P=I.scrollHeight,A=I.scrollTop,D=I.scrollLeft,M=T.height,L=T.width,F=l.height,j=l.width,B={left:0,top:0,right:O,bottom:N},U={left:-D,top:-A,right:R-D,bottom:P-A},z=x.htmlRegion,V="visible",q="visibleFirst";"scroll"!==z&&z!==q&&(z=V);var H=z===q,W=v$(U,h),G=v$(B,h),K=z===V?G:W,Q=H?G:K;d.style.left="auto",d.style.top="auto",d.style.right="0",d.style.bottom="0";var X=d.getBoundingClientRect();d.style.left=b,d.style.top=w,d.style.right=_,d.style.bottom=E,d.style.overflow=C,null===(c=d.parentElement)||void 0===c||c.removeChild(S);var $=m$(Math.round(L/parseFloat(g)*1e3)/1e3),Y=m$(Math.round(M/parseFloat(v)*1e3)/1e3);if(0===$||0===Y||nV(r)&&!vQ(r))return;var J=x.offset,Z=x.targetOffset,ee=Nz(b$(T,J),2),te=ee[0],ne=ee[1],re=Nz(b$(l,Z),2),ie=re[0],oe=re[1];l.x-=ie,l.y-=oe;var se=Nz(x.points||[],2),ae=se[0],ce=w$(se[1]),le=w$(ae),ue=_$(l,ce),de=_$(T,le),he=ZB({},x),fe=ue.x-de.x+te,pe=ue.y-de.y+ne;function at(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K,r=T.x+e,i=T.y+t,o=r+L,s=i+M,a=Math.max(r,n.left),c=Math.max(i,n.top),l=Math.min(o,n.right),u=Math.min(s,n.bottom);return Math.max(0,(l-a)*(u-c))}var me,ge,ve,ye,be=at(fe,pe),we=at(fe,pe,G),_e=_$(l,["t","l"]),Ee=_$(T,["t","l"]),Ce=_$(l,["b","r"]),xe=_$(T,["b","r"]),Se=x.overflow||{},ke=Se.adjustX,Te=Se.adjustY,Ie=Se.shiftX,Oe=Se.shiftY,Ne=function(e){return"boolean"===typeof e?e:e>=0};function ct(){me=T.y+pe,ge=me+M,ve=T.x+fe,ye=ve+L}ct();var Re=Ne(Te),Pe=le[0]===ce[0];if(Re&&"t"===le[0]&&(ge>Q.bottom||f.current.bt)){var Ae=pe;Pe?Ae-=M-F:Ae=_e.y-xe.y-ne;var De=at(fe,Ae),Me=at(fe,Ae,G);De>be||De===be&&(!H||Me>=we)?(f.current.bt=!0,pe=Ae,ne=-ne,he.points=[E$(le,0),E$(ce,0)]):f.current.bt=!1}if(Re&&"b"===le[0]&&(me<Q.top||f.current.tb)){var Le=pe;Pe?Le+=M-F:Le=Ce.y-Ee.y-ne;var Fe=at(fe,Le),je=at(fe,Le,G);Fe>be||Fe===be&&(!H||je>=we)?(f.current.tb=!0,pe=Le,ne=-ne,he.points=[E$(le,0),E$(ce,0)]):f.current.tb=!1}var Be=Ne(ke),Ue=le[1]===ce[1];if(Be&&"l"===le[1]&&(ye>Q.right||f.current.rl)){var ze=fe;Ue?ze-=L-j:ze=_e.x-xe.x-te;var Ve=at(ze,pe),qe=at(ze,pe,G);Ve>be||Ve===be&&(!H||qe>=we)?(f.current.rl=!0,fe=ze,te=-te,he.points=[E$(le,1),E$(ce,1)]):f.current.rl=!1}if(Be&&"r"===le[1]&&(ve<Q.left||f.current.lr)){var He=fe;Ue?He+=L-j:He=Ce.x-Ee.x-te;var We=at(He,pe),Ge=at(He,pe,G);We>be||We===be&&(!H||Ge>=we)?(f.current.lr=!0,fe=He,te=-te,he.points=[E$(le,1),E$(ce,1)]):f.current.lr=!1}ct();var Ke=!0===Ie?0:Ie;"number"===typeof Ke&&(ve<G.left&&(fe-=ve-G.left-te,l.x+j<G.left+Ke&&(fe+=l.x-G.left+j-Ke)),ye>G.right&&(fe-=ye-G.right-te,l.x>G.right-Ke&&(fe+=l.x-G.right+Ke)));var Qe=!0===Oe?0:Oe;"number"===typeof Qe&&(me<G.top&&(pe-=me-G.top-ne,l.y+F<G.top+Qe&&(pe+=l.y-G.top+F-Qe)),ge>G.bottom&&(pe-=ge-G.bottom-ne,l.y>G.bottom-Qe&&(pe+=l.y-G.bottom+Qe)));var Xe=T.x+fe,$e=Xe+L,Ye=T.y+pe,Je=Ye+M,Ze=l.x,et=Ze+j,tt=l.y,nt=tt+F,rt=(Math.max(Xe,Ze)+Math.min($e,et))/2-Xe,it=(Math.max(Ye,tt)+Math.min(Je,nt))/2-Ye;null===a||void 0===a||a(n,he);var ot=X.right-T.x-(fe+T.width),st=X.bottom-T.y-(pe+T.height);u({ready:!0,offsetX:fe/$,offsetY:pe/Y,offsetR:ot/$,offsetB:st/Y,arrowX:rt/$,arrowY:it/Y,scaleX:$,scaleY:Y,align:he})}})),m=function(){u((function(e){return ZB(ZB({},e),{},{ready:!1})}))};return Zq(m,[i]),Zq((function(){e||m()}),[e]),[l.ready,l.offsetX,l.offsetY,l.offsetR,l.offsetB,l.arrowX,l.arrowY,l.scaleX,l.scaleY,l.align,function(){d.current+=1;var e=d.current;Promise.resolve().then((function(){d.current===e&&p()}))}]}(xe,se,j?Be:de,N,P,A,U),qe=Nz(Ve,11),He=qe[0],We=qe[1],Ge=qe[2],Ke=qe[3],Qe=qe[4],Xe=qe[5],$e=qe[6],Ye=qe[7],Je=qe[8],Ze=qe[9],et=qe[10],tt=function(e,n,r,i){return t.useMemo((function(){var t=u$(null!==r&&void 0!==r?r:n),o=u$(null!==i&&void 0!==i?i:n),s=new Set(t),a=new Set(o);return e&&(s.has("hover")&&(s.delete("hover"),s.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[s,a]}),[e,n,r,i])}(Z,c,l,u),nt=Nz(tt,2),rt=nt[0],it=nt[1],ot=rt.has("click"),st=it.has("click")||it.has("contextMenu"),at=aK((function(){Ae||et()}));!function(e,t,n,r,i){Zq((function(){if(e&&t&&n){var o=n,s=p$(t),a=p$(o),c=f$(o),l=new Set([c].concat(rU(s),rU(a)));function u(){r(),i()}return l.forEach((function(e){e.addEventListener("scroll",u,{passive:!0})})),c.addEventListener("resize",u,{passive:!0}),r(),function(){l.forEach((function(e){e.removeEventListener("scroll",u),c.removeEventListener("resize",u)}))}}}),[e,t,n])}(xe,de,se,at,(function(){ke.current&&j&&st&&Re(!1)})),Zq((function(){at()}),[Be,N]),Zq((function(){!xe||null!==P&&void 0!==P&&P[N]||at()}),[JSON.stringify(A)]);var ct=t.useMemo((function(){var e=function(e,t,n,r){for(var i=n.points,o=Object.keys(e),s=0;s<o.length;s+=1){var a,c=o[s];if(d$(null===(a=e[c])||void 0===a?void 0:a.points,i,r))return"".concat(t,"-placement-").concat(c)}return""}(P,o,Ze,j);return Rn()(e,null===L||void 0===L?void 0:L(Ze))}),[Ze,L,P,o,j]);t.useImperativeHandle(r,(function(){return{nativeElement:fe.current,popupElement:ce.current,forceAlign:at}}));var lt=Nz(t.useState(0),2),ut=lt[0],dt=lt[1],ht=Nz(t.useState(0),2),ft=ht[0],pt=ht[1],mt=function(){if(M&&de){var e=de.getBoundingClientRect();dt(e.width),pt(e.height)}};function gt(e,t,n,r){ve[e]=function(i){var o;null===r||void 0===r||r(i),Re(t,n);for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];null===(o=ge[e])||void 0===o||o.call.apply(o,[ge,i].concat(a))}}Zq((function(){Le&&(et(),Le(),Fe(null))}),[Le]),(ot||st)&&(ve.onClick=function(e){var t;ke.current&&st?Re(!1):!ke.current&&ot&&(ze(e),Re(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(t=ge.onClick)||void 0===t||t.call.apply(t,[ge,e].concat(r))}),function(e,n,r,i,o,s,a,c){var l=t.useRef(e);l.current=e,t.useEffect((function(){if(n&&i&&(!o||s)){var e=function(e){var t=e.target;l.current&&!a(t)&&c(!1)},t=f$(i);t.addEventListener("mousedown",e,!0),t.addEventListener("contextmenu",e,!0);var u=UQ(r);return u&&(u.addEventListener("mousedown",e,!0),u.addEventListener("contextmenu",e,!0)),function(){t.removeEventListener("mousedown",e,!0),t.removeEventListener("contextmenu",e,!0),u&&(u.removeEventListener("mousedown",e,!0),u.removeEventListener("contextmenu",e,!0))}}}),[n,r,i,o,s])}(xe,st,de,se,w,E,ye,Re);var vt,yt,bt=rt.has("hover"),wt=it.has("hover");bt&&(gt("onMouseEnter",!0,m,(function(e){ze(e)})),gt("onPointerEnter",!0,m,(function(e){ze(e)})),vt=function(e){(xe||Ae)&&null!==se&&void 0!==se&&se.contains(e.target)&&Re(!0,m)},j&&(ve.onMouseMove=function(e){var t;null===(t=ge.onMouseMove)||void 0===t||t.call(ge,e)})),wt&&(gt("onMouseLeave",!1,v),gt("onPointerLeave",!1,v),yt=function(){Re(!1,v)}),rt.has("focus")&&gt("onFocus",!0,y),it.has("focus")&&gt("onBlur",!1,b),rt.has("contextMenu")&&(ve.onContextMenu=function(e){var t;ke.current&&it.has("contextMenu")?Re(!1):(ze(e),Re(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(t=ge.onContextMenu)||void 0===t||t.call.apply(t,[ge,e].concat(r))}),Q&&(ve.className=Rn()(ge.className,Q));var _t=ZB(ZB({},ge),ve),Et={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){$[e]&&(Et[e]=function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===(t=_t[e])||void 0===t||t.call.apply(t,[_t].concat(r)),$[e].apply($,r)})}));var Ct=t.cloneElement(me,ZB(ZB({},_t),Et)),xt={x:Xe,y:$e},St=z?ZB({},!0!==z?z:{}):null;return t.createElement(t.Fragment,null,t.createElement(YX,{disabled:!xe,ref:pe,onResize:function(){mt(),at()}},t.createElement(c$,{getTriggerDOMNode:X},Ct)),t.createElement(l$.Provider,{value:re},t.createElement(s$,{portal:e,ref:le,prefixCls:o,popup:T,className:Rn()(I,ct),style:O,target:de,onMouseEnter:vt,onMouseLeave:yt,onPointerEnter:vt,zIndex:D,open:xe,keepDom:Ae,fresh:F,onClick:B,mask:w,motion:be,maskMotion:we,onVisibleChanged:function(e){De(!1),et(),null===p||void 0===p||p(e)},onPrepare:function(){return new Promise((function(e){mt(),Fe((function(){return e}))}))},forceRender:x,autoDestroy:Y,getPopupContainer:C,align:Ze,arrow:St,arrowPos:xt,ready:He,offsetX:We,offsetY:Ge,offsetR:Ke,offsetB:Qe,onAlign:at,stretch:M,targetWidth:ut/Ye,targetHeight:ft/Je})))}));return n}(wX);var S$={shiftX:64,adjustY:1},k$={adjustX:1,shiftY:!0},T$=[0,0],I$={left:{points:["cr","cl"],overflow:k$,offset:[-4,0],targetOffset:T$},right:{points:["cl","cr"],overflow:k$,offset:[4,0],targetOffset:T$},top:{points:["bc","tc"],overflow:S$,offset:[0,-4],targetOffset:T$},bottom:{points:["tc","bc"],overflow:S$,offset:[0,4],targetOffset:T$},topLeft:{points:["bl","tl"],overflow:S$,offset:[0,-4],targetOffset:T$},leftTop:{points:["tr","tl"],overflow:k$,offset:[-4,0],targetOffset:T$},topRight:{points:["br","tr"],overflow:S$,offset:[0,-4],targetOffset:T$},rightTop:{points:["tl","tr"],overflow:k$,offset:[4,0],targetOffset:T$},bottomRight:{points:["tr","br"],overflow:S$,offset:[0,4],targetOffset:T$},rightBottom:{points:["bl","br"],overflow:k$,offset:[4,0],targetOffset:T$},bottomLeft:{points:["tl","bl"],overflow:S$,offset:[0,4],targetOffset:T$},leftBottom:{points:["br","bl"],overflow:k$,offset:[-4,0],targetOffset:T$}};var O$=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],N$=function(e,n){var r=e.overlayClassName,i=e.trigger,o=void 0===i?["hover"]:i,s=e.mouseEnterDelay,a=void 0===s?0:s,c=e.mouseLeaveDelay,l=void 0===c?.1:c,u=e.overlayStyle,d=e.prefixCls,h=void 0===d?"rc-tooltip":d,p=e.children,m=e.onVisibleChange,g=e.afterVisibleChange,v=e.transitionName,y=e.animation,b=e.motion,w=e.placement,_=void 0===w?"right":w,E=e.align,C=void 0===E?{}:E,x=e.destroyTooltipOnHide,S=void 0!==x&&x,k=e.defaultVisible,T=e.getTooltipContainer,I=e.overlayInnerStyle,O=(e.arrowContent,e.overlay),N=e.id,R=e.showArrow,P=void 0===R||R,A=WB(e,O$),D=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return D.current}));var M=ZB({},A);"visible"in e&&(M.popupVisible=e.visible);return t.createElement(x$,f({popupClassName:r,prefixCls:h,popup:function(){return t.createElement(uX,{key:"content",prefixCls:h,id:N,overlayInnerStyle:I},O)},action:o,builtinPlacements:I$,popupPlacement:_,ref:D,popupAlign:C,getPopupContainer:T,onPopupVisibleChange:m,afterPopupVisibleChange:g,popupTransitionName:v,popupAnimation:y,popupMotion:b,defaultPopupVisible:k,autoDestroy:S,mouseLeaveDelay:l,popupStyle:u,mouseEnterDelay:a,arrow:P},M),p)};const R$=(0,t.forwardRef)(N$);const P$=t.createContext(void 0),A$=100,D$={Modal:A$,Drawer:A$,Popover:A$,Popconfirm:A$,Tooltip:A$,Tour:A$},M$={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function L$(e,n){const[,r]=OG(),i=t.useContext(P$),o=function(e){return e in D$}(e);if(void 0!==n)return[n,n];let s=null!==i&&void 0!==i?i:0;return o?(s+=(i?0:r.zIndexPopupBase)+D$[e],s=Math.min(s,r.zIndexPopupBase+1e3)):s+=M$[e],[void 0===i?n:s,s]}const F$=(e,t,n)=>{const{sizePopupArrow:r,arrowPolygon:i,arrowPath:o,arrowShadowWidth:s,borderRadiusXS:a,calc:c}=e;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:c(r).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[i,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:s,height:s,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:"0 0 ".concat(Wq(a)," 0")},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},j$=8;function B$(e){const{contentRadius:t,limitVerticalRadius:n}=e,r=t>12?t+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?j$:r}}function U$(e,t){return e?t:{}}function z$(e,t,n){const{componentCls:r,boxShadowPopoverArrow:i,arrowOffsetVertical:o,arrowOffsetHorizontal:s}=e,{arrowDistance:a=0,arrowPlacement:c={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({["".concat(r,"-arrow")]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},F$(e,t,i)),{"&:before":{background:t}})]},U$(!!c.top,{[["&-placement-top > ".concat(r,"-arrow"),"&-placement-topLeft > ".concat(r,"-arrow"),"&-placement-topRight > ".concat(r,"-arrow")].join(",")]:{bottom:a,transform:"translateY(100%) rotate(180deg)"},["&-placement-top > ".concat(r,"-arrow")]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},["&-placement-topLeft > ".concat(r,"-arrow")]:{left:{_skip_check_:!0,value:s}},["&-placement-topRight > ".concat(r,"-arrow")]:{right:{_skip_check_:!0,value:s}}})),U$(!!c.bottom,{[["&-placement-bottom > ".concat(r,"-arrow"),"&-placement-bottomLeft > ".concat(r,"-arrow"),"&-placement-bottomRight > ".concat(r,"-arrow")].join(",")]:{top:a,transform:"translateY(-100%)"},["&-placement-bottom > ".concat(r,"-arrow")]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},["&-placement-bottomLeft > ".concat(r,"-arrow")]:{left:{_skip_check_:!0,value:s}},["&-placement-bottomRight > ".concat(r,"-arrow")]:{right:{_skip_check_:!0,value:s}}})),U$(!!c.left,{[["&-placement-left > ".concat(r,"-arrow"),"&-placement-leftTop > ".concat(r,"-arrow"),"&-placement-leftBottom > ".concat(r,"-arrow")].join(",")]:{right:{_skip_check_:!0,value:a},transform:"translateX(100%) rotate(90deg)"},["&-placement-left > ".concat(r,"-arrow")]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},["&-placement-leftTop > ".concat(r,"-arrow")]:{top:o},["&-placement-leftBottom > ".concat(r,"-arrow")]:{bottom:o}})),U$(!!c.right,{[["&-placement-right > ".concat(r,"-arrow"),"&-placement-rightTop > ".concat(r,"-arrow"),"&-placement-rightBottom > ".concat(r,"-arrow")].join(",")]:{left:{_skip_check_:!0,value:a},transform:"translateX(-100%) rotate(-90deg)"},["&-placement-right > ".concat(r,"-arrow")]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},["&-placement-rightTop > ".concat(r,"-arrow")]:{top:o},["&-placement-rightBottom > ".concat(r,"-arrow")]:{bottom:o}}))}}const V$={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},q$={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},H$=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function W$(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:o,visibleFirst:s}=e,a=t/2,c={};return Object.keys(V$).forEach((e=>{const l=r&&q$[e]||V$[e],u=Object.assign(Object.assign({},l),{offset:[0,0],dynamicInset:!0});switch(c[e]=u,H$.has(e)&&(u.autoArrow=!1),e){case"top":case"topLeft":case"topRight":u.offset[1]=-a-i;break;case"bottom":case"bottomLeft":case"bottomRight":u.offset[1]=a+i;break;case"left":case"leftTop":case"leftBottom":u.offset[0]=-a-i;break;case"right":case"rightTop":case"rightBottom":u.offset[0]=a+i}const d=B$({contentRadius:o,limitVerticalRadius:!0});if(r)switch(e){case"topLeft":case"bottomLeft":u.offset[0]=-d.arrowOffsetHorizontal-a;break;case"topRight":case"bottomRight":u.offset[0]=d.arrowOffsetHorizontal+a;break;case"leftTop":case"rightTop":u.offset[1]=-d.arrowOffsetHorizontal-a;break;case"leftBottom":case"rightBottom":u.offset[1]=d.arrowOffsetHorizontal+a}u.overflow=function(e,t,n,r){if(!1===r)return{adjustX:!1,adjustY:!1};const i=r&&"object"===typeof r?r:{},o={};switch(e){case"top":case"bottom":o.shiftX=2*t.arrowOffsetHorizontal+n,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=2*t.arrowOffsetVertical+n,o.shiftX=!0,o.adjustX=!0}const s=Object.assign(Object.assign({},o),i);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}(e,d,t,n),s&&(u.htmlRegion="visibleFirst")})),c}const G$=t.createContext(null),K$=(e,n)=>{const r=t.useContext(G$),i=t.useMemo((()=>{if(!r)return"";const{compactDirection:t,isFirstItem:i,isLastItem:o}=r,s="vertical"===t?"-vertical-":"-";return Rn()("".concat(e,"-compact").concat(s,"item"),{["".concat(e,"-compact").concat(s,"first-item")]:i,["".concat(e,"-compact").concat(s,"last-item")]:o,["".concat(e,"-compact").concat(s,"item-rtl")]:"rtl"===n})}),[e,n,r]);return{compactSize:null===r||void 0===r?void 0:r.compactSize,compactDirection:null===r||void 0===r?void 0:r.compactDirection,compactItemClassnames:i}},Q$=e=>{let{children:n}=e;return t.createElement(G$.Provider,{value:null},n)},X$=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function $$(e,t){return X$.reduce(((n,r)=>{const i=e["".concat(r,"1")],o=e["".concat(r,"3")],s=e["".concat(r,"6")],a=e["".concat(r,"7")];return Object.assign(Object.assign({},n),t(r,{lightColor:i,lightBorderColor:o,darkColor:s,textColor:a}))}),{})}const Y$=e=>{const{componentCls:t,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:i,tooltipBorderRadius:o,zIndexPopup:s,controlHeight:a,boxShadowSecondary:c,paddingSM:l,paddingXS:u}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},PG(e)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:n,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":i,["".concat(t,"-inner")]:{minWidth:a,minHeight:a,padding:"".concat(Wq(e.calc(l).div(2).equal())," ").concat(Wq(u)),color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:o,boxShadow:c,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{["".concat(t,"-inner")]:{borderRadius:e.min(o,j$)}},["".concat(t,"-content")]:{position:"relative"}}),$$(e,((e,n)=>{let{darkColor:r}=n;return{["&".concat(t,"-").concat(e)]:{["".concat(t,"-inner")]:{backgroundColor:r},["".concat(t,"-arrow")]:{"--antd-arrow-background-color":r}}}}))),{"&-rtl":{direction:"rtl"}})},z$(e,"var(--antd-arrow-background-color)"),{["".concat(t,"-pure")]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},J$=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},B$({contentRadius:e.borderRadius,limitVerticalRadius:!0})),function(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:r}=e,i=t/2,o=i,s=1*r/Math.sqrt(2),a=i-r*(1-1/Math.sqrt(2)),c=i-n*(1/Math.sqrt(2)),l=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),u=2*i-c,d=l,h=2*i-s,f=a,p=2*i-0,m=o,g=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),v=r*(Math.sqrt(2)-1),y="polygon(".concat(v,"px 100%, 50% ").concat(v,"px, ").concat(2*i-v,"px 100%, ").concat(v,"px 100%)");return{arrowShadowWidth:g,arrowPath:"path('M ".concat(0," ").concat(o," A ").concat(r," ").concat(r," 0 0 0 ").concat(s," ").concat(a," L ").concat(c," ").concat(l," A ").concat(n," ").concat(n," 0 0 1 ").concat(u," ").concat(d," L ").concat(h," ").concat(f," A ").concat(r," ").concat(r," 0 0 0 ").concat(p," ").concat(m," Z')"),arrowPolygon:y}}(rK(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),Z$=function(e){const t=xK("Tooltip",(e=>{const{borderRadius:t,colorTextLightSolid:n,colorBgSpotlight:r}=e,i=rK(e,{tooltipMaxWidth:250,tooltipColor:n,tooltipBorderRadius:t,tooltipBg:r});return[Y$(i),ZG(e,"zoom-big-fast")]}),J$,{resetStyle:!1,injectStyle:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]});return t(e)},eY=X$.map((e=>"".concat(e,"-inverse")));function tY(e,t){const n=function(e){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?X$.includes(e):[].concat(rU(eY),rU(X$)).includes(e)}(t),r=Rn()({["".concat(e,"-").concat(t)]:t&&n}),i={},o={};return t&&!n&&(i.background=t,o["--antd-arrow-background-color"]=t),{className:r,overlayStyle:i,arrowStyle:o}}const nY=e=>{const{prefixCls:n,className:r,placement:i="top",title:o,color:s,overlayInnerStyle:a}=e,{getPrefixCls:c}=t.useContext(uK),l=c("tooltip",n),[u,d,h]=Z$(l),f=tY(l,s),p=f.arrowStyle,m=Object.assign(Object.assign({},a),f.overlayStyle),g=Rn()(d,h,l,"".concat(l,"-pure"),"".concat(l,"-placement-").concat(i),r,f.className);return u(t.createElement("div",{className:g,style:p},t.createElement("div",{className:"".concat(l,"-arrow")}),t.createElement(uX,Object.assign({},e,{className:d,prefixCls:l,overlayInnerStyle:m}),o)))};var rY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const iY=t.forwardRef(((e,n)=>{var r,i;const{prefixCls:o,openClassName:s,getTooltipContainer:a,overlayClassName:c,color:l,overlayInnerStyle:u,children:d,afterOpenChange:h,afterVisibleChange:f,destroyTooltipOnHide:p,arrow:m=!0,title:g,overlay:v,builtinPlacements:y,arrowPointAtCenter:b=!1,autoAdjustOverflow:w=!0}=e,_=!!m,[,E]=OG(),{getPopupContainer:C,getPrefixCls:x,direction:S}=t.useContext(uK),k=pQ("Tooltip"),T=t.useRef(null),I=()=>{var e;null===(e=T.current)||void 0===e||e.forceAlign()};t.useImperativeHandle(n,(()=>({forceAlign:I,forcePopupAlign:()=>{k.deprecated(!1,"forcePopupAlign","forceAlign"),I()}})));const[O,N]=lK(!1,{value:null!==(r=e.open)&&void 0!==r?r:e.visible,defaultValue:null!==(i=e.defaultOpen)&&void 0!==i?i:e.defaultVisible}),R=!g&&!v&&0!==g,P=t.useMemo((()=>{var e,t;let n=b;return"object"===typeof m&&(n=null!==(t=null!==(e=m.pointAtCenter)&&void 0!==e?e:m.arrowPointAtCenter)&&void 0!==t?t:b),y||W$({arrowPointAtCenter:n,autoAdjustOverflow:w,arrowWidth:_?E.sizePopupArrow:0,borderRadius:E.borderRadius,offset:E.marginXXS,visibleFirst:!0})}),[b,m,y,E]),A=t.useMemo((()=>0===g?g:v||g||""),[v,g]),D=t.createElement(Q$,null,"function"===typeof A?A():A),{getPopupContainer:M,placement:L="top",mouseEnterDelay:F=.1,mouseLeaveDelay:j=.1,overlayStyle:B,rootClassName:U}=e,z=rY(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),V=x("tooltip",o),q=x(),H=e["data-popover-inject"];let W=O;"open"in e||"visible"in e||!R||(W=!1);const G=t.isValidElement(d)&&!uQ(d)?d:t.createElement("span",null,d),K=G.props,Q=K.className&&"string"!==typeof K.className?K.className:Rn()(K.className,s||"".concat(V,"-open")),[X,$,Y]=Z$(V,!H),J=tY(V,l),Z=J.arrowStyle,ee=Object.assign(Object.assign({},u),J.overlayStyle),te=Rn()(c,{["".concat(V,"-rtl")]:"rtl"===S},J.className,U,$,Y),[ne,re]=L$("Tooltip",z.zIndex),ie=t.createElement(R$,Object.assign({},z,{zIndex:ne,showArrow:_,placement:L,mouseEnterDelay:F,mouseLeaveDelay:j,prefixCls:V,overlayClassName:te,overlayStyle:Object.assign(Object.assign({},Z),B),getTooltipContainer:M||a||C,ref:T,builtinPlacements:P,overlay:D,visible:W,onVisibleChange:t=>{var n,r;N(!R&&t),R||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},afterVisibleChange:null!==h&&void 0!==h?h:f,overlayInnerStyle:ee,arrowContent:t.createElement("span",{className:"".concat(V,"-arrow-content")}),motion:{motionName:dq(q,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!p}),W?hQ(G,{className:Q}):G);return X(t.createElement(P$.Provider,{value:re},ie))})),oY=iY;oY._InternalPanelDoNotUseOrYouWillBeFired=nY;const sY=oY;var aY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const cY=e=>{let{prefixCls:n,label:r,htmlFor:i,labelCol:o,labelAlign:s,colon:a,required:c,requiredMark:l,tooltip:u}=e;var d;const[h]=lX("Form"),{vertical:f,labelAlign:p,labelCol:m,labelWrap:g,colon:v}=t.useContext(Xz);if(!r)return null;const y=o||m||{},b=s||p,w="".concat(n,"-item-label"),_=Rn()(w,"left"===b&&"".concat(w,"-left"),y.className,{["".concat(w,"-wrap")]:!!g});let E=r;const C=!0===a||!1!==v&&!1!==a;C&&!f&&"string"===typeof r&&""!==r.trim()&&(E=r.replace(/[:|\uff1a]\s*$/,""));const x=function(e){return e?"object"!==typeof e||t.isValidElement(e)?{title:e}:e:null}(u);if(x){const{icon:e=t.createElement(tX,null)}=x,r=aY(x,["icon"]),i=t.createElement(sY,Object.assign({},r),t.cloneElement(e,{className:"".concat(n,"-item-tooltip"),title:"",onClick:e=>{e.preventDefault()},tabIndex:null}));E=t.createElement(t.Fragment,null,E,i)}const S="optional"===l,k="function"===typeof l;k?E=l(E,{required:!!c}):S&&!c&&(E=t.createElement(t.Fragment,null,E,t.createElement("span",{className:"".concat(n,"-item-optional"),title:""},(null===h||void 0===h?void 0:h.optional)||(null===(d=cX.Form)||void 0===d?void 0:d.optional))));const T=Rn()({["".concat(n,"-item-required")]:c,["".concat(n,"-item-required-mark-optional")]:S||k,["".concat(n,"-item-no-colon")]:!C});return t.createElement(AQ,Object.assign({},y,{className:_}),t.createElement("label",{htmlFor:i,className:T,title:"string"===typeof r?r:""},E))};const lY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var uY=function(e,n){return t.createElement(ZQ,f({},e,{ref:n,icon:lY}))};const dY=t.forwardRef(uY);const hY={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var fY=function(e,n){return t.createElement(ZQ,f({},e,{ref:n,icon:hY}))};const pY=t.forwardRef(fY);const mY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var gY=function(e,n){return t.createElement(ZQ,f({},e,{ref:n,icon:mY}))};const vY=t.forwardRef(gY);const yY={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};var bY=function(e,n){return t.createElement(ZQ,f({},e,{ref:n,icon:yY}))};const wY=t.forwardRef(bY),_Y={success:dY,warning:vY,error:pY,validating:wY};function EY(e){let{children:n,errors:r,warnings:i,hasFeedback:o,validateStatus:s,prefixCls:a,meta:c,noStyle:l}=e;const u="".concat(a,"-item"),{feedbackIcons:d}=t.useContext(Xz),h=rQ(r,i,c,null,!!o,s),{isFormItemInput:f,status:p,hasFeedback:m,feedbackIcon:g}=t.useContext(Zz),v=t.useMemo((()=>{var e;let n;if(o){const s=!0!==o&&o.icons||d,a=h&&(null===(e=null===s||void 0===s?void 0:s({status:h,errors:r,warnings:i}))||void 0===e?void 0:e[h]),c=h&&_Y[h];n=!1!==a&&c?t.createElement("span",{className:Rn()("".concat(u,"-feedback-icon"),"".concat(u,"-feedback-icon-").concat(h))},a||t.createElement(c,null)):null}const s={status:h||"",errors:r,warnings:i,hasFeedback:!!o,feedbackIcon:n,isFormItemInput:!0};return l&&(s.status=(null!==h&&void 0!==h?h:p)||"",s.isFormItemInput=f,s.hasFeedback=!!(null!==o&&void 0!==o?o:m),s.feedbackIcon=void 0!==o?s.feedbackIcon:g),s}),[h,o,l,f,p]);return t.createElement(Zz.Provider,{value:v},n)}var CY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function xY(e){const{prefixCls:n,className:r,rootClassName:i,style:o,help:s,errors:a,warnings:c,validateStatus:l,meta:u,hasFeedback:d,hidden:h,children:f,fieldId:p,required:m,isRequired:g,onSubItemMetaChange:v}=e,y=CY(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange"]),b="".concat(n,"-item"),{requiredMark:w}=t.useContext(Xz),_=t.useRef(null),E=RG(a),C=RG(c),x=void 0!==s&&null!==s,S=!!(x||a.length||c.length),k=!!_.current&&vQ(_.current),[T,I]=t.useState(null);Zq((()=>{if(S&&_.current){const e=getComputedStyle(_.current);I(parseInt(e.marginBottom,10))}}),[S,k]);const O=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return rQ(e?E:u.errors,e?C:u.warnings,u,"",!!d,l)}(),N=Rn()(b,r,i,{["".concat(b,"-with-help")]:x||E.length||C.length,["".concat(b,"-has-feedback")]:O&&d,["".concat(b,"-has-success")]:"success"===O,["".concat(b,"-has-warning")]:"warning"===O,["".concat(b,"-has-error")]:"error"===O,["".concat(b,"-is-validating")]:"validating"===O,["".concat(b,"-hidden")]:h});return t.createElement("div",{className:N,style:o,ref:_},t.createElement(IQ,Object.assign({className:"".concat(b,"-row")},Qz(y,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),t.createElement(cY,Object.assign({htmlFor:p},e,{requiredMark:w,required:null!==m&&void 0!==m?m:g,prefixCls:n})),t.createElement(LQ,Object.assign({},e,u,{errors:E,warnings:C,prefixCls:n,status:O,help:s,marginBottom:T,onErrorVisibleChanged:e=>{e||I(null)}}),t.createElement($z.Provider,{value:v},t.createElement(EY,{prefixCls:n,meta:u,errors:u.errors,warnings:u.warnings,hasFeedback:d,validateStatus:O},f)))),!!T&&t.createElement("div",{className:"".concat(b,"-margin-offset"),style:{marginBottom:-T}}))}const SY=t.memo((e=>{let{children:t}=e;return t}),((e,t)=>function(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((n=>{const r=e[n],i=t[n];return r===i||"function"===typeof r||"function"===typeof i}))}(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every(((e,n)=>e===t.childProps[n]))));const kY=function(e){const{name:n,noStyle:r,className:i,dependencies:o,prefixCls:s,shouldUpdate:a,rules:c,children:l,required:u,label:d,messageVariables:h,trigger:f="onChange",validateTrigger:p,hidden:m,help:g}=e,{getPrefixCls:v}=t.useContext(uK),{name:y}=t.useContext(Xz),b=function(e){if("function"===typeof e)return e;const t=pU(e);return t.length<=1?t[0]:t}(l),w="function"===typeof b,_=t.useContext($z),{validateTrigger:E}=t.useContext(SU),C=void 0!==p?p:E,x=!(void 0===n||null===n),S=v("form",s),k=NG(S),[T,I,O]=LK(S,k);pQ("Form.Item");const N=t.useContext(kU),R=t.useRef(),[P,A]=function(e){const[n,r]=t.useState(e),i=(0,t.useRef)(null),o=(0,t.useRef)([]),s=(0,t.useRef)(!1);return t.useEffect((()=>(s.current=!1,()=>{s.current=!0,VV.cancel(i.current),i.current=null})),[]),[n,function(e){s.current||(null===i.current&&(o.current=[],i.current=VV((()=>{i.current=null,r((e=>{let t=e;return o.current.forEach((e=>{t=e(t)})),t}))}))),o.current.push(e))}]}({}),[D,M]=uV((()=>({errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}))),L=(e,t)=>{A((n=>{const r=Object.assign({},n),i=[].concat(rU(e.name.slice(0,-1)),rU(t)).join("__SPLIT__");return e.destroy?delete r[i]:r[i]=e,r}))},[F,j]=t.useMemo((()=>{const e=rU(D.errors),t=rU(D.warnings);return Object.values(P).forEach((n=>{e.push.apply(e,rU(n.errors||[])),t.push.apply(t,rU(n.warnings||[]))})),[e,t]}),[P,D.errors,D.warnings]),B=function(){const{itemRef:e}=t.useContext(Xz),n=t.useRef({});return function(t,r){const i=r&&"object"===typeof r&&r.ref,o=t.join("_");return n.current.name===o&&n.current.originRef===i||(n.current.name=o,n.current.originRef=i,n.current.ref=oV(e(t),i)),n.current.ref}}();function U(n,o,s){return r&&!m?t.createElement(EY,{prefixCls:S,hasFeedback:e.hasFeedback,validateStatus:e.validateStatus,meta:D,errors:F,warnings:j,noStyle:!0},n):t.createElement(xY,Object.assign({key:"row"},e,{className:Rn()(i,O,k,I),prefixCls:S,fieldId:o,isRequired:s,errors:F,warnings:j,meta:D,onSubItemMetaChange:L}),n)}if(!x&&!w&&!o)return T(U(b));let z={};return"string"===typeof d?z.label=d:n&&(z.label=String(n)),h&&(z=Object.assign(Object.assign({},z),h)),T(t.createElement(Iz,Object.assign({},e,{messageVariables:z,trigger:f,validateTrigger:C,onMetaChange:e=>{const t=null===N||void 0===N?void 0:N.getKey(e.name);if(M(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}:e,!0),r&&!1!==g&&_){let n=e.name;if(e.destroy)n=R.current||n;else if(void 0!==t){const[e,r]=t;n=[e].concat(rU(r)),R.current=n}_(e,n)}}}),((r,i,s)=>{const l=tQ(n).length&&i?i.name:[],d=nQ(l,y),h=void 0!==u?u:!(!c||!c.some((e=>{if(e&&"object"===typeof e&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){const t=e(s);return t&&t.required&&!t.warningOnly}return!1}))),p=Object.assign({},r);let m=null;if(Array.isArray(b)&&x)m=b;else if(w&&(!a&&!o||x));else if(!o||w||x)if(t.isValidElement(b)){const n=Object.assign(Object.assign({},b.props),p);if(n.id||(n.id=d),g||F.length>0||j.length>0||e.extra){const t=[];(g||F.length>0)&&t.push("".concat(d,"_help")),e.extra&&t.push("".concat(d,"_extra")),n["aria-describedby"]=t.join(" ")}F.length>0&&(n["aria-invalid"]="true"),h&&(n["aria-required"]="true"),aV(b)&&(n.ref=B(l,b));new Set([].concat(rU(tQ(f)),rU(tQ(C)))).forEach((e=>{n[e]=function(){for(var t,n,r,i,o,s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];null===(r=p[e])||void 0===r||(t=r).call.apply(t,[p].concat(a)),null===(o=(i=b.props)[e])||void 0===o||(n=o).call.apply(n,[i].concat(a))}}));const r=[n["aria-required"],n["aria-invalid"],n["aria-describedby"]];m=t.createElement(SY,{control:p,update:b,childProps:r},hQ(b,n))}else m=w&&(a||o)&&!x?b(s):b;else;return U(m,d,h)})))};kY.useStatus=gQ;const TY=kY;var IY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const OY=e=>{var{prefixCls:n,children:r}=e,i=IY(e,["prefixCls","children"]);const{getPrefixCls:o}=t.useContext(uK),s=o("form",n),a=t.useMemo((()=>({prefixCls:s,status:"error"})),[s]);return t.createElement(Oz,Object.assign({},i),((e,n,i)=>t.createElement(Jz.Provider,{value:a},r(e.map((e=>Object.assign(Object.assign({},e),{fieldKey:e.key}))),n,{errors:i.errors,warnings:i.warnings}))))};const NY=lQ;NY.Item=TY,NY.List=OY,NY.ErrorList=BK,NY.useForm=oQ,NY.useFormInstance=function(){const{form:e}=(0,t.useContext)(Xz);return e},NY.useWatch=Wz,NY.Provider=Yz,NY.create=()=>{};const RY=NY;function PY(e,t,n){const{focusElCls:r,focus:i,borderElCls:o}=n,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map((e=>"&:".concat(e," ").concat(s))).join(",");return{["&-item:not(".concat(t,"-last-item)")]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{["&".concat(r)]:{zIndex:2}}:{}),{["&[disabled] ".concat(s)]:{zIndex:0}})}}function AY(e,t,n){const{borderElCls:r}=n,i=r?"> ".concat(r):"";return{["&-item:not(".concat(t,"-first-item):not(").concat(t,"-last-item) ").concat(i)]:{borderRadius:0},["&-item:not(".concat(t,"-last-item)").concat(t,"-first-item")]:{["& ".concat(i,", &").concat(e,"-sm ").concat(i,", &").concat(e,"-lg ").concat(i)]:{borderStartEndRadius:0,borderEndEndRadius:0}},["&-item:not(".concat(t,"-first-item)").concat(t,"-last-item")]:{["& ".concat(i,", &").concat(e,"-sm ").concat(i,", &").concat(e,"-lg ").concat(i)]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function DY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0};const{componentCls:n}=e,r="".concat(n,"-compact");return{[r]:Object.assign(Object.assign({},PY(e,r,t)),AY(n,r,t))}}function MY(e){return rK(e,{inputAffixPadding:e.paddingXXS})}const LY=e=>{const{controlHeight:t,fontSize:n,lineHeight:r,lineWidth:i,controlHeightSM:o,controlHeightLG:s,fontSizeLG:a,lineHeightLG:c,paddingSM:l,controlPaddingHorizontalSM:u,controlPaddingHorizontal:d,colorFillAlter:h,colorPrimaryHover:f,colorPrimary:p,controlOutlineWidth:m,controlOutline:g,colorErrorOutline:v,colorWarningOutline:y,colorBgContainer:b}=e;return{paddingBlock:Math.max(Math.round((t-n*r)/2*10)/10-i,0),paddingBlockSM:Math.max(Math.round((o-n*r)/2*10)/10-i,0),paddingBlockLG:Math.ceil((s-a*c)/2*10)/10-i,paddingInline:l-i,paddingInlineSM:u-i,paddingInlineLG:d-i,addonBg:h,activeBorderColor:p,hoverBorderColor:f,activeShadow:"0 0 0 ".concat(m,"px ").concat(g),errorActiveShadow:"0 0 0 ".concat(m,"px ").concat(v),warningActiveShadow:"0 0 0 ".concat(m,"px ").concat(y),hoverBg:b,activeBg:b,inputFontSize:n,inputFontSizeLG:a,inputFontSizeSM:n}},FY=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),jY=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},FY(rK(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),BY=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),UY=(e,t)=>({["&".concat(e.componentCls,"-status-").concat(t.status,":not(").concat(e.componentCls,"-disabled)")]:Object.assign(Object.assign({},BY(e,t)),{["".concat(e.componentCls,"-prefix, ").concat(e.componentCls,"-suffix")]:{color:t.affixColor}})}),zY=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},BY(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{["&".concat(e.componentCls,"-disabled, &[disabled]")]:Object.assign({},jY(e))}),UY(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),UY(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),VY=(e,t)=>({["&".concat(e.componentCls,"-group-wrapper-status-").concat(t.status)]:{["".concat(e.componentCls,"-group-addon")]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),qY=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({["".concat(e.componentCls,"-group")]:{"&-addon":{background:e.addonBg,border:"".concat(Wq(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},VY(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),VY(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{["&".concat(e.componentCls,"-group-wrapper-disabled")]:{["".concat(e.componentCls,"-group-addon")]:Object.assign({},jY(e))}})}),HY=(e,t)=>({"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},["&".concat(e.componentCls,"-disabled, &[disabled]")]:{color:e.colorTextDisabled}},t)}),WY=(e,t)=>({background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:null===t||void 0===t?void 0:t.inputColor},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}),GY=(e,t)=>({["&".concat(e.componentCls,"-status-").concat(t.status,":not(").concat(e.componentCls,"-disabled)")]:Object.assign(Object.assign({},WY(e,t)),{["".concat(e.componentCls,"-prefix, ").concat(e.componentCls,"-suffix")]:{color:t.affixColor}})}),KY=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},WY(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.colorPrimary})),{["&".concat(e.componentCls,"-disabled, &[disabled]")]:Object.assign({},jY(e))}),GY(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),GY(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),QY=(e,t)=>({["&".concat(e.componentCls,"-group-wrapper-status-").concat(t.status)]:{["".concat(e.componentCls,"-group-addon")]:{background:t.addonBg,color:t.addonColor}}}),XY=e=>({"&-filled":Object.assign(Object.assign(Object.assign({["".concat(e.componentCls,"-group")]:{"&-addon":{background:e.colorFillTertiary},["".concat(e.componentCls,"-filled:not(:focus):not(:focus-within)")]:{"&:not(:first-child)":{borderInlineStart:"".concat(Wq(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)},"&:not(:last-child)":{borderInlineEnd:"".concat(Wq(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)}}}},QY(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),QY(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{["&".concat(e.componentCls,"-group-wrapper-disabled")]:{["".concat(e.componentCls,"-group")]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:"".concat(Wq(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderTop:"".concat(Wq(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderBottom:"".concat(Wq(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)},"&-addon:last-child":{borderInlineEnd:"".concat(Wq(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderTop:"".concat(Wq(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderBottom:"".concat(Wq(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)}}}})}),$Y=e=>{const{paddingBlockLG:t,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:i}=e;return{padding:"".concat(Wq(t)," ").concat(Wq(i)),fontSize:e.inputFontSizeLG,lineHeight:n,borderRadius:r}},YY=e=>({padding:"".concat(Wq(e.paddingBlockSM)," ").concat(Wq(e.paddingInlineSM)),fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),JY=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:"".concat(Wq(e.paddingBlock)," ").concat(Wq(e.paddingInline)),color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:"all ".concat(e.motionDurationMid)},{"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e.colorTextPlaceholder,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:"all ".concat(e.motionDurationSlow,", height 0s"),resize:"vertical"},"&-lg":Object.assign({},$Y(e)),"&-sm":Object.assign({},YY(e)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),ZY=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},["&-lg ".concat(t,", &-lg > ").concat(t,"-group-addon")]:Object.assign({},$Y(e)),["&-sm ".concat(t,", &-sm > ").concat(t,"-group-addon")]:Object.assign({},YY(e)),["&-lg ".concat(n,"-select-single ").concat(n,"-select-selector")]:{height:e.controlHeightLG},["&-sm ".concat(n,"-select-single ").concat(n,"-select-selector")]:{height:e.controlHeightSM},["> ".concat(t)]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},["".concat(t,"-group")]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:"0 ".concat(Wq(e.paddingInline)),color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:"all ".concat(e.motionDurationSlow),lineHeight:1,["".concat(n,"-select")]:{margin:"".concat(Wq(e.calc(e.paddingBlock).add(1).mul(-1).equal())," ").concat(Wq(e.calc(e.paddingInline).mul(-1).equal())),["&".concat(n,"-select-single:not(").concat(n,"-select-customize-input):not(").concat(n,"-pagination-size-changer)")]:{["".concat(n,"-select-selector")]:{backgroundColor:"inherit",border:"".concat(Wq(e.lineWidth)," ").concat(e.lineType," transparent"),boxShadow:"none"}},"&-open, &-focused":{["".concat(n,"-select-selector")]:{color:e.colorPrimary}}},["".concat(n,"-cascader-picker")]:{margin:"-9px ".concat(Wq(e.calc(e.paddingInline).mul(-1).equal())),backgroundColor:"transparent",["".concat(n,"-cascader-input")]:{textAlign:"start",border:0,boxShadow:"none"}}}},["".concat(t)]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,["".concat(t,"-search-with-button &")]:{zIndex:0}}},["> ".concat(t,":first-child, ").concat(t,"-group-addon:first-child")]:{borderStartEndRadius:0,borderEndEndRadius:0,["".concat(n,"-select ").concat(n,"-select-selector")]:{borderStartEndRadius:0,borderEndEndRadius:0}},["> ".concat(t,"-affix-wrapper")]:{["&:not(:first-child) ".concat(t)]:{borderStartStartRadius:0,borderEndStartRadius:0},["&:not(:last-child) ".concat(t)]:{borderStartEndRadius:0,borderEndEndRadius:0}},["> ".concat(t,":last-child, ").concat(t,"-group-addon:last-child")]:{borderStartStartRadius:0,borderEndStartRadius:0,["".concat(n,"-select ").concat(n,"-select-selector")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["".concat(t,"-affix-wrapper")]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,["".concat(t,"-search &")]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},["&:not(:first-child), ".concat(t,"-search &:not(:first-child)")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["&".concat(t,"-group-compact")]:Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{["".concat(t,"-group-addon, ").concat(t,"-group-wrap, > ").concat(t)]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},["\n        & > ".concat(t,"-affix-wrapper,\n        & > ").concat(t,"-number-affix-wrapper,\n        & > ").concat(n,"-picker-range\n      ")]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},["".concat(t)]:{float:"none"},["& > ".concat(n,"-select > ").concat(n,"-select-selector,\n      & > ").concat(n,"-select-auto-complete ").concat(t,",\n      & > ").concat(n,"-cascader-picker ").concat(t,",\n      & > ").concat(t,"-group-wrapper ").concat(t)]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},["& > ".concat(n,"-select-focused")]:{zIndex:1},["& > ".concat(n,"-select > ").concat(n,"-select-arrow")]:{zIndex:1},["& > *:first-child,\n      & > ".concat(n,"-select:first-child > ").concat(n,"-select-selector,\n      & > ").concat(n,"-select-auto-complete:first-child ").concat(t,",\n      & > ").concat(n,"-cascader-picker:first-child ").concat(t)]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},["& > *:last-child,\n      & > ".concat(n,"-select:last-child > ").concat(n,"-select-selector,\n      & > ").concat(n,"-cascader-picker:last-child ").concat(t,",\n      & > ").concat(n,"-cascader-picker-focused:last-child ").concat(t)]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},["& > ".concat(n,"-select-auto-complete ").concat(t)]:{verticalAlign:"top"},["".concat(t,"-group-wrapper + ").concat(t,"-group-wrapper")]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),["".concat(t,"-affix-wrapper")]:{borderRadius:0}},["".concat(t,"-group-wrapper:not(:last-child)")]:{["&".concat(t,"-search > ").concat(t,"-group")]:{["& > ".concat(t,"-group-addon > ").concat(t,"-search-button")]:{borderRadius:0},["& > ".concat(t)]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},eJ=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:r,calc:i}=e,o=i(n).sub(i(r).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},PG(e)),JY(e)),zY(e)),KY(e)),HY(e)),{'&[type="color"]':{height:e.controlHeight,["&".concat(t,"-lg")]:{height:e.controlHeightLG},["&".concat(t,"-sm")]:{height:n,paddingTop:o,paddingBottom:o}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},tJ=e=>{const{componentCls:t}=e;return{["".concat(t,"-clear-icon")]:{margin:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:"0 ".concat(Wq(e.inputAffixPadding))}}}},nJ=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:o,colorIconHover:s,iconCls:a}=e,c="".concat(t,"-affix-wrapper");return{[c]:Object.assign(Object.assign(Object.assign(Object.assign({},JY(e)),{display:"inline-flex",["&:not(".concat(t,"-disabled):hover")]:{zIndex:1,["".concat(t,"-search-with-button &")]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},["> input".concat(t)]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},["".concat(t)]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),tJ(e)),{["".concat(a).concat(t,"-password-icon")]:{color:o,cursor:"pointer",transition:"all ".concat(i),"&:hover":{color:s}}})}},rJ=e=>{const{componentCls:t,borderRadiusLG:n,borderRadiusSM:r}=e;return{["".concat(t,"-group")]:Object.assign(Object.assign(Object.assign({},PG(e)),ZY(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{["".concat(t,"-group-addon")]:{borderRadius:n,fontSize:e.inputFontSizeLG}},"&-sm":{["".concat(t,"-group-addon")]:{borderRadius:r}}},qY(e)),XY(e)),{["&:not(".concat(t,"-compact-first-item):not(").concat(t,"-compact-last-item)").concat(t,"-compact-item")]:{["".concat(t,", ").concat(t,"-group-addon")]:{borderRadius:0}},["&:not(".concat(t,"-compact-last-item)").concat(t,"-compact-first-item")]:{["".concat(t,", ").concat(t,"-group-addon")]:{borderStartEndRadius:0,borderEndEndRadius:0}},["&:not(".concat(t,"-compact-first-item)").concat(t,"-compact-last-item")]:{["".concat(t,", ").concat(t,"-group-addon")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["&:not(".concat(t,"-compact-last-item)").concat(t,"-compact-item")]:{["".concat(t,"-affix-wrapper")]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},iJ=e=>{const{componentCls:t,antCls:n}=e,r="".concat(t,"-search");return{[r]:{["".concat(t)]:{"&:hover, &:focus":{borderColor:e.colorPrimaryHover,["+ ".concat(t,"-group-addon ").concat(r,"-button:not(").concat(n,"-btn-primary)")]:{borderInlineStartColor:e.colorPrimaryHover}}},["".concat(t,"-affix-wrapper")]:{borderRadius:0},["".concat(t,"-lg")]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal({unit:!1})},["> ".concat(t,"-group")]:{["> ".concat(t,"-group-addon:last-child")]:{insetInlineStart:-1,padding:0,border:0,["".concat(r,"-button")]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius,borderEndStartRadius:0,boxShadow:"none"},["".concat(r,"-button:not(").concat(n,"-btn-primary)")]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},["&".concat(n,"-btn-loading::before")]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},["".concat(r,"-button")]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},["&-large ".concat(r,"-button")]:{height:e.controlHeightLG},["&-small ".concat(r,"-button")]:{height:e.controlHeightSM},"&-rtl":{direction:"rtl"},["&".concat(t,"-compact-item")]:{["&:not(".concat(t,"-compact-last-item)")]:{["".concat(t,"-group-addon")]:{["".concat(t,"-search-button")]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},["&:not(".concat(t,"-compact-first-item)")]:{["".concat(t,",").concat(t,"-affix-wrapper")]:{borderRadius:0}},["> ".concat(t,"-group-addon ").concat(t,"-search-button,\n        > ").concat(t,",\n        ").concat(t,"-affix-wrapper")]:{"&:hover,&:focus,&:active":{zIndex:2}},["> ".concat(t,"-affix-wrapper-focused")]:{zIndex:2}}}}},oJ=e=>{const{componentCls:t,paddingLG:n}=e,r="".concat(t,"-textarea");return{[r]:{position:"relative","&-show-count":{["> ".concat(t)]:{height:"100%"},["".concat(t,"-data-count")]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},"&-allow-clear":{["> ".concat(t)]:{paddingInlineEnd:n}},["&-affix-wrapper".concat(r,"-has-feedback")]:{["".concat(t)]:{paddingInlineEnd:n}},["&-affix-wrapper".concat(t,"-affix-wrapper")]:{padding:0,["> textarea".concat(t)]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},["".concat(t,"-suffix")]:{margin:0,"> *:not(:last-child)":{marginInline:0},["".concat(t,"-clear-icon")]:{position:"absolute",insetInlineEnd:e.paddingXS,insetBlockStart:e.paddingXS},["".concat(r,"-suffix")]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}},sJ=e=>{const{componentCls:t}=e;return{["".concat(t,"-out-of-range")]:{["&, & input, & textarea, ".concat(t,"-show-count-suffix, ").concat(t,"-data-count")]:{color:e.colorError}}}},aJ=xK("Input",(e=>{const t=rK(e,MY(e));return[eJ(t),oJ(t),nJ(t),rJ(t),iJ(t),sJ(t),DY(t)]}),LY),cJ=e=>{const{getPrefixCls:n,direction:r}=(0,t.useContext)(uK),{prefixCls:i,className:o}=e,s=n("input-group",i),a=n("input"),[c,l]=aJ(a),u=Rn()(s,{["".concat(s,"-lg")]:"large"===e.size,["".concat(s,"-sm")]:"small"===e.size,["".concat(s,"-compact")]:e.compact,["".concat(s,"-rtl")]:"rtl"===r},l,o),d=(0,t.useContext)(Zz),h=(0,t.useMemo)((()=>Object.assign(Object.assign({},d),{isFormItemInput:!1})),[d]);return c(t.createElement("span",{className:u,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},t.createElement(Zz.Provider,{value:h},e.children)))};function lJ(e,t,n){var r=t.cloneNode(!0),i=Object.create(e,{target:{value:r},currentTarget:{value:r}});return r.value=n,"number"===typeof t.selectionStart&&"number"===typeof t.selectionEnd&&(r.selectionStart=t.selectionStart,r.selectionEnd=t.selectionEnd),i}function uJ(e,t,n,r){if(n){var i=t;"click"!==t.type?"file"===e.type||void 0===r?n(i):n(i=lJ(t,e,r)):n(i=lJ(t,e,""))}}const dJ=function(e){var n,r,i=e.inputElement,o=e.children,s=e.prefixCls,a=e.prefix,c=e.suffix,l=e.addonBefore,u=e.addonAfter,d=e.className,h=e.style,p=e.disabled,m=e.readOnly,g=e.focused,v=e.triggerFocus,y=e.allowClear,b=e.value,w=e.handleReset,_=e.hidden,E=e.classes,C=e.classNames,x=e.dataAttrs,S=e.styles,k=e.components,T=null!==o&&void 0!==o?o:i,I=(null===k||void 0===k?void 0:k.affixWrapper)||"span",O=(null===k||void 0===k?void 0:k.groupWrapper)||"span",N=(null===k||void 0===k?void 0:k.wrapper)||"span",R=(null===k||void 0===k?void 0:k.groupAddon)||"span",P=(0,t.useRef)(null),A=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e),D=(0,t.cloneElement)(T,{value:b,className:Rn()(T.props.className,!A&&(null===C||void 0===C?void 0:C.variant))||null});if(A){var M,L=null;if(y){var F,j=!p&&!m&&b,B="".concat(s,"-clear-icon"),U="object"===GB(y)&&null!==y&&void 0!==y&&y.clearIcon?y.clearIcon:"\u2716";L=t.createElement("span",{onClick:w,onMouseDown:function(e){return e.preventDefault()},className:Rn()(B,(F={},YB(F,"".concat(B,"-hidden"),!j),YB(F,"".concat(B,"-has-suffix"),!!c),F)),role:"button",tabIndex:-1},U)}var z="".concat(s,"-affix-wrapper"),V=Rn()(z,(YB(M={},"".concat(s,"-disabled"),p),YB(M,"".concat(z,"-disabled"),p),YB(M,"".concat(z,"-focused"),g),YB(M,"".concat(z,"-readonly"),m),YB(M,"".concat(z,"-input-with-clear-btn"),c&&y&&b),M),null===E||void 0===E?void 0:E.affixWrapper,null===C||void 0===C?void 0:C.affixWrapper,null===C||void 0===C?void 0:C.variant),q=(c||y)&&t.createElement("span",{className:Rn()("".concat(s,"-suffix"),null===C||void 0===C?void 0:C.suffix),style:null===S||void 0===S?void 0:S.suffix},L,c);D=t.createElement(I,f({className:V,style:null===S||void 0===S?void 0:S.affixWrapper,onClick:function(e){var t;null!==(t=P.current)&&void 0!==t&&t.contains(e.target)&&(null===v||void 0===v||v())}},null===x||void 0===x?void 0:x.affixWrapper,{ref:P}),a&&t.createElement("span",{className:Rn()("".concat(s,"-prefix"),null===C||void 0===C?void 0:C.prefix),style:null===S||void 0===S?void 0:S.prefix},a),D,q)}if(function(e){return!(!e.addonBefore&&!e.addonAfter)}(e)){var H="".concat(s,"-group"),W="".concat(H,"-addon"),G="".concat(H,"-wrapper"),K=Rn()("".concat(s,"-wrapper"),H,null===E||void 0===E?void 0:E.wrapper,null===C||void 0===C?void 0:C.wrapper),Q=Rn()(G,YB({},"".concat(G,"-disabled"),p),null===E||void 0===E?void 0:E.group,null===C||void 0===C?void 0:C.groupWrapper);D=t.createElement(O,{className:Q},t.createElement(N,{className:K},l&&t.createElement(R,{className:W},l),D,u&&t.createElement(R,{className:W},u)))}return t.cloneElement(D,{className:Rn()(null===(n=D.props)||void 0===n?void 0:n.className,d)||null,style:ZB(ZB({},null===(r=D.props)||void 0===r?void 0:r.style),h),hidden:_})};var hJ=["show"];function fJ(e,n){return t.useMemo((function(){var t={};n&&(t.show="object"===GB(n)&&n.formatter?n.formatter:!!n);var r=t=ZB(ZB({},t),e),i=r.show,o=WB(r,hJ);return ZB(ZB({},o),{},{show:!!i,showFormatter:"function"===typeof i?i:void 0,strategy:o.strategy||function(e){return e.length}})}),[e,n])}var pJ=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],mJ=(0,t.forwardRef)((function(e,n){var r=e.autoComplete,i=e.onChange,o=e.onFocus,s=e.onBlur,a=e.onPressEnter,c=e.onKeyDown,l=e.prefixCls,u=void 0===l?"rc-input":l,d=e.disabled,h=e.htmlSize,p=e.className,m=e.maxLength,g=e.suffix,v=e.showCount,y=e.count,b=e.type,w=void 0===b?"text":b,_=e.classes,E=e.classNames,C=e.styles,x=e.onCompositionStart,S=e.onCompositionEnd,k=WB(e,pJ),T=Nz((0,t.useState)(!1),2),I=T[0],O=T[1],N=(0,t.useRef)(!1),R=(0,t.useRef)(null),P=function(e){R.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(R.current,e)},A=Nz(lK(e.defaultValue,{value:e.value}),2),D=A[0],M=A[1],L=void 0===D||null===D?"":String(D),F=Nz((0,t.useState)(null),2),j=F[0],B=F[1],U=fJ(y,v),z=U.max||m,V=U.strategy(L),q=!!z&&V>z;(0,t.useImperativeHandle)(n,(function(){return{focus:P,blur:function(){var e;null===(e=R.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=R.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=R.current)||void 0===e||e.select()},input:R.current}})),(0,t.useEffect)((function(){O((function(e){return(!e||!d)&&e}))}),[d]);var H=function(e,t,n){var r,o,s=t;if(!N.current&&U.exceedFormatter&&U.max&&U.strategy(t)>U.max)t!==(s=U.exceedFormatter(t,{max:U.max}))&&B([(null===(r=R.current)||void 0===r?void 0:r.selectionStart)||0,(null===(o=R.current)||void 0===o?void 0:o.selectionEnd)||0]);else if("compositionEnd"===n.source)return;M(s),R.current&&uJ(R.current,e,i,s)};(0,t.useEffect)((function(){var e;j&&(null===(e=R.current)||void 0===e||e.setSelectionRange.apply(e,rU(j)))}),[j]);var W=function(e){H(e,e.target.value,{source:"change"})},G=function(e){N.current=!1,H(e,e.currentTarget.value,{source:"compositionEnd"}),null===S||void 0===S||S(e)},K=function(e){a&&"Enter"===e.key&&a(e),null===c||void 0===c||c(e)},Q=function(e){O(!0),null===o||void 0===o||o(e)},X=function(e){O(!1),null===s||void 0===s||s(e)},$=q&&"".concat(u,"-out-of-range");return t.createElement(dJ,f({},k,{prefixCls:u,className:Rn()(p,$),handleReset:function(e){M(""),P(),R.current&&uJ(R.current,e,i)},value:L,focused:I,triggerFocus:P,suffix:function(){var e=Number(z)>0;if(g||U.show){var n=U.showFormatter?U.showFormatter({value:L,count:V,maxLength:z}):"".concat(V).concat(e?" / ".concat(z):"");return t.createElement(t.Fragment,null,U.show&&t.createElement("span",{className:Rn()("".concat(u,"-show-count-suffix"),YB({},"".concat(u,"-show-count-has-suffix"),!!g),null===E||void 0===E?void 0:E.count),style:ZB({},null===C||void 0===C?void 0:C.count)},n),g)}return null}(),disabled:d,classes:_,classNames:E,styles:C}),function(){var n=Qz(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames"]);return t.createElement("input",f({autoComplete:r},n,{onChange:W,onFocus:Q,onBlur:X,onKeyDown:K,className:Rn()(u,YB({},"".concat(u,"-disabled"),d),null===E||void 0===E?void 0:E.input),style:null===C||void 0===C?void 0:C.input,ref:R,size:h,type:w,onCompositionStart:function(e){N.current=!0,null===x||void 0===x||x(e)},onCompositionEnd:G}))}())}));const gJ=mJ,vJ=e=>{let n;return"object"===typeof e&&(null===e||void 0===e?void 0:e.clearIcon)?n=e:e&&(n={clearIcon:t.createElement(pY,null)}),n};function yJ(e,t,n){return Rn()({["".concat(e,"-status-success")]:"success"===t,["".concat(e,"-status-warning")]:"warning"===t,["".concat(e,"-status-error")]:"error"===t,["".concat(e,"-status-validating")]:"validating"===t,["".concat(e,"-has-feedback")]:n})}const bJ=(e,t)=>t||e,wJ=["outlined","borderless","filled"],_J=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const r=(0,t.useContext)(tV);let i;i="undefined"!==typeof e?e:!1===n?"borderless":null!==r&&void 0!==r?r:"outlined";return[i,wJ.includes(i)]};function EJ(e,n){const r=(0,t.useRef)([]),i=()=>{r.current.push(setTimeout((()=>{var t,n,r,i;(null===(t=e.current)||void 0===t?void 0:t.input)&&"password"===(null===(n=e.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(r=e.current)||void 0===r?void 0:r.input.hasAttribute("value"))&&(null===(i=e.current)||void 0===i||i.input.removeAttribute("value"))})))};return(0,t.useEffect)((()=>(n&&i(),()=>r.current.forEach((e=>{e&&clearTimeout(e)})))),[]),i}var CJ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const xJ=(0,t.forwardRef)(((e,n)=>{var r;const{prefixCls:i,bordered:o=!0,status:s,size:a,disabled:c,onBlur:l,onFocus:u,suffix:d,allowClear:h,addonAfter:f,addonBefore:p,className:m,style:g,styles:v,rootClassName:y,onChange:b,classNames:w,variant:_}=e,E=CJ(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]);const{getPrefixCls:C,direction:x,input:S}=t.useContext(uK),k=C("input",i),T=(0,t.useRef)(null),I=NG(k),[O,N,R]=aJ(k,I),{compactSize:P,compactItemClassnames:A}=K$(k,x),D=WK((e=>{var t;return null!==(t=null!==a&&void 0!==a?a:P)&&void 0!==t?t:e})),M=t.useContext(VK),L=null!==c&&void 0!==c?c:M,{status:F,hasFeedback:j,feedbackIcon:B}=(0,t.useContext)(Zz),U=bJ(F,s),z=function(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}(e)||!!j;(0,t.useRef)(z);const V=EJ(T,!0),q=(j||d)&&t.createElement(t.Fragment,null,d,j&&B),H=vJ(null!==h&&void 0!==h?h:null===S||void 0===S?void 0:S.allowClear),[W,G]=_J(_,o);return O(t.createElement(gJ,Object.assign({ref:oV(n,T),prefixCls:k,autoComplete:null===S||void 0===S?void 0:S.autoComplete},E,{disabled:L,onBlur:e=>{V(),null===l||void 0===l||l(e)},onFocus:e=>{V(),null===u||void 0===u||u(e)},style:Object.assign(Object.assign({},null===S||void 0===S?void 0:S.style),g),styles:Object.assign(Object.assign({},null===S||void 0===S?void 0:S.styles),v),suffix:q,allowClear:H,className:Rn()(m,y,R,I,A,null===S||void 0===S?void 0:S.className),onChange:e=>{V(),null===b||void 0===b||b(e)},addonAfter:f&&t.createElement(Q$,null,t.createElement(eV,{override:!0,status:!0},f)),addonBefore:p&&t.createElement(Q$,null,t.createElement(eV,{override:!0,status:!0},p)),classNames:Object.assign(Object.assign(Object.assign({},w),null===S||void 0===S?void 0:S.classNames),{input:Rn()({["".concat(k,"-sm")]:"small"===D,["".concat(k,"-lg")]:"large"===D,["".concat(k,"-rtl")]:"rtl"===x},null===w||void 0===w?void 0:w.input,null===(r=null===S||void 0===S?void 0:S.classNames)||void 0===r?void 0:r.input,N),variant:Rn()({["".concat(k,"-").concat(W)]:G},yJ(k,U)),affixWrapper:Rn()({["".concat(k,"-affix-wrapper-sm")]:"small"===D,["".concat(k,"-affix-wrapper-lg")]:"large"===D,["".concat(k,"-affix-wrapper-rtl")]:"rtl"===x},N),wrapper:Rn()({["".concat(k,"-group-rtl")]:"rtl"===x},N),groupWrapper:Rn()({["".concat(k,"-group-wrapper-sm")]:"small"===D,["".concat(k,"-group-wrapper-lg")]:"large"===D,["".concat(k,"-group-wrapper-rtl")]:"rtl"===x,["".concat(k,"-group-wrapper-").concat(W)]:G},yJ("".concat(k,"-group-wrapper"),U,j),N)})})))}));const SJ=xJ;var kJ="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function TJ(e,t){return 0===e.indexOf(t)}const IJ=e=>{const{componentCls:t,paddingXS:n}=e;return{["".concat(t)]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,"&-rtl":{direction:"rtl"},["".concat(t,"-input")]:{textAlign:"center",paddingInline:e.paddingXXS},["&".concat(t,"-sm ").concat(t,"-input")]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},["&".concat(t,"-lg ").concat(t,"-input")]:{paddingInline:e.paddingXS}}}},OJ=xK(["Input","OTP"],(e=>{const t=rK(e,MY(e));return[IJ(t)]}),LY);var NJ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const RJ=t.forwardRef(((e,n)=>{const{value:r,onChange:i,onActiveChange:o,index:s}=e,a=NJ(e,["value","onChange","onActiveChange","index"]),c=t.useRef(null);t.useImperativeHandle(n,(()=>c.current));const l=()=>{VV((()=>{var e;const t=null===(e=c.current)||void 0===e?void 0:e.input;document.activeElement===t&&t&&t.select()}))};return t.createElement(SJ,Object.assign({},a,{ref:c,value:r,onInput:e=>{i(s,e.target.value)},onFocus:l,onKeyDown:e=>{let{key:t}=e;"ArrowLeft"===t?o(s-1):"ArrowRight"===t&&o(s+1),l()},onKeyUp:e=>{"Backspace"!==e.key||r||o(s-1),l()},onMouseDown:l,onMouseUp:l}))})),PJ=RJ;var AJ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function DJ(e){return(e||"").split("")}const MJ=t.forwardRef(((e,n)=>{const{prefixCls:r,length:i=6,size:o,defaultValue:s,value:a,onChange:c,formatter:l,variant:u,disabled:d,status:h,autoFocus:f}=e,p=AJ(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus"]),{getPrefixCls:m,direction:g}=t.useContext(uK),v=m("otp",r),y=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:ZB({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||TJ(n,"aria-"))||t.data&&TJ(n,"data-")||t.attr&&kJ.includes(n))&&(r[n]=e[n])})),r}(p,{aria:!0,data:!0,attr:!0}),b=NG(v),[w,_,E]=OJ(v,b),C=WK((e=>null!==o&&void 0!==o?o:e)),x=t.useContext(Zz),S=bJ(x.status,h),k=t.useMemo((()=>Object.assign(Object.assign({},x),{status:S,hasFeedback:!1,feedbackIcon:null})),[x,S]),T=t.useRef(null),I=t.useRef({});t.useImperativeHandle(n,(()=>({focus:()=>{var e;null===(e=I.current[0])||void 0===e||e.focus()},blur:()=>{var e;for(let t=0;t<i;t+=1)null===(e=I.current[t])||void 0===e||e.blur()},nativeElement:T.current})));const O=e=>l?l(e):e,[N,R]=t.useState(DJ(O(s||"")));t.useEffect((()=>{void 0!==a&&R(DJ(a))}),[a]);const P=aK((e=>{R(e),c&&e.length===i&&e.every((e=>e))&&e.some(((e,t)=>N[t]!==e))&&c(e.join(""))})),A=aK(((e,t)=>{let n=rU(N);for(let i=0;i<e;i+=1)n[i]||(n[i]="");t.length<=1?n[e]=t:n=n.slice(0,e).concat(DJ(t)),n=n.slice(0,i);for(let i=n.length-1;i>=0&&!n[i];i-=1)n.pop();const r=O(n.map((e=>e||" ")).join(""));return n=DJ(r).map(((e,t)=>" "!==e||n[t]?e:n[t])),n})),D=(e,t)=>{var n;const r=A(e,t),o=Math.min(e+t.length,i-1);o!==e&&(null===(n=I.current[o])||void 0===n||n.focus()),P(r)},M=e=>{var t;null===(t=I.current[e])||void 0===t||t.focus()},L={variant:u,disabled:d,status:S};return w(t.createElement("div",Object.assign({},y,{ref:T,className:Rn()(v,{["".concat(v,"-sm")]:"small"===C,["".concat(v,"-lg")]:"large"===C,["".concat(v,"-rtl")]:"rtl"===g},E,_)}),t.createElement(Zz.Provider,{value:k},new Array(i).fill(0).map(((e,n)=>{const r="otp-".concat(n),i=N[n]||"";return t.createElement(PJ,Object.assign({ref:e=>{I.current[n]=e},key:r,index:n,size:C,htmlSize:1,className:"".concat(v,"-input"),onChange:D,value:i,onActiveChange:M,autoFocus:0===n&&f},L))})))))})),LJ=MJ;const FJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};var jJ=function(e,n){return t.createElement(ZQ,f({},e,{ref:n,icon:FJ}))};const BJ=t.forwardRef(jJ);const UJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};var zJ=function(e,n){return t.createElement(ZQ,f({},e,{ref:n,icon:UJ}))};const VJ=t.forwardRef(zJ);var qJ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const HJ=e=>e?t.createElement(VJ,null):t.createElement(BJ,null),WJ={click:"onClick",hover:"onMouseOver"},GJ=t.forwardRef(((e,n)=>{const{visibilityToggle:r=!0}=e,i="object"===typeof r&&void 0!==r.visible,[o,s]=(0,t.useState)((()=>!!i&&r.visible)),a=(0,t.useRef)(null);t.useEffect((()=>{i&&s(r.visible)}),[i,r]);const c=EJ(a),l=()=>{const{disabled:t}=e;t||(o&&c(),s((e=>{var t;const n=!e;return"object"===typeof r&&(null===(t=r.onVisibleChange)||void 0===t||t.call(r,n)),n})))},{className:u,prefixCls:d,inputPrefixCls:h,size:f}=e,p=qJ(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:m}=t.useContext(uK),g=m("input",h),v=m("input-password",d),y=r&&(n=>{const{action:r="click",iconRender:i=HJ}=e,s=WJ[r]||"",a=i(o),c={[s]:l,className:"".concat(n,"-icon"),key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return t.cloneElement(t.isValidElement(a)?a:t.createElement("span",null,a),c)})(v),b=Rn()(v,u,{["".concat(v,"-").concat(f)]:!!f}),w=Object.assign(Object.assign({},Qz(p,["suffix","iconRender","visibilityToggle"])),{type:o?"text":"password",className:b,prefixCls:g,suffix:y});return f&&(w.size=f),t.createElement(SJ,Object.assign({ref:oV(n,a)},w))}));const KJ=GJ;const QJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};var XJ=function(e,n){return t.createElement(ZQ,f({},e,{ref:n,icon:QJ}))};const $J=t.forwardRef(XJ),YJ=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:"var(--wave-color, ".concat(n,")"),boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:["box-shadow 0.4s ".concat(e.motionEaseOutCirc),"opacity 2s ".concat(e.motionEaseOutCirc)].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:["box-shadow ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut),"opacity ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut)].join(",")}}}}},JJ=EK("Wave",(e=>[YJ(e)])),ZJ="ant-wave-target";var eZ,tZ=ZB({},o),nZ=tZ.version,rZ=tZ.render,iZ=tZ.unmountComponentAtNode;try{Number((nZ||"").split(".")[0])>=18&&(eZ=tZ.createRoot)}catch(KK){}function oZ(e){var t=tZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===GB(t)&&(t.usingClientEntryPoint=e)}var sZ="__rc_react_root__";function aZ(e,t){eZ?function(e,t){oZ(!0);var n=t[sZ]||eZ(t);oZ(!1),n.render(e),t[sZ]=n}(e,t):function(e,t){rZ(e,t)}(e,t)}function cZ(e){return lZ.apply(this,arguments)}function lZ(){return(lZ=XB(KB().mark((function e(t){return KB().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[sZ])||void 0===e||e.unmount(),delete t[sZ]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uZ(e){iZ(e)}function dZ(){return(dZ=XB(KB().mark((function e(t){return KB().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===eZ){e.next=2;break}return e.abrupt("return",cZ(t));case 2:uZ(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hZ(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&function(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}function fZ(e){return Number.isNaN(e)?0:e}const pZ=e=>{const{className:n,target:r,component:i}=e,o=t.useRef(null),[s,a]=t.useState(null),[c,l]=t.useState([]),[u,d]=t.useState(0),[h,f]=t.useState(0),[p,m]=t.useState(0),[g,v]=t.useState(0),[y,b]=t.useState(!1),w={left:u,top:h,width:p,height:g,borderRadius:c.map((e=>"".concat(e,"px"))).join(" ")};function _(){const e=getComputedStyle(r);a(function(e){const{borderTopColor:t,borderColor:n,backgroundColor:r}=getComputedStyle(e);return hZ(t)?t:hZ(n)?n:hZ(r)?r:null}(r));const t="static"===e.position,{borderLeftWidth:n,borderTopWidth:i}=e;d(t?r.offsetLeft:fZ(-parseFloat(n))),f(t?r.offsetTop:fZ(-parseFloat(i))),m(r.offsetWidth),v(r.offsetHeight);const{borderTopLeftRadius:o,borderTopRightRadius:s,borderBottomLeftRadius:c,borderBottomRightRadius:u}=e;l([o,s,u,c].map((e=>fZ(parseFloat(e)))))}if(s&&(w["--wave-color"]=s),t.useEffect((()=>{if(r){const e=VV((()=>{_(),b(!0)}));let t;return"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(_),t.observe(r)),()=>{VV.cancel(e),null===t||void 0===t||t.disconnect()}}}),[]),!y)return null;const E=("Checkbox"===i||"Radio"===i)&&(null===r||void 0===r?void 0:r.classList.contains(ZJ));return t.createElement(sq,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(e,t)=>{var n;if(t.deadline||"opacity"===t.propertyName){const e=null===(n=o.current)||void 0===n?void 0:n.parentElement;(function(e){return dZ.apply(this,arguments)})(e).then((()=>{null===e||void 0===e||e.remove()}))}return!1}},(e=>{let{className:r}=e;return t.createElement("div",{ref:o,className:Rn()(n,{"wave-quick":E},r),style:w})}))},mZ=(e,n)=>{var r;const{component:i}=n;if("Checkbox"===i&&!(null===(r=e.querySelector("input"))||void 0===r?void 0:r.checked))return;const o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.top="0px",null===e||void 0===e||e.insertBefore(o,null===e||void 0===e?void 0:e.firstChild),aZ(t.createElement(pZ,Object.assign({},n,{target:e})),o)},gZ=(e,n,r)=>{const{wave:i}=t.useContext(uK),[,o,s]=OG(),a=aK((t=>{const a=e.current;if((null===i||void 0===i?void 0:i.disabled)||!a)return;const c=a.querySelector(".".concat(ZJ))||a,{showEffect:l}=i||{};(l||mZ)(c,{className:n,token:o,component:r,event:t,hashId:s})})),c=t.useRef();return e=>{VV.cancel(c.current),c.current=VV((()=>{a(e)}))}};const vZ=e=>{const{children:n,disabled:r,component:i}=e,{getPrefixCls:o}=(0,t.useContext)(uK),s=(0,t.useRef)(null),a=o("wave"),[,c]=JJ(a),l=gZ(s,Rn()(a,c),i);if(t.useEffect((()=>{const e=s.current;if(!e||1!==e.nodeType||r)return;const t=t=>{!vQ(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||l(t)};return e.addEventListener("click",t,!0),()=>{e.removeEventListener("click",t,!0)}}),[r]),!t.isValidElement(n))return null!==n&&void 0!==n?n:null;return hQ(n,{ref:aV(n)?oV(n.ref,s):s})};var yZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const bZ=t.createContext(void 0),wZ=e=>{const{getPrefixCls:n,direction:r}=t.useContext(uK),{prefixCls:i,size:o,className:s}=e,a=yZ(e,["prefixCls","size","className"]),c=n("btn-group",i),[,,l]=OG();let u="";switch(o){case"large":u="lg";break;case"small":u="sm"}const d=Rn()(c,{["".concat(c,"-").concat(u)]:u,["".concat(c,"-rtl")]:"rtl"===r},s,l);return t.createElement(bZ.Provider,{value:o},t.createElement("div",Object.assign({},a,{className:d})))},_Z=/^[\u4e00-\u9fa5]{2}$/,EZ=_Z.test.bind(_Z);function CZ(e){return"string"===typeof e}function xZ(e){return"text"===e||"link"===e}function SZ(e,n){let r=!1;const i=[];return t.Children.forEach(e,(e=>{const t=typeof e,n="string"===t||"number"===t;if(r&&n){const t=i.length-1,n=i[t];i[t]="".concat(n).concat(e)}else i.push(e);r=n})),t.Children.map(i,(e=>function(e,n){if(null===e||void 0===e)return;const r=n?" ":"";return"string"!==typeof e&&"number"!==typeof e&&CZ(e.type)&&EZ(e.props.children)?hQ(e,{children:e.props.children.split("").join(r)}):CZ(e)?EZ(e)?t.createElement("span",null,e.split("").join(r)):t.createElement("span",null,e):uQ(e)?t.createElement("span",null,e):e}(e,n)))}const kZ=(0,t.forwardRef)(((e,n)=>{const{className:r,style:i,children:o,prefixCls:s}=e,a=Rn()("".concat(s,"-icon"),r);return t.createElement("span",{ref:n,className:a,style:i},o)})),TZ=kZ,IZ=(0,t.forwardRef)(((e,n)=>{let{prefixCls:r,className:i,style:o,iconClassName:s}=e;const a=Rn()("".concat(r,"-loading-icon"),i);return t.createElement(TZ,{prefixCls:r,className:a,style:o,ref:n},t.createElement(wY,{className:s}))})),OZ=()=>({width:0,opacity:0,transform:"scale(0)"}),NZ=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),RZ=e=>{const{prefixCls:n,loading:r,existIcon:i,className:o,style:s}=e,a=!!r;return i?t.createElement(IZ,{prefixCls:n,className:o,style:s}):t.createElement(sq,{visible:a,motionName:"".concat(n,"-loading-icon-motion"),motionLeave:a,removeOnLeave:!0,onAppearStart:OZ,onAppearActive:NZ,onEnterStart:OZ,onEnterActive:NZ,onLeaveStart:NZ,onLeaveActive:OZ},((e,r)=>{let{className:i,style:a}=e;return t.createElement(IZ,{prefixCls:n,className:o,style:Object.assign(Object.assign({},s),a),ref:r,iconClassName:i})}))},PZ=(e,t)=>({["> span, > ".concat(e)]:{"&:not(:last-child)":{["&, & > ".concat(e)]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{["&, & > ".concat(e)]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),AZ=e=>{const{componentCls:t,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:o}=e;return{["".concat(t,"-group")]:[{position:"relative",display:"inline-flex",["> span, > ".concat(t)]:{"&:not(:last-child)":{["&, & > ".concat(t)]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(r).mul(-1).equal(),["&, & > ".concat(t)]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},["".concat(t,"-icon-only")]:{fontSize:n}},PZ("".concat(t,"-primary"),i),PZ("".concat(t,"-danger"),o)]}},DZ=e=>{const{paddingInline:t,onlyIconSize:n,paddingBlock:r}=e;return rK(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:r,buttonIconOnlyFontSize:n})},MZ=e=>{var t,n,r,i,o,s;const a=null!==(t=e.contentFontSize)&&void 0!==t?t:e.fontSize,c=null!==(n=e.contentFontSizeSM)&&void 0!==n?n:e.fontSize,l=null!==(r=e.contentFontSizeLG)&&void 0!==r?r:e.fontSizeLG,u=null!==(i=e.contentLineHeight)&&void 0!==i?i:dG(a),d=null!==(o=e.contentLineHeightSM)&&void 0!==o?o:dG(c),h=null!==(s=e.contentLineHeightLG)&&void 0!==s?s:dG(l);return{fontWeight:400,defaultShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.controlTmpOutline),primaryShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.controlOutline),dangerShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.colorErrorOutline),primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:e.fontSizeLG,onlyIconSizeSM:e.fontSizeLG-2,onlyIconSizeLG:e.fontSizeLG+2,groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:e.colorBgTextHover,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,contentFontSize:a,contentFontSizeSM:c,contentFontSizeLG:l,contentLineHeight:u,contentLineHeightSM:d,contentLineHeightLG:h,paddingBlock:Math.max((e.controlHeight-a*u)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-c*d)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-l*h)/2-e.lineWidth,0)}},LZ=e=>{const{componentCls:t,iconCls:n,fontWeight:r}=e;return{[t]:{outline:"none",position:"relative",display:"inline-block",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:"".concat(Wq(e.lineWidth)," ").concat(e.lineType," transparent"),cursor:"pointer",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut),userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},["".concat(t,"-icon")]:{lineHeight:0},["> ".concat(n," + span, > span + ").concat(n)]:{marginInlineStart:e.marginXS},["&:not(".concat(t,"-icon-only) > ").concat(t,"-icon")]:{["&".concat(t,"-loading-icon, &:not(:last-child)")]:{marginInlineEnd:e.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},LG(e)),["&".concat(t,"-two-chinese-chars::first-letter")]:{letterSpacing:"0.34em"},["&".concat(t,"-two-chinese-chars > *:not(").concat(n,")")]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},["&-icon-only".concat(t,"-compact-item")]:{flex:"none"}}}},FZ=(e,t,n)=>({["&:not(:disabled):not(".concat(e,"-disabled)")]:{"&:hover":t,"&:active":n}}),jZ=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),BZ=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),UZ=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),zZ=(e,t,n,r,i,o,s,a)=>({["&".concat(e,"-background-ghost")]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:r||void 0,boxShadow:"none"},FZ(e,Object.assign({background:t},s),Object.assign({background:t},a))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:o||void 0}})}),VZ=e=>({["&:disabled, &".concat(e.componentCls,"-disabled")]:Object.assign({},UZ(e))}),qZ=e=>Object.assign({},VZ(e)),HZ=e=>({["&:disabled, &".concat(e.componentCls,"-disabled")]:{cursor:"not-allowed",color:e.colorTextDisabled}}),WZ=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},qZ(e)),{background:e.defaultBg,borderColor:e.defaultBorderColor,color:e.defaultColor,boxShadow:e.defaultShadow}),FZ(e.componentCls,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),zZ(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),{["&".concat(e.componentCls,"-dangerous")]:Object.assign(Object.assign(Object.assign({color:e.colorError,borderColor:e.colorError},FZ(e.componentCls,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),zZ(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),VZ(e))}),GZ=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},qZ(e)),{color:e.primaryColor,background:e.colorPrimary,boxShadow:e.primaryShadow}),FZ(e.componentCls,{color:e.colorTextLightSolid,background:e.colorPrimaryHover},{color:e.colorTextLightSolid,background:e.colorPrimaryActive})),zZ(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),{["&".concat(e.componentCls,"-dangerous")]:Object.assign(Object.assign(Object.assign({background:e.colorError,boxShadow:e.dangerShadow,color:e.dangerColor},FZ(e.componentCls,{background:e.colorErrorHover},{background:e.colorErrorActive})),zZ(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),VZ(e))}),KZ=e=>Object.assign(Object.assign({},WZ(e)),{borderStyle:"dashed"}),QZ=e=>Object.assign(Object.assign(Object.assign({color:e.colorLink},FZ(e.componentCls,{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),HZ(e)),{["&".concat(e.componentCls,"-dangerous")]:Object.assign(Object.assign({color:e.colorError},FZ(e.componentCls,{color:e.colorErrorHover},{color:e.colorErrorActive})),HZ(e))}),XZ=e=>Object.assign(Object.assign(Object.assign({},FZ(e.componentCls,{color:e.colorText,background:e.textHoverBg},{color:e.colorText,background:e.colorBgTextActive})),HZ(e)),{["&".concat(e.componentCls,"-dangerous")]:Object.assign(Object.assign({color:e.colorError},HZ(e)),FZ(e.componentCls,{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBg}))}),$Z=e=>{const{componentCls:t}=e;return{["".concat(t,"-default")]:WZ(e),["".concat(t,"-primary")]:GZ(e),["".concat(t,"-dashed")]:KZ(e),["".concat(t,"-link")]:QZ(e),["".concat(t,"-text")]:XZ(e),["".concat(t,"-ghost")]:zZ(e.componentCls,e.ghostBg,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)}},YZ=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:i,lineHeight:o,borderRadius:s,buttonPaddingHorizontal:a,iconCls:c,buttonPaddingVertical:l}=e,u="".concat(n,"-icon-only");return[{["".concat(t)]:{fontSize:i,lineHeight:o,height:r,padding:"".concat(Wq(l)," ").concat(Wq(a)),borderRadius:s,["&".concat(u)]:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:r,paddingInlineStart:0,paddingInlineEnd:0,["&".concat(n,"-round")]:{width:"auto"},[c]:{fontSize:e.buttonIconOnlyFontSize}},["&".concat(n,"-loading")]:{opacity:e.opacityLoading,cursor:"default"},["".concat(n,"-loading-icon")]:{transition:"width ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut,", opacity ").concat(e.motionDurationSlow," ").concat(e.motionEaseInOut)}}},{["".concat(n).concat(n,"-circle").concat(t)]:jZ(e)},{["".concat(n).concat(n,"-round").concat(t)]:BZ(e)}]},JZ=e=>{const t=rK(e,{fontSize:e.contentFontSize,lineHeight:e.contentLineHeight});return YZ(t,e.componentCls)},ZZ=e=>{const t=rK(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,lineHeight:e.contentLineHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:e.paddingBlockSM,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return YZ(t,"".concat(e.componentCls,"-sm"))},e0=e=>{const t=rK(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,lineHeight:e.contentLineHeightLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:e.paddingBlockLG,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return YZ(t,"".concat(e.componentCls,"-lg"))},t0=e=>{const{componentCls:t}=e;return{[t]:{["&".concat(t,"-block")]:{width:"100%"}}}},n0=xK("Button",(e=>{const t=DZ(e);return[LZ(t),JZ(t),ZZ(t),e0(t),t0(t),$Z(t),AZ(t)]}),MZ,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function r0(e,t){return{["&-item:not(".concat(t,"-last-item)")]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function i0(e){const t="".concat(e.componentCls,"-compact-vertical");return{[t]:Object.assign(Object.assign({},r0(e,t)),(n=e.componentCls,r=t,{["&-item:not(".concat(r,"-first-item):not(").concat(r,"-last-item)")]:{borderRadius:0},["&-item".concat(r,"-first-item:not(").concat(r,"-last-item)")]:{["&, &".concat(n,"-sm, &").concat(n,"-lg")]:{borderEndEndRadius:0,borderEndStartRadius:0}},["&-item".concat(r,"-last-item:not(").concat(r,"-first-item)")]:{["&, &".concat(n,"-sm, &").concat(n,"-lg")]:{borderStartStartRadius:0,borderStartEndRadius:0}}}))};var n,r}const o0=e=>{const{componentCls:t,calc:n}=e;return{[t]:{["&-compact-item".concat(t,"-primary")]:{["&:not([disabled]) + ".concat(t,"-compact-item").concat(t,"-primary:not([disabled])")]:{position:"relative","&:before":{position:"absolute",top:n(e.lineWidth).mul(-1).equal(),insetInlineStart:n(e.lineWidth).mul(-1).equal(),display:"inline-block",width:e.lineWidth,height:"calc(100% + ".concat(Wq(e.lineWidth)," * 2)"),backgroundColor:e.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{["&".concat(t,"-primary")]:{["&:not([disabled]) + ".concat(t,"-compact-vertical-item").concat(t,"-primary:not([disabled])")]:{position:"relative","&:before":{position:"absolute",top:n(e.lineWidth).mul(-1).equal(),insetInlineStart:n(e.lineWidth).mul(-1).equal(),display:"inline-block",width:"calc(100% + ".concat(Wq(e.lineWidth)," * 2)"),height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}}}}}},s0=CK(["Button","compact"],(e=>{const t=DZ(e);return[DY(t),i0(t),o0(t)]}),MZ);var a0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const c0=t.forwardRef(((e,n)=>{var r,i;const{loading:o=!1,prefixCls:s,type:a,danger:c,shape:l="default",size:u,styles:d,disabled:h,className:f,rootClassName:p,children:m,icon:g,ghost:v=!1,block:y=!1,htmlType:b="button",classNames:w,style:_={}}=e,E=a0(e,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),C=a||"default",{getPrefixCls:x,autoInsertSpaceInButton:S,direction:k,button:T}=(0,t.useContext)(uK),I=x("btn",s),[O,N,R]=n0(I),P=(0,t.useContext)(VK),A=null!==h&&void 0!==h?h:P,D=(0,t.useContext)(bZ),M=(0,t.useMemo)((()=>function(e){if("object"===typeof e&&e){let t=null===e||void 0===e?void 0:e.delay;return t=Number.isNaN(t)||"number"!==typeof t?0:t,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}(o)),[o]),[L,F]=(0,t.useState)(M.loading),[j,B]=(0,t.useState)(!1),U=oV(n,(0,t.createRef)()),z=1===t.Children.count(m)&&!g&&!xZ(C);(0,t.useEffect)((()=>{let e=null;return M.delay>0?e=setTimeout((()=>{e=null,F(!0)}),M.delay):F(M.loading),function(){e&&(clearTimeout(e),e=null)}}),[M]),(0,t.useEffect)((()=>{if(!U||!U.current||!1===S)return;const e=U.current.textContent;z&&EZ(e)?j||B(!0):j&&B(!1)}),[U]);const V=t=>{const{onClick:n}=e;L||A?t.preventDefault():null===n||void 0===n||n(t)};const q=!1!==S,{compactSize:H,compactItemClassnames:W}=K$(I,k),G={large:"lg",small:"sm",middle:void 0},K=WK((e=>{var t,n;return null!==(n=null!==(t=null!==u&&void 0!==u?u:H)&&void 0!==t?t:D)&&void 0!==n?n:e})),Q=K&&G[K]||"",X=L?"loading":g,$=Qz(E,["navigate"]),Y=Rn()(I,N,R,{["".concat(I,"-").concat(l)]:"default"!==l&&l,["".concat(I,"-").concat(C)]:C,["".concat(I,"-").concat(Q)]:Q,["".concat(I,"-icon-only")]:!m&&0!==m&&!!X,["".concat(I,"-background-ghost")]:v&&!xZ(C),["".concat(I,"-loading")]:L,["".concat(I,"-two-chinese-chars")]:j&&q&&!L,["".concat(I,"-block")]:y,["".concat(I,"-dangerous")]:!!c,["".concat(I,"-rtl")]:"rtl"===k},W,f,p,null===T||void 0===T?void 0:T.className),J=Object.assign(Object.assign({},null===T||void 0===T?void 0:T.style),_),Z=Rn()(null===w||void 0===w?void 0:w.icon,null===(r=null===T||void 0===T?void 0:T.classNames)||void 0===r?void 0:r.icon),ee=Object.assign(Object.assign({},(null===d||void 0===d?void 0:d.icon)||{}),(null===(i=null===T||void 0===T?void 0:T.styles)||void 0===i?void 0:i.icon)||{}),te=g&&!L?t.createElement(TZ,{prefixCls:I,className:Z,style:ee},g):t.createElement(RZ,{existIcon:!!g,prefixCls:I,loading:!!L}),ne=m||0===m?SZ(m,z&&q):null;if(void 0!==$.href)return O(t.createElement("a",Object.assign({},$,{className:Rn()(Y,{["".concat(I,"-disabled")]:A}),href:A?void 0:$.href,style:J,onClick:V,ref:U,tabIndex:A?-1:0}),te,ne));let re=t.createElement("button",Object.assign({},E,{type:b,className:Y,style:J,onClick:V,disabled:A,ref:U}),te,ne,!!W&&t.createElement(s0,{key:"compact",prefixCls:I}));return xZ(C)||(re=t.createElement(vZ,{component:"Button",disabled:!!L},re)),O(re)})),l0=c0;l0.Group=wZ,l0.__ANT_BUTTON=!0;const u0=l0;var d0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const h0=t.forwardRef(((e,n)=>{const{prefixCls:r,inputPrefixCls:i,className:o,size:s,suffix:a,enterButton:c=!1,addonAfter:l,loading:u,disabled:d,onSearch:h,onChange:f,onCompositionStart:p,onCompositionEnd:m}=e,g=d0(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:v,direction:y}=t.useContext(uK),b=t.useRef(!1),w=v("input-search",r),_=v("input",i),{compactSize:E}=K$(w,y),C=WK((e=>{var t;return null!==(t=null!==s&&void 0!==s?s:E)&&void 0!==t?t:e})),x=t.useRef(null),S=e=>{var t;document.activeElement===(null===(t=x.current)||void 0===t?void 0:t.input)&&e.preventDefault()},k=e=>{var t,n;h&&h(null===(n=null===(t=x.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e,{source:"input"})},T="boolean"===typeof c?t.createElement($J,null):null,I="".concat(w,"-button");let O;const N=c||{},R=N.type&&!0===N.type.__ANT_BUTTON;O=R||"button"===N.type?hQ(N,Object.assign({onMouseDown:S,onClick:e=>{var t,n;null===(n=null===(t=null===N||void 0===N?void 0:N.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),k(e)},key:"enterButton"},R?{className:I,size:C}:{})):t.createElement(u0,{className:I,type:c?"primary":void 0,size:C,disabled:d,key:"enterButton",onMouseDown:S,onClick:k,loading:u,icon:T},c),l&&(O=[O,hQ(l,{key:"addonAfter"})]);const P=Rn()(w,{["".concat(w,"-rtl")]:"rtl"===y,["".concat(w,"-").concat(C)]:!!C,["".concat(w,"-with-button")]:!!c},o);return t.createElement(SJ,Object.assign({ref:oV(x,n),onPressEnter:e=>{b.current||u||k(e)}},g,{size:C,onCompositionStart:e=>{b.current=!0,null===p||void 0===p||p(e)},onCompositionEnd:e=>{b.current=!1,null===m||void 0===m||m(e)},prefixCls:_,addonAfter:O,suffix:a,onChange:e=>{e&&e.target&&"click"===e.type&&h&&h(e.target.value,e,{source:"clear"}),f&&f(e)},className:P,disabled:d}))}));const f0=h0;var p0,m0=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],g0={};function v0(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p0||((p0=document.createElement("textarea")).setAttribute("tab-index","-1"),p0.setAttribute("aria-hidden","true"),document.body.appendChild(p0)),e.getAttribute("wrap")?p0.setAttribute("wrap",e.getAttribute("wrap")):p0.removeAttribute("wrap");var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&g0[n])return g0[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),s=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),a={sizingStyle:m0.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),paddingSize:o,borderSize:s,boxSizing:i};return t&&n&&(g0[n]=a),a}(e,t),o=i.paddingSize,s=i.borderSize,a=i.boxSizing,c=i.sizingStyle;p0.setAttribute("style","".concat(c,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),p0.value=e.value||e.placeholder||"";var l,u=void 0,d=void 0,h=p0.scrollHeight;if("border-box"===a?h+=s:"content-box"===a&&(h-=o),null!==n||null!==r){p0.value=" ";var f=p0.scrollHeight-o;null!==n&&(u=f*n,"border-box"===a&&(u=u+o+s),h=Math.max(u,h)),null!==r&&(d=f*r,"border-box"===a&&(d=d+o+s),l=h>d?"":"hidden",h=Math.min(d,h))}var p={height:h,overflowY:l,resize:"none"};return u&&(p.minHeight=u),d&&(p.maxHeight=d),p}var y0=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],b0=t.forwardRef((function(e,n){var r=e,i=r.prefixCls,o=(r.onPressEnter,r.defaultValue),s=r.value,a=r.autoSize,c=r.onResize,l=r.className,u=r.style,d=r.disabled,h=r.onChange,p=(r.onInternalAutoSize,WB(r,y0)),m=lK(o,{value:s,postState:function(e){return null!==e&&void 0!==e?e:""}}),g=Nz(m,2),v=g[0],y=g[1],b=t.useRef();t.useImperativeHandle(n,(function(){return{textArea:b.current}}));var w=Nz(t.useMemo((function(){return a&&"object"===GB(a)?[a.minRows,a.maxRows]:[]}),[a]),2),_=w[0],E=w[1],C=!!a,x=Nz(t.useState(2),2),S=x[0],k=x[1],T=Nz(t.useState(),2),I=T[0],O=T[1],N=function(){k(0)};Zq((function(){C&&N()}),[s,_,E,C]),Zq((function(){if(0===S)k(1);else if(1===S){var e=v0(b.current,!1,_,E);k(2),O(e)}else!function(){try{if(document.activeElement===b.current){var e=b.current,t=e.selectionStart,n=e.selectionEnd,r=e.scrollTop;b.current.setSelectionRange(t,n),b.current.scrollTop=r}}catch(KK){}}()}),[S]);var R=t.useRef(),P=function(){VV.cancel(R.current)};t.useEffect((function(){return P}),[]);var A=C?I:null,D=ZB(ZB({},u),A);return 0!==S&&1!==S||(D.overflowY="hidden",D.overflowX="hidden"),t.createElement(YX,{onResize:function(e){2===S&&(null===c||void 0===c||c(e),a&&(P(),R.current=VV((function(){N()}))))},disabled:!(a||c)},t.createElement("textarea",f({},p,{ref:b,style:D,className:Rn()(i,l,YB({},"".concat(i,"-disabled"),d)),disabled:d,value:v,onChange:function(e){y(e.target.value),null===h||void 0===h||h(e)}})))}));const w0=b0;var _0=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize"],E0=t.forwardRef((function(e,n){var r,i,o=e.defaultValue,s=e.value,a=e.onFocus,c=e.onBlur,l=e.onChange,u=e.allowClear,d=e.maxLength,h=e.onCompositionStart,p=e.onCompositionEnd,m=e.suffix,g=e.prefixCls,v=void 0===g?"rc-textarea":g,y=e.showCount,b=e.count,w=e.className,_=e.style,E=e.disabled,C=e.hidden,x=e.classNames,S=e.styles,k=e.onResize,T=WB(e,_0),I=Nz(lK(o,{value:s,defaultValue:o}),2),O=I[0],N=I[1],R=void 0===O||null===O?"":String(O),P=Nz(t.useState(!1),2),A=P[0],D=P[1],M=t.useRef(!1),L=Nz(t.useState(null),2),F=L[0],j=L[1],B=(0,t.useRef)(null),U=function(){var e;return null===(e=B.current)||void 0===e?void 0:e.textArea},z=function(){U().focus()};(0,t.useImperativeHandle)(n,(function(){return{resizableTextArea:B.current,focus:z,blur:function(){U().blur()}}})),(0,t.useEffect)((function(){D((function(e){return!E&&e}))}),[E]);var V=Nz(t.useState(null),2),q=V[0],H=V[1];t.useEffect((function(){var e;q&&(e=U()).setSelectionRange.apply(e,rU(q))}),[q]);var W,G=fJ(b,y),K=null!==(r=G.max)&&void 0!==r?r:d,Q=Number(K)>0,X=G.strategy(R),$=!!K&&X>K,Y=function(e,t){var n=t;!M.current&&G.exceedFormatter&&G.max&&G.strategy(t)>G.max&&t!==(n=G.exceedFormatter(t,{max:G.max}))&&H([U().selectionStart||0,U().selectionEnd||0]),N(n),uJ(e.currentTarget,e,l,n)},J=m;G.show&&(W=G.showFormatter?G.showFormatter({value:R,count:X,maxLength:K}):"".concat(X).concat(Q?" / ".concat(K):""),J=t.createElement(t.Fragment,null,J,t.createElement("span",{className:Rn()("".concat(v,"-data-count"),null===x||void 0===x?void 0:x.count),style:null===S||void 0===S?void 0:S.count},W)));var Z=!T.autoSize&&!y&&!u;return t.createElement(dJ,{value:R,allowClear:u,handleReset:function(e){N(""),z(),uJ(U(),e,l)},suffix:J,prefixCls:v,classNames:ZB(ZB({},x),{},{affixWrapper:Rn()(null===x||void 0===x?void 0:x.affixWrapper,(i={},YB(i,"".concat(v,"-show-count"),y),YB(i,"".concat(v,"-textarea-allow-clear"),u),i))}),disabled:E,focused:A,className:Rn()(w,$&&"".concat(v,"-out-of-range")),style:ZB(ZB({},_),F&&!Z?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"===typeof W?W:void 0}},hidden:C},t.createElement(w0,f({},T,{maxLength:d,onKeyDown:function(e){var t=T.onPressEnter,n=T.onKeyDown;"Enter"===e.key&&t&&t(e),null===n||void 0===n||n(e)},onChange:function(e){Y(e,e.target.value)},onFocus:function(e){D(!0),null===a||void 0===a||a(e)},onBlur:function(e){D(!1),null===c||void 0===c||c(e)},onCompositionStart:function(e){M.current=!0,null===h||void 0===h||h(e)},onCompositionEnd:function(e){M.current=!1,Y(e,e.currentTarget.value),null===p||void 0===p||p(e)},className:Rn()(null===x||void 0===x?void 0:x.textarea),style:ZB(ZB({},null===S||void 0===S?void 0:S.textarea),{},{resize:null===_||void 0===_?void 0:_.resize}),disabled:E,prefixCls:v,onResize:function(e){var t;null===k||void 0===k||k(e),null!==(t=U())&&void 0!==t&&t.style.height&&j(!0)},ref:B})))}));const C0=E0;var x0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const S0=(0,t.forwardRef)(((e,n)=>{var r,i;const{prefixCls:o,bordered:s=!0,size:a,disabled:c,status:l,allowClear:u,classNames:d,rootClassName:h,className:f,style:p,styles:m,variant:g}=e,v=x0(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]);const{getPrefixCls:y,direction:b,textArea:w}=t.useContext(uK),_=WK(a),E=t.useContext(VK),C=null!==c&&void 0!==c?c:E,{status:x,hasFeedback:S,feedbackIcon:k}=t.useContext(Zz),T=bJ(x,l),I=t.useRef(null);t.useImperativeHandle(n,(()=>{var e;return{resizableTextArea:null===(e=I.current)||void 0===e?void 0:e.resizableTextArea,focus:e=>{var t,n;!function(e,t){if(!e)return;e.focus(t);const{cursor:n}=t||{};if(n){const t=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(t,t);break;default:e.setSelectionRange(0,t)}}}(null===(n=null===(t=I.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:()=>{var e;return null===(e=I.current)||void 0===e?void 0:e.blur()}}}));const O=y("input",o),N=NG(O),[R,P,A]=aJ(O,N),[D,M]=_J(g,s),L=vJ(null!==u&&void 0!==u?u:null===w||void 0===w?void 0:w.allowClear);return R(t.createElement(C0,Object.assign({autoComplete:null===w||void 0===w?void 0:w.autoComplete},v,{style:Object.assign(Object.assign({},null===w||void 0===w?void 0:w.style),p),styles:Object.assign(Object.assign({},null===w||void 0===w?void 0:w.styles),m),disabled:C,allowClear:L,className:Rn()(A,N,f,h,null===w||void 0===w?void 0:w.className),classNames:Object.assign(Object.assign(Object.assign({},d),null===w||void 0===w?void 0:w.classNames),{textarea:Rn()({["".concat(O,"-sm")]:"small"===_,["".concat(O,"-lg")]:"large"===_},P,null===d||void 0===d?void 0:d.textarea,null===(r=null===w||void 0===w?void 0:w.classNames)||void 0===r?void 0:r.textarea),variant:Rn()({["".concat(O,"-").concat(D)]:M},yJ(O,T)),affixWrapper:Rn()("".concat(O,"-textarea-affix-wrapper"),{["".concat(O,"-affix-wrapper-rtl")]:"rtl"===b,["".concat(O,"-affix-wrapper-sm")]:"small"===_,["".concat(O,"-affix-wrapper-lg")]:"large"===_,["".concat(O,"-textarea-show-count")]:e.showCount||(null===(i=e.count)||void 0===i?void 0:i.show)},P)}),prefixCls:O,suffix:S&&t.createElement("span",{className:"".concat(O,"-textarea-suffix")},k),ref:I})))})),k0=S0,T0=SJ;T0.Group=cJ,T0.Search=f0,T0.TextArea=k0,T0.Password=KJ,T0.OTP=LJ;const I0=T0;var O0=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],N0=(0,t.forwardRef)((function(e,n){var r=e.prefixCls,i=void 0===r?"rc-checkbox":r,o=e.className,s=e.style,a=e.checked,c=e.disabled,l=e.defaultChecked,u=void 0!==l&&l,d=e.type,h=void 0===d?"checkbox":d,p=e.title,m=e.onChange,g=WB(e,O0),v=(0,t.useRef)(null),y=Nz(lK(u,{value:a}),2),b=y[0],w=y[1];(0,t.useImperativeHandle)(n,(function(){return{focus:function(e){var t;null===(t=v.current)||void 0===t||t.focus(e)},blur:function(){var e;null===(e=v.current)||void 0===e||e.blur()},input:v.current}}));var _=Rn()(i,o,YB(YB({},"".concat(i,"-checked"),b),"".concat(i,"-disabled"),c));return t.createElement("span",{className:_,title:p,style:s},t.createElement("input",f({},g,{className:"".concat(i,"-input"),ref:v,onChange:function(t){c||("checked"in e||w(t.target.checked),null===m||void 0===m||m({target:ZB(ZB({},e),{},{type:h,checked:t.target.checked}),stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()},nativeEvent:t.nativeEvent}))},disabled:c,checked:!!b,type:h})),t.createElement("span",{className:"".concat(i,"-inner")}))}));const R0=N0,P0=t.createContext(null),A0=e=>{const{checkboxCls:t}=e,n="".concat(t,"-wrapper");return[{["".concat(t,"-group")]:Object.assign(Object.assign({},PG(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,["> ".concat(e.antCls,"-row")]:{flex:1}}),[n]:Object.assign(Object.assign({},PG(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},["& + ".concat(n)]:{marginInlineStart:0},["&".concat(n,"-in-form-item")]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},PG(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",["".concat(t,"-input")]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,["&:focus-visible + ".concat(t,"-inner")]:Object.assign({},MG(e))},["".concat(t,"-inner")]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:"".concat(Wq(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:"all ".concat(e.motionDurationSlow),"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:"".concat(Wq(e.lineWidthBold)," solid ").concat(e.colorWhite),borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:"all ".concat(e.motionDurationFast," ").concat(e.motionEaseInBack,", opacity ").concat(e.motionDurationFast)}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{["\n        ".concat(n,":not(").concat(n,"-disabled),\n        ").concat(t,":not(").concat(t,"-disabled)\n      ")]:{["&:hover ".concat(t,"-inner")]:{borderColor:e.colorPrimary}},["".concat(n,":not(").concat(n,"-disabled)")]:{["&:hover ".concat(t,"-checked:not(").concat(t,"-disabled) ").concat(t,"-inner")]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},["&:hover ".concat(t,"-checked:not(").concat(t,"-disabled):after")]:{borderColor:e.colorPrimaryHover}}},{["".concat(t,"-checked")]:{["".concat(t,"-inner")]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseOutBack," ").concat(e.motionDurationFast)}}},["\n        ".concat(n,"-checked:not(").concat(n,"-disabled),\n        ").concat(t,"-checked:not(").concat(t,"-disabled)\n      ")]:{["&:hover ".concat(t,"-inner")]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{["".concat(t,"-inner")]:{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{["".concat(n,"-disabled")]:{cursor:"not-allowed"},["".concat(t,"-disabled")]:{["&, ".concat(t,"-input")]:{cursor:"not-allowed",pointerEvents:"none"},["".concat(t,"-inner")]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},["&".concat(t,"-indeterminate ").concat(t,"-inner::after")]:{background:e.colorTextDisabled}}}]};function D0(e,t){const n=rK(t,{checkboxCls:".".concat(e),checkboxSize:t.controlInteractiveSize});return[A0(n)]}const M0=xK("Checkbox",((e,t)=>{let{prefixCls:n}=t;return[D0(n,e)]}));var L0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const F0=(e,n)=>{var r;const{prefixCls:i,className:o,rootClassName:s,children:a,indeterminate:c=!1,style:l,onMouseEnter:u,onMouseLeave:d,skipGroup:h=!1,disabled:f}=e,p=L0(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:m,direction:g,checkbox:v}=t.useContext(uK),y=t.useContext(P0),{isFormItemInput:b}=t.useContext(Zz),w=t.useContext(VK),_=null!==(r=(null===y||void 0===y?void 0:y.disabled)||f)&&void 0!==r?r:w,E=t.useRef(p.value);t.useEffect((()=>{null===y||void 0===y||y.registerValue(p.value)}),[]),t.useEffect((()=>{if(!h)return p.value!==E.current&&(null===y||void 0===y||y.cancelValue(E.current),null===y||void 0===y||y.registerValue(p.value),E.current=p.value),()=>null===y||void 0===y?void 0:y.cancelValue(p.value)}),[p.value]);const C=m("checkbox",i),x=NG(C),[S,k,T]=M0(C,x),I=Object.assign({},p);y&&!h&&(I.onChange=function(){p.onChange&&p.onChange.apply(p,arguments),y.toggleOption&&y.toggleOption({label:a,value:p.value})},I.name=y.name,I.checked=y.value.includes(p.value));const O=Rn()("".concat(C,"-wrapper"),{["".concat(C,"-rtl")]:"rtl"===g,["".concat(C,"-wrapper-checked")]:I.checked,["".concat(C,"-wrapper-disabled")]:_,["".concat(C,"-wrapper-in-form-item")]:b},null===v||void 0===v?void 0:v.className,o,s,T,x,k),N=Rn()({["".concat(C,"-indeterminate")]:c},ZJ,k),R=c?"mixed":void 0;return S(t.createElement(vZ,{component:"Checkbox",disabled:_},t.createElement("label",{className:O,style:Object.assign(Object.assign({},null===v||void 0===v?void 0:v.style),l),onMouseEnter:u,onMouseLeave:d},t.createElement(R0,Object.assign({"aria-checked":R},I,{prefixCls:C,className:N,disabled:_,ref:n})),void 0!==a&&t.createElement("span",null,a))))};const j0=t.forwardRef(F0);var B0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const U0=t.forwardRef(((e,n)=>{const{defaultValue:r,children:i,options:o=[],prefixCls:s,className:a,rootClassName:c,style:l,onChange:u}=e,d=B0(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:h,direction:f}=t.useContext(uK),[p,m]=t.useState(d.value||r||[]),[g,v]=t.useState([]);t.useEffect((()=>{"value"in d&&m(d.value||[])}),[d.value]);const y=t.useMemo((()=>o.map((e=>"string"===typeof e||"number"===typeof e?{label:e,value:e}:e))),[o]),b=h("checkbox",s),w="".concat(b,"-group"),_=NG(b),[E,C,x]=M0(b,_),S=Qz(d,["value","disabled"]),k=o.length?y.map((e=>t.createElement(j0,{prefixCls:b,key:e.value.toString(),disabled:"disabled"in e?e.disabled:d.disabled,value:e.value,checked:p.includes(e.value),onChange:e.onChange,className:"".concat(w,"-item"),style:e.style,title:e.title,id:e.id,required:e.required},e.label))):i,T={toggleOption:e=>{const t=p.indexOf(e.value),n=rU(p);-1===t?n.push(e.value):n.splice(t,1),"value"in d||m(n),null===u||void 0===u||u(n.filter((e=>g.includes(e))).sort(((e,t)=>y.findIndex((t=>t.value===e))-y.findIndex((e=>e.value===t)))))},value:p,disabled:d.disabled,name:d.name,registerValue:e=>{v((t=>[].concat(rU(t),[e])))},cancelValue:e=>{v((t=>t.filter((t=>t!==e))))}},I=Rn()(w,{["".concat(w,"-rtl")]:"rtl"===f},a,c,x,_,C);return E(t.createElement("div",Object.assign({className:I,style:l},S,{ref:n}),t.createElement(P0.Provider,{value:T},k)))})),z0=U0,V0=j0;V0.Group=z0,V0.__ANT_CHECKBOX=!0;const q0=V0,H0=e=>{console.log("Success:",e)},W0=e=>{console.log("Failed:",e)},G0=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),o=$(),s=ee((e=>e.auth.error));let a=wn(Zt);return(0,Pn.jsx)(Pn.Fragment,{children:(0,Pn.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,Pn.jsxs)(RY,{name:"basic",labelCol:{span:8},wrapperCol:{span:8},style:{maxWidth:1e3,width:"100%"},initialValues:{remember:!0},onFinish:H0,onFinishFailed:W0,autoComplete:"off",children:[(0,Pn.jsx)("div",{className:"row m-4",children:(0,Pn.jsxs)("div",{className:"col-xl-12 ml-2  ",align:"center",children:[(0,Pn.jsx)("div",{id:"container",children:(0,Pn.jsx)("h1",{class:"logo-1 me-auto",children:(0,Pn.jsx)("a",{className:"logos",to:"",style:{color:"rgb(48, 140, 201)"},children:"financeFrenzy"})})}),(0,Pn.jsx)("h4",{style:{color:"black"},children:"We help build your Dream!"})]})}),(0,Pn.jsx)("div",{className:"row",children:(0,Pn.jsx)("div",{className:" col-xl-12 col-10 col-md-12 col-sm-12 m-4",children:(0,Pn.jsx)(RY.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:(0,Pn.jsx)(I0,{value:e,onChange:e=>n(e.target.value)})})})}),(0,Pn.jsx)("div",{className:"row",children:(0,Pn.jsxs)("div",{className:"col-xl-12 col-10 col-md-12 col-sm-12 m-4",children:[(0,Pn.jsx)(RY.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:(0,Pn.jsx)(I0.Password,{value:r,onChange:e=>i(e.target.value)})}),(0,Pn.jsx)("div",{className:"col-xl-12 col-12 col-md-12 col-sm-12 m-4",children:(0,Pn.jsx)(RY.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:(0,Pn.jsx)(q0,{children:"Remember me"})})}),(0,Pn.jsx)("div",{className:"col-xl-12 col-10 col-md-12 col-sm-12 m-4",children:(0,Pn.jsxs)(RY.Item,{wrapperCol:{offset:10,span:10},children:[(0,Pn.jsx)(u0,{onClick:()=>{Cj.auth().signInWithEmailAndPassword(e,r).then((e=>{const t=e.user;o((e=>({type:ae,payload:e}))(t)),console.log(t),a.push("/home")})).catch((e=>{const t=e.message;o((e=>({type:ce,payload:e}))(t))}))},type:"primary",htmlType:"submit",style:{height:"35px",width:"210px"},children:"Login"}),s&&(0,Pn.jsx)("p",{children:s})]})})]})})]})})})};class K0 extends t.Component{constructor(e){super(e),this.handleInputChange=e=>{this.setState({[e.target.name]:e.target.value})},this.handleRegister=()=>{const{email:e,password:t}=this.state;Cj.auth().createUserWithEmailAndPassword(e,t).then((e=>{e.user})).catch((e=>{e.code;const t=e.message;this.setState({error:t})}))},this.state={email:"",password:"",error:null}}render(){const{email:e,password:t,confirmPassword:n,error:r}=this.state;return(0,Pn.jsxs)("div",{className:"container-fluid",style:{margin:"10rem"},children:[(0,Pn.jsx)("h2",{children:"Register"}),(0,Pn.jsxs)("div",{className:"form-group",children:[(0,Pn.jsx)("label",{children:"Email"}),(0,Pn.jsx)("input",{type:"email",name:"email",className:"form-control",placeholder:"Enter your email",value:e,onChange:this.handleInputChange})]}),(0,Pn.jsxs)("div",{className:"form-group",children:[(0,Pn.jsx)("label",{children:"Password"}),(0,Pn.jsx)("input",{type:"password",name:"password",className:"form-control",placeholder:"Enter your password",value:t,onChange:this.handleInputChange})]}),(0,Pn.jsxs)("div",{className:"form-group",children:[(0,Pn.jsx)("label",{children:"Confirm Password"}),(0,Pn.jsx)("input",{type:"password",name:"confirmPassword",className:"form-control",placeholder:"Confirm your password",value:n,onChange:this.handleInputChange})]}),(0,Pn.jsx)("button",{className:"btn btn-primary",onClick:this.handleRegister,children:"Register"}),r&&(0,Pn.jsx)("p",{className:"text-danger",children:r}),(0,Pn.jsxs)("p",{children:["Already have an account? ",(0,Pn.jsx)(Tn,{to:"/login",children:"Login"})]})]})}}const Q0=K0,X0=t.createContext();function $0(e){let{children:n}=e;const[r,i]=(0,t.useState)();(0,t.useEffect)((()=>_j.onAuthStateChanged((e=>{i(e)}))),[]);const o={currentUser:r};return(0,Pn.jsx)(X0.Provider,{value:o,children:n})}const Y0=function(e){let{component:n,...r}=e;const{currentUser:i}=(0,t.useContext)(X0);return(0,Pn.jsx)(fn,{...r,render:e=>i?(0,Pn.jsx)(n,{...e}):(0,Pn.jsx)(cn,{to:"/login"})})};const J0=function(){return(0,Pn.jsx)("div",{classname:"App",children:(0,Pn.jsx)($0,{children:(0,Pn.jsx)(_n,{children:(0,Pn.jsxs)(bn,{children:[(0,Pn.jsx)(fn,{path:"/login",component:G0}),(0,Pn.jsx)(fn,{path:"/register",component:Q0}),(0,Pn.jsx)(Y0,{path:"/home",component:HB}),(0,Pn.jsx)(Y0,{path:"/",component:HB}),(0,Pn.jsx)(fn,{path:"/contact",component:zB})]})})})})};i.render((0,Pn.jsx)(h,{store:de,children:(0,Pn.jsx)(J0,{})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.5dce7f64.js.map