/*! For license information please see main.e0f41557.js.LICENSE.txt */
(()=>{var e={219:(e,t,n)=>{"use strict";var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),g=l(n),m=0;m<s.length;++m){var v=s[m];if(!o[v]&&(!r||!r[v])&&(!g||!g[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case g:case l:return e;default:return t}}case i:return t}}}function E(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||_(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===g},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},763:(e,t,n)=>{"use strict";e.exports=n(983)},740:e=>{"use strict";e.exports=function(e,t,n,r,i,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(a[c]=o[c]);if(t){s=t(o);for(var u=0;u<s.length;u++)r.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a}},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},132:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case g:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.isFragment=function(e){return v(e)===o},t.isMemo=function(e){return v(e)===p}},816:(e,t,n)=>{"use strict";e.exports=n(132)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(123),o=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},g={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(g,e)||!f.call(p,e)&&(h.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,C=60106,x=60107,S=60108,k=60114,T=60109,I=60110,O=60112,N=60113,P=60120,R=60115,A=60116,D=60121,M=60128,L=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var $=Symbol.for;E=$("react.element"),C=$("react.portal"),x=$("react.fragment"),S=$("react.strict_mode"),k=$("react.profiler"),T=$("react.provider"),I=$("react.context"),O=$("react.forward_ref"),N=$("react.suspense"),P=$("react.suspense_list"),R=$("react.memo"),A=$("react.lazy"),D=$("react.block"),$("react.scope"),M=$("react.opaque.id"),L=$("react.debug_trace_mode"),F=$("react.offscreen"),j=$("react.legacy_hidden")}var B,U="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}function V(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var q=!1;function H(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function W(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case C:return"Portal";case k:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case D:return G(e._render);case A:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ce(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,me,ve=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Ce=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(Ce[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ie=null,Oe=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(s(280));var t=e.stateNode;t&&(t=oi(t),Te(e.stateNode,e.type,t))}}function Pe(e){Ie?Oe?Oe.push(e):Oe=[e]:Ie=e}function Re(){if(Ie){var e=Ie,t=Oe;if(Oe=Ie=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ae(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var Le=Ae,Fe=!1,je=!1;function $e(){null===Ie&&null===Oe||(Me(),Re())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ue=!1;if(d)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){Ue=!1}function Ve(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var qe=!1,He=null,We=!1,Ge=null,Ke={onError:function(e){qe=!0,He=e}};function Qe(e,t,n,r,i,o,s,a,l){qe=!1,He=null,Ve.apply(Ke,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Xe(e)!==e)throw Error(s(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,st=[],at=null,lt=null,ct=null,ut=new Map,dt=new Map,ht=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function gt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(ot=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==at&&yt(at)&&(at=null),null!==lt&&yt(lt)&&(lt=null),null!==ct&&yt(ct)&&(ct=null),ut.forEach(bt),dt.forEach(bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function Et(e){function t(t){return _t(t,e)}if(0<st.length){_t(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&_t(at,e),null!==lt&&_t(lt,e),null!==ct&&_t(ct,e),ut.forEach(t),dt.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)vt(n),null===n.blockedOn&&ht.shift()}function Ct(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:Ct("Animation","AnimationEnd"),animationiteration:Ct("Animation","AnimationIteration"),animationstart:Ct("Animation","AnimationStart"),transitionend:Ct("Transition","TransitionEnd")},St={},kt={};function Tt(e){if(St[e])return St[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return St[e]=n[t];return e}d&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var It=Tt("animationend"),Ot=Tt("animationiteration"),Nt=Tt("animationstart"),Pt=Tt("transitionend"),Rt=new Map,At=new Map,Dt=["abort","abort",It,"animationEnd",Ot,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),At.set(r,t),Rt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Ft(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var l=o&~s;0!==l?(r=Ft(l),i=Lt):0!==(a&=o)&&(r=Ft(a),i=Lt)}else 0!==(o=n&~s)?(r=Ft(o),i=Lt):0!==a&&(r=Ft(a),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&s)){if(Ft(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function $t(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Bt(10,t):e;case 10:return 0===(e=Ut(192&~t))?Bt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Ut(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Wt|0)|0},Ht=Math.log,Wt=Math.LN2;var Gt=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,Qt=!0;function Xt(e,t,n,r){Fe||Me();var i=Jt,o=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=o)||$e()}}function Yt(e,t,n,r){Kt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<st.length&&-1<ft.indexOf(e))e=pt(null,e,t,n,r),st.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&gt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=pt(o,e,t,n,r),void st.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return lt=mt(lt,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ut.set(o,mt(ut.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,dt.set(o,mt(dt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;gt(e,r)}Mr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=ke(r);if(null!==(i=ni(i))){var o=Xe(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Ye(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Mr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function an(){return!1}function ln(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sn:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var cn,un,dn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=ln(hn),pn=i({},hn,{view:0,detail:0}),gn=ln(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(cn=e.screenX-dn.screenX,un=e.screenY-dn.screenY):un=cn=0,dn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),vn=ln(mn),yn=ln(i({},mn,{dataTransfer:0})),bn=ln(i({},pn,{relatedTarget:0})),wn=ln(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=ln(_n),Cn=ln(i({},hn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function In(){return Tn}var On=i({},pn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=ln(On),Pn=ln(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=ln(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=ln(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=ln(Dn),Ln=[9,13,27,32],Fn=d&&"CompositionEvent"in window,jn=null;d&&"documentMode"in document&&(jn=document.documentMode);var $n=d&&"TextEvent"in window&&!jn,Bn=d&&(!Fn||jn&&8<jn&&11>=jn),Un=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Kn(e,t,n,r){Pe(r),0<(t=Fr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Xn=null;function Yn(e){Or(e,0)}function Jn(e){if(Y(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(d){var tr;if(d){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",or),Xn=Qn=null)}function or(e){if("value"===e.propertyName&&Jn(Xn)){var t=[];if(Kn(t,Xn,e,ke(e)),e=Yn,Fe)e(t);else{Fe=!0;try{Ae(e,t)}finally{Fe=!1,$e()}}}}function sr(e,t,n){"focusin"===e?(ir(),Xn=n,(Qn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Xn)}function lr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},dr=Object.prototype.hasOwnProperty;function hr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!dr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function gr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=d&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,_r=null,Er=!1;function Cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==br||br!==J(r)||("selectionStart"in(r=br)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&hr(_r,r)||(_r=r,0<(r=Fr(wr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Dt,2);for(var xr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<xr.length;Sr++)At.set(xr[Sr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Qe.apply(this,arguments),qe){if(!qe)throw Error(s(198));var u=He;qe=!1,He=null,We||(We=!0,Ge=u)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Ir(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Ir(i,a,c),o=l}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Nr(e,t){var n=si(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Pr]||(e[Pr]=!0,a.forEach((function(t){Tr.has(t)||Ar(t,!1,e,null),Ar(t,!0,e,null)})))}function Ar(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=si(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Dr(o,e,i,t),s.add(a))}function Dr(e,t,n,r){var i=At.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=ni(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{return Le(e,t,n)}finally{je=!1,$e()}}((function(){var r=o,i=ke(n),s=[];e:{var a=Rt.get(e);if(void 0!==a){var l=fn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=bn;break;case"focusout":c="blur",l=bn;break;case"beforeblur":case"afterblur":l=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case It:case Ot:case Nt:l=wn;break;case Pt:l=An;break;case"scroll":l=gn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Be(p,h))&&u.push(Lr(p,g,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(d=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=vn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Pn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:ii(l),f=null==c?a:ii(c),(a=new u(g,p+"leave",l,n,i)).target=d,a.relatedTarget=f,g=null,ni(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=jr(f))p++;for(f=0,g=h;g;g=jr(g))f++;for(;0<p-f;)u=jr(u),p--;for(;0<f-p;)h=jr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=jr(u),h=jr(h)}u=null}else u=null;null!==l&&$r(s,a,l,u,!1),null!==c&&null!==d&&$r(s,d,c,u,!0)}if("select"===(l=(a=r?ii(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Zn;else if(Gn(a))if(er)m=cr;else{m=ar;var v=sr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=lr);switch(m&&(m=m(e,r))?Kn(s,m,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ie(a,"number",a.value)),v=r?ii(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(br=v,wr=r,_r=null);break;case"focusout":_r=wr=br=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Cr(s,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Cr(s,n,i)}var y;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(v=Fr(r,b)).length&&(b=new Cn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=qn(n))&&(b.data=y))),(y=$n?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(zn=!0,Un);case"textInput":return(e=t.data)===Un&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&Vn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new Cn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Or(s,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=Be(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Be(n,o))&&s.unshift(Lr(n,l,a)):i||null!=(l=Be(n,o))&&s.push(Lr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function Br(){}var Ur=null,zr=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,Zr="__reactProps$"+Yr,ei="__reactContainer$"+Yr,ti="__reactEvents$"+Yr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function oi(e){return e[Zr]||null}function si(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ai=[],li=-1;function ci(e){return{current:e}}function ui(e){0>li||(e.current=ai[li],ai[li]=null,li--)}function di(e,t){li++,ai[li]=e.current,e.current=t}var hi={},fi=ci(hi),pi=ci(!1),gi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ui(pi),ui(fi)}function bi(e,t,n){if(fi.current!==hi)throw Error(s(168));di(fi,t),di(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,G(t)||"Unknown",o));return i({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,gi=fi.current,di(fi,e),di(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=wi(e,t,gi),r.__reactInternalMemoizedMergedChildContext=e,ui(pi),ui(fi),di(fi,e)):ui(pi),di(pi,n)}var Ci=null,xi=null,Si=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Ii=o.unstable_shouldYield,Oi=o.unstable_requestPaint,Ni=o.unstable_now,Pi=o.unstable_getCurrentPriorityLevel,Ri=o.unstable_ImmediatePriority,Ai=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Fi={},ji=void 0!==Oi?Oi:function(){},$i=null,Bi=null,Ui=!1,zi=Ni(),Vi=1e4>zi?Ni:function(){return Ni()-zi};function qi(){switch(Pi()){case Ri:return 99;case Ai:return 98;case Di:return 97;case Mi:return 96;case Li:return 95;default:throw Error(s(332))}}function Hi(e){switch(e){case 99:return Ri;case 98:return Ai;case 97:return Di;case 96:return Mi;case 95:return Li;default:throw Error(s(332))}}function Wi(e,t){return e=Hi(e),Si(e,t)}function Gi(e,t,n){return e=Hi(e),ki(e,t,n)}function Ki(){if(null!==Bi){var e=Bi;Bi=null,Ti(e)}Qi()}function Qi(){if(!Ui&&null!==$i){Ui=!0;var e=0;try{var t=$i;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),$i=null}catch(n){throw null!==$i&&($i=$i.slice(e+1)),ki(Ri,Ki),n}finally{Ui=!1}}}var Xi=_.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,eo=null,to=null;function no(){to=eo=Zi=null}function ro(e){var t=Ji.current;ui(Ji),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Zi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fs=!0),e.firstContext=null)}function so(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Zi)throw Error(s(308));eo=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var ao=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ho(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;ao=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===a?s=u:a.next=u,a=c;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==a&&(null===h?d.firstBaseUpdate=u:h.next=u,d.lastBaseUpdate=c)}}if(null!==s){for(h=o.baseState,a=0,d=u=c=null;;){l=s.lane;var f=s.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(l=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,l);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=g.payload)?p.call(f,h,l):p)||void 0===l)break e;h=i({},h,l);break e;case 2:ao=!0}}null!==s.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[s]:l.push(s))}else f={eventTime:f,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(u=d=f,c=h):d=d.next=f,a|=l;if(null===(s=s.next)){if(null===(l=o.shared.pending))break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(c=h),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,za|=a,e.lanes=a,e.memoizedState=h}}function go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var mo=(new r.Component).refs;function vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fl(),i=pl(e),o=uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),gl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fl(),i=pl(e),o=uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),gl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fl(),r=pl(e),i=uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ho(e,i),gl(e,r,n)}};function bo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,o))}function wo(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"===typeof o&&null!==o?o=so(o):(i=vi(t)?gi:fi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=so(o):(o=vi(t)?gi:fi.current,i.context=mi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Co=Array.isArray;function xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function So(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Yl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xo(e,t,n),r.return=e,r):((r=Kl(n.type,n.key,n.props,null,e.mode,r)).ref=xo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ql(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Kl(t.type,t.key,t.props,null,e.mode,n)).ref=xo(e,null,t),n.return=e,n;case C:return(t=Jl(t,e.mode,n)).return=e,t}if(Co(t)||z(t))return(t=Ql(t,e.mode,n,null)).return=e,t;So(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===x?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case C:return n.key===i?u(e,t,n,r):null}if(Co(n)||z(n))return null!==i?null:d(e,t,n,r,null);So(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===x?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Co(r)||z(r))return d(t,e=e.get(n)||null,r,i,null);So(t,r)}return null}function g(i,s,a,l){for(var c=null,u=null,d=s,g=s=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,a[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),s=o(v,s,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===a.length)return n(i,d),c;if(null===d){for(;g<a.length;g++)null!==(d=h(i,a[g],l))&&(s=o(d,s,g),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(i,d);g<a.length;g++)null!==(m=p(d,i,g,a[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),c}function m(i,a,l,c){var u=z(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),a=o(b,a,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(a=o(y,a,m),null===d?u=y:d.sibling=y,d=y);return u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),u}return function(e,r,o,l){var c="object"===typeof o&&null!==o&&o.type===x&&null===o.key;c&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case E:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===x){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=xo(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===x?((r=Ql(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Kl(o.type,o.key,o.props,null,e.mode,l)).ref=xo(e,r,o),l.return=e,e=l)}return a(e);case C:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Jl(o,e.mode,l)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Yl(o,e.mode,l)).return=e,e=r),a(e);if(Co(o))return g(e,r,o,l);if(z(o))return m(e,r,o,l);if(u&&So(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,G(e.type)||"Component"))}return n(e,r)}}var To=ko(!0),Io=ko(!1),Oo={},No=ci(Oo),Po=ci(Oo),Ro=ci(Oo);function Ao(e){if(e===Oo)throw Error(s(174));return e}function Do(e,t){switch(di(Ro,t),di(Po,e),di(No,Oo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(No),di(No,t)}function Mo(){ui(No),ui(Po),ui(Ro)}function Lo(e){Ao(Ro.current);var t=Ao(No.current),n=pe(t,e.type);t!==n&&(di(Po,e),di(No,n))}function Fo(e){Po.current===e&&(ui(No),ui(Po))}var jo=ci(0);function $o(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=null,Uo=null,zo=!1;function Vo(e,t){var n=Hl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ho(e){if(zo){var t=Uo;if(t){var n=t;if(!qo(e,t)){if(!(t=Kr(n.nextSibling))||!qo(e,t))return e.flags=-1025&e.flags|2,zo=!1,void(Bo=e);Vo(Bo,n)}Bo=e,Uo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,zo=!1,Bo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function Go(e){if(e!==Bo)return!1;if(!zo)return Wo(e),zo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Uo;t;)Vo(e,t),t=Kr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Uo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Uo=null}}else Uo=Bo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){Uo=Bo=null,zo=!1}var Qo=[];function Xo(){for(var e=0;e<Qo.length;e++)Qo[e]._workInProgressVersionPrimary=null;Qo.length=0}var Yo=_.ReactCurrentDispatcher,Jo=_.ReactCurrentBatchConfig,Zo=0,es=null,ts=null,ns=null,rs=!1,is=!1;function os(){throw Error(s(321))}function ss(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function as(e,t,n,r,i,o){if(Zo=o,es=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?As:Ds,e=n(r,i),is){o=0;do{if(is=!1,!(25>o))throw Error(s(301));o+=1,ns=ts=null,t.updateQueue=null,Yo.current=Ms,e=n(r,i)}while(is)}if(Yo.current=Rs,t=null!==ts&&null!==ts.next,Zo=0,ns=ts=es=null,rs=!1,t)throw Error(s(300));return e}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ns?es.memoizedState=ns=e:ns=ns.next=e,ns}function cs(){if(null===ts){var e=es.alternate;e=null!==e?e.memoizedState:null}else e=ts.next;var t=null===ns?es.memoizedState:ns.next;if(null!==t)ns=t,ts=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ts=e).memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},null===ns?es.memoizedState=ns=e:ns=ns.next=e}return ns}function us(e,t){return"function"===typeof t?t(e):t}function ds(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ts,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,c=i;do{var u=c.lane;if((Zo&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=d,o=r):l=l.next=d,es.lanes|=u,za|=u}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=a,ur(r,t.memoizedState)||(Fs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function hs(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ur(o,t.memoizedState)||(Fs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function fs(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,Qo.push(t))),e)return n(t._source);throw Qo.push(t),Error(s(350))}function ps(e,t,n,r){var i=Da;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=Yo.current,c=l.useState((function(){return fs(i,t,n)})),u=c[1],d=c[0];c=ns;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,g=h.source;h=h.subscribe;var m=es;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=o(t._source);if(!ur(a,e)){e=n(t._source),ur(d,e)||(u(e),e=pl(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-qt(s),c=1<<l;r[l]|=e,s&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=pl(m);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),ur(p,n)&&ur(g,t)&&ur(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:d}).dispatch=u=Ps.bind(null,es,e),c.queue=e,c.baseQueue=null,d=fs(i,t,n),c.memoizedState=c.baseState=d),d}function gs(e,t,n){return ps(cs(),e,t,n)}function ms(e){var t=ls();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:e}).dispatch=Ps.bind(null,es,e),[t.memoizedState,e]}function vs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=es.updateQueue)?(t={lastEffect:null},es.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ys(e){return e={current:e},ls().memoizedState=e}function bs(){return cs().memoizedState}function ws(e,t,n,r){var i=ls();es.flags|=e,i.memoizedState=vs(1|t,n,void 0,void 0===r?null:r)}function _s(e,t,n,r){var i=cs();r=void 0===r?null:r;var o=void 0;if(null!==ts){var s=ts.memoizedState;if(o=s.destroy,null!==r&&ss(r,s.deps))return void vs(t,n,o,r)}es.flags|=e,i.memoizedState=vs(1|t,n,o,r)}function Es(e,t){return ws(516,4,e,t)}function Cs(e,t){return _s(516,4,e,t)}function xs(e,t){return _s(4,2,e,t)}function Ss(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ks(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_s(4,2,Ss.bind(null,t,e),n)}function Ts(){}function Is(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ss(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Os(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ss(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ns(e,t){var n=qi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Ps(e,t,n){var r=fl(),i=pl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===es||null!==s&&s===es)is=rs=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=s(a,n);if(o.eagerReducer=s,o.eagerState=l,ur(l,a))return}catch(c){}gl(e,i,r)}}var Rs={readContext:so,useCallback:os,useContext:os,useEffect:os,useImperativeHandle:os,useLayoutEffect:os,useMemo:os,useReducer:os,useRef:os,useState:os,useDebugValue:os,useDeferredValue:os,useTransition:os,useMutableSource:os,useOpaqueIdentifier:os,unstable_isNewReconciler:!1},As={readContext:so,useCallback:function(e,t){return ls().memoizedState=[e,void 0===t?null:t],e},useContext:so,useEffect:Es,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ws(4,2,Ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ws(4,2,e,t)},useMemo:function(e,t){var n=ls();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ls();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ps.bind(null,es,e),[r.memoizedState,e]},useRef:ys,useState:ms,useDebugValue:Ts,useDeferredValue:function(e){var t=ms(e),n=t[0],r=t[1];return Es((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ms(!1),t=e[0];return ys(e=Ns.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ls();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ps(r,e,t,n)},useOpaqueIdentifier:function(){if(zo){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(s(355))})),n=ms(t)[1];return 0===(2&es.mode)&&(es.flags|=516,vs(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return ms(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Ds={readContext:so,useCallback:Is,useContext:so,useEffect:Cs,useImperativeHandle:ks,useLayoutEffect:xs,useMemo:Os,useReducer:ds,useRef:bs,useState:function(){return ds(us)},useDebugValue:Ts,useDeferredValue:function(e){var t=ds(us),n=t[0],r=t[1];return Cs((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ds(us)[0];return[bs().current,e]},useMutableSource:gs,useOpaqueIdentifier:function(){return ds(us)[0]},unstable_isNewReconciler:!1},Ms={readContext:so,useCallback:Is,useContext:so,useEffect:Cs,useImperativeHandle:ks,useLayoutEffect:xs,useMemo:Os,useReducer:hs,useRef:bs,useState:function(){return hs(us)},useDebugValue:Ts,useDeferredValue:function(e){var t=hs(us),n=t[0],r=t[1];return Cs((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=hs(us)[0];return[bs().current,e]},useMutableSource:gs,useOpaqueIdentifier:function(){return hs(us)[0]},unstable_isNewReconciler:!1},Ls=_.ReactCurrentOwner,Fs=!1;function js(e,t,n,r){t.child=null===e?Io(t,null,n,r):To(t,e.child,n,r)}function $s(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=as(e,t,n,r,o,i),null===e||Fs?(t.flags|=1,js(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,sa(e,t,i))}function Bs(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!==typeof s||Wl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Kl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Us(e,t,s,r,i,o))}return s=e.child,0===(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?sa(e,t,o):(t.flags|=1,(e=Gl(s,r)).ref=t.ref,e.return=t,t.child=e)}function Us(e,t,n,r,i,o){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fs=!1,0===(o&i))return t.lanes=e.lanes,sa(e,t,o);0!==(16384&e.flags)&&(Fs=!0)}return qs(e,t,n,r,o)}function zs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Cl(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Cl(t,e),null;t.memoizedState={baseLanes:0},Cl(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Cl(t,r);return js(e,t,i,n),t.child}function Vs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qs(e,t,n,r,i){var o=vi(n)?gi:fi.current;return o=mi(t,o),oo(t,i),n=as(e,t,n,r,o,i),null===e||Fs?(t.flags|=1,js(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,sa(e,t,i))}function Hs(e,t,n,r,i){if(vi(n)){var o=!0;_i(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=so(c):c=mi(t,c=vi(n)?gi:fi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&_o(t,s,r,c),ao=!1;var h=t.memoizedState;s.state=h,po(t,r,s,i),l=t.memoizedState,a!==r||h!==l||pi.current||ao?("function"===typeof u&&(vo(t,n,u,r),l=t.memoizedState),(a=ao||bo(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4)):("function"===typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,co(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Yi(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=so(l):l=mi(t,l=vi(n)?gi:fi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&_o(t,s,r,l),ao=!1,h=t.memoizedState,s.state=h,po(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||pi.current||ao?("function"===typeof f&&(vo(t,n,f,r),p=t.memoizedState),(c=ao||bo(t,n,c,r,h,p,l))?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ws(e,t,n,r,o,i)}function Ws(e,t,n,r,i,o){Vs(e,t);var s=0!==(64&t.flags);if(!r&&!s)return i&&Ei(t,n,!1),sa(e,t,o);r=t.stateNode,Ls.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=To(t,e.child,null,o),t.child=To(t,null,a,o)):js(e,t,a,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Gs(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Do(e,t.containerInfo)}var Ks,Qs,Xs,Ys,Js={dehydrated:null,retryLane:0};function Zs(e,t,n){var r,i=t.pendingProps,o=jo.current,s=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),di(jo,1&o),null===e?(void 0!==i.fallback&&Ho(t),e=i.children,o=i.fallback,s?(e=ea(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Js,e):"number"===typeof i.unstable_expectedLoadTime?(e=ea(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Js,t.lanes=33554432,e):((n=Xl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=na(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Js,i):(n=ta(e,t,i.children,n),t.memoizedState=null,n))}function ea(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Xl(t,i,0,null),n=Ql(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ta(e,t,n,r){var i=e.child;return e=i.sibling,n=Gl(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function na(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0===(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gl(s,a),null!==e?r=Gl(e,r):(r=Ql(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ra(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function ia(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function oa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(js(e,t,r.children,n),0!==(2&(r=jo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ra(e,n);else if(19===e.tag)ra(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(jo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===$o(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ia(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===$o(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ia(t,!0,n,null,o,t.lastEffect);break;case"together":ia(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function sa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),za|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Gl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function aa(e,t){if(!zo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function la(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(t.type)&&yi(),null;case 3:return Mo(),ui(pi),ui(fi),Xo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Go(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Qs(t),null;case 5:Fo(t);var o=Ao(Ro.current);if(n=t.type,null!==e&&null!=t.stateNode)Xs(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Ao(No.current),Go(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Jr]=t,r[Zr]=a,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Nr(kr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,a),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Nr("invalid",r);break;case"textarea":le(r,a),Nr("invalid",r)}for(var c in xe(n,a),e=null,a)a.hasOwnProperty(c)&&(o=a[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":X(r),re(r,a,!0);break;case"textarea":X(r),ue(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===de&&(e=fe(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Ks(e,t,!1,!1),t.stateNode=e,c=Se(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),o=r;break;case"iframe":case"object":case"embed":Nr("load",e),o=r;break;case"video":case"audio":for(o=0;o<kr.length;o++)Nr(kr[o],e);o=r;break;case"source":Nr("error",e),o=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),o=r;break;case"details":Nr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Nr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":le(e,r),o=ae(e,r),Nr("invalid",e);break;default:o=r}xe(n,o);var u=o;for(a in u)if(u.hasOwnProperty(a)){var d=u[a];"style"===a?Ee(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===a?"string"===typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"===typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Nr("scroll",e):null!=d&&w(e,a,d,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Br)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ys(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=Ao(Ro.current),Ao(No.current),Go(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return ui(jo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Go(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&jo.current)?0===$a&&($a=3):(0!==$a&&3!==$a||($a=4),null===Da||0===(134217727&za)&&0===(134217727&Va)||bl(Da,La))),(r||n)&&(t.flags|=4),null);case 4:return Mo(),Qs(t),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(ui(jo),null===(r=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(c=r.rendering))if(a)aa(r,!1);else{if(0!==$a||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=$o(e))){for(t.flags|=64,aa(r,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return di(jo,1&jo.current|2),t.child}e=e.sibling}null!==r.tail&&Vi()>Ga&&(t.flags|=64,a=!0,aa(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=$o(c))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),aa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!zo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>Ga&&1073741824!==n&&(t.flags|=64,a=!0,aa(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=jo.current,di(jo,a?1&t|2:1&t),n):null;case 23:case 24:return xl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function ca(e){switch(e.tag){case 1:vi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Mo(),ui(pi),ui(fi),Xo(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Fo(e),null;case 13:return ui(jo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(jo),null;case 4:return Mo(),null;case 10:return ro(e),null;case 23:case 24:return xl(),null;default:return null}}function ua(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ks=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qs=function(){},Xs=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ao(No.current);var s,a=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),a=[];break;case"option":o=oe(e,o),r=oe(e,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),r=ae(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Br)}for(d in xe(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var c=o[d];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var u=r[d];if(c=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(null!=u||null!=c))if("style"===d)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(d,u)):"children"===d?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Nr("scroll",e),a||c===u||(a=[])):"object"===typeof u&&null!==u&&u.$$typeof===M?u.toString():(a=a||[]).push(d,u))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},Ys=function(e,t,n,r){n!==r&&(t.flags|=4)};var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ya||(Ya=!0,Ja=r),da(0,t)},n}function pa(e,t,n){(n=uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return da(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Za?Za=new Set([this]):Za.add(this),da(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ga="function"===typeof WeakSet?WeakSet:Set;function ma(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ul(e,n)}else t.current=null}function va(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(s(163))}function ya(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(jl(n,e),Fl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&go(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}go(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(s(163))}function ba(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function wa(e,t){if(xi&&"function"===typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(Ci,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))jl(t,n);else{r=t;try{i()}catch(o){Ul(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ma(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Ul(t,o)}break;case 5:ma(t);break;case 4:ka(e,t)}}function _a(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Ea(e){return 5===e.tag||3===e.tag||4===e.tag}function Ca(e){e:{for(var t=e.return;null!==t;){if(Ea(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ea(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xa(e,n,t):Sa(e,n,t)}function xa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(xa(e,t,n),e=e.sibling;null!==e;)xa(e,t,n),e=e.sibling}function Sa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Sa(e,t,n),e=e.sibling;null!==e;)Sa(e,t,n),e=e.sibling}function ka(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,c=l;;)if(wa(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(wa(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ta(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?Ee(n,l):"dangerouslySetInnerHTML"===a?ve(n,l):"children"===a?ye(n,l):w(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?se(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wa=Vi(),ba(t.child,!0)),void Ia(t);case 19:return void Ia(t);case 23:case 24:return void ba(t,null!==t.memoizedState)}throw Error(s(163))}function Ia(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ga),t.forEach((function(t){var r=Vl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Oa(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Na=Math.ceil,Pa=_.ReactCurrentDispatcher,Ra=_.ReactCurrentOwner,Aa=0,Da=null,Ma=null,La=0,Fa=0,ja=ci(0),$a=0,Ba=null,Ua=0,za=0,Va=0,qa=0,Ha=null,Wa=0,Ga=1/0;function Ka(){Ga=Vi()+500}var Qa,Xa=null,Ya=!1,Ja=null,Za=null,el=!1,tl=null,nl=90,rl=[],il=[],ol=null,sl=0,al=null,ll=-1,cl=0,ul=0,dl=null,hl=!1;function fl(){return 0!==(48&Aa)?Vi():-1!==ll?ll:ll=Vi()}function pl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===qi()?1:2;if(0===cl&&(cl=Ua),0!==Xi.transition){0!==ul&&(ul=null!==Ha?Ha.pendingLanes:0),e=cl;var t=4186112&~ul;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qi(),0!==(4&Aa)&&98===e?e=Bt(12,cl):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),cl),e}function gl(e,t,n){if(50<sl)throw sl=0,al=null,Error(s(185));if(null===(e=ml(e,t)))return null;Vt(e,t,n),e===Da&&(Va|=t,4===$a&&bl(e,La));var r=qi();1===t?0!==(8&Aa)&&0===(48&Aa)?wl(e):(vl(e,n),0===Aa&&(Ka(),Ki())):(0===(4&Aa)||98!==r&&99!==r||(null===ol?ol=new Set([e]):ol.add(e)),vl(e,n)),Ha=e}function ml(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-qt(a),c=1<<l,u=o[l];if(-1===u){if(0===(c&r)||0!==(c&i)){u=t,Ft(c);var d=Lt;o[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);a&=~c}if(r=jt(e,e===Da?La:0),t=Lt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=wl.bind(null,e),null===$i?($i=[n],Bi=ki(Ri,Qi)):$i.push(n),n=Fi):14===t?n=Gi(99,wl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=Gi(n,yl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yl(e){if(ll=-1,ul=cl=0,0!==(48&Aa))throw Error(s(327));var t=e.callbackNode;if(Ll()&&e.callbackNode!==t)return null;var n=jt(e,e===Da?La:0);if(0===n)return null;var r=n,i=Aa;Aa|=16;var o=Tl();for(Da===e&&La===r||(Ka(),Sl(e,r));;)try{Nl();break}catch(l){kl(e,l)}if(no(),Pa.current=o,Aa=i,null!==Ma?r=0:(Da=null,La=0,r=$a),0!==(Ua&Va))Sl(e,0);else if(0!==r){if(2===r&&(Aa|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=$t(e))&&(r=Il(e,n))),1===r)throw t=Ba,Sl(e,0),bl(e,n),vl(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:Al(e);break;case 3:if(bl(e,n),(62914560&n)===n&&10<(r=Wa+500-Vi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Al.bind(null,e),r);break}Al(e);break;case 4:if(bl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-qt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Na(n/1960))-n)){e.timeoutHandle=Hr(Al.bind(null,e),n);break}Al(e);break;default:throw Error(s(329))}}return vl(e,Vi()),e.callbackNode===t?yl.bind(null,e):null}function bl(e,t){for(t&=~qa,t&=~Va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function wl(e){if(0!==(48&Aa))throw Error(s(327));if(Ll(),e===Da&&0!==(e.expiredLanes&La)){var t=La,n=Il(e,t);0!==(Ua&Va)&&(n=Il(e,t=jt(e,t)))}else n=Il(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Aa|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=$t(e))&&(n=Il(e,t))),1===n)throw n=Ba,Sl(e,0),bl(e,t),vl(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Al(e),vl(e,Vi()),null}function _l(e,t){var n=Aa;Aa|=1;try{return e(t)}finally{0===(Aa=n)&&(Ka(),Ki())}}function El(e,t){var n=Aa;Aa&=-2,Aa|=8;try{return e(t)}finally{0===(Aa=n)&&(Ka(),Ki())}}function Cl(e,t){di(ja,Fa),Fa|=t,Ua|=t}function xl(){Fa=ja.current,ui(ja)}function Sl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ma)for(n=Ma.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Mo(),ui(pi),ui(fi),Xo();break;case 5:Fo(r);break;case 4:Mo();break;case 13:case 19:ui(jo);break;case 10:ro(r);break;case 23:case 24:xl()}n=n.return}Da=e,Ma=Gl(e.current,null),La=Fa=Ua=t,$a=0,Ba=null,qa=Va=za=0}function kl(e,t){for(;;){var n=Ma;try{if(no(),Yo.current=Rs,rs){for(var r=es.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}rs=!1}if(Zo=0,ns=ts=es=null,is=!1,Ra.current=null,null===n||null===n.return){$a=1,Ba=t,Ma=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=La,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var d=0!==(1&jo.current),h=s;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var g=h.memoizedProps;f=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!d)}}if(f){var m=h.updateQueue;if(null===m){var v=new Set;v.add(c),h.updateQueue=v}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=uo(-1,1);y.tag=2,ho(a,y)}a.lanes|=1;break e}l=void 0,a=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new ha,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(a)){l.add(a);var w=zl.bind(null,o,c,a);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((G(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==$a&&($a=2),l=ua(l,a),h=s;do{switch(h.tag){case 3:o=l,h.flags|=4096,t&=-t,h.lanes|=t,fo(h,fa(0,o,t));break e;case 1:o=l;var _=h.type,E=h.stateNode;if(0===(64&h.flags)&&("function"===typeof _.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Za||!Za.has(E)))){h.flags|=4096,t&=-t,h.lanes|=t,fo(h,pa(h,o,t));break e}}h=h.return}while(null!==h)}Rl(n)}catch(C){t=C,Ma===n&&null!==n&&(Ma=n=n.return);continue}break}}function Tl(){var e=Pa.current;return Pa.current=Rs,null===e?Rs:e}function Il(e,t){var n=Aa;Aa|=16;var r=Tl();for(Da===e&&La===t||Sl(e,t);;)try{Ol();break}catch(i){kl(e,i)}if(no(),Aa=n,Pa.current=r,null!==Ma)throw Error(s(261));return Da=null,La=0,$a}function Ol(){for(;null!==Ma;)Pl(Ma)}function Nl(){for(;null!==Ma&&!Ii();)Pl(Ma)}function Pl(e){var t=Qa(e.alternate,e,Fa);e.memoizedProps=e.pendingProps,null===t?Rl(e):Ma=t,Ra.current=null}function Rl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=la(n,t,Fa)))return void(Ma=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Fa)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ca(t)))return n.flags&=2047,void(Ma=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ma=t);Ma=t=e}while(null!==t);0===$a&&($a=5)}function Al(e){var t=qi();return Wi(99,Dl.bind(null,e,t)),null}function Dl(e,t){do{Ll()}while(null!==tl);if(0!==(48&Aa))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-qt(o),u=1<<c;i[c]=0,a[c]=-1,l[c]=-1,o&=~u}if(null!==ol&&0===(24&r)&&ol.has(e)&&ol.delete(e),e===Da&&(Ma=Da=null,La=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Aa,Aa|=32,Ra.current=null,Ur=Qt,vr(a=mr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(k){l=null;break e}var d=0,h=-1,f=-1,p=0,g=0,m=a,v=null;t:for(;;){for(var y;m!==l||0!==o&&3!==m.nodeType||(h=d+o),m!==c||0!==u&&3!==m.nodeType||(f=d+u),3===m.nodeType&&(d+=m.nodeValue.length),null!==(y=m.firstChild);)v=m,m=y;for(;;){if(m===a)break t;if(v===l&&++p===o&&(h=d),v===c&&++g===u&&(f=d),null!==(y=m.nextSibling))break;v=(m=v).parentNode}m=y}l=-1===h||-1===f?null:{start:h,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;zr={focusedElem:a,selectionRange:l},Qt=!1,dl=null,hl=!1,Xa=r;do{try{Ml()}catch(k){if(null===Xa)throw Error(s(330));Ul(Xa,k),Xa=Xa.nextEffect}}while(null!==Xa);dl=null,Xa=r;do{try{for(a=e;null!==Xa;){var b=Xa.flags;if(16&b&&ye(Xa.stateNode,""),128&b){var w=Xa.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:Ca(Xa),Xa.flags&=-3;break;case 6:Ca(Xa),Xa.flags&=-3,Ta(Xa.alternate,Xa);break;case 1024:Xa.flags&=-1025;break;case 1028:Xa.flags&=-1025,Ta(Xa.alternate,Xa);break;case 4:Ta(Xa.alternate,Xa);break;case 8:ka(a,l=Xa);var E=l.alternate;_a(l),null!==E&&_a(E)}Xa=Xa.nextEffect}}catch(k){if(null===Xa)throw Error(s(330));Ul(Xa,k),Xa=Xa.nextEffect}}while(null!==Xa);if(_=zr,w=mr(),b=_.focusedElem,a=_.selectionRange,w!==b&&b&&b.ownerDocument&&gr(b.ownerDocument.documentElement,b)){null!==a&&vr(b)&&(w=a.start,void 0===(_=a.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),l=b.textContent.length,E=Math.min(a.start,l),a=void 0===a.end?E:Math.min(a.end,l),!_.extend&&E>a&&(l=a,a=E,E=l),l=pr(b,E),o=pr(b,a),l&&o&&(1!==_.rangeCount||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(l.node,l.offset),_.removeAllRanges(),E>a?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Qt=!!Ur,zr=Ur=null,e.current=n,Xa=r;do{try{for(b=e;null!==Xa;){var C=Xa.flags;if(36&C&&ya(b,Xa.alternate,Xa),128&C){w=void 0;var x=Xa.ref;if(null!==x){var S=Xa.stateNode;Xa.tag,w=S,"function"===typeof x?x(w):x.current=w}}Xa=Xa.nextEffect}}catch(k){if(null===Xa)throw Error(s(330));Ul(Xa,k),Xa=Xa.nextEffect}}while(null!==Xa);Xa=null,ji(),Aa=i}else e.current=n;if(el)el=!1,tl=e,nl=t;else for(Xa=r;null!==Xa;)t=Xa.nextEffect,Xa.nextEffect=null,8&Xa.flags&&((C=Xa).sibling=null,C.stateNode=null),Xa=t;if(0===(r=e.pendingLanes)&&(Za=null),1===r?e===al?sl++:(sl=0,al=e):sl=0,n=n.stateNode,xi&&"function"===typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(Ci,n,void 0,64===(64&n.current.flags))}catch(k){}if(vl(e,Vi()),Ya)throw Ya=!1,e=Ja,Ja=null,e;return 0!==(8&Aa)||Ki(),null}function Ml(){for(;null!==Xa;){var e=Xa.alternate;hl||null===dl||(0!==(8&Xa.flags)?et(Xa,dl)&&(hl=!0):13===Xa.tag&&Oa(e,Xa)&&et(Xa,dl)&&(hl=!0));var t=Xa.flags;0!==(256&t)&&va(e,Xa),0===(512&t)||el||(el=!0,Gi(97,(function(){return Ll(),null}))),Xa=Xa.nextEffect}}function Ll(){if(90!==nl){var e=97<nl?97:nl;return nl=90,Wi(e,$l)}return!1}function Fl(e,t){rl.push(t,e),el||(el=!0,Gi(97,(function(){return Ll(),null})))}function jl(e,t){il.push(t,e),el||(el=!0,Gi(97,(function(){return Ll(),null})))}function $l(){if(null===tl)return!1;var e=tl;if(tl=null,0!==(48&Aa))throw Error(s(331));var t=Aa;Aa|=32;var n=il;il=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"===typeof a)try{a()}catch(c){if(null===o)throw Error(s(330));Ul(o,c)}}for(n=rl,rl=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(null===o)throw Error(s(330));Ul(o,c)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Aa=t,Ki(),!0}function Bl(e,t,n){ho(e,t=fa(0,t=ua(n,t),1)),t=fl(),null!==(e=ml(e,1))&&(Vt(e,1,t),vl(e,t))}function Ul(e,t){if(3===e.tag)Bl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Za||!Za.has(r))){var i=pa(n,e=ua(t,e),1);if(ho(n,i),i=fl(),null!==(n=ml(n,1)))Vt(n,1,i),vl(n,i);else if("function"===typeof r.componentDidCatch&&(null===Za||!Za.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function zl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fl(),e.pingedLanes|=e.suspendedLanes&n,Da===e&&(La&n)===n&&(4===$a||3===$a&&(62914560&La)===La&&500>Vi()-Wa?Sl(e,0):qa|=n),vl(e,t)}function Vl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===qi()?1:2:(0===cl&&(cl=Ua),0===(t=Ut(62914560&~cl))&&(t=4194304))),n=fl(),null!==(e=ml(e,t))&&(Vt(e,t,n),vl(e,n))}function ql(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hl(e,t,n,r){return new ql(e,t,n,r)}function Wl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gl(e,t){var n=e.alternate;return null===n?((n=Hl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kl(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Wl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return Ql(n.children,i,o,t);case L:a=8,i|=16;break;case S:a=8,i|=1;break;case k:return(e=Hl(12,n,t,8|i)).elementType=k,e.type=k,e.lanes=o,e;case N:return(e=Hl(13,n,t,i)).type=N,e.elementType=N,e.lanes=o,e;case P:return(e=Hl(19,n,t,i)).elementType=P,e.lanes=o,e;case F:return Xl(n,i,o,t);case j:return(e=Hl(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case I:a=9;break e;case O:a=11;break e;case R:a=14;break e;case A:a=16,r=null;break e;case D:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Hl(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ql(e,t,n,r){return(e=Hl(7,e,r,t)).lanes=n,e}function Xl(e,t,n,r){return(e=Hl(23,e,r,t)).elementType=F,e.lanes=n,e}function Yl(e,t,n){return(e=Hl(6,e,null,t)).lanes=n,e}function Jl(e,t,n){return(t=Hl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function ec(e,t,n,r){var i=t.current,o=fl(),a=pl(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(vi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var c=n.type;if(vi(c)){n=wi(n,c,l);break e}}n=l}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ho(i,t),gl(i,a,o),a}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zl(e,t,null!=n&&!0===n.hydrate),t=Hl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,lo(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function sc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof i){var a=i;i=function(){var e=tc(s);a.call(e)}}ec(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=tc(s);l.call(e)}}El((function(){ec(t,s,e,i)}))}return tc(s)}function ac(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Qa=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fs=!0;else{if(0===(n&r)){switch(Fs=!1,t.tag){case 3:Gs(t),Ko();break;case 5:Lo(t);break;case 1:vi(t.type)&&_i(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;di(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Zs(e,t,n):(di(jo,1&jo.current),null!==(t=sa(e,t,n))?t.sibling:null);di(jo,1&jo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return oa(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),di(jo,jo.current),r)break;return null;case 23:case 24:return t.lanes=0,zs(e,t,n)}return sa(e,t,n)}Fs=0!==(16384&e.flags)}else Fs=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,fi.current),oo(t,n),i=as(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;_i(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,lo(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&vo(t,r,a,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=Ws(null,t,r,!0,o,n)}else t.tag=0,js(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Wl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===R)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=qs(null,t,i,e,n);break e;case 1:t=Hs(null,t,i,e,n);break e;case 11:t=$s(null,t,i,e,n);break e;case 14:t=Bs(null,t,i,Yi(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qs(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Hs(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Gs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=sa(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Uo=Kr(t.stateNode.containerInfo.firstChild),Bo=t,o=zo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Qo.push(o);for(n=Io(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else js(e,t,r,n),Ko();t=t.child}return t;case 5:return Lo(t),null===e&&Ho(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,qr(r,i)?a=null:null!==o&&qr(r,o)&&(t.flags|=16),Vs(e,t),js(e,t,a,n),t.child;case 6:return null===e&&Ho(t),null;case 13:return Zs(e,t,n);case 4:return Do(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=To(t,null,r,n):js(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,$s(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return js(e,t,t.pendingProps,n),t.child;case 8:case 12:return js(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var l=t.type._context;if(di(Ji,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0===(o=ur(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!pi.current){t=sa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&o)){1===l.tag&&((u=uo(-1,n&-n)).tag=2,ho(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),io(l.return,n),c.lanes|=n;break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}js(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=so(i,o.unstable_observedBits)),t.flags|=1,js(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Bs(e,t,i,o=Yi(i.type,o),r,n);case 15:return Us(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vi(r)?(e=!0,_i(t)):e=!1,oo(t,n),wo(t,r,i),Eo(t,r,i,n),Ws(null,t,r,!0,e,n);case 19:return oa(e,t,n);case 23:case 24:return zs(e,t,n)}throw Error(s(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(gl(e,4,fl()),rc(e,4))},nt=function(e){13===e.tag&&(gl(e,67108864,fl()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=fl(),n=pl(e);gl(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(s(90));Y(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Ae=_l,De=function(e,t,n,r,i){var o=Aa;Aa|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Aa=o)&&(Ka(),Ki())}},Me=function(){0===(49&Aa)&&(function(){if(null!==ol){var e=ol;ol=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vl(e,Vi())}))}Ki()}(),Ll())},Le=function(e,t){var n=Aa;Aa|=2;try{return e(t)}finally{0===(Aa=n)&&(Ka(),Ki())}};var lc={Events:[ri,ii,oi,Pe,Re,Ll,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Ci=dc.inject(uc),xi=dc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lc,t.createPortal=ac,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Aa;if(0!==(48&n))return e(t);Aa|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Aa=n,Ki()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(s(200));return sc(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(s(200));return sc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(s(40));return!!e._reactRootContainer&&(El((function(){sc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=_l,t.unstable_createPortal=function(e,t){return ac(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return sc(e,t,n,!1,r)},t.version="17.0.2"},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},366:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,l,c,u;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(l=a;0!==l--;)if(!o(e[l],s[l]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!o(l.value[1],s.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((a=e.length)!=s.length)return!1;for(l=a;0!==l--;)if(e[l]!==s[l])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof s.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof s.toString)return e.toString()===s.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=a;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],s[c[l]]))return!1;return!0}return e!==e&&s!==s}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},82:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,o=60108,s=60114,a=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,g=60122,m=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),s=b("react.profiler"),a=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),f=b("react.lazy"),p=b("react.block"),g=b("react.server.block"),m=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case a:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return w(e)===l}},86:(e,t,n)=>{"use strict";e.exports=n(82)},403:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},221:(e,t,n)=>{var r=n(403);e.exports=p,e.exports.parse=o,e.exports.compile=function(e,t){return l(o(e,t),t)},e.exports.tokensToFunction=l,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,l="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],h=n[1],f=n.index;if(l+=e.slice(a,f),a=f+d.length,h)l+=h[1];else{var p=e[a],g=n[2],m=n[3],v=n[4],y=n[5],b=n[6],w=n[7];l&&(r.push(l),l="");var _=null!=g&&null!=p&&p!==g,E="+"===b||"*"===b,C="?"===b||"*"===b,x=g||c,S=v||y,k=g||("string"===typeof r[r.length-1]?r[r.length-1]:"");r.push({name:m||o++,prefix:g||"",delimiter:x,optional:C,repeat:E,partial:_,asterisk:!!w,pattern:S?u(S):w?".*":s(x,k)})}}return a<e.length&&(l+=e.substr(a)),l&&r.push(l),r}function s(e,t){return!t||t.indexOf(e)>-1?"[^"+c(e)+"]+?":c(t)+"|(?:(?!"+c(t)+")[^"+c(e)+"])+?"}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function l(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var o="",s=t||{},l=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!==typeof u){var d,h=s[u.name];if(null==h){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(d=l(h[f]),!n[c].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===f?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(h),!n[c].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');o+=u.prefix+d}}else o+=u}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,s="",a=0;a<e.length;a++){var l=e[a];if("string"===typeof l)s+=c(l);else{var u=c(l.prefix),f="(?:"+l.pattern+")";t.push(l),l.repeat&&(f+="(?:"+u+f+")*"),s+=f=l.optional?l.partial?u+"("+f+")?":"(?:"+u+"("+f+"))?":u+"("+f+")"}}var p=c(n.delimiter||"/"),g=s.slice(-p.length)===p;return i||(s=(g?s.slice(0,-p.length):s)+"(?:"+p+"(?=$))?"),s+=o?"$":i&&g?"":"(?="+p+"|$)",d(new RegExp("^"+s,h(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(p(e[i],t,n).source);return d(new RegExp("(?:"+r.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},116:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case g:case l:return e;default:return t}}case i:return t}}}function E(e){return _(e)===d}},808:(e,t,n)=>{"use strict";n(116)},161:(e,t,n)=>{"use strict";var r,i=n(43),o=(r=i)&&"object"===typeof r&&"default"in r?r.default:r;function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!==typeof r)throw new Error("Expected WrappedComponent to be a React component.");var l,c=[];function u(){l=e(c.map((function(e){return e.props}))),d.canUseDOM?t(l):n&&(l=n(l))}var d=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.peek=function(){return l},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,c=[],e};var s=i.prototype;return s.UNSAFE_componentWillMount=function(){c.push(this),u()},s.componentDidUpdate=function(){u()},s.componentWillUnmount=function(){var e=c.indexOf(this);c.splice(e,1),u()},s.render=function(){return o.createElement(r,this.props)},i}(i.PureComponent);return s(d,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),s(d,"canUseDOM",a),d}}},153:(e,t,n)=>{"use strict";n(123);var r=n(43),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},202:(e,t,n)=>{"use strict";var r=n(123),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),s=d("react.provider"),a=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var b=y.prototype=new v;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:w.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return s=s(l=e),e=""===r?"."+k(l,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(s,t,n,"",(function(e){return e}))):null!=s&&(x(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+k(a=e[c],c);l+=T(a,t,n,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=T(a=a.value,t,n,u=r+k(a,c++),s);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function P(){var e=N.current;if(null===e)throw Error(f(321));return e}var R={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error(f(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var o=r({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)_.call(t,u)&&!E.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,u=null,d=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(n){throw setTimeout(d,0),n}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(d,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,m=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+y;try{m(!0,e)?_.postMessage(null):(g=!1,m=null)}catch(n){throw _.postMessage(null),n}}else g=!1},n=function(e){m=e,g||(g=!0,_.postMessage(null))},r=function(e,n){v=h((function(){e(t.unstable_now())}),n)},i=function(){f(v),v=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>S(s,n))void 0!==l&&0>S(l,s)?(e[r]=l,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==l&&0>S(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],T=[],I=1,O=null,N=3,P=!1,R=!1,A=!1;function D(e){for(var t=C(T);null!==t;){if(null===t.callback)x(T);else{if(!(t.startTime<=e))break;x(T),t.sortIndex=t.expirationTime,E(k,t)}t=C(T)}}function M(e){if(A=!1,D(e),!R)if(null!==C(k))R=!0,n(L);else{var t=C(T);null!==t&&r(M,t.startTime-e)}}function L(e,n){R=!1,A&&(A=!1,i()),P=!0;var o=N;try{for(D(n),O=C(k);null!==O&&(!(O.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=O.callback;if("function"===typeof s){O.callback=null,N=O.priorityLevel;var a=s(O.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?O.callback=a:O===C(k)&&x(k),D(n)}else x(k);O=C(k)}if(null!==O)var l=!0;else{var c=C(T);null!==c&&r(M,c.startTime-n),l=!1}return l}finally{O=null,N=o,P=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||P||(R=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return C(k)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:I++,callback:o,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,E(T,e),null===C(k)&&e===C(T)&&(A?i():A=!0,r(M,s-a))):(e.sortIndex=l,E(k,e),R||P||(R=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>ws,SDK_VERSION:()=>ol,_DEFAULT_ENTRY_NAME:()=>Ga,_addComponent:()=>Ya,_addOrOverwriteComponent:()=>Ja,_apps:()=>Qa,_clearComponents:()=>nl,_components:()=>Xa,_getProvider:()=>el,_registerComponent:()=>Za,_removeServiceInstance:()=>tl,deleteApp:()=>cl,getApp:()=>al,getApps:()=>ll,initializeApp:()=>sl,onLog:()=>dl,registerVersion:()=>ul,setLogLevel:()=>hl});var t=n(43),r=n.t(t,2),i=n(950),o=n.t(i,2),s=t.createContext(null);var a=function(e){e()},l=function(){return a};var c={notify:function(){},get:function(){return[]}};function u(e,t){var n,r=c;function i(){s.onStateChange&&s.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=l(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var s={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=c)},getListeners:function(){return r}};return s}var d="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;const h=function(e){var n=e.store,r=e.context,i=e.children,o=(0,t.useMemo)((function(){var e=u(n);return{store:n,subscription:e}}),[n]),a=(0,t.useMemo)((function(){return n.getState()}),[n]);d((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,a]);var l=r||s;return t.createElement(l.Provider,{value:o},i)};function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(null,arguments)}function p(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var g=n(219),m=n.n(g),v=n(86),y=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],b=["reactReduxForwardedRef"],w=[],_=[null,null];function E(e,t){var n=e[1];return[t.payload,n+1]}function C(e,t,n){d((function(){return e.apply(void 0,t)}),n)}function x(e,t,n,r,i,o,s){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,s())}function S(e,t,n,r,i,o,s,a,l,c){if(e){var u=!1,d=null,h=function(){if(!u){var e,n,h=t.getState();try{e=r(h,i.current)}catch(LX){n=LX,d=LX}n||(d=null),e===o.current?s.current||l():(o.current=e,a.current=e,s.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var k=function(){return[null,0]};function T(e,n){void 0===n&&(n={});var r=n,i=r.getDisplayName,o=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,a=r.methodName,l=void 0===a?"connectAdvanced":a,c=r.renderCountProp,d=void 0===c?void 0:c,h=r.shouldHandleStateChanges,g=void 0===h||h,T=r.storeKey,I=void 0===T?"store":T,O=(r.withRef,r.forwardRef),N=void 0!==O&&O,P=r.context,R=void 0===P?s:P,A=p(r,y),D=R;return function(n){var r=n.displayName||n.name||"Component",i=o(r),s=f({},A,{getDisplayName:o,methodName:l,renderCountProp:d,shouldHandleStateChanges:g,storeKey:I,displayName:i,wrappedComponentName:r,WrappedComponent:n}),a=A.pure;var c=a?t.useMemo:function(e){return e()};function h(r){var i=(0,t.useMemo)((function(){var e=r.reactReduxForwardedRef,t=p(r,b);return[r.context,e,t]}),[r]),o=i[0],a=i[1],l=i[2],d=(0,t.useMemo)((function(){return o&&o.Consumer&&(0,v.isContextConsumer)(t.createElement(o.Consumer,null))?o:D}),[o,D]),h=(0,t.useContext)(d),m=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(h)&&Boolean(h.store);var y=m?r.store:h.store,T=(0,t.useMemo)((function(){return function(t){return e(t.dispatch,s)}(y)}),[y]),I=(0,t.useMemo)((function(){if(!g)return _;var e=u(y,m?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[y,m,h]),O=I[0],N=I[1],P=(0,t.useMemo)((function(){return m?h:f({},h,{subscription:O})}),[m,h,O]),R=(0,t.useReducer)(E,w,k),A=R[0][0],M=R[1];if(A&&A.error)throw A.error;var L=(0,t.useRef)(),F=(0,t.useRef)(l),j=(0,t.useRef)(),$=(0,t.useRef)(!1),B=c((function(){return j.current&&l===F.current?j.current:T(y.getState(),l)}),[y,A,l]);C(x,[F,L,$,l,B,j,N]),C(S,[g,y,O,T,F,L,$,j,N,M],[y,O,T]);var U=(0,t.useMemo)((function(){return t.createElement(n,f({},B,{ref:a}))}),[a,n,B]);return(0,t.useMemo)((function(){return g?t.createElement(d.Provider,{value:P},U):U}),[d,U,P])}var y=a?t.memo(h):h;if(y.WrappedComponent=n,y.displayName=h.displayName=i,N){var T=t.forwardRef((function(e,n){return t.createElement(y,f({},e,{reactReduxForwardedRef:n}))}));return T.displayName=i,T.WrappedComponent=n,m()(T,n)}return m()(y,n)}}function I(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function O(e,t){if(I(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!I(e[n[i]],t[n[i]]))return!1;return!0}function N(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function P(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function R(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=P(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=P(i),i=r(t,n)),i},r}}const A=[function(e){return"function"===typeof e?R(e):void 0},function(e){return e?void 0:N((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?N((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];const D=[function(e){return"function"===typeof e?R(e):void 0},function(e){return e?void 0:N((function(){return{}}))}];function M(e,t,n){return f({},n,e,t)}const L=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,s=!1;return function(t,n,a){var l=e(t,n,a);return s?i&&o(l,r)||(r=l):(s=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return M}}];var F=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function j(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function $(e,t,n,r,i){var o,s,a,l,c,u=i.areStatesEqual,d=i.areOwnPropsEqual,h=i.areStatePropsEqual,f=!1;function p(i,f){var p=!d(f,s),g=!u(i,o,f,s);return o=i,s=f,p&&g?(a=e(o,s),t.dependsOnOwnProps&&(l=t(r,s)),c=n(a,l,s)):p?(e.dependsOnOwnProps&&(a=e(o,s)),t.dependsOnOwnProps&&(l=t(r,s)),c=n(a,l,s)):g?function(){var t=e(o,s),r=!h(t,a);return a=t,r&&(c=n(a,l,s)),c}():c}return function(i,u){return f?p(i,u):(a=e(o=i,s=u),l=t(r,s),c=n(a,l,s),f=!0,c)}}function B(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=p(t,F),s=n(e,o),a=r(e,o),l=i(e,o);return(o.pure?$:j)(s,a,l,e,o)}var U=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function z(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function V(e,t){return e===t}function q(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?T:n,i=t.mapStateToPropsFactories,o=void 0===i?D:i,s=t.mapDispatchToPropsFactories,a=void 0===s?A:s,l=t.mergePropsFactories,c=void 0===l?L:l,u=t.selectorFactory,d=void 0===u?B:u;return function(e,t,n,i){void 0===i&&(i={});var s=i,l=s.pure,u=void 0===l||l,h=s.areStatesEqual,g=void 0===h?V:h,m=s.areOwnPropsEqual,v=void 0===m?O:m,y=s.areStatePropsEqual,b=void 0===y?O:y,w=s.areMergedPropsEqual,_=void 0===w?O:w,E=p(s,U),C=z(e,o,"mapStateToProps"),x=z(t,a,"mapDispatchToProps"),S=z(n,c,"mergeProps");return r(d,f({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:C,initMapDispatchToProps:x,initMergeProps:S,pure:u,areStatesEqual:g,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:_},E))}}const H=q();function W(){return(0,t.useContext)(s)}function G(e){void 0===e&&(e=s);var n=e===s?W:function(){return(0,t.useContext)(e)};return function(){return n().store}}var K=G();function Q(e){void 0===e&&(e=s);var t=e===s?K:G(e);return function(){return t().dispatch}}var X=Q(),Y=function(e,t){return e===t};function J(e){void 0===e&&(e=s);var n=e===s?W:function(){return(0,t.useContext)(e)};return function(e,r){void 0===r&&(r=Y);var i=n(),o=function(e,n,r,i){var o,s=(0,t.useReducer)((function(e){return e+1}),0)[1],a=(0,t.useMemo)((function(){return u(r,i)}),[r,i]),l=(0,t.useRef)(),c=(0,t.useRef)(),h=(0,t.useRef)(),f=(0,t.useRef)(),p=r.getState();try{if(e!==c.current||p!==h.current||l.current){var g=e(p);o=void 0!==f.current&&n(g,f.current)?f.current:g}else o=f.current}catch(m){throw l.current&&(m.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),m}return d((function(){c.current=e,h.current=p,f.current=o,l.current=void 0})),d((function(){function e(){try{var e=r.getState();if(e===h.current)return;var t=c.current(e);if(n(t,f.current))return;f.current=t,h.current=e}catch(m){l.current=m}s()}return a.onStateChange=e,a.trySubscribe(),e(),function(){return a.tryUnsubscribe()}}),[r,a]),o}(e,r,i.store,i.subscription);return(0,t.useDebugValue)(o),o}}var Z,ee=J();function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e){var t=function(e,t){if("object"!=te(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==te(t)?t:t+""}function re(e,t,n){return(t=ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}Z=i.unstable_batchedUpdates,a=Z;var ae="function"===typeof Symbol&&Symbol.observable||"@@observable",le=function(){return Math.random().toString(36).substring(7).split("").join(".")},ce={INIT:"@@redux/INIT"+le(),REPLACE:"@@redux/REPLACE"+le(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+le()}};function ue(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function de(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(se(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(se(1));return n(de)(e,t)}if("function"!==typeof e)throw new Error(se(2));var i=e,o=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(se(3));return o}function d(e){if("function"!==typeof e)throw new Error(se(4));if(l)throw new Error(se(5));var t=!0;return c(),a.push(e),function(){if(t){if(l)throw new Error(se(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function h(e){if(!ue(e))throw new Error(se(7));if("undefined"===typeof e.type)throw new Error(se(8));if(l)throw new Error(se(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=s=a,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:ce.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(se(10));i=e,h({type:ce.REPLACE})}})[ae]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(se(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[ae]=function(){return this},e},r}function he(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}const fe="LOGIN_SUCCESS",pe="LOGIN_FAILURE",ge={user:null,error:null},me={faqs:[],loading:!1,error:null},ve=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:ce.INIT}))throw new Error(se(12));if("undefined"===typeof n(void 0,{type:ce.PROBE_UNKNOWN_ACTION()}))throw new Error(se(13))}))}(n)}catch(LX){o=LX}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var l=s[a],c=n[l],u=e[l],d=c(u,t);if("undefined"===typeof d){t&&t.type;throw new Error(se(14))}i[l]=d,r=r||d!==u}return(r=r||s.length!==Object.keys(e).length)?i:e}}({auth:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return{...e,user:t.payload,error:null};case pe:return{...e,user:null,error:t.payload};default:return e}},faq:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FAQS_SUCCESS":return{...e,faqs:t.payload,loading:!1};case"CREATE_FAQ":return{...e,faqs:[...e.faqs,t.payload]};case"UPDATE_FAQ":return{...e,faqs:e.faqs.map((e=>e.id===t.payload.id?t.payload:e))};case"DELETE_FAQ":return{...e,faqs:e.faqs.filter((e=>e.id!==t.payload))};default:return e}}}),ye=ve;function be(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var we=be();we.withExtraArgument=be;const _e=de(ye,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(se(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=he.apply(void 0,o)(n.dispatch),oe(oe({},n),{},{dispatch:r})}}}(we)),Ee=_e;var Ce=n(173),xe=n.n(Ce),Se=n(161),ke=n.n(Se),Te=n(366),Ie=n.n(Te),Oe=n(123),Ne=n.n(Oe),Pe="bodyAttributes",Re="htmlAttributes",Ae="titleAttributes",De={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},Me=(Object.keys(De).map((function(e){return De[e]})),"charset"),Le="cssText",Fe="href",je="http-equiv",$e="innerHTML",Be="itemprop",Ue="name",ze="property",Ve="rel",qe="src",He="target",We={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ge="defaultTitle",Ke="defer",Qe="encodeSpecialCharacters",Xe="onChangeClientState",Ye="titleTemplate",Je=Object.keys(We).reduce((function(e,t){return e[We[t]]=t,e}),{}),Ze=[De.NOSCRIPT,De.SCRIPT,De.STYLE],et="data-react-helmet",tt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},ot=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},st=function(e){var t=dt(e,De.TITLE),n=dt(e,Ye);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=dt(e,Ge);return t||r||void 0},at=function(e){return dt(e,Xe)||function(){}},lt=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return rt({},e,t)}),{})},ct=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[De.BASE]})).map((function(e){return e[De.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}return t}),[])},ut=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&mt("Helmet: "+e+' should be of type "Array". Instead found type "'+tt(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var i={};n.filter((function(e){for(var n=void 0,o=Object.keys(e),s=0;s<o.length;s++){var a=o[s],l=a.toLowerCase();-1===t.indexOf(l)||n===Ve&&"canonical"===e[n].toLowerCase()||l===Ve&&"stylesheet"===e[l].toLowerCase()||(n=l),-1===t.indexOf(a)||a!==$e&&a!==Le&&a!==Be||(n=a)}if(!n||!e[n])return!1;var c=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][c]&&(i[n][c]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var o=Object.keys(i),s=0;s<o.length;s++){var a=o[s],l=Ne()({},r[a],i[a]);r[a]=l}return e}),[]).reverse()},dt=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},ht=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout((function(){ht(t)}),0)}}(),ft=function(e){return clearTimeout(e)},pt="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||ht:n.g.requestAnimationFrame||ht,gt="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||ft:n.g.cancelAnimationFrame||ft,mt=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},vt=null,yt=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,s=e.metaTags,a=e.noscriptTags,l=e.onChangeClientState,c=e.scriptTags,u=e.styleTags,d=e.title,h=e.titleAttributes;_t(De.BODY,r),_t(De.HTML,i),wt(d,h);var f={baseTag:Et(De.BASE,n),linkTags:Et(De.LINK,o),metaTags:Et(De.META,s),noscriptTags:Et(De.NOSCRIPT,a),scriptTags:Et(De.SCRIPT,c),styleTags:Et(De.STYLE,u)},p={},g={};Object.keys(f).forEach((function(e){var t=f[e],n=t.newTags,r=t.oldTags;n.length&&(p[e]=n),r.length&&(g[e]=f[e].oldTags)})),t&&t(),l(e,p,g)},bt=function(e){return Array.isArray(e)?e.join(""):e},wt=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=bt(e)),_t(De.TITLE,t)},_t=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(et),i=r?r.split(","):[],o=[].concat(i),s=Object.keys(t),a=0;a<s.length;a++){var l=s[a],c=t[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),-1===i.indexOf(l)&&i.push(l);var u=o.indexOf(l);-1!==u&&o.splice(u,1)}for(var d=o.length-1;d>=0;d--)n.removeAttribute(o[d]);i.length===o.length?n.removeAttribute(et):n.getAttribute(et)!==s.join(",")&&n.setAttribute(et,s.join(","))}},Et=function(e,t){var n=document.head||document.querySelector(De.HEAD),r=n.querySelectorAll(e+"["+et+"]"),i=Array.prototype.slice.call(r),o=[],s=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===$e)n.innerHTML=t.innerHTML;else if(r===Le)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var a="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,a)}n.setAttribute(et,"true"),i.some((function(e,t){return s=t,n.isEqualNode(e)}))?i.splice(s,1):o.push(n)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),o.forEach((function(e){return n.appendChild(e)})),{oldTags:i,newTags:o}},Ct=function(e){return Object.keys(e).reduce((function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},xt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[We[n]||n]=e[n],t}),t)},St=function(e,n,r){switch(e){case De.TITLE:return{toComponent:function(){return function(e,n,r){var i,o=((i={key:n})[et]=!0,i),s=xt(r,o);return[t.createElement(De.TITLE,s,n)]}(0,n.title,n.titleAttributes)},toString:function(){return function(e,t,n,r){var i=Ct(n),o=bt(t);return i?"<"+e+" "+et+'="true" '+i+">"+ot(o,r)+"</"+e+">":"<"+e+" "+et+'="true">'+ot(o,r)+"</"+e+">"}(e,n.title,n.titleAttributes,r)}};case Pe:case Re:return{toComponent:function(){return xt(n)},toString:function(){return Ct(n)}};default:return{toComponent:function(){return function(e,n){return n.map((function(n,r){var i,o=((i={key:r})[et]=!0,i);return Object.keys(n).forEach((function(e){var t=We[e]||e;if(t===$e||t===Le){var r=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:r}}else o[t]=n[e]})),t.createElement(e,o)}))}(e,n)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var i=Object.keys(r).filter((function(e){return!(e===$e||e===Le)})).reduce((function(e,t){var i="undefined"===typeof r[t]?t:t+'="'+ot(r[t],n)+'"';return e?e+" "+i:i}),""),o=r.innerHTML||r.cssText||"",s=-1===Ze.indexOf(e);return t+"<"+e+" "+et+'="true" '+i+(s?"/>":">"+o+"</"+e+">")}),"")}(e,n,r)}}}},kt=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,o=e.linkTags,s=e.metaTags,a=e.noscriptTags,l=e.scriptTags,c=e.styleTags,u=e.title,d=void 0===u?"":u,h=e.titleAttributes;return{base:St(De.BASE,t,r),bodyAttributes:St(Pe,n,r),htmlAttributes:St(Re,i,r),link:St(De.LINK,o,r),meta:St(De.META,s,r),noscript:St(De.NOSCRIPT,a,r),script:St(De.SCRIPT,l,r),style:St(De.STYLE,c,r),title:St(De.TITLE,{title:d,titleAttributes:h},r)}},Tt=function(e){var n,r;return r=n=function(n){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,n.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r.prototype.shouldComponentUpdate=function(e){return!Ie()(this.props,e)},r.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case De.SCRIPT:case De.NOSCRIPT:return{innerHTML:t};case De.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},r.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,o=e.nestedChildren;return rt({},r,((t={})[n.type]=[].concat(r[n.type]||[],[rt({},i,this.mapNestedChildrenToProps(n,o))]),t))},r.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,o=e.newChildProps,s=e.nestedChildren;switch(r.type){case De.TITLE:return rt({},i,((t={})[r.type]=s,t.titleAttributes=rt({},o),t));case De.BODY:return rt({},i,{bodyAttributes:rt({},o)});case De.HTML:return rt({},i,{htmlAttributes:rt({},o)})}return rt({},i,((n={})[r.type]=rt({},o),n))},r.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=rt({},t);return Object.keys(e).forEach((function(t){var r;n=rt({},n,((r={})[t]=e[t],r))})),n},r.prototype.warnOnInvalidChildren=function(e,t){return!0},r.prototype.mapChildrenToProps=function(e,n){var r=this,i={};return t.Children.forEach(e,(function(e){if(e&&e.props){var t=e.props,o=t.children,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[Je[n]||n]=e[n],t}),t)}(it(t,["children"]));switch(r.warnOnInvalidChildren(e,o),e.type){case De.LINK:case De.META:case De.NOSCRIPT:case De.SCRIPT:case De.STYLE:i=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:i,newChildProps:s,nestedChildren:o});break;default:n=r.mapObjectTypeChildren({child:e,newProps:n,newChildProps:s,nestedChildren:o})}}})),n=this.mapArrayTypeChildrenToProps(i,n)},r.prototype.render=function(){var n=this.props,r=n.children,i=it(n,["children"]),o=rt({},i);return r&&(o=this.mapChildrenToProps(r,o)),t.createElement(e,o)},nt(r,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),r}(t.Component),n.propTypes={base:xe().object,bodyAttributes:xe().object,children:xe().oneOfType([xe().arrayOf(xe().node),xe().node]),defaultTitle:xe().string,defer:xe().bool,encodeSpecialCharacters:xe().bool,htmlAttributes:xe().object,link:xe().arrayOf(xe().object),meta:xe().arrayOf(xe().object),noscript:xe().arrayOf(xe().object),onChangeClientState:xe().func,script:xe().arrayOf(xe().object),style:xe().arrayOf(xe().object),title:xe().string,titleAttributes:xe().object,titleTemplate:xe().string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var t=e.rewind();return t||(t=kt({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},r}(ke()((function(e){return{baseTag:ct([Fe,He],e),bodyAttributes:lt(Pe,e),defer:dt(e,Ke),encode:dt(e,Qe),htmlAttributes:lt(Re,e),linkTags:ut(De.LINK,[Ve,Fe],e),metaTags:ut(De.META,[Ue,Me,je,ze,Be],e),noscriptTags:ut(De.NOSCRIPT,[$e],e),onChangeClientState:at(e),scriptTags:ut(De.SCRIPT,[qe,$e],e),styleTags:ut(De.STYLE,[Le],e),title:st(e),titleAttributes:lt(Ae,e)}}),(function(e){vt&&gt(vt),e.defer?vt=pt((function(){yt(e,(function(){vt=null}))})):(yt(e),vt=null)}),kt)((function(){return null})));Tt.renderStatic=Tt.rewind;function It(e,t){return It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},It(e,t)}function Ot(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,It(e,t)}function Nt(e){return"/"===e.charAt(0)}function Pt(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}const Rt=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&Nt(e),s=t&&Nt(t),a=o||s;if(e&&Nt(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var c=0,u=i.length;u>=0;u--){var d=i[u];"."===d?Pt(i,u):".."===d?(Pt(i,u),c++):c&&(Pt(i,u),c--)}if(!a)for(;c--;c)i.unshift("..");!a||""===i[0]||i[0]&&Nt(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h};function At(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const Dt=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=At(t),i=At(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1};var Mt="Invariant failed";function Lt(e,t){if(!e)throw new Error(Mt)}function Ft(e){return"/"===e.charAt(0)?e:"/"+e}function jt(e){return"/"===e.charAt(0)?e.substr(1):e}function $t(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function Bt(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Ut(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function zt(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=f({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(LX){throw LX instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):LX}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Rt(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Vt(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var qt=!("undefined"===typeof window||!window.document||!window.document.createElement);function Ht(e,t){t(window.confirm(e))}var Wt="popstate",Gt="hashchange";function Kt(){try{return window.history.state||{}}catch(LX){return{}}}function Qt(e){void 0===e&&(e={}),qt||Lt(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,s=void 0!==o&&o,a=i.getUserConfirmation,l=void 0===a?Ht:a,c=i.keyLength,u=void 0===c?6:c,d=e.basename?Bt(Ft(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return d&&(o=$t(o,d)),zt(o,r,n)}function p(){return Math.random().toString(36).substr(2,u)}var g=Vt();function m(e){f(I,e),I.length=t.length,g.notifyListeners(I.location,I.action)}function v(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||w(h(e.state))}function y(){w(h(Kt()))}var b=!1;function w(e){if(b)b=!1,m();else{g.confirmTransitionTo(e,"POP",l,(function(t){t?m({action:"POP",location:e}):function(e){var t=I.location,n=E.indexOf(t.key);-1===n&&(n=0);var r=E.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(b=!0,x(i))}(e)}))}}var _=h(Kt()),E=[_.key];function C(e){return d+Ut(e)}function x(e){t.go(e)}var S=0;function k(e){1===(S+=e)&&1===e?(window.addEventListener(Wt,v),r&&window.addEventListener(Gt,y)):0===S&&(window.removeEventListener(Wt,v),r&&window.removeEventListener(Gt,y))}var T=!1;var I={length:t.length,action:"POP",location:_,createHref:C,push:function(e,r){var i="PUSH",o=zt(e,r,p(),I.location);g.confirmTransitionTo(o,i,l,(function(e){if(e){var r=C(o),a=o.key,l=o.state;if(n)if(t.pushState({key:a,state:l},null,r),s)window.location.href=r;else{var c=E.indexOf(I.location.key),u=E.slice(0,c+1);u.push(o.key),E=u,m({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=zt(e,r,p(),I.location);g.confirmTransitionTo(o,i,l,(function(e){if(e){var r=C(o),a=o.key,l=o.state;if(n)if(t.replaceState({key:a,state:l},null,r),s)window.location.replace(r);else{var c=E.indexOf(I.location.key);-1!==c&&(E[c]=o.key),m({action:i,location:o})}else window.location.replace(r)}}))},go:x,goBack:function(){x(-1)},goForward:function(){x(1)},block:function(e){void 0===e&&(e=!1);var t=g.setPrompt(e);return T||(k(1),T=!0),function(){return T&&(T=!1,k(-1)),t()}},listen:function(e){var t=g.appendListener(e);return k(1),function(){k(-1),t()}}};return I}var Xt="hashchange",Yt={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+jt(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:jt,decodePath:Ft},slash:{encodePath:Ft,decodePath:Ft}};function Jt(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function Zt(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function en(e){window.location.replace(Jt(window.location.href)+"#"+e)}function tn(e){void 0===e&&{},qt||Lt(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?Ht:r,o=n.hashType,s=void 0===o?"slash":o,a=e.basename?Bt(Ft(e.basename)):"",l=Yt[s],c=l.encodePath,u=l.decodePath;function d(){var e=u(Zt());return a&&$t(e,a),zt(e)}var h=Vt();function p(e){f(k,e),k.length=t.length,h.notifyListeners(k.location,k.action)}var g=!1,m=null;function v(){var e=Zt(),t=c(e);if(e!==t)en(t);else{var n=d(),r=k.location;if(!g&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(m===Ut(n))return;(function(e){if(g)p();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?p({action:t,location:e}):function(e){var t=k.location,n=_.lastIndexOf(Ut(t));-1===n&&0;var r=_.lastIndexOf(Ut(e));-1===r&&0;var i=n-r;i&&E(i)}(e)}))}})(n)}}var y=Zt(),b=c(y);y!==b&&en(b);var w=d(),_=[Ut(w)];function E(e){t.go(e)}var C=0;function x(e){1===(C+=e)&&1===e?window.addEventListener(Xt,v):0===C&&window.removeEventListener(Xt,v)}var S=!1;var k={length:t.length,action:"POP",location:w,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&Jt(window.location.href),n+"#"+c(a+Ut(e))},push:function(e,t){var n="PUSH",r=zt(e,void 0,void 0,k.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=Ut(r),i=c(a+t);if(Zt()!==i){(function(e){window.location.hash=e})(i);var o=_.lastIndexOf(Ut(k.location)),s=_.slice(0,o+1);s.push(t),p({action:n,location:r})}else p()}}))},replace:function(e,t){var n="REPLACE",r=zt(e,void 0,void 0,k.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=Ut(r),i=c(a+t);Zt()!==i&&en(i);var o=_.indexOf(Ut(k.location));-1!==o&&(_[o]=t),p({action:n,location:r})}}))},go:E,goBack:function(){E(-1)},goForward:function(){E(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return S||(x(1),!0),function(){return S&&x(-1),t()}},listen:function(e){var t=h.appendListener(e);return x(1),function(){x(-1),t()}}};return k}function nn(e,t,n){return Math.min(Math.max(e,t),n)}var rn=n(221),on=n.n(rn),sn=(n(808),1073741823),an="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var ln=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return an[e]=(an[e]||0)+1}()+"__",s=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}Ot(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):sn,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);s.childContextTypes=((r={})[o]=xe().object.isRequired,r);var a=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Ot(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?sn:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?sn:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return a.contextTypes=((i={})[o]=xe().object,i),{Provider:s,Consumer:a}},cn=function(e){var t=ln();return t.displayName=e,t},un=cn("Router-History"),dn=cn("Router"),hn=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}Ot(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(dn.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(un.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var fn=function(e){function t(){return e.apply(this,arguments)||this}Ot(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var pn={},gn=0;function mn(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(pn[e])return pn[e];var t=on().compile(e);return gn<1e4&&(pn[e]=t,gn++),t}(e)(t,{pretty:!0})}function vn(e){var n=e.computedMatch,r=e.to,i=e.push,o=void 0!==i&&i;return t.createElement(dn.Consumer,null,(function(e){e||Lt(!1);var i=e.history,s=e.staticContext,a=o?i.push:i.replace,l=zt(n?"string"===typeof r?mn(r,n.params):f({},r,{pathname:mn(r.pathname,n.params)}):r);return s?(a(l),null):t.createElement(fn,{onMount:function(){a(l)},onUpdate:function(e,t){var n=zt(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Dt(e.state,t.state)})(n,f({},l,{key:n.key}))||a(l)},to:r})}))}var yn={},bn=0;function wn(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,s=n.strict,a=void 0!==s&&s,l=n.sensitive,c=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=yn[n]||(yn[n]={});if(r[e])return r[e];var i=[],o={regexp:on()(e,i,t),keys:i};return bn<1e4&&(r[e]=o,bn++),o}(n,{end:o,strict:a,sensitive:c}),i=r.regexp,s=r.keys,l=i.exec(e);if(!l)return null;var u=l[0],d=l.slice(1),h=e===u;return o&&!h?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:h,params:s.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var _n=function(e){function n(){return e.apply(this,arguments)||this}return Ot(n,e),n.prototype.render=function(){var e=this;return t.createElement(dn.Consumer,null,(function(n){n||Lt(!1);var r=e.props.location||n.location,i=f({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?wn(r.pathname,e.props):n.match}),o=e.props,s=o.children,a=o.component,l=o.render;return Array.isArray(s)&&function(e){return 0===t.Children.count(e)}(s)&&(s=null),t.createElement(dn.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:a?t.createElement(a,i):l?l(i):null:"function"===typeof s?s(i):null)}))},n}(t.Component);function En(e){return"/"===e.charAt(0)?e:"/"+e}function Cn(e,t){if(!e)return t;var n=En(e);return 0!==t.pathname.indexOf(n)?t:f({},t,{pathname:t.pathname.substr(n.length)})}function xn(e){return"string"===typeof e?e:Ut(e)}function Sn(e){return function(){Lt(!1)}}function kn(){}t.Component;var Tn=function(e){function n(){return e.apply(this,arguments)||this}return Ot(n,e),n.prototype.render=function(){var e=this;return t.createElement(dn.Consumer,null,(function(n){n||Lt(!1);var r,i,o=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var s=e.props.path||e.props.from;i=s?wn(o.pathname,f({},e.props,{path:s})):n.match}})),i?t.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(t.Component);var In=t.useContext;var On=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Qt(t.props),t}return Ot(n,e),n.prototype.render=function(){return t.createElement(hn,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var Nn=function(e,t){return"function"===typeof e?e(t):e},Pn=function(e,t){return"string"===typeof e?zt(e,null,null,t):e},Rn=function(e){return e},An=t.forwardRef;"undefined"===typeof An&&(An=Rn);var Dn=An((function(e,n){var r=e.innerRef,i=e.navigate,o=e.onClick,s=p(e,["innerRef","navigate","onClick"]),a=s.target,l=f({},s,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return l.ref=Rn!==An&&n||r,t.createElement("a",l)}));var Mn=An((function(e,n){var r=e.component,i=void 0===r?Dn:r,o=e.replace,s=e.to,a=e.innerRef,l=p(e,["component","replace","to","innerRef"]);return t.createElement(dn.Consumer,null,(function(e){e||Lt(!1);var r=e.history,c=Pn(Nn(s,e.location),e.location),u=c?r.createHref(c):"",d=f({},l,{href:u,navigate:function(){var t=Nn(s,e.location),n=Ut(e.location)===Ut(Pn(t));(o||n?r.replace:r.push)(t)}});return Rn!==An?d.ref=n||a:d.innerRef=a,t.createElement(i,d)}))})),Ln=function(e){return e},Fn=t.forwardRef;"undefined"===typeof Fn&&(Fn=Ln);Fn((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,o=e.activeClassName,s=void 0===o?"active":o,a=e.activeStyle,l=e.className,c=e.exact,u=e.isActive,d=e.location,h=e.sensitive,g=e.strict,m=e.style,v=e.to,y=e.innerRef,b=p(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(dn.Consumer,null,(function(e){e||Lt(!1);var r=d||e.location,o=Pn(Nn(v,r),r),p=o.pathname,w=p&&p.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=w?wn(r.pathname,{path:w,exact:c,sensitive:h,strict:g}):null,E=!!(u?u(_,r):_),C="function"===typeof l?l(E):l,x="function"===typeof m?m(E):m;E&&(C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(C,s),x=f({},x,a));var S=f({"aria-current":E&&i||null,className:C,style:x,to:o},b);return Ln!==Fn?S.ref=n||y:S.innerRef=y,t.createElement(Mn,S)}))}));var jn=n(139),$n=n.n(jn),Bn=n(579);const Un=["xxl","xl","lg","md","sm","xs"],zn="xs",Vn=t.createContext({prefixes:{},breakpoints:Un,minBreakpoint:zn}),{Consumer:qn,Provider:Hn}=Vn;function Wn(e,n){const{prefixes:r}=(0,t.useContext)(Vn);return e||r[n]||n}const Gn=t.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:i="div",className:o,...s}=e;const a=Wn(n,"container"),l="string"===typeof r?`-${r}`:"-fluid";return(0,Bn.jsx)(i,{ref:t,...s,className:$n()(o,r?`${a}${l}`:a)})}));Gn.displayName="Container";const Kn=Gn;n(740);function Qn(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Xn(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Yn(e,n){return Object.keys(n).reduce((function(r,i){var o,s=r,a=s[Qn(i)],l=s[i],c=p(s,[Qn(i),i].map(Xn)),u=n[i],d=function(e,n,r){var i=(0,t.useRef)(void 0!==e),o=(0,t.useState)(n),s=o[0],a=o[1],l=void 0!==e,c=i.current;return i.current=l,!l&&c&&s!==n&&a(n),[l?e:s,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),a(e)}),[r])]}(l,a,e[u]),h=d[0],g=d[1];return f({},c,((o={})[i]=h,o[u]=g,o))}),e)}function Jn(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Zn(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function er(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Jn.__suppressDeprecationWarning=!0,Zn.__suppressDeprecationWarning=!0,er.__suppressDeprecationWarning=!0;var tr=Function.prototype.bind.call(Function.prototype.call,[].slice);function nr(e,t){return tr(e.querySelectorAll(t))}const rr=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const ir=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=rr(e),r=rr(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])},or=t.createContext(null);or.displayName="NavContext";const sr=or,ar=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},lr=t.createContext(null),cr=t.createContext(null);function ur(e){return`data-rr-ui-${e}`}const dr=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function hr(e){const n=dr(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const fr=["as","disabled"];function pr(e){let{tagName:t,disabled:n,href:r,target:i,rel:o,role:s,onClick:a,tabIndex:l=0,type:c}=e;t||(t=null!=r||null!=i||null!=o?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==a||a(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const gr=t.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,fr);const[o,{tagName:s}]=pr(Object.assign({tagName:n,disabled:r},i));return(0,Bn.jsx)(s,Object.assign({},i,o,{ref:t}))}));gr.displayName="Button";const mr=gr,vr=["as","active","eventKey"];function yr(e){let{key:n,onClick:r,active:i,id:o,role:s,disabled:a}=e;const l=(0,t.useContext)(lr),c=(0,t.useContext)(sr),u=(0,t.useContext)(cr);let d=i;const h={role:s};if(c){s||"tablist"!==c.role||(h.role="tab");const e=c.getControllerId(null!=n?n:null),t=c.getControlledId(null!=n?n:null);h[ur("event-key")]=n,h.id=e||o,d=null==i&&null!=n?c.activeKey===n:i,!d&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(h["aria-controls"]=t)}return"tab"===h.role&&(h["aria-selected"]=d,d||(h.tabIndex=-1),a&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=hr((e=>{a||(null==r||r(e),null!=n&&l&&!e.isPropagationStopped()&&l(n,e))})),[h,{isActive:d}]}const br=t.forwardRef(((e,t)=>{let{as:n=mr,active:r,eventKey:i}=e,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,vr);const[s,a]=yr(Object.assign({key:ar(i,o.href),active:r},o));return s[ur("active")]=a.isActive,(0,Bn.jsx)(n,Object.assign({},o,s,{ref:t}))}));br.displayName="NavItem";const wr=br,_r=["as","onSelect","activeKey","role","onKeyDown"];const Er=()=>{},Cr=ur("event-key"),xr=t.forwardRef(((e,n)=>{let{as:r="div",onSelect:i,activeKey:o,role:s,onKeyDown:a}=e,l=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,_r);const c=function(){const[,e]=(0,t.useReducer)((e=>e+1),0);return e}(),u=(0,t.useRef)(!1),d=(0,t.useContext)(lr),h=(0,t.useContext)(cr);let f,p;h&&(s=s||"tablist",o=h.activeKey,f=h.getControlledId,p=h.getControllerId);const g=(0,t.useRef)(null),m=e=>{const t=g.current;if(!t)return null;const n=nr(t,`[${Cr}]:not([aria-disabled=true])`),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let o=i+e;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},v=(e,t)=>{null!=e&&(null==i||i(e,t),null==d||d(e,t))};(0,t.useEffect)((()=>{if(g.current&&u.current){const e=g.current.querySelector(`[${Cr}][aria-selected=true]`);null==e||e.focus()}u.current=!1}));const y=ir(n,g);return(0,Bn.jsx)(lr.Provider,{value:v,children:(0,Bn.jsx)(sr.Provider,{value:{role:s,activeKey:ar(o),getControlledId:f||Er,getControllerId:p||Er},children:(0,Bn.jsx)(r,Object.assign({},l,{onKeyDown:e=>{if(null==a||a(e),!h)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=m(-1);break;case"ArrowRight":case"ArrowDown":t=m(1);break;default:return}var n;t&&(e.preventDefault(),v(t.dataset[(n="EventKey",`rrUi${n}`)]||null,e),u.current=!0,c())},ref:y,role:s}))})})}));xr.displayName="Nav";const Sr=Object.assign(xr,{Item:wr}),kr=t.createContext(null);kr.displayName="NavbarContext";const Tr=kr,Ir=t.createContext(null);Ir.displayName="CardHeaderContext";const Or=Ir,Nr=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Wn(r,"nav-item"),(0,Bn.jsx)(i,{ref:t,className:$n()(n,r),...o})}));Nr.displayName="NavItem";const Pr=Nr;const Rr="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Ar="undefined"!==typeof document||Rr?t.useLayoutEffect:t.useEffect;new WeakMap;const Dr=["onKeyDown"];const Mr=t.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Dr);const[i]=pr(Object.assign({tagName:"a"},r)),o=hr((e=>{i.onKeyDown(e),null==n||n(e)}));return(s=r.href)&&"#"!==s.trim()&&"button"!==r.role?(0,Bn.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,Bn.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:o}));var s}));Mr.displayName="Anchor";const Lr=Mr,Fr=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i=Lr,active:o,eventKey:s,disabled:a=!1,...l}=e;n=Wn(n,"nav-link");const[c,u]=yr({key:ar(s,l.href),active:o,disabled:a,...l});return(0,Bn.jsx)(i,{...l,...c,ref:t,disabled:a,className:$n()(r,n,a&&"disabled",u.isActive&&"active")})}));Fr.displayName="NavLink";const jr=Fr,$r=t.forwardRef(((e,n)=>{const{as:r="div",bsPrefix:i,variant:o,fill:s=!1,justify:a=!1,navbar:l,navbarScroll:c,className:u,activeKey:d,...h}=Yn(e,{activeKey:"onSelect"}),f=Wn(i,"nav");let p,g,m=!1;const v=(0,t.useContext)(Tr),y=(0,t.useContext)(Or);return v?(p=v.bsPrefix,m=null==l||l):y&&({cardHeaderBsPrefix:g}=y),(0,Bn.jsx)(Sr,{as:r,ref:n,activeKey:d,className:$n()(u,{[f]:!m,[`${p}-nav`]:m,[`${p}-nav-scroll`]:m&&c,[`${g}-${o}`]:!!g,[`${f}-${o}`]:!!o,[`${f}-fill`]:s,[`${f}-justified`]:a}),...h})}));$r.displayName="Nav";const Br=Object.assign($r,{Item:Pr,Link:jr}),Ur=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i,...o}=e;n=Wn(n,"navbar-brand");const s=i||(o.href?"a":"span");return(0,Bn.jsx)(s,{...o,ref:t,className:$n()(r,n)})}));Ur.displayName="NavbarBrand";const zr=Ur;function Vr(e){return e&&e.ownerDocument||document}function qr(e,t){return function(e){var t=Vr(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Hr=/([A-Z])/g;var Wr=/^ms-/;function Gr(e){return function(e){return e.replace(Hr,"-$1").toLowerCase()}(e).replace(Wr,"-ms-")}var Kr=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Qr=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Gr(t))||qr(e).getPropertyValue(Gr(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!Kr.test(e))}(i)?n+=Gr(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(Gr(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},Xr=!1,Yr=t.createContext(null);var Jr="unmounted",Zr="exited",ei="entering",ti="entered",ni="exiting",ri=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=Zr,r.appearStatus=ei):i=ti:i=t.unmountOnExit||t.mountOnEnter?Jr:Zr,r.state={status:i},r.nextCallback=null,r}Ot(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Jr?{status:Zr}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ei&&n!==ti&&(t=ei):n!==ei&&n!==ti||(t=ni)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===ei){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Zr&&this.setState({status:Jr})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[i.findDOMNode(this),r],s=o[0],a=o[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||Xr?this.safeSetState({status:ti},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,a),this.safeSetState({status:ei},(function(){t.props.onEntering(s,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:ti},(function(){t.props.onEntered(s,a)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!Xr?(this.props.onExit(r),this.safeSetState({status:ni},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Zr},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Zr},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=o[0],a=o[1];this.props.addEndListener(s,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Jr)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,p(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Yr.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function ii(){}ri.contextType=Yr,ri.propTypes={},ri.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ii,onEntering:ii,onEntered:ii,onExit:ii,onExiting:ii,onExited:ii},ri.UNMOUNTED=Jr,ri.EXITED=Zr,ri.ENTERING=ei,ri.ENTERED=ti,ri.EXITING=ni;const oi=ri;function si(e){if(!e||"function"===typeof e)return null;const{major:n}=function(){const e=t.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}();return n>=19?e.props.ref:e.ref}const ai=!("undefined"===typeof window||!window.document||!window.document.createElement);var li=!1,ci=!1;try{var ui={get passive(){return li=!0},get once(){return ci=li=!0}};ai&&(window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,!0))}catch(LX){}const di=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!ci){var i=r.once,o=r.capture,s=n;!ci&&i&&(s=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=s),e.addEventListener(t,s,li?r:o)}e.addEventListener(t,n,r)};const hi=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const fi=function(e,t,n,r){return di(e,t,n,r),function(){hi(e,t,n,r)}};function pi(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),o=fi(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function gi(e,t,n,r){null==n&&(n=function(e){var t=Qr(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=pi(e,n,r),o=fi(e,"transitionend",t);return function(){i(),o()}}function mi(e,t){const n=Qr(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function vi(e,t){const n=mi(e,"transitionDuration"),r=mi(e,"transitionDelay"),i=gi(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}const yi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function bi(e){e.offsetHeight}const wi=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const _i=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=wi(e),r=wi(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])};const Ei=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:o,onEntered:s,onExit:a,onExiting:l,onExited:c,addEndListener:u,children:d,childRef:h,...f}=e;const p=(0,t.useRef)(null),g=_i(p,h),m=e=>{var t;g((t=e)&&"setState"in t?i.findDOMNode(t):null!=t?t:null)},v=e=>t=>{e&&p.current&&e(p.current,t)},y=(0,t.useCallback)(v(r),[r]),b=(0,t.useCallback)(v(o),[o]),w=(0,t.useCallback)(v(s),[s]),_=(0,t.useCallback)(v(a),[a]),E=(0,t.useCallback)(v(l),[l]),C=(0,t.useCallback)(v(c),[c]),x=(0,t.useCallback)(v(u),[u]);return(0,Bn.jsx)(oi,{ref:n,...f,onEnter:y,onEntered:w,onEntering:b,onExit:_,onExited:C,onExiting:E,addEndListener:x,nodeRef:p,children:"function"===typeof d?(e,t)=>d(e,{...t,ref:m}):t.cloneElement(d,{ref:m})})})),Ci=Ei,xi={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Si(e,t){const n=t[`offset${e[0].toUpperCase()}${e.slice(1)}`],r=xi[e];return n+parseInt(Qr(t,r[0]),10)+parseInt(Qr(t,r[1]),10)}const ki={[Zr]:"collapse",[ni]:"collapsing",[ei]:"collapsing",[ti]:"collapse show"},Ti=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:i,onEntered:o,onExit:s,onExiting:a,className:l,children:c,dimension:u="height",in:d=!1,timeout:h=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:g=!1,getDimensionValue:m=Si,...v}=e;const y="function"===typeof u?u():u,b=(0,t.useMemo)((()=>yi((e=>{e.style[y]="0"}),r)),[y,r]),w=(0,t.useMemo)((()=>yi((e=>{const t=`scroll${y[0].toUpperCase()}${y.slice(1)}`;e.style[y]=`${e[t]}px`}),i)),[y,i]),_=(0,t.useMemo)((()=>yi((e=>{e.style[y]=null}),o)),[y,o]),E=(0,t.useMemo)((()=>yi((e=>{e.style[y]=`${m(y,e)}px`,bi(e)}),s)),[s,m,y]),C=(0,t.useMemo)((()=>yi((e=>{e.style[y]=null}),a)),[y,a]);return(0,Bn.jsx)(Ci,{ref:n,addEndListener:vi,...v,"aria-expanded":v.role?d:null,onEnter:b,onEntering:w,onEntered:_,onExit:E,onExiting:C,childRef:si(c),in:d,timeout:h,mountOnEnter:f,unmountOnExit:p,appear:g,children:(e,n)=>t.cloneElement(c,{...n,className:$n()(l,c.props.className,ki[e],"width"===y&&"collapse-horizontal")})})})),Ii=Ti,Oi=t.forwardRef(((e,n)=>{let{children:r,bsPrefix:i,...o}=e;i=Wn(i,"navbar-collapse");const s=(0,t.useContext)(Tr);return(0,Bn.jsx)(Ii,{in:!(!s||!s.expanded),...o,children:(0,Bn.jsx)("div",{ref:n,className:i,children:r})})}));Oi.displayName="NavbarCollapse";const Ni=Oi;const Pi=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function Ri(e){const n=Pi(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const Ai=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:o,label:s="Toggle navigation",as:a="button",onClick:l,...c}=e;r=Wn(r,"navbar-toggler");const{onToggle:u,expanded:d}=(0,t.useContext)(Tr)||{},h=Ri((e=>{l&&l(e),u&&u()}));return"button"===a&&(c.type="button"),(0,Bn.jsx)(a,{...c,ref:n,onClick:h,"aria-label":s,className:$n()(i,r,!d&&"collapsed"),children:o||(0,Bn.jsx)("span",{className:`${r}-icon`})})}));Ai.displayName="NavbarToggle";const Di=Ai,Mi="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Li="undefined"!==typeof document||Mi?t.useLayoutEffect:t.useEffect,Fi=new WeakMap,ji=(e,t)=>{if(!e||!t)return;const n=Fi.get(t)||new Map;Fi.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function $i(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const r=ji(e,n),[i,o]=(0,t.useState)((()=>!!r&&r.matches));return Li((()=>{let t=ji(e,n);if(!t)return o(!1);let r=Fi.get(n);const i=()=>{o(t.matches)};return t.refCount++,t.addListener(i),i(),()=>{t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),i}const Bi=function(e){const n=Object.keys(e);function r(e,t){return e===t?t:e?`${e} and ${t}`:t}function i(t){const r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t);let i=e[r];return i="number"===typeof i?i-.2+"px":`calc(${i} - 0.2px)`,`(max-width: ${i})`}return function(n,o,s){let a;"object"===typeof n?(a=n,s=o,o=!0):(o=o||!0,a={[n]:o});let l=(0,t.useMemo)((()=>Object.entries(a).reduce(((t,n)=>{let[o,s]=n;return"up"!==s&&!0!==s||(t=r(t,function(t){let n=e[t];return"number"===typeof n&&(n=`${n}px`),`(min-width: ${n})`}(o))),"down"!==s&&!0!==s||(t=r(t,i(o))),t}),"")),[JSON.stringify(a)]);return $i(l,s)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Ui=Bi;function zi(e){void 0===e&&(e=Vr());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(LX){return e.body}}function Vi(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function qi(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}const Hi=ur("modal-open");const Wi=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(Qr(r,n)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(Hi,""),Qr(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Hi),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Gi=(0,t.createContext)(ai?window:void 0);Gi.Provider;function Ki(){return(0,t.useContext)(Gi)}const Qi=(e,t)=>ai?null==e?(t||Vr()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const Xi=function(e){let{children:n,in:r,onExited:i,mountOnEnter:o,unmountOnExit:s}=e;const a=(0,t.useRef)(null),l=(0,t.useRef)(r),c=hr(i);(0,t.useEffect)((()=>{r?l.current=!0:c(a.current)}),[r,c]);const u=ir(a,n.ref),d=(0,t.cloneElement)(n,{ref:u});return r?d:s||!l.current&&o?null:d},Yi=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const Ji=["component"];const Zi=t.forwardRef(((e,n)=>{let{component:r}=e,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Ji);const o=function(e){let{onEnter:n,onEntering:r,onEntered:i,onExit:o,onExiting:s,onExited:a,addEndListener:l,children:c}=e,u=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Yi);const d=(0,t.useRef)(null),h=ir(d,si(c)),f=e=>t=>{e&&d.current&&e(d.current,t)},p=(0,t.useCallback)(f(n),[n]),g=(0,t.useCallback)(f(r),[r]),m=(0,t.useCallback)(f(i),[i]),v=(0,t.useCallback)(f(o),[o]),y=(0,t.useCallback)(f(s),[s]),b=(0,t.useCallback)(f(a),[a]),w=(0,t.useCallback)(f(l),[l]);return Object.assign({},u,{nodeRef:d},n&&{onEnter:p},r&&{onEntering:g},i&&{onEntered:m},o&&{onExit:v},s&&{onExiting:y},a&&{onExited:b},l&&{addEndListener:w},{children:"function"===typeof c?(e,t)=>c(e,Object.assign({},t,{ref:h})):(0,t.cloneElement)(c,{ref:h})})}(i);return(0,Bn.jsx)(r,Object.assign({ref:n},o))})),eo=Zi;function to(e){let{children:n,in:r,onExited:i,onEntered:o,transition:s}=e;const[a,l]=(0,t.useState)(!r);r&&a&&l(!1);const c=function(e){let{in:n,onTransition:r}=e;const i=(0,t.useRef)(null),o=(0,t.useRef)(!0),s=hr(r);return Ar((()=>{if(!i.current)return;let e=!1;return s({in:n,element:i.current,initial:o.current,isStale:()=>e}),()=>{e=!0}}),[n,s]),Ar((()=>(o.current=!1,()=>{o.current=!0})),[]),i}({in:!!r,onTransition:e=>{Promise.resolve(s(e)).then((()=>{e.isStale()||(e.in?null==o||o(e.element,e.initial):(l(!0),null==i||i(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),u=ir(c,n.ref);return a&&!r?null:(0,t.cloneElement)(n,{ref:u})}function no(e,t,n){return e?(0,Bn.jsx)(eo,Object.assign({},n,{component:e})):t?(0,Bn.jsx)(to,Object.assign({},n,{transition:t})):(0,Bn.jsx)(Xi,Object.assign({},n))}const ro=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let io;function oo(e){const n=Ki(),r=e||function(e){return io||(io=new Wi({ownerDocument:null==e?void 0:e.document})),io}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,t.useCallback)((e=>{i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((e=>{i.current.backdrop=e}),[])})}const so=(0,t.forwardRef)(((e,n)=>{let{show:r=!1,role:o="dialog",className:s,style:a,children:l,backdrop:c=!0,keyboard:u=!0,onBackdropClick:d,onEscapeKeyDown:h,transition:f,runTransition:p,backdropTransition:g,runBackdropTransition:m,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:b=!0,restoreFocusOptions:w,renderDialog:_,renderBackdrop:E=e=>(0,Bn.jsx)("div",Object.assign({},e)),manager:C,container:x,onShow:S,onHide:k=()=>{},onExit:T,onExited:I,onExiting:O,onEnter:N,onEntering:P,onEntered:R}=e,A=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,ro);const D=Ki(),M=function(e,n){const r=Ki(),[i,o]=(0,t.useState)((()=>Qi(e,null==r?void 0:r.document)));if(!i){const t=Qi(e);t&&o(t)}return(0,t.useEffect)((()=>{n&&i&&n(i)}),[n,i]),(0,t.useEffect)((()=>{const t=Qi(e);t!==i&&o(t)}),[e,i]),i}(x),L=oo(C),F=function(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}(),j=function(e){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{n.current=e})),n.current}(r),[$,B]=(0,t.useState)(!r),U=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>L),[L]),ai&&!j&&r&&(U.current=zi(null==D?void 0:D.document)),r&&$&&B(!1);const z=hr((()=>{if(L.add(),K.current=fi(document,"keydown",W),G.current=fi(document,"focus",(()=>setTimeout(q)),!0),S&&S(),v){var e,t;const n=zi(null!=(e=null==(t=L.dialog)?void 0:t.ownerDocument)?e:null==D?void 0:D.document);L.dialog&&n&&!Vi(L.dialog,n)&&(U.current=n,L.dialog.focus())}})),V=hr((()=>{var e;(L.remove(),null==K.current||K.current(),null==G.current||G.current(),b)&&(null==(e=U.current)||null==e.focus||e.focus(w),U.current=null)}));(0,t.useEffect)((()=>{r&&M&&z()}),[r,M,z]),(0,t.useEffect)((()=>{$&&V()}),[$,V]),qi((()=>{V()}));const q=hr((()=>{if(!y||!F()||!L.isTopModal())return;const e=zi(null==D?void 0:D.document);L.dialog&&e&&!Vi(L.dialog,e)&&L.dialog.focus()})),H=hr((e=>{e.target===e.currentTarget&&(null==d||d(e),!0===c&&k())})),W=hr((e=>{u&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&L.isTopModal()&&(null==h||h(e),e.defaultPrevented||k())})),G=(0,t.useRef)(),K=(0,t.useRef)();if(!M)return null;const Q=Object.assign({role:o,ref:L.setDialogRef,"aria-modal":"dialog"===o||void 0},A,{style:a,className:s,tabIndex:-1});let X=_?_(Q):(0,Bn.jsx)("div",Object.assign({},Q,{children:t.cloneElement(l,{role:"document"})}));X=no(f,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:T,onExiting:O,onExited:function(){B(!0),null==I||I(...arguments)},onEnter:N,onEntering:P,onEntered:R,children:X});let Y=null;return c&&(Y=E({ref:L.setBackdropRef,onClick:H}),Y=no(g,m,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Y})),(0,Bn.jsx)(Bn.Fragment,{children:i.createPortal((0,Bn.jsxs)(Bn.Fragment,{children:[Y,X]}),M)})}));so.displayName="Modal";const ao=Object.assign(so,{Manager:Wi}),lo={[ei]:"show",[ti]:"show"},co=t.forwardRef(((e,n)=>{let{className:r,children:i,transitionClasses:o={},onEnter:s,...a}=e;const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},c=(0,t.useCallback)(((e,t)=>{bi(e),null==s||s(e,t)}),[s]);return(0,Bn.jsx)(Ci,{ref:n,addEndListener:vi,...l,onEnter:c,childRef:si(i),children:(e,n)=>t.cloneElement(i,{...n,className:$n()("fade",r,i.props.className,lo[e],o[e])})})}));co.displayName="Fade";const uo=co,ho=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Wn(r,"offcanvas-body"),(0,Bn.jsx)(i,{ref:t,className:$n()(n,r),...o})}));ho.displayName="OffcanvasBody";const fo=ho,po={[ei]:"show",[ti]:"show"},go=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:o,in:s=!1,mountOnEnter:a=!1,unmountOnExit:l=!1,appear:c=!1,...u}=e;return r=Wn(r,"offcanvas"),(0,Bn.jsx)(Ci,{ref:n,addEndListener:vi,in:s,mountOnEnter:a,unmountOnExit:l,appear:c,...u,childRef:si(o),children:(e,n)=>t.cloneElement(o,{...n,className:$n()(i,o.props.className,(e===ei||e===ni)&&`${r}-toggling`,po[e])})})}));go.displayName="OffcanvasToggling";const mo=go,vo=t.createContext({onHide(){}}),yo={"aria-label":xe().string,onClick:xe().func,variant:xe().oneOf(["white"])},bo=t.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":i="Close",...o}=e;return(0,Bn.jsx)("button",{ref:t,type:"button",className:$n()("btn-close",r&&`btn-close-${r}`,n),"aria-label":i,...o})}));bo.displayName="CloseButton",bo.propTypes=yo;const wo=bo,_o=t.forwardRef(((e,n)=>{let{closeLabel:r="Close",closeVariant:i,closeButton:o=!1,onHide:s,children:a,...l}=e;const c=(0,t.useContext)(vo),u=Ri((()=>{null==c||c.onHide(),null==s||s()}));return(0,Bn.jsxs)("div",{ref:n,...l,children:[a,o&&(0,Bn.jsx)(wo,{"aria-label":r,variant:i,onClick:u})]})})),Eo=_o,Co=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:o=!1,...s}=e;return n=Wn(n,"offcanvas-header"),(0,Bn.jsx)(Eo,{ref:t,...s,className:$n()(r,n),closeLabel:i,closeButton:o})}));Co.displayName="OffcanvasHeader";const xo=Co,So=(ko="h5",t.forwardRef(((e,t)=>(0,Bn.jsx)("div",{...e,ref:t,className:$n()(e.className,ko)}))));var ko;const To=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=So,...o}=e;return r=Wn(r,"offcanvas-title"),(0,Bn.jsx)(i,{ref:t,className:$n()(n,r),...o})}));To.displayName="OffcanvasTitle";const Io=To;function Oo(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const No=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Po=".sticky-top",Ro=".navbar-toggler";class Ao extends Wi{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,Qr(t,{[e]:`${parseFloat(Qr(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Qr(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(t,"modal-open"),!e.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";nr(t,No).forEach((t=>this.adjustAndStore(n,t,e.scrollBarWidth))),nr(t,Po).forEach((t=>this.adjustAndStore(r,t,-e.scrollBarWidth))),nr(t,Ro).forEach((t=>this.adjustAndStore(r,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=Oo(e.className,t):e.setAttribute("class",Oo(e.className&&e.className.baseVal||"",t))}(t,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";nr(t,No).forEach((e=>this.restore(n,e))),nr(t,Po).forEach((e=>this.restore(r,e))),nr(t,Ro).forEach((e=>this.restore(r,e)))}}let Do;const Mo=Ao;function Lo(e){return(0,Bn.jsx)(mo,{...e})}function Fo(e){return(0,Bn.jsx)(uo,{...e})}const jo=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:o,"aria-labelledby":s,placement:a="start",responsive:l,show:c=!1,backdrop:u=!0,keyboard:d=!0,scroll:h=!1,onEscapeKeyDown:f,onShow:p,onHide:g,container:m,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:b=!0,restoreFocusOptions:w,onEntered:_,onExit:E,onExiting:C,onEnter:x,onEntering:S,onExited:k,backdropClassName:T,manager:I,renderStaticNode:O=!1,...N}=e;const P=(0,t.useRef)();r=Wn(r,"offcanvas");const[R,A]=(0,t.useState)(!1),D=Ri(g),M=Ui(l||"xs","up");(0,t.useEffect)((()=>{A(l?c&&!M:c)}),[c,l,M]);const L=(0,t.useMemo)((()=>({onHide:D})),[D]);const F=(0,t.useCallback)((e=>(0,Bn.jsx)("div",{...e,className:$n()(`${r}-backdrop`,T)})),[T,r]),j=e=>(0,Bn.jsx)("div",{...e,...N,className:$n()(i,l?`${r}-${l}`:r,`${r}-${a}`),"aria-labelledby":s,children:o});return(0,Bn.jsxs)(Bn.Fragment,{children:[!R&&(l||O)&&j({}),(0,Bn.jsx)(vo.Provider,{value:L,children:(0,Bn.jsx)(ao,{show:R,ref:n,backdrop:u,container:m,keyboard:d,autoFocus:v,enforceFocus:y&&!h,restoreFocus:b,restoreFocusOptions:w,onEscapeKeyDown:f,onShow:p,onHide:D,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==x||x(e,...n)},onEntering:S,onEntered:_,onExit:E,onExiting:C,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==k||k(...n)},manager:I||(h?(P.current||(P.current=new Mo({handleContainerOverflow:!1})),P.current):function(e){return Do||(Do=new Ao(e)),Do}()),transition:Lo,backdropTransition:Fo,renderBackdrop:F,renderDialog:j})})]})}));jo.displayName="Offcanvas";const $o=Object.assign(jo,{Body:fo,Header:xo,Title:Io}),Bo=t.forwardRef(((e,n)=>{let{onHide:r,...i}=e;const o=(0,t.useContext)(Tr),s=Ri((()=>{null==o||null==o.onToggle||o.onToggle(),null==r||r()}));return(0,Bn.jsx)($o,{ref:n,show:!(null==o||!o.expanded),...i,renderStaticNode:!0,onHide:s})}));Bo.displayName="NavbarOffcanvas";const Uo=Bo,zo=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...o}=e;return r=Wn(r,"navbar-text"),(0,Bn.jsx)(i,{ref:t,className:$n()(n,r),...o})}));zo.displayName="NavbarText";const Vo=zo,qo=t.forwardRef(((e,n)=>{const{bsPrefix:r,expand:i=!0,variant:o="light",bg:s,fixed:a,sticky:l,className:c,as:u="nav",expanded:d,onToggle:h,onSelect:f,collapseOnSelect:p=!1,...g}=Yn(e,{expanded:"onToggle"}),m=Wn(r,"navbar"),v=(0,t.useCallback)((function(){null==f||f(...arguments),p&&d&&(null==h||h(!1))}),[f,p,d,h]);void 0===g.role&&"nav"!==u&&(g.role="navigation");let y=`${m}-expand`;"string"===typeof i&&(y=`${y}-${i}`);const b=(0,t.useMemo)((()=>({onToggle:()=>null==h?void 0:h(!d),bsPrefix:m,expanded:!!d,expand:i})),[m,d,i,h]);return(0,Bn.jsx)(Tr.Provider,{value:b,children:(0,Bn.jsx)(lr.Provider,{value:v,children:(0,Bn.jsx)(u,{ref:n,...g,className:$n()(c,m,i&&y,o&&`${m}-${o}`,s&&`bg-${s}`,l&&`sticky-${l}`,a&&`fixed-${a}`)})})})}));qo.displayName="Navbar";const Ho=Object.assign(qo,{Brand:zr,Collapse:Ni,Offcanvas:Uo,Text:Vo,Toggle:Di}),Wo=!1,Go=!1,Ko="${JSCORE_VERSION}",Qo=function(e,t){if(!e)throw Xo(t)},Xo=function(e){return new Error("Firebase Database ("+Ko+") INTERNAL ASSERT FAILED: "+e)},Yo=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Jo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Yo(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Zo;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Zo extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const es=function(e){const t=Yo(e);return Jo.encodeByteArray(t,!0)},ts=function(e){return es(e).replace(/\./g,"")},ns=function(e){try{return Jo.decodeString(e,!0)}catch(LX){console.error("base64Decode failed: ",LX)}return null};function rs(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&is(n)&&(e[n]=rs(e[n],t[n]));return e}function is(e){return"__proto__"!==e}const os=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,ss=()=>{try{return os()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(LX){return}const t=e&&ns(e[1]);return t&&JSON.parse(t)})()}catch(LX){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${LX}`)}},as=e=>{var t,n;return null===(n=null===(t=ss())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},ls=()=>{var e;return null===(e=ss())||void 0===e?void 0:e.config},cs=e=>{var t;return null===(t=ss())||void 0===t?void 0:t[`_${e}`]};class us{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function ds(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ts(JSON.stringify({alg:"none",type:"JWT"})),ts(JSON.stringify(o)),""].join(".")}function hs(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function fs(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hs())}function ps(){var e;const t=null===(e=ss())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(LX){return!1}}function gs(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ms(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function vs(){const e=hs();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ys(){return!0===Wo||!0===Go}function bs(){try{return"object"===typeof indexedDB}catch(LX){return!1}}class ws extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_s.prototype.create)}}class _s{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Es,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new ws(n,o,t)}}const Es=/\{\$([^}]+)}/g;function Cs(e){return JSON.parse(e)}function xs(e){return JSON.stringify(e)}const Ss=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=Cs(ns(o[0])||""),n=Cs(ns(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(LX){}return{header:t,claims:n,data:r,signature:i}};function ks(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ts(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Is(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Os(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ns(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Ps(n)&&Ps(o)){if(!Ns(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ps(e){return null!==e&&"object"===typeof e}function Rs(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function As(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Ds(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ms{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function Ls(e,t){const n=new Fs(e,t);return n.subscribe.bind(n)}class Fs{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=js),void 0===r.error&&(r.error=js),void 0===r.complete&&(r.complete=js);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(LX){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(LX){"undefined"!==typeof console&&console.error&&console.error(LX)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function js(){}const $s=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}};function Bs(e,t){return`${e} failed: ${t} argument `}function Us(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Bs(e,t)+"must be a valid function.")}function zs(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Bs(e,t)+"must be a valid context object.")}const Vs=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function qs(e){return e&&e._delegate?e._delegate:e}class Hs{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ws="[DEFAULT]";class Gs{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new us;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(LX){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(LX){if(r)return null;throw LX}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch(LX){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(LX){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ws;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ws;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ws;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(fT){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ks(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(fT){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ws;return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Ks(e){return e===Ws?void 0:e}class Qs{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Gs(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Xs=[];var Ys;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ys||(Ys={}));const Js={debug:Ys.DEBUG,verbose:Ys.VERBOSE,info:Ys.INFO,warn:Ys.WARN,error:Ys.ERROR,silent:Ys.SILENT},Zs=Ys.INFO,ea={[Ys.DEBUG]:"log",[Ys.VERBOSE]:"log",[Ys.INFO]:"info",[Ys.WARN]:"warn",[Ys.ERROR]:"error"},ta=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ea[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...o)};class na{constructor(e){this.name=e,this._logLevel=Zs,this._logHandler=ta,this._userLogHandler=null,Xs.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ys))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Js[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ys.DEBUG,...t),this._logHandler(this,Ys.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ys.VERBOSE,...t),this._logHandler(this,Ys.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ys.INFO,...t),this._logHandler(this,Ys.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ys.WARN,...t),this._logHandler(this,Ys.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ys.ERROR,...t),this._logHandler(this,Ys.ERROR,...t)}}let ra,ia;const oa=new WeakMap,sa=new WeakMap,aa=new WeakMap,la=new WeakMap,ca=new WeakMap;let ua={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return sa.get(e);if("objectStoreNames"===t)return e.objectStoreNames||aa.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fa(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function da(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ia||(ia=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(pa(this),n),fa(oa.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fa(e.apply(pa(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(pa(this),t,...r);return aa.set(o,t.sort?t.sort():[t]),fa(o)}}function ha(e){return"function"===typeof e?da(e):(e instanceof IDBTransaction&&function(e){if(sa.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));sa.set(e,t)}(e),((e,t)=>t.some((t=>e instanceof t)))(e,ra||(ra=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ua):e)}function fa(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(fa(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&oa.set(t,e)})).catch((()=>{})),ca.set(t,e),t}(e);if(la.has(e))return la.get(e);const t=ha(e);return t!==e&&(la.set(e,t),ca.set(t,e)),t}const pa=e=>ca.get(e);const ga=["get","getKey","getAll","getAllKeys","count"],ma=["put","add","delete","clear"],va=new Map;function ya(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(va.get(t))return va.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ma.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ga.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return va.set(t,o),o}ua=(e=>({...e,get:(t,n,r)=>ya(t,n)||e.get(t,n,r),has:(t,n)=>!!ya(t,n)||e.has(t,n)}))(ua);class ba{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const wa="@firebase/app",_a="0.9.13",Ea=new na("@firebase/app"),Ca="@firebase/app-compat",xa="@firebase/analytics-compat",Sa="@firebase/analytics",ka="@firebase/app-check-compat",Ta="@firebase/app-check",Ia="@firebase/auth",Oa="@firebase/auth-compat",Na="@firebase/database",Pa="@firebase/database-compat",Ra="@firebase/functions",Aa="@firebase/functions-compat",Da="@firebase/installations",Ma="@firebase/installations-compat",La="@firebase/messaging",Fa="@firebase/messaging-compat",ja="@firebase/performance",$a="@firebase/performance-compat",Ba="@firebase/remote-config",Ua="@firebase/remote-config-compat",za="@firebase/storage",Va="@firebase/storage-compat",qa="@firebase/firestore",Ha="@firebase/firestore-compat",Wa="firebase",Ga="[DEFAULT]",Ka={[wa]:"fire-core",[Ca]:"fire-core-compat",[Sa]:"fire-analytics",[xa]:"fire-analytics-compat",[Ta]:"fire-app-check",[ka]:"fire-app-check-compat",[Ia]:"fire-auth",[Oa]:"fire-auth-compat",[Na]:"fire-rtdb",[Pa]:"fire-rtdb-compat",[Ra]:"fire-fn",[Aa]:"fire-fn-compat",[Da]:"fire-iid",[Ma]:"fire-iid-compat",[La]:"fire-fcm",[Fa]:"fire-fcm-compat",[ja]:"fire-perf",[$a]:"fire-perf-compat",[Ba]:"fire-rc",[Ua]:"fire-rc-compat",[za]:"fire-gcs",[Va]:"fire-gcs-compat",[qa]:"fire-fst",[Ha]:"fire-fst-compat","fire-js":"fire-js",[Wa]:"fire-js-all"},Qa=new Map,Xa=new Map;function Ya(e,t){try{e.container.addComponent(t)}catch(LX){Ea.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,LX)}}function Ja(e,t){e.container.addOrOverwriteComponent(t)}function Za(e){const t=e.name;if(Xa.has(t))return Ea.debug(`There were multiple attempts to register component ${t}.`),!1;Xa.set(t,e);for(const n of Qa.values())Ya(n,e);return!0}function el(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function tl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ga;el(e,t).clearInstance(n)}function nl(){Xa.clear()}const rl=new _s("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class il{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Hs("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rl.create("app-deleted",{appName:this._name})}}const ol="9.23.0";function sl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ga,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw rl.create("bad-app-name",{appName:String(i)});if(n||(n=ls()),!n)throw rl.create("no-options");const o=Qa.get(i);if(o){if(Ns(n,o.options)&&Ns(r,o.config))return o;throw rl.create("duplicate-app",{appName:i})}const s=new Qs(i);for(const l of Xa.values())s.addComponent(l);const a=new il(n,r,s);return Qa.set(i,a),a}function al(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga;const t=Qa.get(e);if(!t&&e===Ga&&ls())return sl();if(!t)throw rl.create("no-app",{appName:e});return t}function ll(){return Array.from(Qa.values())}async function cl(e){const t=e.name;Qa.has(t)&&(Qa.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function ul(e,t,n){var r;let i=null!==(r=Ka[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ea.warn(e.join(" "))}Za(new Hs(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function dl(e,t){if(null!==e&&"function"!==typeof e)throw rl.create("invalid-log-argument");!function(e,t){for(const n of Xs){let r=null;t&&t.level&&(r=Js[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Ys[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function hl(e){var t;t=e,Xs.forEach((e=>{e.setLogLevel(t)}))}const fl="firebase-heartbeat-store";let pl=null;function gl(){return pl||(pl=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=fa(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(fa(s.result),e.oldVersion,e.newVersion,fa(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(fl)}}).catch((e=>{throw rl.create("idb-open",{originalErrorMessage:e.message})}))),pl}async function ml(e,t){try{const n=(await gl()).transaction(fl,"readwrite"),r=n.objectStore(fl);await r.put(t,vl(e)),await n.done}catch(LX){if(LX instanceof ws)Ea.warn(LX.message);else{const t=rl.create("idb-set",{originalErrorMessage:null===LX||void 0===LX?void 0:LX.message});Ea.warn(t.message)}}}function vl(e){return`${e.name}!${e.options.appId}`}class yl{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wl(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=bl();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=bl(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),_l(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_l(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=ts(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function bl(){return(new Date).toISOString().substring(0,10)}class wl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!bs()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(SN){t(SN)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await gl();return await t.transaction(fl).objectStore(fl).get(vl(e))}catch(LX){if(LX instanceof ws)Ea.warn(LX.message);else{const t=rl.create("idb-get",{originalErrorMessage:null===LX||void 0===LX?void 0:LX.message});Ea.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ml(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ml(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function _l(e){return ts(JSON.stringify({version:2,heartbeats:e})).length}var El;El="",Za(new Hs("platform-logger",(e=>new ba(e)),"PRIVATE")),Za(new Hs("heartbeat",(e=>new yl(e)),"PRIVATE")),ul(wa,_a,El),ul(wa,_a,"esm2017"),ul("fire-js","");class Cl{constructor(e,t){this._delegate=e,this.firebase=t,Ya(e,new Hs("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),cl(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ga;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ga;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Ya(this._delegate,e)}_addOrOverwriteComponent(e){Ja(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xl=new _s("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Sl=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=sl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ks(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:ul,setLogLevel:hl,onLog:dl,apps:null,SDK_VERSION:ol,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Za(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw xl.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&rs(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ks(n,e=e||Ga))throw xl.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Cl);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){rs(n,e)},createSubscribe:Ls,ErrorFactory:_s,deepExtend:rs}),n}(),kl=new na("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){kl.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&kl.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Tl=Sl;!function(e){ul("@firebase/app-compat","0.2.13",e)}();Tl.registerVersion("firebase","9.23.0","app-compat");function Il(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Ol="facebook.com",Nl="github.com",Pl="google.com",Rl="password",Al="twitter.com",Dl="EMAIL_SIGNIN",Ml="PASSWORD_RESET",Ll="RECOVER_EMAIL",Fl="REVERT_SECOND_FACTOR_ADDITION",jl="VERIFY_AND_CHANGE_EMAIL",$l="VERIFY_EMAIL";function Bl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ul=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},zl=Bl,Vl=new _s("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ql=new na("@firebase/auth");function Hl(e){if(ql.logLevel<=Ys.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ql.error(`Auth (${ol}): ${e}`,...n)}}function Wl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Xl(e,...n)}function Gl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Xl(e,...n)}function Kl(e,t,n){const r=Object.assign(Object.assign({},zl()),{[t]:n});return new _s("auth","Firebase",r).create(t,{appName:e.name})}function Ql(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Wl(e,"argument-error"),Kl(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Vl.create(e,...n)}function Yl(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Xl(t,...r)}}function Jl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Hl(t),new Error(t)}function Zl(e,t){e||Jl(t)}function ec(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function tc(){return"http:"===nc()||"https:"===nc()}function nc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class rc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zl(t>e,"Short delay should be less than long delay!"),this.isMobile=fs()||ms()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(tc()||gs()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ic(e,t){Zl(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class oc{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Jl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Jl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Jl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sc={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ac=new rc(3e4,6e4);function lc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function cc(e,t,n,r){return uc(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Rs(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),oc.fetch()(hc(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function uc(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},sc),t);try{const t=new fc(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw pc(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw pc(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw pc(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw pc(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Kl(e,a,s);Wl(e,a)}}catch(LX){if(LX instanceof ws)throw LX;Wl(e,"network-request-failed",{message:String(LX)})}}async function dc(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await cc(e,t,n,r,i);return"mfaPendingCredential"in o&&Wl(e,"multi-factor-auth-required",{_serverResponse:o}),o}function hc(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?ic(e.config,i):`${e.config.apiScheme}://${i}`}class fc{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Gl(this.auth,"network-request-failed"))),ac.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function pc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gl(e,t,r);return i.customData._tokenResponse=n,i}function gc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(LX){}}function mc(e){return 1e3*Number(e)}function vc(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Hl("JWT malformed, contained fewer than 3 sections"),null;try{const e=ns(n);return e?JSON.parse(e):(Hl("Failed to decode base64 JWT payload"),null)}catch(LX){return Hl("Caught error parsing JWT payload as JSON",null===LX||void 0===LX?void 0:LX.toString()),null}}async function yc(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(LX){throw LX instanceof ws&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(LX)&&e.auth.currentUser===e&&await e.auth.signOut(),LX}}class bc{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(LX){return void("auth/network-request-failed"===(null===LX||void 0===LX?void 0:LX.code)&&this.schedule(!0))}this.schedule()}}class wc{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _c(e){var t;const n=e.auth,r=await e.getIdToken(),i=await yc(e,async function(e,t){return cc(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Yl(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=Il(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new wc(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)}class Ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Yl(e.idToken,"internal-error"),Yl("undefined"!==typeof e.idToken,"internal-error"),Yl("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=vc(e);return Yl(t,"internal-error"),Yl("undefined"!==typeof t.exp,"internal-error"),Yl("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Yl(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await uc(e,{},(async()=>{const n=Rs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=hc(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",oc.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Ec;return n&&(Yl("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Yl("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Yl("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ec,this.toJSON())}_performRefresh(){return Jl("not implemented")}}function Cc(e,t){Yl("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class xc{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Il(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wc(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await yc(this,this.stsTokenManager.getToken(this.auth,e));return Yl(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=qs(e),r=await n.getIdToken(t),i=vc(r);Yl(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:gc(mc(i.auth_time)),issuedAtTime:gc(mc(i.iat)),expirationTime:gc(mc(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=qs(e);await _c(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Yl(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Yl(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await _c(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await yc(this,async function(e,t){return cc(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:E}=t;Yl(y&&E,e,"internal-error");const C=Ec.fromJSON(this.name,E);Yl("string"===typeof y,e,"internal-error"),Cc(u,e.name),Cc(d,e.name),Yl("boolean"===typeof b,e,"internal-error"),Yl("boolean"===typeof w,e,"internal-error"),Cc(h,e.name),Cc(f,e.name),Cc(p,e.name),Cc(g,e.name),Cc(m,e.name),Cc(v,e.name);const x=new xc({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:C,createdAt:m,lastLoginAt:v});return _&&Array.isArray(_)&&(x.providerData=_.map((e=>Object.assign({},e)))),g&&(x._redirectEventId=g),x}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ec;r.updateFromServerResponse(t);const i=new xc({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await _c(i),i}}const Sc=new Map;function kc(e){Zl(e instanceof Function,"Expected a class definition");let t=Sc.get(e);return t?(Zl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Sc.set(e,t),t)}class Tc{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Tc.type="NONE";const Ic=Tc;function Oc(e,t,n){return`firebase:${e}:${t}:${n}`}class Nc{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Oc(this.userKey,r.apiKey,i),this.fullPersistenceKey=Oc("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xc._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Nc(kc(Ic),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||kc(Ic);const o=Oc(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){const n=xc._fromJSON(e,t);l!==i&&(s=n),i=l;break}}catch(fT){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(fT){}}))),new Nc(i,e,n)):new Nc(i,e,n)}}function Pc(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Mc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Rc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Fc(t))return"Blackberry";if(jc(t))return"Webos";if(Ac(t))return"Safari";if((t.includes("chrome/")||Dc(t))&&!t.includes("edge/"))return"Chrome";if(Lc(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Rc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs();return/firefox\//i.test(e)}function Ac(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs();return/crios\//i.test(e)}function Mc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs();return/iemobile/i.test(e)}function Lc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs();return/android/i.test(e)}function Fc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs();return/blackberry/i.test(e)}function jc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs();return/webos/i.test(e)}function $c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Bc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs();return $c(e)||Lc(e)||jc(e)||Fc(e)||/windows phone/i.test(e)||Mc(e)}function Uc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Pc(hs());break;case"Worker":t=`${Pc(hs())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${ol}/${r}`}async function zc(e,t){return cc(e,"GET","/v2/recaptchaConfig",lc(e,t))}function Vc(e){return void 0!==e&&void 0!==e.getResponse}function qc(e){return void 0!==e&&void 0!==e.enterprise}class Hc{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Wc(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Gl("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Gc(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Kc{constructor(e){this.type="recaptcha-enterprise",this.auth=Jc(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;qc(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{zc(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Hc(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&qc(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Wc("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Qc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Kc(e);let o;try{o=await i.verify(n)}catch(SN){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}class Xc{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(LX){r(LX)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(LX){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===LX||void 0===LX?void 0:LX.message})}}}class Yc{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zc(this),this.idTokenSubscription=new Zc(this),this.beforeStateQueue=new Xc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=kc(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Nc.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(LX){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(LX){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(LX)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Yl(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(LX){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _c(e)}catch(LX){if("auth/network-request-failed"!==(null===LX||void 0===LX?void 0:LX.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?qs(e):null;return t&&Yl(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Yl(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(kc(e))}))}async initializeRecaptchaConfig(){const e=await zc(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Hc(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Kc(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _s("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&kc(e)||this._popupRedirectResolver;Yl(t,this,"argument-error"),this.redirectPersistenceManager=await Nc.create(this,[kc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Yl(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Yl(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Uc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(ql.logLevel<=Ys.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ql.warn(`Auth (${ol}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Jc(e){return qs(e)}class Zc{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ls((e=>this.observer=e))}get next(){return Yl(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function eu(e,t,n){const r=Jc(e);Yl(r._canInitEmulator,r,"emulator-config-failed"),Yl(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=tu(t),{host:s,port:a}=function(e){const t=tu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:nu(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:nu(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function tu(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function nu(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ru{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jl("not implemented")}_getIdTokenResponse(e){return Jl("not implemented")}_linkToIdToken(e,t){return Jl("not implemented")}_getReauthenticationResolver(e){return Jl("not implemented")}}async function iu(e,t){return cc(e,"POST","/v1/accounts:resetPassword",lc(e,t))}async function ou(e,t){return cc(e,"POST","/v1/accounts:update",t)}async function su(e,t){return dc(e,"POST","/v1/accounts:signInWithPassword",lc(e,t))}async function au(e,t){return cc(e,"POST","/v1/accounts:sendOobCode",lc(e,t))}async function lu(e,t){return au(e,t)}async function cu(e,t){return au(e,t)}class uu extends ru{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new uu(e,t,"password")}static _fromEmailAndCode(e,t){return new uu(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Qc(e,n,"signInWithPassword");return su(e,t)}return su(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Qc(e,n,"signInWithPassword");return su(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return dc(e,"POST","/v1/accounts:signInWithEmailLink",lc(e,t))}(e,{email:this._email,oobCode:this._password});default:Wl(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ou(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return dc(e,"POST","/v1/accounts:signInWithEmailLink",lc(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Wl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function du(e,t){return dc(e,"POST","/v1/accounts:signInWithIdp",lc(e,t))}class hu extends ru{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new hu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Il(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new hu(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return du(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,du(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,du(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rs(t)}return e}}const fu={USER_NOT_FOUND:"user-not-found"};class pu extends ru{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new pu({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new pu({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return dc(e,"POST","/v1/accounts:signInWithPhoneNumber",lc(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await dc(e,"POST","/v1/accounts:signInWithPhoneNumber",lc(e,t));if(n.temporaryProof)throw pc(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return dc(e,"POST","/v1/accounts:signInWithPhoneNumber",lc(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),fu)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new pu({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class gu{constructor(e){var t,n,r,i,o,s;const a=As(Ds(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Yl(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=As(Ds(e)).link,n=t?As(Ds(t)).deep_link_id:null,r=As(Ds(e)).deep_link_id;return(r?As(Ds(r)).link:null)||r||n||t||e}(e);try{return new gu(t)}catch(fT){return null}}}class mu{constructor(){this.providerId=mu.PROVIDER_ID}static credential(e,t){return uu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=gu.parseLink(t);return Yl(n,"argument-error"),uu._fromEmailAndCode(e,n.code,n.tenantId)}}mu.PROVIDER_ID="password",mu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",mu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class vu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yu extends vu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bu extends yu{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Yl("providerId"in t&&"signInMethod"in t,"argument-error"),hu._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Yl(e.idToken||e.accessToken,"argument-error"),hu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return bu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return bu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new bu(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(LX){return null}}}class wu extends yu{constructor(){super("facebook.com")}static credential(e){return hu._fromParams({providerId:wu.PROVIDER_ID,signInMethod:wu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wu.credentialFromTaggedObject(e)}static credentialFromError(e){return wu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return wu.credential(t.oauthAccessToken)}catch(fT){return null}}}wu.FACEBOOK_SIGN_IN_METHOD="facebook.com",wu.PROVIDER_ID="facebook.com";class _u extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return hu._fromParams({providerId:_u.PROVIDER_ID,signInMethod:_u.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _u.credentialFromTaggedObject(e)}static credentialFromError(e){return _u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return _u.credential(n,r)}catch(fT){return null}}}_u.GOOGLE_SIGN_IN_METHOD="google.com",_u.PROVIDER_ID="google.com";class Eu extends yu{constructor(){super("github.com")}static credential(e){return hu._fromParams({providerId:Eu.PROVIDER_ID,signInMethod:Eu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eu.credentialFromTaggedObject(e)}static credentialFromError(e){return Eu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Eu.credential(t.oauthAccessToken)}catch(fT){return null}}}Eu.GITHUB_SIGN_IN_METHOD="github.com",Eu.PROVIDER_ID="github.com";class Cu extends ru{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return du(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,du(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,du(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Cu(n,i):null}static _create(e,t){return new Cu(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xu extends vu{constructor(e){Yl(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return xu.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return xu.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Cu.fromJSON(e);return Yl(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Cu._create(r,n)}catch(LX){return null}}}class Su extends yu{constructor(){super("twitter.com")}static credential(e,t){return hu._fromParams({providerId:Su.PROVIDER_ID,signInMethod:Su.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Su.credentialFromTaggedObject(e)}static credentialFromError(e){return Su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Su.credential(n,r)}catch(fT){return null}}}async function ku(e,t){return dc(e,"POST","/v1/accounts:signUp",lc(e,t))}Su.TWITTER_SIGN_IN_METHOD="twitter.com",Su.PROVIDER_ID="twitter.com";class Tu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await xc._fromIdTokenResponse(e,n,r),o=Iu(n);return new Tu({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Iu(n);return new Tu({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Iu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ou extends ws{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ou.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ou(e,t,n,r)}}function Nu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Ou._fromErrorAndOperation(e,n,t,r);throw n}))}function Pu(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Ru(e,t){const n=qs(e);await Du(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return cc(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Pu(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Au(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await yc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Tu._forOperation(e,"link",r)}async function Du(e,t,n){await _c(t);const r=!1===e?"provider-already-linked":"no-such-provider";Yl(Pu(t.providerData).has(n)===e,t.auth,r)}async function Mu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await yc(e,Nu(r,i,t,e),n);Yl(o.idToken,r,"internal-error");const s=vc(o.idToken);Yl(s,r,"internal-error");const{sub:a}=s;return Yl(e.uid===a,r,"user-mismatch"),Tu._forOperation(e,i,o)}catch(LX){throw"auth/user-not-found"===(null===LX||void 0===LX?void 0:LX.code)&&Wl(r,"user-mismatch"),LX}}async function Lu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Nu(e,r,t),o=await Tu._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Fu(e,t){return Lu(Jc(e),t)}async function ju(e,t){const n=qs(e);return await Du(!1,n,t.providerId),Au(n,t)}async function $u(e,t){return Mu(qs(e),t)}async function Bu(e,t){const n=Jc(e),r=await async function(e,t){return dc(e,"POST","/v1/accounts:signInWithCustomToken",lc(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Tu._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Uu{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?zu._fromServerResponse(e,t):"totpInfo"in t?Vu._fromServerResponse(e,t):Wl(e,"internal-error")}}class zu extends Uu{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new zu(t)}}class Vu extends Uu{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Vu(t)}}function qu(e,t,n){var r;Yl((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Yl("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Yl(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Yl(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Hu(e,t){await async function(e,t){return cc(e,"POST","/v1/accounts:update",lc(e,t))}(qs(e),{oobCode:t})}async function Wu(e,t){const n=qs(e),r=await iu(n,{oobCode:t}),i=r.requestType;switch(Yl(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Yl(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Yl(r.mfaInfo,n,"internal-error");default:Yl(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Uu._fromServerResponse(Jc(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Gu(e,t){const n={identifier:t,continueUri:tc()?ec():"http://localhost"},{signinMethods:r}=await async function(e,t){return cc(e,"POST","/v1/accounts:createAuthUri",lc(e,t))}(qs(e),n);return r||[]}async function Ku(e,t){const n=qs(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&qu(n.auth,r,t);const{email:i}=await async function(e,t){return au(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Qu(e,t,n){const r=qs(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&qu(r.auth,i,n);const{email:o}=await async function(e,t){return au(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function Xu(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=qs(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await yc(i,async function(e,t){return cc(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function Yu(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await yc(e,ou(r,i));await e._updateTokensIfNecessary(o,!0)}class Ju{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Zu extends Ju{constructor(e,t,n,r){super(e,t,n),this.username=r}}class ed extends Ju{constructor(e,t){super(e,"facebook.com",t)}}class td extends Zu{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class nd extends Ju{constructor(e,t){super(e,"google.com",t)}}class rd extends Zu{constructor(e,t,n){super(e,"twitter.com",t,n)}}function id(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=vc(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Ju(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new ed(o,i);case"github.com":return new td(o,i);case"google.com":return new nd(o,i);case"twitter.com":return new rd(o,i,e.screenName||null);case"custom":case"anonymous":return new Ju(o,null);default:return new Ju(o,r,i)}}(n)}class od{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new od("enroll",e,t)}static _fromMfaPendingCredential(e){return new od("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return od._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return od._fromIdtoken(e.multiFactorSession.idToken)}return null}}class sd{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Jc(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Uu._fromServerResponse(n,e)));Yl(r.mfaPendingCredential,n,"internal-error");const o=od._fromMfaPendingCredential(r.mfaPendingCredential);return new sd(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Tu._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Yl(t.user,n,"internal-error"),Tu._forOperation(t.user,t.operationType,s);default:Wl(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class ad{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Uu._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new ad(e)}async getSession(){return od._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,r=await this.getSession(),i=await yc(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await yc(this.user,function(e,t){return cc(e,"POST","/v2/accounts/mfaEnrollment:withdraw",lc(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(LX){throw LX}}}const ld=new WeakMap;const cd="__sak";class ud{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cd,"1"),this.storage.removeItem(cd),Promise.resolve(!0)):Promise.resolve(!1)}catch(fT){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class dd extends ud{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=hs();return Ac(e)||$c(e)}()&&function(){try{return!(!window||window===window.top)}catch(LX){return!1}}(),this.fallbackToPolling=Bc(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);vs()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dd.type="LOCAL";const hd=dd;class fd extends ud{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fd.type="SESSION";const pd=fd;class gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new gd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function md(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}gd.receivers=[];class vd{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=md("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function yd(){return window}function bd(){return"undefined"!==typeof yd().WorkerGlobalScope&&"function"===typeof yd().importScripts}const wd="firebaseLocalStorageDb",_d="firebaseLocalStorage",Ed="fbase_key";class Cd{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function xd(e,t){return e.transaction([_d],t?"readwrite":"readonly").objectStore(_d)}function Sd(){const e=indexedDB.open(wd,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(_d,{keyPath:Ed})}catch(LX){n(LX)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(_d)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(wd);return new Cd(e).toPromise()}(),t(await Sd()))}))}))}async function kd(e,t,n){const r=xd(e,!0).put({[Ed]:t,value:n});return new Cd(r).toPromise()}function Td(e,t){const n=xd(e,!0).delete(t);return new Cd(n).toPromise()}class Id{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Sd()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(LX){if(t++>3)throw LX;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bd()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gd._getInstance(bd()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new vd(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(fT){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sd();return await kd(e,cd,"1"),await Td(e,cd),!0}catch(fT){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>kd(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=xd(e,!1).get(t),r=await new Cd(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Td(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=xd(e,!1).getAll();return new Cd(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Id.type="LOCAL";const Od=Id;const Nd=1e12;class Pd{constructor(e){this.auth=e,this.counter=Nd,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Rd(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Nd;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Nd;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Nd;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Rd{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Yl(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(LX){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(LX){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ad=Gc("rcb"),Dd=new rc(3e4,6e4);class Md{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=yd().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Yl(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Vc(yd().grecaptcha)?Promise.resolve(yd().grecaptcha):new Promise(((n,r)=>{const i=yd().setTimeout((()=>{r(Gl(e,"network-request-failed"))}),Dd.get());yd()[Ad]=()=>{yd().clearTimeout(i),delete yd()[Ad];const o=yd().grecaptcha;if(!o||!Vc(o))return void r(Gl(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};Wc(`https://www.google.com/recaptcha/api.js??${Rs({onload:Ad,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(Gl(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=yd().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ld{async load(e){return new Pd(e)}clearedOneInstance(){}}const Fd="recaptcha",jd={theme:"light",type:"image"};class $d{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},jd),n=arguments.length>2?arguments[2]:void 0;this.parameters=t,this.type=Fd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jc(n),this.isInvisible="invisible"===this.parameters.size,Yl("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof e?document.getElementById(e):e;Yl(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ld:new Md,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(LX){return Promise.reject(LX)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Yl(!this.parameters.sitekey,this.auth,"argument-error"),Yl(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Yl("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=yd()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Yl(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Yl(tc()&&!bd(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await cc(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Yl(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Yl(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bd{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=pu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Ud(e,t,n){var r;const i=await n.verify();try{let o;if(Yl("string"===typeof i,e,"argument-error"),Yl(n.type===Fd,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Yl("enroll"===t.type,e,"internal-error");const n=await function(e,t){return cc(e,"POST","/v2/accounts/mfaEnrollment:start",lc(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Yl("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Yl(n,e,"missing-multi-factor-info");const s=await function(e,t){return cc(e,"POST","/v2/accounts/mfaSignIn:start",lc(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return cc(e,"POST","/v1/accounts:sendVerificationCode",lc(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class zd{constructor(e){this.providerId=zd.PROVIDER_ID,this.auth=Jc(e)}verifyPhoneNumber(e,t){return Ud(this.auth,e,qs(t))}static credential(e,t){return pu._fromVerification(e,t)}static credentialFromResult(e){const t=e;return zd.credentialFromTaggedObject(t)}static credentialFromError(e){return zd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?pu._fromTokenResponse(n,r):null}}function Vd(e,t){return t?kc(t):(Yl(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}zd.PROVIDER_ID="phone",zd.PHONE_SIGN_IN_METHOD="phone";class qd extends ru{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return du(e,this._buildIdpRequest())}_linkToIdToken(e,t){return du(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return du(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Hd(e){return Lu(e.auth,new qd(e),e.bypassAuthState)}function Wd(e){const{auth:t,user:n}=e;return Yl(n,t,"internal-error"),Mu(n,new qd(e),e.bypassAuthState)}async function Gd(e){const{auth:t,user:n}=e;return Yl(n,t,"internal-error"),Au(n,new qd(e),e.bypassAuthState)}class Kd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(LX){this.reject(LX)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(LX){this.reject(LX)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hd;case"linkViaPopup":case"linkViaRedirect":return Gd;case"reauthViaPopup":case"reauthViaRedirect":return Wd;default:Wl(this.auth,"internal-error")}}resolve(e){Zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qd=new rc(2e3,1e4);class Xd extends Kd{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Xd.currentPopupAction&&Xd.currentPopupAction.cancel(),Xd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Yl(e,this.auth,"internal-error"),e}async onExecution(){Zl(1===this.filter.length,"Popup operations only handle one event");const e=md();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Gl(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Gl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Gl(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Qd.get())};e()}}Xd.currentPopupAction=null;const Yd=new Map;class Jd extends Kd{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Yd.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=nh(t),r=th(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(LX){e=()=>Promise.reject(LX)}Yd.set(this.auth._key(),e)}return this.bypassAuthState||Yd.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Zd(e,t){return th(e)._set(nh(t),"true")}function eh(e,t){Yd.set(e._key(),t)}function th(e){return kc(e._redirectPersistence)}function nh(e){return Oc("pendingRedirect",e.config.apiKey,e.name)}function rh(e,t,n){return async function(e,t,n){const r=Jc(e);Ql(e,t,vu),await r._initializationPromise;const i=Vd(r,n);return await Zd(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function ih(e,t,n){return async function(e,t,n){const r=qs(e);Ql(r.auth,t,vu),await r.auth._initializationPromise;const i=Vd(r.auth,n);await Zd(i,r.auth);const o=await ah(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function oh(e,t,n){return async function(e,t,n){const r=qs(e);Ql(r.auth,t,vu),await r.auth._initializationPromise;const i=Vd(r.auth,n);await Du(!1,r,t.providerId),await Zd(i,r.auth);const o=await ah(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function sh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Jc(e),i=Vd(r,t),o=new Jd(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function ah(e){const t=md(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class lh{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!uh(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Gl(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ch(e))}saveEventToCache(e){this.cachedEventUids.add(ch(e)),this.lastProcessedEventTime=Date.now()}}function ch(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function uh(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}async function dh(e){return cc(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const hh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fh=/^https?/;function ph(e){const t=ec(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!fh.test(n))return!1;if(hh.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const gh=new rc(3e4,6e4);function mh(){const e=yd().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let vh=null;function yh(e){return vh=vh||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){mh(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mh(),n(Gl(e,"network-request-failed"))},timeout:gh.get()})}if(null===(i=null===(r=yd().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=yd().gapi)||void 0===o?void 0:o.load)){const t=Gc("iframefcb");return yd()[t]=()=>{gapi.load?s():n(Gl(e,"network-request-failed"))},Wc(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw vh=null,e}))}(e),vh}const bh=new rc(5e3,15e3),wh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_h=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eh(e){const t=e.config;Yl(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ic(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:ol},i=_h.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Rs(r).slice(1)}`}const Ch={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xh{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(LX){}}}function Sh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ch),{width:r.toString(),height:i.toString(),top:o,left:s}),c=hs().toLowerCase();n&&(a=Dc(c)?"_blank":n),Rc(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return $c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new xh(null);const d=window.open(t||"",a,u);Yl(d,e,"popup-blocked");try{d.focus()}catch(LX){}return new xh(d)}const kh="__/auth/handler",Th="emulator/auth/handler",Ih=encodeURIComponent("fac");async function Oh(e,t,n,r,i,o){Yl(e.config.authDomain,e,"auth-domain-config-required"),Yl(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ol,eventId:i};if(t instanceof vu){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Is(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof yu){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${Ih}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${kh}`;return ic(t,Th)}(e)}?${Rs(a).slice(1)}${c}`}const Nh="webStorageSupport";const Ph=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pd,this._completeRedirectFn=sh,this._overrideRedirectResult=eh}async _openPopup(e,t,n,r){var i;Zl(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Sh(e,await Oh(e,t,n,ec(),r),md())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){yd().location.href=e}(await Oh(e,t,n,ec(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Zl(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await yh(e),n=yd().gapi;return Yl(n,e,"internal-error"),t.open({where:document.body,url:Eh(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wh,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Gl(e,"network-request-failed"),o=yd().setTimeout((()=>{r(i)}),bh.get());function s(){yd().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new lh(e);return t.register("authEvent",(t=>{Yl(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Nh,{type:Nh},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Nh];void 0!==i&&t(!!i),Wl(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await dh(e);for(const n of t)try{if(ph(n))return}catch(fT){}Wl(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Bc()||Ac()||$c()}};class Rh{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Jl("unexpected MultiFactorSessionType")}}}class Ah extends Rh{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Ah(e)}_finalizeEnroll(e,t,n){return function(e,t){return cc(e,"POST","/v2/accounts/mfaEnrollment:finalize",lc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return cc(e,"POST","/v2/accounts/mfaSignIn:finalize",lc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Dh{constructor(){}static assertion(e){return Ah._fromCredential(e)}}Dh.FACTOR_ID="phone";var Mh="@firebase/auth",Lh="0.23.2";class Fh{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Yl(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const jh=cs("authIdTokenMaxAge")||300;let $h=null;var Bh;function Uh(){return window}Bh="Browser",Za(new Hs("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Yl(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Bh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uc(Bh)},c=new Yc(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Za(new Hs("auth-internal",(e=>(e=>new Fh(e))(Jc(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ul(Mh,Lh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Bh)),ul(Mh,Lh,"esm2017");async function zh(e,t,n){var r;const{BuildInfo:i}=Uh();Zl(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(Zl(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return $c()?s.ibi=i.packageName:Lc()?s.apn=i.packageName:Wl(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,Oh(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function Vh(e){const{cordova:t}=Uh();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}class qh extends lh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Hh(e){const t=await Kh()._get(Qh(e));return t&&await Kh()._remove(Qh(e)),t}function Wh(e,t){var n,r;const i=function(e){const t=Xh(e),n=t.link?decodeURIComponent(t.link):void 0,r=Xh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Xh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Xh(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(LX){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?Gl(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Gh(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Kh(){return kc(hd)}function Qh(e){return Oc("authEvent",e.config.apiKey,e.name)}function Xh(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return As(n.join("?"))}const Yh=class{constructor(){this._redirectPersistence=pd,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=sh,this._overrideRedirectResult=eh}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new qh(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Wl(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,l,c,u;const d=Uh();Yl("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Yl("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Yl("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Yl("function"===typeof(null===(l=null===(a=null===(s=null===d||void 0===d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Yl("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Yd.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Gh(),postBody:null,tenantId:e.tenantId,error:Gl(e,"no-auth-event")}}(e,n,r);await function(e,t){return Kh()._set(Qh(e),t)}(e,o);const s=await zh(e,o,t);return async function(e,t,n){const{cordova:r}=Uh();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(Gl(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),Lc()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await Vh(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Uh(),n={};$c()?n.iosBundleId=t.packageName:Lc()?n.androidPackageName=t.packageName:Wl(e,"operation-not-supported-in-this-environment"),await dh(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Uh(),o=setTimeout((async()=>{await Hh(e),t.onEvent(Jh())}),500),s=async n=>{clearTimeout(o);const r=await Hh(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Wh(r,n.url)),t.onEvent(i||Jh())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,l=`${i.packageName.toLowerCase()}://`;Uh().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"===typeof a)try{a(e)}catch(LX){console.error(LX)}}}};function Jh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Gl("no-auth-event")}}function Zh(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ef(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs();return!("file:"!==Zh()&&"ionic:"!==Zh()&&"capacitor:"!==Zh()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function tf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs();return vs()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs();return/Edge\/\d+/.test(e)}(e)}function nf(){try{const e=self.localStorage,t=md();if(e)return e.setItem(t,"1"),e.removeItem(t),!tf()||bs()}catch(LX){return rf()&&bs()}return!1}function rf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function of(){return("http:"===Zh()||"https:"===Zh()||gs()||ef())&&!(ms()||ps())&&nf()&&!rf()}function sf(){return ef()&&"undefined"!==typeof document}const af={LOCAL:"local",NONE:"none",SESSION:"session"},lf=Yl,cf="persistence";async function uf(e){await e._initializationPromise;const t=df(),n=Oc(cf,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function df(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(LX){return null}}const hf=Yl;class ff{constructor(){this.browserResolver=kc(Ph),this.cordovaResolver=kc(Yh),this.underlyingResolver=null,this._redirectPersistence=pd,this._completeRedirectFn=sh,this._overrideRedirectResult=eh}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return sf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hf(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!sf()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function pf(e){return e.unwrap()}function gf(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new bf(e,function(e,t){var n;const r=qs(e),i=t;return Yl(t.customData.operationType,r,"argument-error"),Yl(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),sd._fromError(r,i)}(e,t))}else if(r){const e=mf(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function mf(e){const{_tokenResponse:t}=e instanceof ws?e.customData:e;if(!t)return null;if(!(e instanceof ws)&&"temporaryProof"in t&&"phoneNumber"in t)return zd.credentialFromResult(e);const n=t.providerId;if(!n||n===Rl)return null;let r;switch(n){case Pl:r=_u;break;case Ol:r=wu;break;case Nl:r=Eu;break;case Al:r=Su;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?Cu._create(n,s):hu._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new bu(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof ws?r.credentialFromError(e):r.credentialFromResult(e)}function vf(e,t){return t.catch((t=>{throw t instanceof ws&&gf(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,mf(r)),additionalUserInfo:id(e),user:wf.getOrCreate(n)};var r}))}async function yf(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>vf(e,n.confirm(t))}}class bf{constructor(e,t){this.resolver=t,this.auth=function(e){return e.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return vf(pf(this.auth),this.resolver.resolveSignIn(e))}}class wf{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=qs(e);return ld.has(t)||ld.set(t,ad._fromUser(t)),ld.get(t)}(e)}static getOrCreate(e){return wf.USER_MAP.has(e)||wf.USER_MAP.set(e,new wf(e)),wf.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return vf(this.auth,ju(this._delegate,e))}async linkWithPhoneNumber(e,t){return yf(this.auth,async function(e,t,n){const r=qs(e);await Du(!1,r,"phone");const i=await Ud(r.auth,t,qs(n));return new Bd(i,(e=>ju(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return vf(this.auth,async function(e,t,n){const r=qs(e);Ql(r.auth,t,vu);const i=Vd(r.auth,n);return new Xd(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ff))}async linkWithRedirect(e){return await uf(Jc(this.auth)),oh(this._delegate,e,ff)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return vf(this.auth,$u(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return yf(this.auth,async function(e,t,n){const r=qs(e),i=await Ud(r.auth,t,qs(n));return new Bd(i,(e=>$u(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return vf(this.auth,async function(e,t,n){const r=qs(e);Ql(r.auth,t,vu);const i=Vd(r.auth,n);return new Xd(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ff))}async reauthenticateWithRedirect(e){return await uf(Jc(this.auth)),ih(this._delegate,e,ff)}sendEmailVerification(e){return Ku(this._delegate,e)}async unlink(e){return await Ru(this._delegate,e),this}updateEmail(e){return function(e,t){return Yu(qs(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Yu(qs(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Au(qs(e),t)}(this._delegate,e)}updateProfile(e){return Xu(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Qu(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wf.USER_MAP=new WeakMap;const _f=Yl;class Ef{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;_f(n,"invalid-api-key",{appName:e.name}),_f(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?ff:void 0;this._delegate=t.initialize({options:{persistence:xf(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Ul),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wf.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){eu(this._delegate,e,t)}applyActionCode(e){return Hu(this._delegate,e)}checkActionCode(e){return Wu(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await iu(qs(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return vf(this._delegate,async function(e,t,n){var r;const i=Jc(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Qc(i,o,"signUpPassword");s=ku(i,e)}else s=ku(i,o).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Qc(i,o,"signUpPassword");return ku(i,e)}return Promise.reject(e)}));const a=await s.catch((e=>Promise.reject(e))),l=await Tu._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Gu(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=gu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){_f(of(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Jc(e)._initializationPromise,sh(e,t,!1)}(this._delegate,ff);return e?vf(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Jc(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=Cf(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=Cf(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){var r;const i=Jc(e),o={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function s(e,t){Yl(t.handleCodeInApp,i,"argument-error"),t&&qu(i,e,t)}if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Qc(i,o,"getOobCode",!0);s(e,n),await cu(i,e)}else s(o,n),await cu(i,o).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await Qc(i,o,"getOobCode",!0);s(e,n),await cu(i,e)}}))}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){var r;const i=Jc(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Qc(i,o,"getOobCode",!0);n&&qu(i,e,n),await lu(i,e)}else n&&qu(i,o,n),await lu(i,o).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Qc(i,o,"getOobCode",!0);n&&qu(i,e,n),await lu(i,e)}}))}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){lf(Object.values(af).includes(t),e,"invalid-persistence-type"),ms()?lf(t!==af.SESSION,e,"unsupported-persistence-type"):ps()?lf(t===af.NONE,e,"unsupported-persistence-type"):rf()?lf(t===af.NONE||t===af.LOCAL&&bs(),e,"unsupported-persistence-type"):lf(t===af.NONE||nf(),e,"unsupported-persistence-type")}(this._delegate,e),e){case af.SESSION:t=pd;break;case af.LOCAL:t=await kc(Od)._isAvailable()?Od:hd;break;case af.NONE:t=Ic;break;default:return Wl("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return vf(this._delegate,async function(e){var t;const n=Jc(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Tu({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await ku(n,{returnSecureToken:!0}),i=await Tu._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return vf(this._delegate,Fu(this._delegate,e))}signInWithCustomToken(e){return vf(this._delegate,Bu(this._delegate,e))}signInWithEmailAndPassword(e,t){return vf(this._delegate,function(e,t,n){return Fu(qs(e),mu.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return vf(this._delegate,async function(e,t,n){const r=qs(e),i=mu.credentialWithLink(t,n||ec());return Yl(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Fu(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return yf(this._delegate,async function(e,t,n){const r=Jc(e),i=await Ud(r,t,qs(n));return new Bd(i,(e=>Fu(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return _f(of(),this._delegate,"operation-not-supported-in-this-environment"),vf(this._delegate,async function(e,t,n){const r=Jc(e);Ql(e,t,vu);const i=Vd(r,n);return new Xd(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,ff))}async signInWithRedirect(e){return _f(of(),this._delegate,"operation-not-supported-in-this-environment"),await uf(this._delegate),rh(this._delegate,e,ff)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Wu(qs(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Cf(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&wf.getOrCreate(e)),error:t,complete:n}}function xf(e,t){const n=function(e,t){const n=df();if(!n)return[];const r=Oc(cf,e,t);switch(n.getItem(r)){case af.NONE:return[Ic];case af.LOCAL:return[Od,pd];case af.SESSION:return[pd];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Od)||n.push(Od),"undefined"!==typeof window)for(const r of[hd,pd])n.includes(r)||n.push(r);return n.includes(Ic)||n.push(Ic),n}Ef.Persistence=af;class Sf{constructor(){this.providerId="phone",this._delegate=new zd(pf(Tl.auth()))}static credential(e,t){return zd.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Sf.PHONE_SIGN_IN_METHOD=zd.PHONE_SIGN_IN_METHOD,Sf.PROVIDER_ID=zd.PROVIDER_ID;const kf=Yl;class Tf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tl.app();var r;kf(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new $d(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var If;(If=Tl).INTERNAL.registerComponent(new Hs("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ef(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Dl,PASSWORD_RESET:Ml,RECOVER_EMAIL:Ll,REVERT_SECOND_FACTOR_ADDITION:Fl,VERIFY_AND_CHANGE_EMAIL:jl,VERIFY_EMAIL:$l}},EmailAuthProvider:mu,FacebookAuthProvider:wu,GithubAuthProvider:Eu,GoogleAuthProvider:_u,OAuthProvider:bu,SAMLAuthProvider:xu,PhoneAuthProvider:Sf,PhoneMultiFactorGenerator:Dh,RecaptchaVerifier:Tf,TwitterAuthProvider:Su,Auth:Ef,AuthCredential:ru,Error:ws}).setInstantiationMode("LAZY").setMultipleInstances(!1)),If.registerVersion("@firebase/auth-compat","0.4.2");var Of,Nf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Pf={},Rf=Rf||{},Af=Nf||self;function Df(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Mf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Lf="closure_uid_"+(1e9*Math.random()>>>0),Ff=0;function jf(e,t,n){return e.call.apply(e.bind,arguments)}function $f(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Bf(e,t,n){return(Bf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jf:$f).apply(null,arguments)}function Uf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function zf(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Vf(){this.s=this.s,this.o=this.o}Vf.prototype.s=!1,Vf.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Lf)&&e[Lf]||(e[Lf]=++Ff))},Vf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Hf(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Wf(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Df(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Gf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Gf.prototype.h=function(){this.defaultPrevented=!0};var Kf=function(){if(!Af.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Af.addEventListener("test",(()=>{}),t),Af.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function Qf(e){return/^[\s\xa0]*$/.test(e)}function Xf(){var e=Af.navigator;return e&&(e=e.userAgent)?e:""}function Yf(e){return-1!=Xf().indexOf(e)}function Jf(e){return Jf[" "](e),e}Jf[" "]=function(){};var Zf,ep,tp=Yf("Opera"),np=Yf("Trident")||Yf("MSIE"),rp=Yf("Edge"),ip=rp||np,op=Yf("Gecko")&&!(-1!=Xf().toLowerCase().indexOf("webkit")&&!Yf("Edge"))&&!(Yf("Trident")||Yf("MSIE"))&&!Yf("Edge"),sp=-1!=Xf().toLowerCase().indexOf("webkit")&&!Yf("Edge");function ap(){var e=Af.document;return e?e.documentMode:void 0}e:{var lp="",cp=function(){var e=Xf();return op?/rv:([^\);]+)(\)|;)/.exec(e):rp?/Edge\/([\d\.]+)/.exec(e):np?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):sp?/WebKit\/(\S+)/.exec(e):tp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(cp&&(lp=cp?cp[1]:""),np){var up=ap();if(null!=up&&up>parseFloat(lp)){Zf=String(up);break e}}Zf=lp}if(Af.document&&np){var dp=ap();ep=dp||(parseInt(Zf,10)||void 0)}else ep=void 0;var hp=ep;function fp(e,t){if(Gf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(op){e:{try{Jf(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:pp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&fp.$.h.call(this)}}zf(fp,Gf);var pp={2:"touch",3:"pen",4:"mouse"};fp.prototype.h=function(){fp.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var gp="closure_listenable_"+(1e6*Math.random()|0),mp=0;function vp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++mp,this.fa=this.ia=!1}function yp(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function bp(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function wp(e){const t={};for(const n in e)t[n]=e[n];return t}const _p="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ep(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<_p.length;t++)n=_p[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Cp(e){this.src=e,this.g={},this.h=0}function xp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=qf(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(yp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Sp(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Cp.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Sp(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new vp(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var kp="closure_lm_"+(1e6*Math.random()|0),Tp={};function Ip(e,t,n,r,i){if(r&&r.once)return Np(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ip(e,t[o],n,r,i);return null}return n=Fp(n),e&&e[gp]?e.O(t,n,Mf(r)?!!r.capture:!!r,i):Op(e,t,n,!1,r,i)}function Op(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Mf(i)?!!i.capture:!!i,a=Mp(e);if(a||(e[kp]=a=new Cp(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Dp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Kf||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ap(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Np(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Np(e,t[o],n,r,i);return null}return n=Fp(n),e&&e[gp]?e.P(t,n,Mf(r)?!!r.capture:!!r,i):Op(e,t,n,!0,r,i)}function Pp(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Pp(e,t[o],n,r,i);else r=Mf(r)?!!r.capture:!!r,n=Fp(n),e&&e[gp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Sp(o=e.g[t],n,r,i))&&(yp(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Mp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Sp(t,n,r,i)),(n=-1<e?t[e]:null)&&Rp(n))}function Rp(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[gp])xp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ap(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Mp(t))?(xp(n,e),0==n.h&&(n.src=null,t[kp]=null)):yp(e)}}}function Ap(e){return e in Tp?Tp[e]:Tp[e]="on"+e}function Dp(e,t){if(e.fa)e=!0;else{t=new fp(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Rp(e),e=n.call(r,t)}return e}function Mp(e){return(e=e[kp])instanceof Cp?e:null}var Lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fp(e){return"function"===typeof e?e:(e[Lp]||(e[Lp]=function(t){return e.handleEvent(t)}),e[Lp])}function jp(){Vf.call(this),this.i=new Cp(this),this.S=this,this.J=null}function $p(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Gf(t,e);else if(t instanceof Gf)t.target=t.target||e;else{var i=t;Ep(t=new Gf(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Bp(s,r,!0,t)&&i}if(i=Bp(s=t.g=e,r,!0,t)&&i,i=Bp(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Bp(s=t.g=n[o],r,!1,t)&&i}function Bp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&xp(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}zf(jp,Vf),jp.prototype[gp]=!0,jp.prototype.removeEventListener=function(e,t,n,r){Pp(this,e,t,n,r)},jp.prototype.N=function(){if(jp.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)yp(n[r]);delete t.g[e],t.h--}}this.J=null},jp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},jp.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Up=Af.JSON.stringify;function zp(){var e=Qp;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Vp=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new qp),(e=>e.reset()));class qp{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Hp(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Wp(e){Af.setTimeout((()=>{throw e}),0)}let Gp,Kp=!1,Qp=new class{constructor(){this.h=this.g=null}add(e,t){const n=Vp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Xp=()=>{const e=Af.Promise.resolve(void 0);Gp=()=>{e.then(Yp)}};var Yp=()=>{for(var e;e=zp();){try{e.h.call(e.g)}catch(n){Wp(n)}var t=Vp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Kp=!1};function Jp(e,t){jp.call(this),this.h=e||1,this.g=t||Af,this.j=Bf(this.qb,this),this.l=Date.now()}function Zp(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function eg(e,t,n){if("function"===typeof e)n&&(e=Bf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Bf(e.handleEvent,e)}return 2147483647<Number(t)?-1:Af.setTimeout(e,t||0)}function tg(e){e.g=eg((()=>{e.g=null,e.i&&(e.i=!1,tg(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}zf(Jp,jp),(Of=Jp.prototype).ga=!1,Of.T=null,Of.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$p(this,"tick"),this.ga&&(Zp(this),this.start()))}},Of.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Of.N=function(){Jp.$.N.call(this),Zp(this),delete this.g};class ng extends Vf{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tg(this)}N(){super.N(),this.g&&(Af.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rg(e){Vf.call(this),this.h=e,this.g={}}zf(rg,Vf);var ig=[];function og(e,t,n,r){Array.isArray(n)||(n&&(ig[0]=n.toString()),n=ig);for(var i=0;i<n.length;i++){var o=Ip(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function sg(e){bp(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Rp(e)}),e),e.g={}}function ag(){this.g=!0}function lg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Up(n)}catch(FX){return t}}(e,n)+(r?" "+r:"")}))}rg.prototype.N=function(){rg.$.N.call(this),sg(this)},rg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ag.prototype.Ea=function(){this.g=!1},ag.prototype.info=function(){};var cg={},ug=null;function dg(){return ug=ug||new jp}function hg(e){Gf.call(this,cg.Ta,e)}function fg(e){const t=dg();$p(t,new hg(t))}function pg(e,t){Gf.call(this,cg.STAT_EVENT,e),this.stat=t}function gg(e){const t=dg();$p(t,new pg(t,e))}function mg(e,t){Gf.call(this,cg.Ua,e),this.size=t}function vg(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Af.setTimeout((function(){e()}),t)}cg.Ta="serverreachability",zf(hg,Gf),cg.STAT_EVENT="statevent",zf(pg,Gf),cg.Ua="timingevent",zf(mg,Gf);var yg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wg(){}function _g(e){return e.h||(e.h=e.i())}function Eg(){}wg.prototype.h=null;var Cg,xg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Sg(){Gf.call(this,"d")}function kg(){Gf.call(this,"c")}function Tg(){}function Ig(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new rg(this),this.P=Ng,e=ip?125:void 0,this.V=new Jp(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Og}function Og(){this.i=null,this.g="",this.h=!1}zf(Sg,Gf),zf(kg,Gf),zf(Tg,wg),Tg.prototype.g=function(){return new XMLHttpRequest},Tg.prototype.i=function(){return{}},Cg=new Tg;var Ng=45e3,Pg={},Rg={};function Ag(e,t,n){e.L=1,e.v=Jg(Gg(t)),e.s=n,e.S=!0,Dg(e,null)}function Dg(e,t){e.G=Date.now(),jg(e),e.A=Gg(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),dm(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Og,e.g=hv(e.l,n?t:null,!e.s),0<e.O&&(e.M=new ng(Bf(e.Pa,e,e.g),e.O)),og(e.U,e.g,"readystatechange",e.nb),t=e.I?wp(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),fg(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Mg(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Lg(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Fg(e,n),r==Rg){4==t&&(e.o=4,gg(14),i=!1),lg(e.j,e.m,null,"[Incomplete Response]");break}if(r==Pg){e.o=4,gg(15),lg(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}lg(e.j,e.m,r,null),Vg(e,r)}Mg(e)&&r!=Rg&&r!=Pg&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,gg(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),iv(t),t.M=!0,gg(11))):(lg(e.j,e.m,n,"[Invalid Chunked Response]"),zg(e),Ug(e))}function Fg(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Rg:(n=Number(t.substring(n,r)),isNaN(n)?Pg:(r+=1)+n>t.length?Rg:(t=t.slice(r,r+n),e.C=r+n,t))}function jg(e){e.Y=Date.now()+e.P,$g(e,e.P)}function $g(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=vg(Bf(e.lb,e),t)}function Bg(e){e.B&&(Af.clearTimeout(e.B),e.B=null)}function Ug(e){0==e.l.H||e.J||av(e.l,e)}function zg(e){Bg(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Zp(e.V),sg(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Vg(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||ym(n.i,e)))if(!e.K&&ym(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;sv(n),Xm(n)}rv(n),gg(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=vg(Bf(n.ib,n),6e3));if(1>=vm(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else cv(n,11)}else if((e.K||n.g==e)&&sv(n),!Qf(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(bm(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Yg(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=dv(r,r.J?r.pa:null,r.Y),s.K){wm(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(Bg(a),jg(a)),r.g=s}else nv(r);0<n.j.length&&Jm(n)}else"stop"!=c[0]&&"close"!=c[0]||cv(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cv(n,7):Qm(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}fg()}catch(c){}}function qg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Df(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Df(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Df(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Of=Ig.prototype).setTimeout=function(e){this.P=e},Of.nb=function(e){e=e.target;const t=this.M;t&&3==Vm(e)?t.l():this.Pa(e)},Of.Pa=function(e){try{if(e==this.g)e:{const u=Vm(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||ip||this.g&&(this.h.h||this.g.ja()||qm(this.g)))){this.J||4!=u||7==t||fg(),Bg(this);var n=this.g.da();this.ca=n;t:if(Mg(this)){var r=qm(this.g);e="";var i=r.length,o=4==Vm(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){zg(this),Ug(this);var s="";break t}this.h.i=new Af.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qf(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,gg(12),zg(this),Ug(this);break e}lg(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vg(this,n)}this.S?(Lg(this,u,s),ip&&this.i&&3==u&&(og(this.U,this.V,"tick",this.mb),this.V.start())):(lg(this.j,this.m,s,null),Vg(this,s)),4==u&&zg(this),this.i&&!this.J&&(4==u?av(this.l,this):(this.i=!1,jg(this)))}else(function(e){const t={};e=(e.g&&2<=Vm(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Qf(e[r]))continue;var n=Hp(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,gg(12)):(this.o=0,gg(13)),zg(this),Ug(this)}}}catch(u){}},Of.mb=function(){if(this.g){var e=Vm(this.g),t=this.g.ja();this.C<t.length&&(Bg(this),Lg(this,e,t),this.i&&4!=e&&jg(this))}},Of.cancel=function(){this.J=!0,zg(this)},Of.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(fg(),gg(17)),zg(this),this.o=2,Ug(this)):$g(this,this.Y-e)};var Hg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wg(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Wg){this.h=e.h,Kg(this,e.j),this.s=e.s,this.g=e.g,Qg(this,e.m),this.l=e.l;var t=e.i,n=new am;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Xg(this,n),this.o=e.o}else e&&(t=String(e).match(Hg))?(this.h=!1,Kg(this,t[1]||"",!0),this.s=Zg(t[2]||""),this.g=Zg(t[3]||"",!0),Qg(this,t[4]),this.l=Zg(t[5]||"",!0),Xg(this,t[6]||"",!0),this.o=Zg(t[7]||"")):(this.h=!1,this.i=new am(null,this.h))}function Gg(e){return new Wg(e)}function Kg(e,t,n){e.j=n?Zg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Xg(e,t,n){t instanceof am?(e.i=t,function(e,t){t&&!e.j&&(lm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(cm(this,t),dm(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=em(t,om)),e.i=new am(t,e.h))}function Yg(e,t,n){e.i.set(t,n)}function Jg(e){return Yg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Zg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function em(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,tm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function tm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Wg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(em(t,nm,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(em(t,nm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(em(n,"/"==n.charAt(0)?im:rm,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",em(n,sm)),e.join("")};var nm=/[#\/\?@]/g,rm=/[#\?:]/g,im=/[#\?]/g,om=/[#\?@]/g,sm=/#/g;function am(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function lm(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function cm(e,t){lm(e),t=hm(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function um(e,t){return lm(e),t=hm(e,t),e.g.has(t)}function dm(e,t,n){cm(e,t),0<n.length&&(e.i=null,e.g.set(hm(e,t),Hf(n)),e.h+=n.length)}function hm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Of=am.prototype).add=function(e,t){lm(this),this.i=null,e=hm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Of.forEach=function(e,t){lm(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Of.ta=function(){lm(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Of.Z=function(e){lm(this);let t=[];if("string"===typeof e)um(this,e)&&(t=t.concat(this.g.get(hm(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Of.set=function(e,t){return lm(this),this.i=null,um(this,e=hm(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Of.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Of.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var fm=class{constructor(e,t){this.g=e,this.map=t}};function pm(e){this.l=e||gm,Af.PerformanceNavigationTiming?e=0<(e=Af.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Af.g&&Af.g.Ka&&Af.g.Ka()&&Af.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gm=10;function mm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function vm(e){return e.h?1:e.g?e.g.size:0}function ym(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function bm(e,t){e.g?e.g.add(t):e.h=t}function wm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function _m(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Hf(e.i)}pm.prototype.cancel=function(){if(this.i=_m(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Em,Cm=class{stringify(e){return Af.JSON.stringify(e,void 0)}parse(e){return Af.JSON.parse(e,void 0)}};function xm(){this.g=new Cm}function Sm(e,t,n){const r=n||"";try{qg(e,(function(e,n){let i=e;Mf(e)&&(i=Up(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(LX){throw t.push(r+"type="+encodeURIComponent("_badmap")),LX}}function km(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Tm(e){this.l=e.fc||null,this.j=e.ob||!1}function Im(e,t){jp.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Om,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zf(Tm,wg),Tm.prototype.g=function(){return new Im(this.l,this.j)},Tm.prototype.i=(Em={},function(){return Em}),zf(Im,jp);var Om=0;function Nm(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Pm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Rm(e)}function Rm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Of=Im.prototype).open=function(e,t){if(this.readyState!=Om)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Rm(this)},Of.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Af).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Of.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pm(this)),this.readyState=Om},Of.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rm(this)),this.g&&(this.readyState=3,Rm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Af.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Nm(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Of.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pm(this):Rm(this),3==this.readyState&&Nm(this)}},Of.Za=function(e){this.g&&(this.response=this.responseText=e,Pm(this))},Of.Ya=function(e){this.g&&(this.response=e,Pm(this))},Of.ka=function(){this.g&&Pm(this)},Of.setRequestHeader=function(e,t){this.v.append(e,t)},Of.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Of.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Im.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Am=Af.JSON.parse;function Dm(e){jp.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Mm,this.L=this.M=!1}zf(Dm,jp);var Mm="",Lm=/^https?$/i,Fm=["POST","PUT"];function jm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$m(e),Um(e)}function $m(e){e.F||(e.F=!0,$p(e,"complete"),$p(e,"error"))}function Bm(e){if(e.h&&"undefined"!=typeof Rf&&(!e.C[1]||4!=Vm(e)||2!=e.da()))if(e.v&&4==Vm(e))eg(e.La,0,e);else if($p(e,"readystatechange"),4==Vm(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(Hg)[1]||null;!i&&Af.self&&Af.self.location&&(i=Af.self.location.protocol.slice(0,-1)),r=!Lm.test(i?i.toLowerCase():"")}n=r}if(n)$p(e,"complete"),$p(e,"success");else{e.m=6;try{var o=2<Vm(e)?e.g.statusText:""}catch(FX){o=""}e.j=o+" ["+e.da()+"]",$m(e)}}finally{Um(e)}}}function Um(e,t){if(e.g){zm(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||$p(e,"ready");try{n.onreadystatechange=r}catch(LX){}}}function zm(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Af.clearTimeout(e.A),e.A=null)}function Vm(e){return e.g?e.g.readyState:0}function qm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Mm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Qv){return null}}function Hm(e){let t="";return bp(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Wm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Hm(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Yg(e,t,n))}function Gm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Km(e){this.Ga=0,this.j=[],this.l=new ag,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gm("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gm("baseRetryDelayMs",5e3,e),this.hb=Gm("retryDelaySeedMs",1e4,e),this.eb=Gm("forwardChannelMaxRetries",2,e),this.xa=Gm("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new pm(e&&e.concurrentRequestLimit),this.Ja=new xm,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Qm(e){if(Ym(e),3==e.H){var t=e.W++,n=Gg(e.I);if(Yg(n,"SID",e.K),Yg(n,"RID",t),Yg(n,"TYPE","terminate"),ev(e,n),(t=new Ig(e,e.l,t)).L=2,t.v=Jg(Gg(n)),n=!1,Af.navigator&&Af.navigator.sendBeacon)try{n=Af.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Af.Image&&((new Image).src=t.v,n=!0),n||(t.g=hv(t.l,null),t.g.ha(t.v)),t.G=Date.now(),jg(t)}uv(e)}function Xm(e){e.g&&(iv(e),e.g.cancel(),e.g=null)}function Ym(e){Xm(e),e.u&&(Af.clearTimeout(e.u),e.u=null),sv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Af.clearTimeout(e.m),e.m=null)}function Jm(e){if(!mm(e.i)&&!e.m){e.m=!0;var t=e.Na;Gp||Xp(),Kp||(Gp(),Kp=!0),Qp.add(t,e),e.C=0}}function Zm(e,t){var n;n=t?t.m:e.W++;const r=Gg(e.I);Yg(r,"SID",e.K),Yg(r,"RID",n),Yg(r,"AID",e.V),ev(e,r),e.o&&e.s&&Wm(r,e.o,e.s),n=new Ig(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=tv(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),bm(e.i,n),Ag(n,r,t)}function ev(e,t){e.na&&bp(e.na,(function(e,n){Yg(t,n,e)})),e.h&&qg({},(function(e,n){Yg(t,n,e)}))}function tv(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Bf(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Sm(a,e,"req"+n+"_")}catch(sy){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function nv(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Gp||Xp(),Kp||(Gp(),Kp=!0),Qp.add(t,e),e.A=0}}function rv(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=vg(Bf(e.Ma,e),lv(e,e.A)),e.A++,!0)}function iv(e){null!=e.B&&(Af.clearTimeout(e.B),e.B=null)}function ov(e){e.g=new Ig(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Gg(e.wa);Yg(t,"RID","rpc"),Yg(t,"SID",e.K),Yg(t,"AID",e.V),Yg(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Yg(t,"TO",e.qa),Yg(t,"TYPE","xmlhttp"),ev(e,t),e.o&&e.s&&Wm(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Jg(Gg(t)),n.s=null,n.S=!0,Dg(n,e)}function sv(e){null!=e.v&&(Af.clearTimeout(e.v),e.v=null)}function av(e,t){var n=null;if(e.g==t){sv(e),iv(e),e.g=null;var r=2}else{if(!ym(e.i,t))return;n=t.F,wm(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;$p(r=dg(),new mg(r,n)),Jm(e)}else nv(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(vm(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=vg(Bf(e.Na,e,t),lv(e,e.C)),e.C++,!0))}(e,t)||2==r&&rv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:cv(e,5);break;case 4:cv(e,10);break;case 3:cv(e,6);break;default:cv(e,2)}}function lv(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function cv(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Bf(e.pb,e);n||(n=new Wg("//www.google.com/images/cleardot.gif"),Af.location&&"http"==Af.location.protocol||Kg(n,"https"),Jg(n)),function(e,t){const n=new ag;if(Af.Image){const r=new Image;r.onload=Uf(km,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Uf(km,n,r,"TestLoadImage: error",!1,t),r.onabort=Uf(km,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Uf(km,n,r,"TestLoadImage: timeout",!1,t),Af.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else gg(2);e.H=0,e.h&&e.h.za(t),uv(e),Ym(e)}function uv(e){if(e.H=0,e.ma=[],e.h){const t=_m(e.i);0==t.length&&0==e.j.length||(Wf(e.ma,t),Wf(e.ma,e.j),e.i.i.length=0,Hf(e.j),e.j.length=0),e.h.ya()}}function dv(e,t,n){var r=n instanceof Wg?Gg(n):new Wg(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Qg(r,r.m);else{var i=Af.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Wg(null);r&&Kg(o,r),t&&(o.g=t),i&&Qg(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Yg(r,n,t),Yg(r,"VER",e.ra),ev(e,r),r}function hv(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Dm(new Tm({ob:!0})):new Dm(e.va)).Oa(e.J),t}function fv(){}function pv(){if(np&&!(10<=Number(hp)))throw Error("Environmental error: no available transport.")}function gv(e,t){jp.call(this),this.g=new Km(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Qf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Qf(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yv(this)}function mv(e){Sg.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vv(){kg.call(this),this.status=1}function yv(e){this.g=e}function bv(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function wv(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function _v(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Of=Dm.prototype).Oa=function(e){this.M=e},Of.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Cg.g(),this.C=this.u?_g(this.u):_g(Cg),this.g.onreadystatechange=Bf(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void jm(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Af.FormData&&e instanceof Af.FormData,!(0<=qf(Fm,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zm(this),0<this.B&&((this.L=function(e){return np&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bf(this.ua,this)):this.A=eg(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){jm(this,o)}},Of.ua=function(){"undefined"!=typeof Rf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$p(this,"timeout"),this.abort(8))},Of.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,$p(this,"complete"),$p(this,"abort"),Um(this))},Of.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Um(this,!0)),Dm.$.N.call(this)},Of.La=function(){this.s||(this.G||this.v||this.l?Bm(this):this.kb())},Of.kb=function(){Bm(this)},Of.isActive=function(){return!!this.g},Of.da=function(){try{return 2<Vm(this)?this.g.status:-1}catch(Em){return-1}},Of.ja=function(){try{return this.g?this.g.responseText:""}catch(Em){return""}},Of.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Am(t)}},Of.Ia=function(){return this.m},Of.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Of=Km.prototype).ra=8,Of.H=1,Of.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Ig(this,this.l,e);let o=this.s;if(this.U&&(o?(o=wp(o),Ep(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tv(this,i,t),Yg(n=Gg(this.I),"RID",e),Yg(n,"CVER",22),this.F&&Yg(n,"X-HTTP-Session-Id",this.F),ev(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Hm(o)))+"&"+t:this.o&&Wm(n,this.o,o)),bm(this.i,i),this.bb&&Yg(n,"TYPE","init"),this.P?(Yg(n,"$req",t),Yg(n,"SID","null"),i.aa=!0,Ag(i,n,null)):Ag(i,n,t),this.H=2}}else 3==this.H&&(e?Zm(this,e):0==this.j.length||mm(this.i)||Zm(this))},Of.Ma=function(){if(this.u=null,ov(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=vg(Bf(this.jb,this),e)}},Of.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gg(10),Xm(this),ov(this))},Of.ib=function(){null!=this.v&&(this.v=null,Xm(this),rv(this),gg(19))},Of.pb=function(e){e?(this.l.info("Successfully pinged google.com"),gg(2)):(this.l.info("Failed to ping google.com"),gg(1))},Of.isActive=function(){return!!this.h&&this.h.isActive(this)},(Of=fv.prototype).Ba=function(){},Of.Aa=function(){},Of.za=function(){},Of.ya=function(){},Of.isActive=function(){return!0},Of.Va=function(){},pv.prototype.g=function(e,t){return new gv(e,t)},zf(gv,jp),gv.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;gg(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=dv(e,null,e.Y),Jm(e)},gv.prototype.close=function(){Qm(this.g)},gv.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Up(e),e=n);t.j.push(new fm(t.fb++,e)),3==t.H&&Jm(t)},gv.prototype.N=function(){this.g.h=null,delete this.j,Qm(this.g),delete this.g,gv.$.N.call(this)},zf(mv,Sg),zf(vv,kg),zf(yv,fv),yv.prototype.Ba=function(){$p(this.g,"a")},yv.prototype.Aa=function(e){$p(this.g,new mv(e))},yv.prototype.za=function(e){$p(this.g,new vv)},yv.prototype.ya=function(){$p(this.g,"b")},zf(bv,(function(){this.blockSize=-1})),bv.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},bv.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)wv(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){wv(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){wv(this,r),i=0;break}}this.h=i,this.i+=t},bv.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ev={};function Cv(e){return-128<=e&&128>e?function(e,t){var n=Ev;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new _v([0|e],0>e?-1:0)})):new _v([0|e],0>e?-1:0)}function xv(e){if(isNaN(e)||!isFinite(e))return kv;if(0>e)return Pv(xv(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Sv;return new _v(t,0)}var Sv=4294967296,kv=Cv(0),Tv=Cv(1),Iv=Cv(16777216);function Ov(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Nv(e){return-1==e.h}function Pv(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new _v(n,~e.h).add(Tv)}function Rv(e,t){return e.add(Pv(t))}function Av(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Dv(e,t){this.g=e,this.h=t}function Mv(e,t){if(Ov(t))throw Error("division by zero");if(Ov(e))return new Dv(kv,kv);if(Nv(e))return t=Mv(Pv(e),t),new Dv(Pv(t.g),Pv(t.h));if(Nv(t))return t=Mv(e,Pv(t)),new Dv(Pv(t.g),t.h);if(30<e.g.length){if(Nv(e)||Nv(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Tv,r=t;0>=r.X(e);)n=Lv(n),r=Lv(r);var i=Fv(n,1),o=Fv(r,1);for(r=Fv(r,2),n=Fv(n,2);!Ov(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Fv(r,1),n=Fv(n,1)}return t=Rv(e,i.R(t)),new Dv(i,t)}for(i=kv;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=xv(n)).R(t);Nv(s)||0<s.X(e);)s=(o=xv(n-=r)).R(t);Ov(o)&&(o=Tv),i=i.add(o),e=Rv(e,s)}return new Dv(i,e)}function Lv(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new _v(n,e.h)}function Fv(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new _v(i,e.h)}(Of=_v.prototype).ea=function(){if(Nv(this))return-Pv(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Sv+r)*t,t*=Sv}return e},Of.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Ov(this))return"0";if(Nv(this))return"-"+Pv(this).toString(e);for(var t=xv(Math.pow(e,6)),n=this,r="";;){var i=Mv(n,t).g,o=((0<(n=Rv(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Ov(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Of.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Of.X=function(e){return Nv(e=Rv(this,e))?-1:Ov(e)?0:1},Of.abs=function(){return Nv(this)?Pv(this):this},Of.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new _v(n,-2147483648&n[n.length-1]?-1:0)},Of.R=function(e){if(Ov(this)||Ov(e))return kv;if(Nv(this))return Nv(e)?Pv(this).R(Pv(e)):Pv(Pv(this).R(e));if(Nv(e))return Pv(this.R(Pv(e)));if(0>this.X(Iv)&&0>e.X(Iv))return xv(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,Av(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Av(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Av(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Av(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new _v(n,0)},Of.gb=function(e){return Mv(this,e).h},Of.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new _v(n,this.h&e.h)},Of.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new _v(n,this.h|e.h)},Of.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new _v(n,this.h^e.h)},pv.prototype.createWebChannel=pv.prototype.g,gv.prototype.send=gv.prototype.u,gv.prototype.open=gv.prototype.m,gv.prototype.close=gv.prototype.close,yg.NO_ERROR=0,yg.TIMEOUT=8,yg.HTTP_ERROR=6,bg.COMPLETE="complete",Eg.EventType=xg,xg.OPEN="a",xg.CLOSE="b",xg.ERROR="c",xg.MESSAGE="d",jp.prototype.listen=jp.prototype.O,Dm.prototype.listenOnce=Dm.prototype.P,Dm.prototype.getLastError=Dm.prototype.Sa,Dm.prototype.getLastErrorCode=Dm.prototype.Ia,Dm.prototype.getStatus=Dm.prototype.da,Dm.prototype.getResponseJson=Dm.prototype.Wa,Dm.prototype.getResponseText=Dm.prototype.ja,Dm.prototype.send=Dm.prototype.ha,Dm.prototype.setWithCredentials=Dm.prototype.Oa,bv.prototype.digest=bv.prototype.l,bv.prototype.reset=bv.prototype.reset,bv.prototype.update=bv.prototype.j,_v.prototype.add=_v.prototype.add,_v.prototype.multiply=_v.prototype.R,_v.prototype.modulo=_v.prototype.gb,_v.prototype.compare=_v.prototype.X,_v.prototype.toNumber=_v.prototype.ea,_v.prototype.toString=_v.prototype.toString,_v.prototype.getBits=_v.prototype.D,_v.fromNumber=xv,_v.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Pv(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=xv(Math.pow(n,8)),i=kv,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=xv(Math.pow(n,s)),i=i.R(s).add(xv(a))):i=(i=i.R(r)).add(xv(a))}return i};var jv=Pf.createWebChannelTransport=function(){return new pv},$v=Pf.getStatEventTarget=function(){return dg()},Bv=Pf.ErrorCode=yg,Uv=Pf.EventType=bg,zv=Pf.Event=cg,Vv=Pf.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qv=Pf.FetchXmlHttpFactory=Tm,Hv=Pf.WebChannel=Eg,Wv=Pf.XhrIo=Dm,Gv=Pf.Md5=bv,Kv=Pf.Integer=_v;const Qv="@firebase/firestore";class Xv{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xv.UNAUTHENTICATED=new Xv(null),Xv.GOOGLE_CREDENTIALS=new Xv("google-credentials-uid"),Xv.FIRST_PARTY=new Xv("first-party-uid"),Xv.MOCK_USER=new Xv("mock-user");let Yv="9.23.0";const Jv=new na("@firebase/firestore");function Zv(){return Jv.logLevel}function ey(e){if(Jv.logLevel<=Ys.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ry);Jv.debug(`Firestore (${Yv}): ${e}`,...i)}}function ty(e){if(Jv.logLevel<=Ys.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ry);Jv.error(`Firestore (${Yv}): ${e}`,...i)}}function ny(e){if(Jv.logLevel<=Ys.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ry);Jv.warn(`Firestore (${Yv}): ${e}`,...i)}}function ry(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function iy(){const e=`FIRESTORE (${Yv}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw ty(e),new Error(e)}function oy(e,t){e||iy()}function sy(e,t){return e}const ay={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ly extends ws{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cy{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class uy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dy{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Xv.UNAUTHENTICATED)))}shutdown(){}}class hy{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class fy{constructor(e){this.t=e,this.currentUser=Xv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new cy;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new cy,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{ey("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(ey("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new cy)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ey("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(oy("string"==typeof t.accessToken),new uy(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return oy(null===e||"string"==typeof e),new Xv(e)}}class py{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Xv.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class gy{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new py(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Xv.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class my{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vy{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&ey("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,ey("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ey("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):ey("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(oy("string"==typeof e.token),this.T=e.token,new my(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yy(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class by{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=yy(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function wy(e,t){return e<t?-1:e>t?1:0}function _y(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Ey(e){return e+"\0"}class Cy{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ly(ay.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ly(ay.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ly(ay.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ly(ay.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Cy.fromMillis(Date.now())}static fromDate(e){return Cy.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Cy(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?wy(this.nanoseconds,e.nanoseconds):wy(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xy{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xy(e)}static min(){return new xy(new Cy(0,0))}static max(){return new xy(new Cy(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sy{constructor(e,t,n){void 0===t?t=0:t>e.length&&iy(),void 0===n?n=e.length-t:n>e.length-t&&iy(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Sy.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sy?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ky extends Sy{construct(e,t,n){return new ky(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ly(ay.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new ky(e)}static emptyPath(){return new ky([])}}const Ty=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Iy extends Sy{construct(e,t,n){return new Iy(e,t,n)}static isValidIdentifier(e){return Ty.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Iy.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Iy(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ly(ay.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ly(ay.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ly(ay.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new ly(ay.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Iy(t)}static emptyPath(){return new Iy([])}}class Oy{constructor(e){this.path=e}static fromPath(e){return new Oy(ky.fromString(e))}static fromName(e){return new Oy(ky.fromString(e).popFirst(5))}static empty(){return new Oy(ky.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ky.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ky.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oy(new ky(e.slice()))}}class Ny{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Py(e){return e.fields.find((e=>2===e.kind))}function Ry(e){return e.fields.filter((e=>2!==e.kind))}Ny.UNKNOWN_ID=-1;class Ay{constructor(e,t){this.fieldPath=e,this.kind=t}}class Dy{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Dy(0,Fy.min())}}function My(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=xy.fromTimestamp(1e9===r?new Cy(n+1,0):new Cy(n,r));return new Fy(i,Oy.empty(),t)}function Ly(e){return new Fy(e.readTime,e.key,-1)}class Fy{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Fy(xy.min(),Oy.empty(),-1)}static max(){return new Fy(xy.max(),Oy.empty(),-1)}}function jy(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Oy.comparator(e.documentKey,t.documentKey),0!==n?n:wy(e.largestBatchId,t.largestBatchId))}const $y="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class By{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Uy(e){if(e.code!==ay.FAILED_PRECONDITION||e.message!==$y)throw e;ey("LocalStore","Unexpectedly lost primary lease")}class zy{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&iy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new zy(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof zy?t:zy.resolve(t)}catch(e){return zy.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):zy.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):zy.reject(t)}static resolve(e){return new zy(((t,n)=>{t(e)}))}static reject(e){return new zy(((t,n)=>{n(e)}))}static waitFor(e){return new zy(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=zy.resolve(!1);for(const n of e)t=t.next((e=>e?zy.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new zy(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new zy(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Vy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new cy,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Wy(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=Yy(t.target.error);this.v.reject(new Wy(e,n))}}static open(e,t,n,r){try{return new Vy(t,e.transaction(r,n))}catch(e){throw new Wy(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ey("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ky(t)}}class qy{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===qy.S(hs())&&ty("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ey("SimpleDb","Removing database:",e),Qy(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!bs())return!1;if(qy.C())return!0;const e=hs(),t=qy.S(e),n=0<t&&t<10,r=qy.N(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(ey("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Wy(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new ly(ay.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new ly(ay.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Wy(e,r))},r.onupgradeneeded=e=>{ey("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,r.transaction,e.oldVersion,this.version).next((()=>{ey("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.$(e);const t=Vy.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),zy.reject(e)))).toPromise();return o.catch((()=>{})),await t.R,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(ey("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Hy{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Qy(this.L.delete())}}class Wy extends ly{constructor(e,t){super(ay.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Gy(e){return"IndexedDbTransactionError"===e.name}class Ky{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(ey("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ey("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Qy(n)}add(e){return ey("SimpleDb","ADD",this.store.name,e,e),Qy(this.store.add(e))}get(e){return Qy(this.store.get(e)).next((t=>(void 0===t&&(t=null),ey("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return ey("SimpleDb","DELETE",this.store.name,e),Qy(this.store.delete(e))}count(){return ey("SimpleDb","COUNT",this.store.name),Qy(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new zy(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new zy(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){ey("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new zy(((n,r)=>{t.onerror=e=>{const t=Yy(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new zy(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Hy(i),s=t(i.primaryKey,i.value,o);if(s instanceof zy){const e=s.catch((e=>(o.done(),zy.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>zy.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Qy(e){return new zy(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Yy(e.target.error);n(t)}}))}let Xy=!1;function Yy(e){const t=qy.S(hs());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new ly("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xy||(Xy=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Jy{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){ey("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{ey("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(e){Gy(e)?ey("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Uy(e)}await this.et(6e4)}))}}class Zy{constructor(e,t){this.localStore=e,this.persistence=t}async nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let r=t,i=!0;return zy.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return ey("IndexBackiller",`Processing collection: ${t}`),this.it(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.rt(r,n))).next((n=>(ey("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Ly(t);jy(r,n)>0&&(n=r)})),new Fy(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class eb{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function tb(e){return null==e}function nb(e){return 0===e&&1/e==-1/0}function rb(e){return"number"==typeof e&&Number.isInteger(e)&&!nb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function ib(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=sb(t)),t=ob(e.get(n),t);return sb(t)}function ob(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function sb(e){return e+"\x01\x01"}function ab(e){const t=e.length;if(oy(t>=2),2===t)return oy("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ky.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&iy(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:iy()}o=t+2}return new ky(r)}eb.ct=-1;const lb=["userId","batchId"];function cb(e,t){return[e,ib(t)]}function ub(e,t,n){return[e,ib(t),n]}const db={},hb=["prefixPath","collectionGroup","readTime","documentId"],fb=["prefixPath","collectionGroup","documentId"],pb=["collectionGroup","readTime","prefixPath","documentId"],gb=["canonicalId","targetId"],mb=["targetId","path"],vb=["path","targetId"],yb=["collectionId","parent"],bb=["indexId","uid"],wb=["uid","sequenceNumber"],_b=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Eb=["indexId","uid","orderedDocumentKey"],Cb=["userId","collectionPath","documentId"],xb=["userId","collectionPath","largestBatchId"],Sb=["userId","collectionGroup","largestBatchId"],kb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Tb=[...kb,"documentOverlays"],Ib=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ob=Ib,Nb=[...Ob,"indexConfiguration","indexState","indexEntries"];class Pb extends By{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Rb(e,t){const n=sy(e);return qy.M(n.ht,t)}function Ab(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Db(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Mb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Lb{constructor(e,t){this.comparator=e,this.root=t||jb.EMPTY}insert(e,t){return new Lb(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jb.BLACK,null,null))}remove(e){return new Lb(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jb.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fb(this.root,e,this.comparator,!0)}}class Fb{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jb{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:jb.RED,this.left=null!=r?r:jb.EMPTY,this.right=null!=i?i:jb.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new jb(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return jb.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return jb.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jb.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jb.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw iy();if(this.right.isRed())throw iy();const e=this.left.check();if(e!==this.right.check())throw iy();return e+(this.isRed()?0:1)}}jb.EMPTY=null,jb.RED=!0,jb.BLACK=!1,jb.EMPTY=new class{constructor(){this.size=0}get key(){throw iy()}get value(){throw iy()}get color(){throw iy()}get left(){throw iy()}get right(){throw iy()}copy(e,t,n,r,i){return this}insert(e,t,n){return new jb(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $b{constructor(e){this.comparator=e,this.data=new Lb(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bb(this.data.getIterator())}getIteratorFrom(e){return new Bb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof $b))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new $b(this.comparator);return t.data=e,t}}class Bb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ub(e){return e.hasNext()?e.getNext():void 0}class zb{constructor(e){this.fields=e,e.sort(Iy.comparator)}static empty(){return new zb([])}unionWith(e){let t=new $b(Iy.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new zb(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _y(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Vb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qb{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Vb("Invalid base64 string: "+e):e}}(e);return new qb(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new qb(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wy(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qb.EMPTY_BYTE_STRING=new qb("");const Hb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wb(e){if(oy(!!e),"string"==typeof e){let t=0;const n=Hb.exec(e);if(oy(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Gb(e.seconds),nanos:Gb(e.nanos)}}function Gb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Kb(e){return"string"==typeof e?qb.fromBase64String(e):qb.fromUint8Array(e)}function Qb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Xb(e){const t=e.mapValue.fields.__previous_value__;return Qb(t)?Xb(t):t}function Yb(e){const t=Wb(e.mapValue.fields.__local_write_time__.timestampValue);return new Cy(t.seconds,t.nanos)}class Jb{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Zb{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Zb("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Zb&&e.projectId===this.projectId&&e.database===this.database}}const ew={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tw={nullValue:"NULL_VALUE"};function nw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qb(e)?4:mw(e)?9007199254740991:10:iy()}function rw(e,t){if(e===t)return!0;const n=nw(e);if(n!==nw(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yb(e).isEqual(Yb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Wb(e.timestampValue),r=Wb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Kb(e.bytesValue).isEqual(Kb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Gb(e.geoPointValue.latitude)===Gb(t.geoPointValue.latitude)&&Gb(e.geoPointValue.longitude)===Gb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Gb(e.integerValue)===Gb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Gb(e.doubleValue),r=Gb(t.doubleValue);return n===r?nb(n)===nb(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return _y(e.arrayValue.values||[],t.arrayValue.values||[],rw);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ab(n)!==Ab(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!rw(n[i],r[i])))return!1;return!0}(e,t);default:return iy()}}function iw(e,t){return void 0!==(e.values||[]).find((e=>rw(e,t)))}function ow(e,t){if(e===t)return 0;const n=nw(e),r=nw(t);if(n!==r)return wy(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return wy(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Gb(e.integerValue||e.doubleValue),r=Gb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return sw(e.timestampValue,t.timestampValue);case 4:return sw(Yb(e),Yb(t));case 5:return wy(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Kb(e),r=Kb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=wy(n[i],r[i]);if(0!==e)return e}return wy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=wy(Gb(e.latitude),Gb(t.latitude));return 0!==n?n:wy(Gb(e.longitude),Gb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ow(n[i],r[i]);if(e)return e}return wy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ew.mapValue&&t===ew.mapValue)return 0;if(e===ew.mapValue)return 1;if(t===ew.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=wy(r[s],o[s]);if(0!==e)return e;const t=ow(n[r[s]],i[o[s]]);if(0!==t)return t}return wy(r.length,o.length)}(e.mapValue,t.mapValue);default:throw iy()}}function sw(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return wy(e,t);const n=Wb(e),r=Wb(t),i=wy(n.seconds,r.seconds);return 0!==i?i:wy(n.nanos,r.nanos)}function aw(e){return lw(e)}function lw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Wb(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Kb(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Oy.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=lw(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${lw(e.fields[i])}`;return n+"}"}(e.mapValue):iy();var t,n}function cw(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function uw(e){return!!e&&"integerValue"in e}function dw(e){return!!e&&"arrayValue"in e}function hw(e){return!!e&&"nullValue"in e}function fw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pw(e){return!!e&&"mapValue"in e}function gw(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Db(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=gw(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gw(e.arrayValue.values[n]);return t}return Object.assign({},e)}function mw(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function vw(e){return"nullValue"in e?tw:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?cw(Zb.empty(),Oy.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:iy()}function yw(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?cw(Zb.empty(),Oy.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ew:iy()}function bw(e,t){const n=ow(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ww(e,t){const n=ow(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class _w{constructor(e){this.value=e}static empty(){return new _w({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!pw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gw(t)}setAll(e){let t=Iy.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=gw(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());pw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rw(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];pw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Db(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new _w(gw(this.value))}}function Ew(e){const t=[];return Db(e.fields,((e,n)=>{const r=new Iy([e]);if(pw(n)){const e=Ew(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new zb(t)}class Cw{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Cw(e,0,xy.min(),xy.min(),xy.min(),_w.empty(),0)}static newFoundDocument(e,t,n,r){return new Cw(e,1,t,xy.min(),n,r,0)}static newNoDocument(e,t){return new Cw(e,2,t,xy.min(),xy.min(),_w.empty(),0)}static newUnknownDocument(e,t){return new Cw(e,3,t,xy.min(),xy.min(),_w.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xy.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_w.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_w.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xy.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cw&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cw(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xw{constructor(e,t){this.position=e,this.inclusive=t}}function Sw(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Oy.comparator(Oy.fromName(s.referenceValue),n.key):ow(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function kw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!rw(e.position[n],t.position[n]))return!1;return!0}class Tw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Iw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ow{}class Nw extends Ow{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Bw(e,t,n):"array-contains"===t?new qw(e,n):"in"===t?new Hw(e,n):"not-in"===t?new Ww(e,n):"array-contains-any"===t?new Gw(e,n):new Nw(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Uw(e,n):new zw(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ow(t,this.value)):null!==t&&nw(this.value)===nw(t)&&this.matchesComparison(ow(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return iy()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pw extends Ow{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Pw(e,t)}matches(e){return Rw(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Rw(e){return"and"===e.op}function Aw(e){return"or"===e.op}function Dw(e){return Mw(e)&&Rw(e)}function Mw(e){for(const t of e.filters)if(t instanceof Pw)return!1;return!0}function Lw(e){if(e instanceof Nw)return e.field.canonicalString()+e.op.toString()+aw(e.value);if(Dw(e))return e.filters.map((e=>Lw(e))).join(",");{const t=e.filters.map((e=>Lw(e))).join(",");return`${e.op}(${t})`}}function Fw(e,t){return e instanceof Nw?function(e,t){return t instanceof Nw&&e.op===t.op&&e.field.isEqual(t.field)&&rw(e.value,t.value)}(e,t):e instanceof Pw?function(e,t){return t instanceof Pw&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Fw(n,t.filters[r])),!0)}(e,t):void iy()}function jw(e,t){const n=e.filters.concat(t);return Pw.create(n,e.op)}function $w(e){return e instanceof Nw?function(e){return`${e.field.canonicalString()} ${e.op} ${aw(e.value)}`}(e):e instanceof Pw?function(e){return e.op.toString()+" {"+e.getFilters().map($w).join(" ,")+"}"}(e):"Filter"}class Bw extends Nw{constructor(e,t,n){super(e,t,n),this.key=Oy.fromName(n.referenceValue)}matches(e){const t=Oy.comparator(e.key,this.key);return this.matchesComparison(t)}}class Uw extends Nw{constructor(e,t){super(e,"in",t),this.keys=Vw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class zw extends Nw{constructor(e,t){super(e,"not-in",t),this.keys=Vw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Vw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Oy.fromName(e.referenceValue)))}class qw extends Nw{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dw(t)&&iw(t.arrayValue,this.value)}}class Hw extends Nw{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&iw(this.value.arrayValue,t)}}class Ww extends Nw{constructor(e,t){super(e,"not-in",t)}matches(e){if(iw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!iw(this.value.arrayValue,t)}}class Gw extends Nw{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dw(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>iw(this.value.arrayValue,e)))}}class Kw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.dt=null}}function Qw(e){return new Kw(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Xw(e){const t=sy(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Lw(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),tb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>aw(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>aw(e))).join(",")),t.dt=e}return t.dt}function Yw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Iw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Fw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!kw(e.startAt,t.startAt)&&kw(e.endAt,t.endAt)}function Jw(e){return Oy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Zw(e,t){return e.filters.filter((e=>e instanceof Nw&&e.field.isEqual(t)))}function e_(e,t,n){let r=tw,i=!0;for(const o of Zw(e,t)){let e=tw,t=!0;switch(o.op){case"<":case"<=":e=vw(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=tw}bw({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];bw({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function t_(e,t,n){let r=ew,i=!0;for(const o of Zw(e,t)){let e=ew,t=!0;switch(o.op){case">=":case">":e=yw(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=ew}ww({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];ww({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class n_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function r_(e,t,n,r,i,o,s,a){return new n_(e,t,n,r,i,o,s,a)}function i_(e){return new n_(e)}function o_(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function s_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function a_(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function l_(e){return null!==e.collectionGroup}function c_(e){const t=sy(e);if(null===t.wt){t.wt=[];const e=a_(t),n=s_(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Tw(e)),t.wt.push(new Tw(Iy.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Tw(Iy.keyField(),e))}}}return t.wt}function u_(e){const t=sy(e);if(!t._t)if("F"===t.limitType)t._t=Qw(t.path,t.collectionGroup,c_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of c_(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Tw(i.field,t))}const n=t.endAt?new xw(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xw(t.startAt.position,t.startAt.inclusive):null;t._t=Qw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function d_(e,t){t.getFirstInequalityField(),a_(e);const n=e.filters.concat([t]);return new n_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function h_(e,t,n){return new n_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function f_(e,t){return Yw(u_(e),u_(t))&&e.limitType===t.limitType}function p_(e){return`${Xw(u_(e))}|lt:${e.limitType}`}function g_(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>$w(e))).join(", ")}]`),tb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>aw(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>aw(e))).join(",")),`Target(${t})`}(u_(e))}; limitType=${e.limitType})`}function m_(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Oy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of c_(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Sw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,c_(e),t))&&!(e.endAt&&!function(e,t,n){const r=Sw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,c_(e),t))}(e,t)}function v_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function y_(e){return(t,n)=>{let r=!1;for(const i of c_(e)){const e=b_(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function b_(e,t,n){const r=e.field.isKeyField()?Oy.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ow(r,i):iy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return iy()}}class w_{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Db(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Mb(this.inner)}size(){return this.innerSize}}const __=new Lb(Oy.comparator);function E_(){return __}const C_=new Lb(Oy.comparator);function x_(){let e=C_;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function S_(e){let t=C_;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function k_(){return I_()}function T_(){return I_()}function I_(){return new w_((e=>e.toString()),((e,t)=>e.isEqual(t)))}const O_=new Lb(Oy.comparator),N_=new $b(Oy.comparator);function P_(){let e=N_;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const R_=new $b(wy);function A_(){return R_}function D_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nb(t)?"-0":t}}function M_(e){return{integerValue:""+e}}function L_(e,t){return rb(t)?M_(t):D_(e,t)}class F_{constructor(){this._=void 0}}function j_(e,t,n){return e instanceof U_?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Qb(t)&&(t=Xb(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof z_?V_(e,t):e instanceof q_?H_(e,t):function(e,t){const n=B_(e,t),r=G_(n)+G_(e.gt);return uw(n)&&uw(e.gt)?M_(r):D_(e.serializer,r)}(e,t)}function $_(e,t,n){return e instanceof z_?V_(e,t):e instanceof q_?H_(e,t):n}function B_(e,t){return e instanceof W_?uw(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class U_ extends F_{}class z_ extends F_{constructor(e){super(),this.elements=e}}function V_(e,t){const n=K_(t);for(const r of e.elements)n.some((e=>rw(e,r)))||n.push(r);return{arrayValue:{values:n}}}class q_ extends F_{constructor(e){super(),this.elements=e}}function H_(e,t){let n=K_(t);for(const r of e.elements)n=n.filter((e=>!rw(e,r)));return{arrayValue:{values:n}}}class W_ extends F_{constructor(e,t){super(),this.serializer=e,this.gt=t}}function G_(e){return Gb(e.integerValue||e.doubleValue)}function K_(e){return dw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Q_{constructor(e,t){this.field=e,this.transform=t}}class X_{constructor(e,t){this.version=e,this.transformResults=t}}class Y_{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Y_}static exists(e){return new Y_(void 0,e)}static updateTime(e){return new Y_(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function J_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Z_{}function eE(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new uE(e.key,Y_.none()):new oE(e.key,e.data,Y_.none());{const n=e.data,r=_w.empty();let i=new $b(Iy.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new sE(e.key,r,new zb(i.toArray()),Y_.none())}}function tE(e,t,n){e instanceof oE?function(e,t,n){const r=e.value.clone(),i=lE(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof sE?function(e,t,n){if(!J_(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=lE(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(aE(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function nE(e,t,n,r){return e instanceof oE?function(e,t,n,r){if(!J_(e.precondition,t))return n;const i=e.value.clone(),o=cE(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof sE?function(e,t,n,r){if(!J_(e.precondition,t))return n;const i=cE(e.fieldTransforms,r,t),o=t.data;return o.setAll(aE(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return J_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function rE(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=B_(r.transform,e||null);null!=i&&(null===n&&(n=_w.empty()),n.set(r.field,i))}return n||null}function iE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&_y(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof z_&&t instanceof z_||e instanceof q_&&t instanceof q_?_y(e.elements,t.elements,rw):e instanceof W_&&t instanceof W_?rw(e.gt,t.gt):e instanceof U_&&t instanceof U_}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class oE extends Z_{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class sE extends Z_{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function aE(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function lE(e,t,n){const r=new Map;oy(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,$_(s,a,n[i]))}return r}function cE(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,j_(e,o,t))}return r}class uE extends Z_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dE extends Z_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hE{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&tE(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=nE(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=nE(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=T_();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=eE(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(xy.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),P_())}isEqual(e){return this.batchId===e.batchId&&_y(this.mutations,e.mutations,((e,t)=>iE(e,t)))&&_y(this.baseMutations,e.baseMutations,((e,t)=>iE(e,t)))}}class fE{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){oy(e.mutations.length===n.length);let r=O_;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new fE(e,t,n,r)}}class pE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gE{constructor(e,t){this.count=e,this.unchangedNames=t}}var mE,vE;function yE(e){switch(e){default:return iy();case ay.CANCELLED:case ay.UNKNOWN:case ay.DEADLINE_EXCEEDED:case ay.RESOURCE_EXHAUSTED:case ay.INTERNAL:case ay.UNAVAILABLE:case ay.UNAUTHENTICATED:return!1;case ay.INVALID_ARGUMENT:case ay.NOT_FOUND:case ay.ALREADY_EXISTS:case ay.PERMISSION_DENIED:case ay.FAILED_PRECONDITION:case ay.ABORTED:case ay.OUT_OF_RANGE:case ay.UNIMPLEMENTED:case ay.DATA_LOSS:return!0}}function bE(e){if(void 0===e)return ty("GRPC error has no .code"),ay.UNKNOWN;switch(e){case mE.OK:return ay.OK;case mE.CANCELLED:return ay.CANCELLED;case mE.UNKNOWN:return ay.UNKNOWN;case mE.DEADLINE_EXCEEDED:return ay.DEADLINE_EXCEEDED;case mE.RESOURCE_EXHAUSTED:return ay.RESOURCE_EXHAUSTED;case mE.INTERNAL:return ay.INTERNAL;case mE.UNAVAILABLE:return ay.UNAVAILABLE;case mE.UNAUTHENTICATED:return ay.UNAUTHENTICATED;case mE.INVALID_ARGUMENT:return ay.INVALID_ARGUMENT;case mE.NOT_FOUND:return ay.NOT_FOUND;case mE.ALREADY_EXISTS:return ay.ALREADY_EXISTS;case mE.PERMISSION_DENIED:return ay.PERMISSION_DENIED;case mE.FAILED_PRECONDITION:return ay.FAILED_PRECONDITION;case mE.ABORTED:return ay.ABORTED;case mE.OUT_OF_RANGE:return ay.OUT_OF_RANGE;case mE.UNIMPLEMENTED:return ay.UNIMPLEMENTED;case mE.DATA_LOSS:return ay.DATA_LOSS;default:return iy()}}(vE=mE||(mE={}))[vE.OK=0]="OK",vE[vE.CANCELLED=1]="CANCELLED",vE[vE.UNKNOWN=2]="UNKNOWN",vE[vE.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vE[vE.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vE[vE.NOT_FOUND=5]="NOT_FOUND",vE[vE.ALREADY_EXISTS=6]="ALREADY_EXISTS",vE[vE.PERMISSION_DENIED=7]="PERMISSION_DENIED",vE[vE.UNAUTHENTICATED=16]="UNAUTHENTICATED",vE[vE.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vE[vE.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vE[vE.ABORTED=10]="ABORTED",vE[vE.OUT_OF_RANGE=11]="OUT_OF_RANGE",vE[vE.UNIMPLEMENTED=12]="UNIMPLEMENTED",vE[vE.INTERNAL=13]="INTERNAL",vE[vE.UNAVAILABLE=14]="UNAVAILABLE",vE[vE.DATA_LOSS=15]="DATA_LOSS";class wE{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return _E}static getOrCreateInstance(){return null===_E&&(_E=new wE),_E}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let _E=null;function EE(){return new TextEncoder}const CE=new Kv([4294967295,4294967295],0);function xE(e){const t=EE().encode(e),n=new Gv;return n.update(t),new Uint8Array(n.digest())}function SE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Kv([n,r],0),new Kv([i,o],0)]}class kE{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new TE(`Invalid padding: ${t}`);if(n<0)throw new TE(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new TE(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new TE(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Kv.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Kv.fromNumber(n)));return 1===r.compare(CE)&&(r=new Kv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=xE(e),[n,r]=SE(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new kE(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.It)return;const t=xE(e),[n,r]=SE(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class TE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class IE{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,OE.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new IE(xy.min(),r,new Lb(wy),E_(),P_())}}class OE{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new OE(n,t,P_(),P_(),P_())}}class NE{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class PE{constructor(e,t){this.targetId=e,this.Vt=t}}class RE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qb.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class AE{constructor(){this.St=0,this.Dt=LE(),this.Ct=qb.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=P_(),t=P_(),n=P_();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:iy()}})),new OE(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=LE()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class DE{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=E_(),this.zt=ME(),this.Wt=new Lb(wy)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:iy()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(Jw(o))if(0===r){const e=new Oy(o.path);this.Yt(n,e,Cw.newNoDocument(e,xy.min()))}else oy(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=wE.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,s,a,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(s=null===(o=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(l=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;let a,l;try{a=Kb(i).toUint8Array()}catch(e){if(e instanceof Vb)return ny("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new kE(a,o,s)}catch(e){return ny(e instanceof TE?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(o)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&Jw(i.target)){const t=new Oy(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Cw.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=P_();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new IE(e,t,this.Wt,this.jt,n);return this.jt=E_(),this.zt=ME(),this.Wt=new Lb(wy),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new AE,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new $b(wy),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ey("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new AE),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function ME(){return new Lb(Oy.comparator)}function LE(){return new Lb(Oy.comparator)}const FE={asc:"ASCENDING",desc:"DESCENDING"},jE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$E={and:"AND",or:"OR"};class BE{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function UE(e,t){return e.useProto3Json||tb(t)?t:{value:t}}function zE(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function VE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function qE(e,t){return zE(e,t.toTimestamp())}function HE(e){return oy(!!e),xy.fromTimestamp(function(e){const t=Wb(e);return new Cy(t.seconds,t.nanos)}(e))}function WE(e,t){return function(e){return new ky(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function GE(e){const t=ky.fromString(e);return oy(gC(t)),t}function KE(e,t){return WE(e.databaseId,t.path)}function QE(e,t){const n=GE(t);if(n.get(1)!==e.databaseId.projectId)throw new ly(ay.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ly(ay.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Oy(ZE(n))}function XE(e,t){return WE(e.databaseId,t)}function YE(e){const t=GE(e);return 4===t.length?ky.emptyPath():ZE(t)}function JE(e){return new ky(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ZE(e){return oy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function eC(e,t,n){return{name:KE(e,t),fields:n.value.mapValue.fields}}function tC(e,t,n){const r=QE(e,t.name),i=HE(t.updateTime),o=t.createTime?HE(t.createTime):xy.min(),s=new _w({mapValue:{fields:t.fields}}),a=Cw.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function nC(e,t){let n;if(t instanceof oE)n={update:eC(e,t.key,t.value)};else if(t instanceof uE)n={delete:KE(e,t.key)};else if(t instanceof sE)n={update:eC(e,t.key,t.data),updateMask:pC(t.fieldMask)};else{if(!(t instanceof dE))return iy();n={verify:KE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof U_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof z_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof q_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof W_)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw iy()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:qE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:iy()}(e,t.precondition)),n}function rC(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Y_.updateTime(HE(e.updateTime)):void 0!==e.exists?Y_.exists(e.exists):Y_.none()}(t.currentDocument):Y_.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)oy("REQUEST_TIME"===t.setToServerValue),n=new U_;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new z_(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new q_(e)}else"increment"in t?n=new W_(e,t.increment):iy();const r=Iy.fromServerFormat(t.fieldPath);return new Q_(r,n)}(e,t))):[];if(t.update){t.update.name;const i=QE(e,t.update.name),o=new _w({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new zb(t.map((e=>Iy.fromServerFormat(e))))}(t.updateMask);return new sE(i,o,e,n,r)}return new oE(i,o,n,r)}if(t.delete){const r=QE(e,t.delete);return new uE(r,n)}if(t.verify){const r=QE(e,t.verify);return new dE(r,n)}return iy()}function iC(e,t){return{documents:[XE(e,t.path)]}}function oC(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=XE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=XE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return fC(Pw.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:dC(e.field),direction:lC(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=UE(e,t.limit);var a;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function sC(e){let t=YE(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){oy(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=aC(e);return t instanceof Pw&&Dw(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new Tw(hC(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,tb(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new xw(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new xw(n,t)}(n.endAt)),r_(t,i,s,o,a,"F",l,c)}function aC(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=hC(e.unaryFilter.field);return Nw.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=hC(e.unaryFilter.field);return Nw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=hC(e.unaryFilter.field);return Nw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=hC(e.unaryFilter.field);return Nw.create(i,"!=",{nullValue:"NULL_VALUE"});default:return iy()}}(e):void 0!==e.fieldFilter?function(e){return Nw.create(hC(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return iy()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Pw.create(e.compositeFilter.filters.map((e=>aC(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return iy()}}(e.compositeFilter.op))}(e):iy()}function lC(e){return FE[e]}function cC(e){return jE[e]}function uC(e){return $E[e]}function dC(e){return{fieldPath:e.canonicalString()}}function hC(e){return Iy.fromServerFormat(e.fieldPath)}function fC(e){return e instanceof Nw?function(e){if("=="===e.op){if(fw(e.value))return{unaryFilter:{field:dC(e.field),op:"IS_NAN"}};if(hw(e.value))return{unaryFilter:{field:dC(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(fw(e.value))return{unaryFilter:{field:dC(e.field),op:"IS_NOT_NAN"}};if(hw(e.value))return{unaryFilter:{field:dC(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dC(e.field),op:cC(e.op),value:e.value}}}(e):e instanceof Pw?function(e){const t=e.getFilters().map((e=>fC(e)));return 1===t.length?t[0]:{compositeFilter:{op:uC(e.op),filters:t}}}(e):iy()}function pC(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function gC(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class mC{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xy.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:xy.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:qb.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new mC(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new mC(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mC(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mC(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vC{constructor(e){this.fe=e}}function yC(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:bC(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:KE(e,t.key),fields:t.data.value.mapValue.fields,updateTime:zE(e,t.version.toTimestamp()),createTime:zE(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:wC(t.version)};else{if(!t.isUnknownDocument())return iy();r.unknownDocument={path:n.path.toArray(),version:wC(t.version)}}return r}function bC(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function wC(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function _C(e){const t=new Cy(e.seconds,e.nanoseconds);return xy.fromTimestamp(t)}function EC(e,t){const n=(t.baseMutations||[]).map((t=>rC(e.fe,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>rC(e.fe,t))),i=Cy.fromMillis(t.localWriteTimeMs);return new hE(t.batchId,i,n,r)}function CC(e){const t=_C(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?_C(e.lastLimboFreeSnapshotVersion):xy.min();let r;var i;return void 0!==e.query.documents?(oy(1===(i=e.query).documents.length),r=u_(i_(YE(i.documents[0])))):r=function(e){return u_(sC(e))}(e.query),new mC(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,qb.fromBase64String(e.resumeToken))}function xC(e,t){const n=wC(t.snapshotVersion),r=wC(t.lastLimboFreeSnapshotVersion);let i;i=Jw(t.target)?iC(e.fe,t.target):oC(e.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Xw(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function SC(e){const t=sC({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?h_(t,t.limit,"L"):t}function kC(e,t){return new pE(t.largestBatchId,rC(e.fe,t.overlayMutation))}function TC(e,t){const n=t.path.lastSegment();return[e,ib(t.path.popLast()),n]}function IC(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:wC(r.readTime),documentKey:ib(r.documentKey.path),largestBatchId:r.largestBatchId}}class OC{getBundleMetadata(e,t){return NC(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:_C(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return NC(e).put({bundleId:(n=t).id,createTime:wC(HE(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return PC(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:SC(t.bundledQuery),readTime:_C(t.readTime)};var t}))}saveNamedQuery(e,t){return PC(e).put(function(e){return{name:e.name,readTime:wC(HE(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function NC(e){return Rb(e,"bundles")}function PC(e){return Rb(e,"namedQueries")}class RC{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new RC(e,n)}getOverlay(e,t){return AC(e).get(TC(this.userId,t)).next((e=>e?kC(this.serializer,e):null))}getOverlays(e,t){const n=k_();return zy.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new pE(t,i);r.push(this.we(e,o))})),zy.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(ib(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(AC(e).J("collectionPathOverlayIndex",r))})),zy.waitFor(i)}getOverlaysForCollection(e,t,n){const r=k_(),i=ib(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return AC(e).j("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=kC(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=k_();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return AC(e).X({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=kC(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}we(e,t){return AC(e).put(function(e,t,n){const[r,i,o]=TC(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:nC(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function AC(e){return Rb(e,"documentOverlays")}class DC{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Gb(e.integerValue));else if("doubleValue"in e){const n=Gb(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),nb(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Kb(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?mw(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):iy()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Oy.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function MC(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function LC(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=MC(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}DC.Ve=new DC;class FC{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=LC(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),n=LC(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class jC{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class $C{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class BC{constructor(){this.je=new FC,this.ze=new jC(this.je),this.We=new $C(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class UC{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new UC(this.indexId,this.documentKey,this.arrayValue,n)}}function zC(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=VC(e.arrayValue,t.arrayValue),0!==n?n:(n=VC(e.directionalValue,t.directionalValue),0!==n?n:Oy.comparator(e.documentKey,t.documentKey)))}function VC(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class qC{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){oy(e.collectionGroup===this.collectionId);const t=Py(e);if(void 0!==t&&!this.en(t))return!1;const n=Ry(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const e=n[i];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[o++],e))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Ye.length||!this.sn(this.Ye[o++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function HC(e){var t,n;if(oy(e instanceof Nw||e instanceof Pw),e instanceof Nw){if(e instanceof Hw){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Nw.create(e.field,"==",t))))||[];return Pw.create(r,"or")}return e}const r=e.filters.map((e=>HC(e)));return Pw.create(r,e.op)}function WC(e){if(0===e.getFilters().length)return[];const t=XC(HC(e));return oy(QC(t)),GC(t)||KC(t)?[t]:t.getFilters()}function GC(e){return e instanceof Nw}function KC(e){return e instanceof Pw&&Dw(e)}function QC(e){return GC(e)||KC(e)||function(e){if(e instanceof Pw&&Aw(e)){for(const t of e.getFilters())if(!GC(t)&&!KC(t))return!1;return!0}return!1}(e)}function XC(e){if(oy(e instanceof Nw||e instanceof Pw),e instanceof Nw)return e;if(1===e.filters.length)return XC(e.filters[0]);const t=e.filters.map((e=>XC(e)));let n=Pw.create(t,e.op);return n=ZC(n),QC(n)?n:(oy(n instanceof Pw),oy(Rw(n)),oy(n.filters.length>1),n.filters.reduce(((e,t)=>YC(e,t))))}function YC(e,t){let n;return oy(e instanceof Nw||e instanceof Pw),oy(t instanceof Nw||t instanceof Pw),n=e instanceof Nw?t instanceof Nw?function(e,t){return Pw.create([e,t],"and")}(e,t):JC(e,t):t instanceof Nw?JC(t,e):function(e,t){if(oy(e.filters.length>0&&t.filters.length>0),Rw(e)&&Rw(t))return jw(e,t.getFilters());const n=Aw(e)?e:t,r=Aw(e)?t:e,i=n.filters.map((e=>YC(e,r)));return Pw.create(i,"or")}(e,t),ZC(n)}function JC(e,t){if(Rw(t))return jw(t,e.getFilters());{const n=t.filters.map((t=>YC(e,t)));return Pw.create(n,"or")}}function ZC(e){if(oy(e instanceof Nw||e instanceof Pw),e instanceof Nw)return e;const t=e.getFilters();if(1===t.length)return ZC(t[0]);if(Mw(e))return e;const n=t.map((e=>ZC(e))),r=[];return n.forEach((t=>{t instanceof Nw?r.push(t):t instanceof Pw&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Pw.create(r,e.op)}class ex{constructor(){this.rn=new tx}addToCollectionParentIndex(e,t){return this.rn.add(t),zy.resolve()}getCollectionParents(e,t){return zy.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return zy.resolve()}deleteFieldIndex(e,t){return zy.resolve()}getDocumentsMatchingTarget(e,t){return zy.resolve(null)}getIndexType(e,t){return zy.resolve(0)}getFieldIndexes(e,t){return zy.resolve([])}getNextCollectionGroupToUpdate(e){return zy.resolve(null)}getMinOffset(e,t){return zy.resolve(Fy.min())}getMinOffsetFromCollectionGroup(e,t){return zy.resolve(Fy.min())}updateCollectionGroup(e,t,n){return zy.resolve()}updateIndexEntries(e,t){return zy.resolve()}}class tx{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new $b(ky.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new $b(ky.comparator)).toArray()}}const nx=new Uint8Array(0);class rx{constructor(e,t){this.user=e,this.databaseId=t,this.on=new tx,this.un=new w_((e=>Xw(e)),((e,t)=>Yw(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.on.add(t)}));const i={collectionId:n,parent:ib(r)};return ix(e).put(i)}return zy.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Ey(t),""],!1,!0);return ix(e).j(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(ab(r.parent))}return n}))}addFieldIndex(e,t){const n=sx(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=ax(e);return i.next((e=>{n.put(IC(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=sx(e),r=ax(e),i=ox(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=ox(e);let r=!0;const i=new Map;return zy.forEach(this.cn(t),(t=>this.an(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=P_();const r=[];return zy.forEach(i,((i,o)=>{var s;ey("IndexedDbIndexManager",`Using index ${s=i,`id=${s.indexId}|cg=${s.collectionGroup}|f=${s.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`} to execute ${Xw(t)}`);const a=function(e,t){const n=Py(t);if(void 0===n)return null;for(const r of Zw(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),l=function(e,t){const n=new Map;for(const r of Ry(t))for(const t of Zw(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of Ry(t)){const t=0===i.kind?e_(e,i.fieldPath,e.startAt):t_(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new xw(n,r)}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of Ry(t)){const t=0===i.kind?t_(e,i.fieldPath,e.endAt):e_(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new xw(n,r)}(o,i),d=this.hn(i,o,c),h=this.hn(i,o,u),f=this.ln(i,o,l),p=this.fn(i.indexId,a,d,c.inclusive,h,u.inclusive,f);return zy.forEach(p,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=Oy.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return zy.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:WC(Pw.create(e.filters,"and")).map((t=>Qw(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}fn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.dn(t[u/l]):nx,d=this.wn(e,a,n[u%l],r),h=this._n(e,a,i[u%l],o),f=s.map((t=>this.wn(e,a,t,!0)));c.push(...this.createRange(d,h,f))}return c}wn(e,t,n,r){const i=new UC(e,Oy.empty(),t,n);return r?i:i.Je()}_n(e,t,n,r){const i=new UC(e,Oy.empty(),t,n);return r?i.Je():i}an(e,t){const n=new qC(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return zy.forEach(r,(t=>this.an(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new $b(Iy.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}mn(e,t){const n=new BC;for(const r of Ry(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.He(r.kind);DC.Ve._e(e,i)}return n.Qe()}dn(e){const t=new BC;return DC.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new BC;return DC.Ve._e(cw(this.databaseId,t),n.He(function(e){const t=Ry(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let r=[];r.push(new BC);let i=0;for(const o of Ry(e)){const e=n[i++];for(const n of r)if(this.yn(t,o.fieldPath)&&dw(e))r=this.pn(r,o,e);else{const t=n.He(o.kind);DC.Ve._e(e,t)}}return this.In(r)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new BC;n.seed(e.Qe()),DC.Ve._e(o,n.He(t.kind)),i.push(n)}return i}yn(e,t){return!!e.filters.find((e=>e instanceof Nw&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=sx(e),r=ax(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return zy.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Dy(t.sequenceNumber,new Fy(_C(t.readTime),new Oy(ab(t.documentKey)),t.largestBatchId)):Dy.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Ay(Iy.fromServerFormat(t),n)}));return new Ny(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:wy(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=sx(e),i=ax(e);return this.Tn(e).next((e=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>zy.forEach(t,(t=>i.put(IC(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return zy.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?zy.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),zy.forEach(i,(n=>this.En(e,t,n).next((t=>{const i=this.An(r,n);return t.isEqual(i)?zy.resolve():this.vn(e,r,n,t,i)})))))))}))}Rn(e,t,n,r){return ox(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,r){return ox(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const r=ox(e);let i=new $b(zC);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new UC(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}An(e,t){let n=new $b(zC);const r=this.mn(t,e);if(null==r)return n;const i=Py(t);if(null!=i){const o=e.data.field(i.fieldPath);if(dw(o))for(const i of o.arrayValue.values||[])n=n.add(new UC(t.indexId,e.key,this.dn(i),r))}else n=n.add(new UC(t.indexId,e.key,nx,r));return n}vn(e,t,n,r,i){ey("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Ub(o),l=Ub(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Ub(s)):t?(i(a),a=Ub(o)):(a=Ub(o),l=Ub(s))}}(r,i,zC,(r=>{o.push(this.Rn(e,t,n,r))}),(r=>{o.push(this.Pn(e,t,n,r))})),zy.waitFor(o)}Tn(e){let t=1;return ax(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>zC(e,t))).filter(((e,t,n)=>!t||0!==zC(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=zC(o,e),i=zC(o,t);if(0===n)r[0]=e.Je();else if(n>0&&i<0)r.push(o),r.push(o.Je());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,nx,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,nx,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return zC(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(lx)}getMinOffset(e,t){return zy.mapArray(this.cn(t),(t=>this.an(e,t).next((e=>e||iy())))).next(lx)}}function ix(e){return Rb(e,"collectionParents")}function ox(e){return Rb(e,"indexEntries")}function sx(e){return Rb(e,"indexConfiguration")}function ax(e){return Rb(e,"indexState")}function lx(e){oy(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;jy(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Fy(t.readTime,t.documentKey,n)}const cx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ux{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ux(e,ux.DEFAULT_COLLECTION_PERCENTILE,ux.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dx(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{oy(1===a)})));const c=[];for(const u of n.mutations){const e=ub(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return zy.waitFor(o).next((()=>c))}function hx(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw iy();t=e.noDocument}return JSON.stringify(t).length}ux.DEFAULT_COLLECTION_PERCENTILE=10,ux.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ux.DEFAULT=new ux(41943040,ux.DEFAULT_COLLECTION_PERCENTILE,ux.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ux.DISABLED=new ux(-1,0,0);class fx{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(e,t,n,r){oy(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new fx(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gx(e).X({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=mx(e),o=gx(e);return o.add({}).next((s=>{oy("number"==typeof s);const a=new hE(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>nC(e.fe,t))),i=n.mutations.map((t=>nC(e.fe,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new $b(((e,t)=>wy(e.canonicalString(),t.canonicalString())));for(const e of r){const t=ub(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,db))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Vn[s]=a.keys()})),zy.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return gx(e).get(t).next((e=>e?(oy(e.userId===this.userId),EC(this.serializer,e)):null))}Sn(e,t){return this.Vn[t]?zy.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return gx(e).X({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(oy(t.batchId>=n),i=EC(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return gx(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gx(e).j("userMutationsIndex",t).next((e=>e.map((e=>EC(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=cb(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return mx(e).X({range:r},((n,r,o)=>{const[s,a,l]=n,c=ab(a);if(s===this.userId&&t.path.isEqual(c))return gx(e).get(l).next((e=>{if(!e)throw iy();oy(e.userId===this.userId),i.push(EC(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new $b(wy);const r=[];return t.forEach((t=>{const i=cb(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=mx(e).X({range:o},((e,r,i)=>{const[o,s,a]=e,l=ab(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),zy.waitFor(r).next((()=>this.Dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=cb(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new $b(wy);return mx(e).X({range:o},((e,t,i)=>{const[o,a,l]=e,c=ab(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()})).next((()=>this.Dn(e,s)))}Dn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(gx(e).get(t).next((e=>{if(null===e)throw iy();oy(e.userId===this.userId),n.push(EC(this.serializer,e))})))})),zy.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return dx(e.ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Cn(t.batchId)})),zy.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return zy.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return mx(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=ab(e[1]);r.push(t)}else n.done()})).next((()=>{oy(0===r.length)}))}))}containsKey(e,t){return px(e,this.userId,t)}xn(e){return vx(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function px(e,t,n){const r=cb(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return mx(e).X({range:o,Y:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function gx(e){return Rb(e,"mutations")}function mx(e){return Rb(e,"documentMutations")}function vx(e){return Rb(e,"mutationQueues")}class yx{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new yx(0)}static Mn(){return new yx(-1)}}class bx{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next((t=>{const n=new yx(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.$n(e).next((e=>xy.fromTimestamp(new Cy(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.$n(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.$n(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r))))}addTargetData(e,t){return this.Fn(e,t).next((()=>this.$n(e).next((n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>wx(e).delete(t.targetId))).next((()=>this.$n(e))).next((t=>(oy(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return wx(e).X(((o,s)=>{const a=CC(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>zy.waitFor(i))).next((()=>r))}forEachTarget(e,t){return wx(e).X(((e,n)=>{const r=CC(n);t(r)}))}$n(e){return _x(e).get("targetGlobalKey").next((e=>(oy(null!==e),e)))}On(e,t){return _x(e).put("targetGlobalKey",t)}Fn(e,t){return wx(e).put(xC(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Xw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return wx(e).X({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=CC(n);Yw(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Ex(e);return t.forEach((t=>{const o=ib(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),zy.waitFor(r)}removeMatchingKeys(e,t,n){const r=Ex(e);return zy.forEach(t,(t=>{const i=ib(t.path);return zy.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Ex(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ex(e);let i=P_();return r.X({range:n,Y:!0},((e,t,n)=>{const r=ab(e[1]),o=new Oy(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=ib(t.path),r=IDBKeyRange.bound([n],[Ey(n)],!1,!0);let i=0;return Ex(e).X({index:"documentTargetsIndex",Y:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}le(e,t){return wx(e).get(t).next((e=>e?CC(e):null))}}function wx(e){return Rb(e,"targets")}function _x(e){return Rb(e,"targetGlobal")}function Ex(e){return Rb(e,"targetDocuments")}function Cx(e,t){let[n,r]=e,[i,o]=t;const s=wy(n,i);return 0===s?wy(r,o):s}class xx{constructor(e){this.Ln=e,this.buffer=new $b(Cx),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Cx(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Sx{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){ey("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Gy(e)?ey("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Uy(e)}await this.Qn(3e5)}))}}class kx{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return zy.resolve(eb.ct);const n=new xx(t);return this.jn.forEachTarget(e,(e=>n.Kn(e.sequenceNumber))).next((()=>this.jn.Wn(e,(e=>n.Kn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ey("LruGarbageCollector","Garbage collection skipped; disabled"),zy.resolve(cx)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ey("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cx):this.Hn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(ey("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Zv()<=Ys.DEBUG&&ey("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(s-o)+"ms\n"+`\tRemoved ${i} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),zy.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Tx(e,t){return new kx(e,t)}class Ix{constructor(e,t){this.db=e,this.garbageCollector=Tx(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,((e,n)=>t(n)))}addReference(e,t,n){return Ox(e,n)}removeReference(e,t,n){return Ox(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Ox(e,t)}Xn(e,t){return function(e,t){let n=!1;return vx(e).Z((r=>px(e,r,t).next((e=>(e&&(n=!0),zy.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Yn(e,((o,s)=>{if(s<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,xy.min()),Ex(e).delete([0,ib(o.path)]))))}));r.push(t)}})).next((()=>zy.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Ox(e,t)}Yn(e,t){const n=Ex(e);let r,i=eb.ct;return n.X({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==eb.ct&&t(new Oy(ab(r)),i),i=l,r=a):i=eb.ct})).next((()=>{i!==eb.ct&&t(new Oy(ab(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ox(e,t){return Ex(e).put(function(e,t){return{targetId:0,path:ib(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Nx{constructor(){this.changes=new w_((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cw.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?zy.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Px{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Mx(e).put(n)}removeEntry(e,t,n){return Mx(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],bC(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Zn(e,n))))}getEntry(e,t){let n=Cw.newInvalidDocument(t);return Mx(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Lx(t))},((e,r)=>{n=this.ts(t,r)})).next((()=>n))}es(e,t){let n={size:0,document:Cw.newInvalidDocument(t)};return Mx(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Lx(t))},((e,r)=>{n={document:this.ts(t,r),size:hx(r)}})).next((()=>n))}getEntries(e,t){let n=E_();return this.ns(e,t,((e,t)=>{const r=this.ts(e,t);n=n.insert(e,r)})).next((()=>n))}ss(e,t){let n=E_(),r=new Lb(Oy.comparator);return this.ns(e,t,((e,t)=>{const i=this.ts(e,t);n=n.insert(e,i),r=r.insert(e,hx(t))})).next((()=>({documents:n,rs:r})))}ns(e,t,n){if(t.isEmpty())return zy.resolve();let r=new $b(jx);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Lx(r.first()),Lx(r.last())),o=r.getIterator();let s=o.getNext();return Mx(e).X({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Oy.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&jx(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.G(Lx(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,o=[i.popLast().toArray(),i.lastSegment(),bC(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mx(e).j(IDBKeyRange.bound(o,s,!0)).next((e=>{let n=E_();for(const i of e){const e=this.ts(Oy.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(m_(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=E_();const o=Fx(t,n),s=Fx(t,Fy.max());return Mx(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.ts(Oy.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Ax(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Dx(e).get("remoteDocumentGlobalKey").next((e=>(oy(!!e),e)))}Zn(e,t){return Dx(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=tC(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Oy.fromSegments(t.noDocument.path),r=_C(t.noDocument.readTime);n=Cw.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return iy();{const e=Oy.fromSegments(t.unknownDocument.path),r=_C(t.unknownDocument.version);n=Cw.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Cy(e[0],e[1]);return xy.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(xy.min()))return e}return Cw.newInvalidDocument(e)}}function Rx(e){return new Px(e)}class Ax extends Nx{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new w_((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new $b(((e,t)=>wy(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.us.get(i);if(t.push(this.os.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=yC(this.os.serializer,o);r=r.add(i.path.popLast());const l=hx(a);n+=l-s.size,t.push(this.os.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=yC(this.os.serializer,o.convertToNoDocument(xy.min()));t.push(this.os.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.os.updateMetadata(e,n)),zy.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next((e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.os.ss(e,t).next((e=>{let{documents:t,rs:n}=e;return n.forEach(((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Dx(e){return Rb(e,"remoteDocumentGlobal")}function Mx(e){return Rb(e,"remoteDocumentsV14")}function Lx(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Fx(e,t){const n=t.documentKey.path.toArray();return[e,bC(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function jx(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=wy(n[o],r[o]),i)return i;return i=wy(n.length,r.length),i||(i=wy(n[n.length-2],r[r.length-2]),i||wy(n[n.length-1],r[r.length-1]))}class $x{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Bx{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&nE(n.mutation,e,zb.empty(),Cy.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,P_()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P_();const r=k_();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=x_();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=k_();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,P_())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=E_();const o=I_(),s=I_();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof sE)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),nE(s.mutation,t,s.mutation.getFieldMask(),Cy.now())):o.set(t.key,zb.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new $x(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=I_();let r=new Lb(((e,t)=>e-t)),i=P_();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||zb.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||P_()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=T_();l.forEach((e=>{if(!i.has(e)){const r=eE(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return zy.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Oy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):l_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):zy.resolve(k_());let s=-1,a=i;return o.next((t=>zy.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?zy.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,P_()))).next((e=>({batchId:s,changes:S_(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oy(t)).next((e=>{let t=x_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=x_();return this.indexManager.getCollectionParents(e,r).next((o=>zy.forEach(o,(o=>{const s=function(e,t){return new n_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Cw.newInvalidDocument(r)))}));let n=x_();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&nE(o.mutation,i,zb.empty(),Cy.now()),m_(t,i)&&(n=n.insert(e,i))})),n}))}}class Ux{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return zy.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:HE(n.createTime)}),zy.resolve()}getNamedQuery(e,t){return zy.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:SC(e.bundledQuery),readTime:HE(e.readTime)}}(t)),zy.resolve()}}class zx{constructor(){this.overlays=new Lb(Oy.comparator),this.ls=new Map}getOverlay(e,t){return zy.resolve(this.overlays.get(t))}getOverlays(e,t){const n=k_();return zy.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),zy.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),zy.resolve()}getOverlaysForCollection(e,t,n){const r=k_(),i=t.length+1,o=new Oy(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return zy.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Lb(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=k_(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=k_(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return zy.resolve(s)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new pE(t,n));let i=this.ls.get(t);void 0===i&&(i=P_(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Vx{constructor(){this.fs=new $b(qx.ds),this.ws=new $b(qx._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new qx(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new qx(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new Oy(new ky([])),n=new qx(t,e),r=new qx(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Oy(new ky([])),n=new qx(t,e),r=new qx(t,e+1);let i=P_();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new qx(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class qx{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Oy.comparator(e.key,t.key)||wy(e.As,t.As)}static _s(e,t){return wy(e.As,t.As)||Oy.comparator(e.key,t.key)}}class Hx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new $b(qx.ds)}checkEmpty(e){return zy.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hE(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Rs=this.Rs.add(new qx(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return zy.resolve(o)}lookupMutationBatch(e,t){return zy.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return zy.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return zy.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return zy.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new qx(t,0),r=new qx(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),zy.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new $b(wy);return t.forEach((e=>{const t=new qx(e,0),r=new qx(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),zy.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Oy.isDocumentKey(i)||(i=i.child(""));const o=new qx(new Oy(i),0);let s=new $b(wy);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.As)),!0)}),o),zy.resolve(this.Vs(s))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){oy(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return zy.forEach(t.mutations,(r=>{const i=new qx(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new qx(t,0),r=this.Rs.firstAfterOrEqual(n);return zy.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,zy.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Wx{constructor(e){this.Ds=e,this.docs=new Lb(Oy.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return zy.resolve(n?n.document.mutableCopy():Cw.newInvalidDocument(t))}getEntries(e,t){let n=E_();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Cw.newInvalidDocument(e))})),zy.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=E_();const o=t.path,s=new Oy(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||jy(Ly(s),n)<=0||(r.has(s.key)||m_(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return zy.resolve(i)}getAllFromCollectionGroup(e,t,n,r){iy()}Cs(e,t){return zy.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Gx(this)}getSize(e){return zy.resolve(this.size)}}class Gx extends Nx{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),zy.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Kx{constructor(e){this.persistence=e,this.xs=new w_((e=>Xw(e)),Yw),this.lastRemoteSnapshotVersion=xy.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Vx,this.targetCount=0,this.Ms=yx.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),zy.resolve()}getLastRemoteSnapshotVersion(e){return zy.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return zy.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),zy.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),zy.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new yx(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,zy.resolve()}updateTargetData(e,t){return this.Fn(t),zy.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,zy.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),zy.waitFor(i).next((()=>r))}getTargetCount(e){return zy.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return zy.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),zy.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),zy.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),zy.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return zy.resolve(n)}containsKey(e,t){return zy.resolve(this.ks.containsKey(t))}}class Qx{constructor(e,t){this.$s={},this.overlays={},this.Os=new eb(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Kx(this),this.indexManager=new ex,this.remoteDocumentCache=function(e){return new Wx(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new vC(t),this.qs=new Ux(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Hx(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){ey("MemoryPersistence","Starting transaction:",e);const r=new Xx(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return zy.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Xx extends By{constructor(e){super(),this.currentSequenceNumber=e}}class Yx{constructor(e){this.persistence=e,this.Qs=new Vx,this.js=null}static zs(e){return new Yx(e)}get Ws(){if(this.js)return this.js;throw iy()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),zy.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),zy.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),zy.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zy.forEach(this.Ws,(n=>{const r=Oy.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,xy.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return zy.or([()=>zy.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Jx{constructor(e){this.serializer=e}O(e,t,n,r){const i=new Vy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lb,{unique:!0}),e.createObjectStore("documentMutations")}(e),Zx(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=zy.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Zx(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xy.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lb,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return zy.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Ys(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(i))))),n<7&&r>=7&&(o=o.next((()=>this.Zs(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ei(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Cb});t.createIndex("collectionPathOverlayIndex",xb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Sb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:hb});t.createIndex("documentKeyIndex",fb),t.createIndex("collectionGroupIndex",pb)}(e))).next((()=>this.ni(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:bb}).createIndex("sequenceNumberIndex",wb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:_b}).createIndex("documentKeyIndex",Eb,{unique:!1})}(e)))),o}Xs(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=hx(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>zy.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next((n=>zy.forEach(n,(n=>{oy(n.userId===t.userId);const r=EC(this.serializer,n);return dx(e,t.userId,r).next((()=>{}))}))))}))))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.X(((n,i)=>{const o=new ky(n),s=function(e){return[0,ib(e)]}(o);r.push(t.get(s).next((n=>n?zy.resolve():(n=>t.put({targetId:0,path:ib(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>zy.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:yb});const n=t.store("collectionParents"),r=new tx,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:ib(r)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new ky(e);return i(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},((e,t)=>{let[n,r,o]=e;const s=ab(r);return i(s.popLast())}))))}ei(e){const t=e.store("targets");return t.X(((e,n)=>{const r=CC(n),i=xC(this.serializer,r);return t.put(i)}))}ni(e,t){const n=t.store("remoteDocuments"),r=[];return n.X(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=(s=n,s.document?new Oy(ky.fromString(s.document.name).popFirst(5)):s.noDocument?Oy.fromSegments(s.noDocument.path):s.unknownDocument?Oy.fromSegments(s.unknownDocument.path):iy()).path.toArray();var s;const a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>zy.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=Rx(this.serializer),i=new Qx(Yx.zs,this.serializer.fe);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:P_();EC(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),zy.forEach(n,((e,n)=>{const o=new Xv(n),s=RC.de(this.serializer,o),a=i.getIndexManager(o),l=fx.de(o,this.serializer,a,i.referenceDelegate);return new Bx(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Pb(t,eb.ct),e).next()}))}))}}function Zx(e){e.createObjectStore("targetDocuments",{keyPath:mb}).createIndex("documentTargetsIndex",vb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",gb,{unique:!0}),e.createObjectStore("targetGlobal")}const eS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tS{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=i,this.window=o,this.document=s,this.ri=l,this.oi=c,this.ui=u,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!tS.D())throw new ly(ay.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ix(this,r),this.di=t+"main",this.serializer=new vC(a),this.wi=new qy(this.di,this.ui,new Jx(this.serializer)),this.Bs=new bx(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Rx(this.serializer),this.qs=new OC,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===c&&ty("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ly(ay.FAILED_PRECONDITION,eS);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Bs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new eb(e,this.ri)})).then((()=>{this.Fs=!0})).catch((e=>(this.wi&&this.wi.close(),Promise.reject(e))))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>rS(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(e).next((e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(e))).next((t=>this.isPrimary&&!t?this.Ai(e).next((()=>!1)):!!t&&this.vi(e).next((()=>!0)))))).catch((e=>{if(Gy(e))return ey("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ey("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ii.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Ti(e){return nS(e).get("owner").next((e=>zy.resolve(this.Ri(e))))}Pi(e){return rS(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Rb(e,"clientMetadata");return t.j().next((e=>{const n=this.Si(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return zy.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?zy.resolve(!0):nS(e).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new ly(ay.FAILED_PRECONDITION,eS);return!1}}return!(!this.networkEnabled||!this.inForeground)||rS(e).j().next((e=>void 0===this.Si(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&ey("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Pb(e,eb.ct);return this.Ai(t).next((()=>this.Pi(t)))})),this.wi.close(),this.Mi()}Si(e,t){return e.filter((e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>rS(e).j().next((e=>this.Si(e,18e5).map((e=>e.clientId))))))}get started(){return this.Fs}getMutationQueue(e,t){return fx.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new rx(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return RC.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){ey("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(o=this.ui)?Nb:14===o?Ob:13===o?Ib:12===o?Tb:11===o?kb:void iy();var o;let s;return this.wi.runTransaction(e,r,i,(r=>(s=new Pb(r,this.Os?this.Os.next():eb.ct),"readwrite-primary"===t?this.Ti(s).next((e=>!!e||this.Ei(s))).next((t=>{if(!t)throw ty(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new ly(ay.FAILED_PRECONDITION,$y);return n(s)})).next((e=>this.vi(s).next((()=>e)))):this.Oi(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Oi(e){return nS(e).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ly(ay.FAILED_PRECONDITION,eS)}))}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nS(e).put("owner",t)}static D(){return qy.D()}Ai(e){const t=nS(e);return t.get("owner").next((e=>this.Ri(e)?(ey("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):zy.resolve()))}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(ty(`Detected an update time that is in the future: ${e} > ${n}`),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;!ps()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ey("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return ty("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(MX){ty("Failed to set zombie client id.",MX)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(MX){}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nS(e){return Rb(e,"owner")}function rS(e){return Rb(e,"clientMetadata")}function iS(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class oS{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=P_(),r=P_();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new oS(e,t.fromCache,n,r)}}class sS{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(o_(t))return zy.resolve(null);let n=u_(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=h_(t,null,"F"),n=u_(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=P_(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,h_(t,null,"F")):this.Wi(e,o,t,n)}))))})))))}Gi(e,t,n,r){return o_(t)||r.isEqual(xy.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const o=this.ji(t,i);return this.zi(t,o,n,r)?this.Qi(e,t):(Zv()<=Ys.DEBUG&&ey("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),g_(t)),this.Wi(e,o,t,My(r,-1)))}))}ji(e,t){let n=new $b(y_(e));return t.forEach(((t,r)=>{m_(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Zv()<=Ys.DEBUG&&ey("QueryEngine","Using full collection scan to execute query:",g_(t)),this.Ui.getDocumentsMatchingQuery(e,t,Fy.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class aS{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Lb(wy),this.Yi=new w_((e=>Xw(e)),Yw),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bx(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function lS(e,t,n,r){return new aS(e,t,n,r)}async function cS(e,t){const n=sy(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=P_();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({er:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function uS(e){const t=sy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function dS(e,t,n){let r=P_(),i=P_();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=E_();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(xy.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):ey("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{nr:r,sr:i}}))}function hS(e,t){const n=sy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function fS(e,t){const n=sy(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,zy.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new mC(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function pS(e,t,n){const r=sy(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Gy(e))throw e;ey("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function gS(e,t,n){const r=sy(e);let i=xy.min(),o=P_();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=sy(e),i=r.Yi.get(n);return void 0!==i?zy.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,u_(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:xy.min(),n?o:P_()))).next((e=>(yS(r,v_(t),e),{documents:e,ir:o})))))}function mS(e,t){const n=sy(e),r=sy(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.le(e,t).next((e=>e?e.target:null))))}function vS(e,t){const n=sy(e),r=n.Xi.get(t)||xy.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Zi.getAllFromCollectionGroup(e,t,My(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(yS(n,t,e),e)))}function yS(e,t,n){let r=e.Xi.get(t)||xy.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}async function bS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P_();const r=await fS(e,u_(SC(t.bundledQuery))),i=sy(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=HE(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.qs.saveNamedQuery(e,t);const s=r.withResumeToken(qb.EMPTY_BYTE_STRING,o);return i.Ji=i.Ji.insert(s.targetId,s),i.Bs.updateTargetData(e,s).next((()=>i.Bs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Bs.addMatchingKeys(e,n,r.targetId))).next((()=>i.qs.saveNamedQuery(e,t)))}))}function wS(e,t){return`firestore_clients_${e}_${t}`}function _S(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function ES(e,t){return`firestore_targets_${e}_${t}`}class CS{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static ar(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new ly(r.error.code,r.error.message))),o?new CS(e,t,r.state,i):(ty("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xS{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new ly(n.error.code,n.error.message))),i?new xS(e,n.state,r):(ty("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class SS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=A_();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=rb(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new SS(e,i):(ty("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class kS{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new kS(t.clientId,t.onlineState):(ty("SharedClientState",`Failed to parse online state: ${e}`),null)}}class TS{constructor(){this.activeTargetIds=A_()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IS{constructor(e,t,n,r,i){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Lb(wy),this.started=!1,this.yr=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.pr=wS(this.persistenceKey,this.wr),this.Ir=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new TS),this.Tr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vr=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Rr=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.wr)continue;const e=this.getItem(wS(this.persistenceKey,n));if(e){const t=SS.ar(n,e);t&&(this.gr=this.gr.insert(t.clientId,t))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const e=this.br(t);e&&this.Vr(e)}for(const n of this.yr)this.mr(n);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(ES(this.persistenceKey,e));if(n){const r=xS.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ES(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Cr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ey("SharedClientState","READ",e,t),t}setItem(e,t){ey("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ey("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(ey("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void ty("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Tr.test(t.key)){if(null==t.newValue){const e=this.Or(t.key);return this.Fr(e,null)}{const e=this.Br(t.key,t.newValue);if(e)return this.Fr(e.clientId,e)}}else if(this.Er.test(t.key)){if(null!==t.newValue){const e=this.Lr(t.key,t.newValue);if(e)return this.qr(e)}}else if(this.Ar.test(t.key)){if(null!==t.newValue){const e=this.Ur(t.key,t.newValue);if(e)return this.Kr(e)}}else if(t.key===this.vr){if(null!==t.newValue){const e=this.br(t.newValue);if(e)return this.Vr(e)}}else if(t.key===this.Ir){const e=function(e){let t=eb.ct;if(null!=e)try{const n=JSON.parse(e);oy("number"==typeof n),t=n}catch(e){ty("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==eb.ct&&this.sequenceNumberHandler(e)}else if(t.key===this.Rr){const e=this.Gr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Qr(e))))}}else this.yr.push(t)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const r=new CS(this.currentUser,e,t,n),i=_S(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}Cr(e){const t=_S(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,n){const r=ES(this.persistenceKey,e),i=new xS(e,t,n);this.setItem(r,i.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return SS.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return CS.ar(new Xv(i),r,t)}Ur(e,t){const n=this.Ar.exec(e),r=Number(n[1]);return xS.ar(r,t)}br(e){return kS.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);ey("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),i=this.Sr(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.Wr(o,s).then((()=>{this.gr=n}))}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=A_();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class OS{constructor(){this.Hr=new TS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new TS,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class NS{Yr(e){}shutdown(){}}class PS{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ey("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ey("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let RS=null;function AS(){return null===RS?RS=268435456+Math.round(2147483648*Math.random()):RS++,"0x"+RS.toString(16)}const DS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MS{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const LS="WebChannelConnection";class FS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=AS(),s=this.To(e,t);ey("RestConnection",`Sending RPC '${e}' ${o}:`,s,n);const a={};return this.Eo(a,r,i),this.Ao(e,s,a,n).then((t=>(ey("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw ny("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=DS[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=AS();return new Promise(((o,s)=>{const a=new Wv;a.setWithCredentials(!0),a.listenOnce(Uv.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Bv.NO_ERROR:const t=a.getResponseJson();ey(LS,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case Bv.TIMEOUT:ey(LS,`RPC '${e}' ${i} timed out`),s(new ly(ay.DEADLINE_EXCEEDED,"Request time out"));break;case Bv.HTTP_ERROR:const n=a.getStatus();if(ey(LS,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ay).indexOf(t)>=0?t:ay.UNKNOWN}(t.status);s(new ly(e,t.message))}else s(new ly(ay.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new ly(ay.UNAVAILABLE,"Connection failed."));break;default:iy()}}finally{ey(LS,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);ey(LS,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=AS(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jv(),s=$v(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new qv({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");ey(LS,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const f=new MS({ro:t=>{h?ey(LS,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(ey(LS,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),ey(LS,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Hv.EventType.OPEN,(()=>{h||ey(LS,`RPC '${e}' stream ${r} transport opened.`)})),p(u,Hv.EventType.CLOSE,(()=>{h||(h=!0,ey(LS,`RPC '${e}' stream ${r} transport closed`),f.wo())})),p(u,Hv.EventType.ERROR,(t=>{h||(h=!0,ny(LS,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new ly(ay.UNAVAILABLE,"The operation could not be completed")))})),p(u,Hv.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];oy(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){ey(LS,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=mE[e];if(void 0!==t)return bE(t)}(t),i=s.message;void 0===n&&(n=ay.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.wo(new ly(n,i)),u.close()}else ey(LS,`RPC '${e}' stream ${r} received:`,i),f._o(i)}})),p(s,zv.STAT_EVENT,(t=>{t.stat===Vv.PROXY?ey(LS,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Vv.NOPROXY&&ey(LS,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.fo()}),0),f}}function jS(){return"undefined"!=typeof window?window:null}function $S(){return"undefined"!=typeof document?document:null}function BS(e){return new BE(e,!0)}class US{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&ey("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class zS{constructor(e,t,n,r,i,o,s,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new US(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===ay.RESOURCE_EXHAUSTED?(ty(t.toString()),ty("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===ay.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new ly(ay.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return ey("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(ey("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VS extends zS{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:iy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(oy(void 0===t||"string"==typeof t),qb.fromBase64String(t||"")):(oy(void 0===t||t instanceof Uint8Array),qb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?ay.UNKNOWN:bE(e.code);return new ly(t,e.message||"")}(s);n=new RE(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=QE(e,r.document.name),o=HE(r.document.updateTime),s=r.document.createTime?HE(r.document.createTime):xy.min(),a=new _w({mapValue:{fields:r.document.fields}}),l=Cw.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new NE(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=QE(e,r.document),o=r.readTime?HE(r.readTime):xy.min(),s=Cw.newNoDocument(i,o),a=r.removedTargetIds||[];n=new NE([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=QE(e,r.document),o=r.removedTargetIds||[];n=new NE([],o,i,null)}else{if(!("filter"in t))return iy();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new gE(r,i),s=e.targetId;n=new PE(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return xy.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?xy.min():t.readTime?HE(t.readTime):xy.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=JE(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Jw(r)?{documents:iC(e,r)}:{query:oC(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=VE(e,t.resumeToken);const r=UE(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(xy.min())>0){n.readTime=zE(e,t.snapshotVersion.toTimestamp());const r=UE(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return iy()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=JE(this.serializer),t.removeTarget=e,this.Wo(t)}}class qS extends zS{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(oy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(oy(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?HE(e.updateTime):HE(t);return n.isEqual(xy.min())&&(n=HE(t)),new X_(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=HE(e.commitTime);return this.listener.cu(n,t)}return oy(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=JE(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>nC(this.serializer,e)))};this.Wo(t)}}class HS extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new ly(ay.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.Io(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ay.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ly(ay.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.vo(e,t,n,o,s,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ay.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ly(ay.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class WS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ty(t),this.mu=!1):ey("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class GS{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{nk(this)&&(ey("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=sy(e);t.vu.add(4),await QS(t),t.bu.set("Unknown"),t.vu.delete(4),await KS(t)}(this))}))})),this.bu=new WS(n,r)}}async function KS(e){if(nk(e))for(const t of e.Ru)await t(!0)}async function QS(e){for(const t of e.Ru)await t(!1)}function XS(e,t){const n=sy(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),tk(n)?ek(n):wk(n).Ko()&&JS(n,t))}function YS(e,t){const n=sy(e),r=wk(n);n.Au.delete(t),r.Ko()&&ZS(n,t),0===n.Au.size&&(r.Ko()?r.jo():nk(n)&&n.bu.set("Unknown"))}function JS(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xy.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wk(e).su(t)}function ZS(e,t){e.Vu.qt(t),wk(e).iu(t)}function ek(e){e.Vu=new DE({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),wk(e).start(),e.bu.gu()}function tk(e){return nk(e)&&!wk(e).Uo()&&e.Au.size>0}function nk(e){return 0===sy(e).vu.size}function rk(e){e.Vu=void 0}async function ik(e){e.Au.forEach(((t,n)=>{JS(e,t)}))}async function ok(e,t){rk(e),tk(e)?(e.bu.Iu(t),ek(e)):e.bu.set("Unknown")}async function sk(e,t,n){if(e.bu.set("Online"),t instanceof RE&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){ey("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ak(e,n)}else if(t instanceof NE?e.Vu.Ht(t):t instanceof PE?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(xy.min()))try{const t=await uS(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(qb.EMPTY_BYTE_STRING,r.snapshotVersion)),ZS(e,t);const i=new mC(r.target,t,n,r.sequenceNumber);JS(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ey("RemoteStore","Failed to raise snapshot:",t),await ak(e,t)}}async function ak(e,t,n){if(!Gy(t))throw t;e.vu.add(1),await QS(e),e.bu.set("Offline"),n||(n=()=>uS(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ey("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await KS(e)}))}function lk(e,t){return t().catch((n=>ak(e,n,t)))}async function ck(e){const t=sy(e),n=_k(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;uk(t);)try{const e=await hS(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,dk(t,e)}catch(e){await ak(t,e)}hk(t)&&fk(t)}function uk(e){return nk(e)&&e.Eu.length<10}function dk(e,t){e.Eu.push(t);const n=_k(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function hk(e){return nk(e)&&!_k(e).Uo()&&e.Eu.length>0}function fk(e){_k(e).start()}async function pk(e){_k(e).hu()}async function gk(e){const t=_k(e);for(const n of e.Eu)t.uu(n.mutations)}async function mk(e,t,n){const r=e.Eu.shift(),i=fE.from(r,t,n);await lk(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ck(e)}async function vk(e,t){t&&_k(e).ou&&await async function(e,t){if(yE(n=t.code)&&n!==ay.ABORTED){const n=e.Eu.shift();_k(e).Qo(),await lk(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ck(e)}var n}(e,t),hk(e)&&fk(e)}async function yk(e,t){const n=sy(e);n.asyncQueue.verifyOperationInProgress(),ey("RemoteStore","RemoteStore received new credentials");const r=nk(n);n.vu.add(3),await QS(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await KS(n)}async function bk(e,t){const n=sy(e);t?(n.vu.delete(2),await KS(n)):t||(n.vu.add(2),await QS(n),n.bu.set("Unknown"))}function wk(e){return e.Su||(e.Su=function(e,t,n){const r=sy(e);return r.fu(),new VS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:ik.bind(null,e),ao:ok.bind(null,e),nu:sk.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),tk(e)?ek(e):e.bu.set("Unknown")):(await e.Su.stop(),rk(e))}))),e.Su}function _k(e){return e.Du||(e.Du=function(e,t,n){const r=sy(e);return r.fu(),new qS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:pk.bind(null,e),ao:vk.bind(null,e),au:gk.bind(null,e),cu:mk.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await ck(e)):(await e.Du.stop(),e.Eu.length>0&&(ey("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))}))),e.Du}class Ek{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new cy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Ek(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ly(ay.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ck(e,t){if(ty("AsyncQueue",`${t}: ${e}`),Gy(e))return new ly(ay.UNAVAILABLE,`${t}: ${e}`);throw e}class xk{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Oy.comparator(t.key,n.key):(e,t)=>Oy.comparator(e.key,t.key),this.keyedMap=x_(),this.sortedSet=new Lb(this.comparator)}static emptySet(e){return new xk(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xk))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new xk;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Sk{constructor(){this.Cu=new Lb(Oy.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):iy():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class kk{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new kk(e,t,xk.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&f_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Tk{constructor(){this.Nu=void 0,this.listeners=[]}}class Ik{constructor(){this.queries=new w_((e=>p_(e)),f_),this.onlineState="Unknown",this.ku=new Set}}async function Ok(e,t){const n=sy(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Tk),i)try{o.Nu=await n.onListen(r)}catch(e){const n=Ck(e,`Initialization of query '${g_(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&Ak(n)}async function Nk(e,t){const n=sy(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Pk(e,t){const n=sy(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Ak(n)}function Rk(e,t,n){const r=sy(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function Ak(e){e.ku.forEach((e=>{e.next()}))}class Dk{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new kk(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=kk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Mk{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Lk{constructor(e){this.serializer=e}rr(e){return QE(this.serializer,e)}ur(e){return e.metadata.exists?tC(this.serializer,e.document,!1):Cw.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return HE(e)}}class Fk{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jk(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=ky.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new Lk(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.rr(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||P_()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=sy(e);let o=P_(),s=E_();for(const c of n){const e=t.rr(c.metadata.name);c.document&&(o=o.add(e));const n=t.ur(c);n.setReadTime(t.cr(c.metadata.readTime)),s=s.insert(e,n)}const a=i.Zi.newChangeBuffer({trackRemovals:!0}),l=await fS(i,function(e){return u_(i_(ky.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>dS(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Bs.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Bs.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr))).next((()=>t.nr))))))}(this.localStore,new Lk(this.serializer),this.documents,this.ju.id),t=this.Wu(this.documents);for(const n of this.queries)await bS(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function jk(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class $k{constructor(e){this.key=e}}class Bk{constructor(e){this.key=e}}class Uk{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=P_(),this.mutatedKeys=P_(),this.tc=y_(e),this.ec=new xk(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Sk,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=m_(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.tc(u,a)>0||l&&this.tc(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:s,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return iy()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,a=s!==this.Xu;return this.Xu=s,0!==i.length||a?{snapshot:new kk(this.query,e.ec,r,i,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Sk,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=P_(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new Bk(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new $k(n))})),t}hc(e){this.Yu=e.ir,this.Zu=P_();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return kk.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class zk{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Vk{constructor(e){this.key=e,this.fc=!1}}class qk{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new w_((e=>p_(e)),f_),this._c=new Map,this.mc=new Set,this.gc=new Lb(Oy.comparator),this.yc=new Map,this.Ic=new Vx,this.Tc={},this.Ec=new Map,this.Ac=yx.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Hk(e,t){const n=vT(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await fS(n.localStore,u_(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Wk(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&XS(n.remoteStore,e)}return i}async function Wk(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await gS(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return rT(e,t.targetId,s.cc),s.snapshot}(e,t,n,r);const o=await gS(e.localStore,t,!0),s=new Uk(t,o.ir),a=s.sc(o.documents),l=OE.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);rT(e,n,c.cc);const u=new zk(t,n,s);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function Gk(e,t){const n=sy(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!f_(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await pS(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),YS(n.remoteStore,r.targetId),tT(n,r.targetId)})).catch(Uy)):(tT(n,r.targetId),await pS(n.localStore,r.targetId,!0))}async function Kk(e,t){const n=sy(e);try{const e=await function(e,t){const n=sy(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(qb.EMPTY_BYTE_STRING,xy.min()).withLastLimboFreeSnapshotVersion(xy.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Bs.updateTargetData(e,c))}));let a=E_(),l=P_();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(dS(e,o,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!r.isEqual(xy.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return zy.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(oy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?oy(r.fc):e.removedDocuments.size>0&&(oy(r.fc),r.fc=!1))})),await sT(n,e,t)}catch(e){await Uy(e)}}function Qk(e,t,n){const r=sy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=sy(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&Ak(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Xk(e,t,n){const r=sy(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new Lb(Oy.comparator);e=e.insert(o,Cw.newNoDocument(o,xy.min()));const n=P_().add(o),i=new IE(xy.min(),new Map,new Lb(wy),e,n);await Kk(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),oT(r)}else await pS(r.localStore,t,!1).then((()=>tT(r,t,n))).catch(Uy)}async function Yk(e,t){const n=sy(e),r=t.batch.batchId;try{const e=await function(e,t){const n=sy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=zy.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);oy(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=P_();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);eT(n,r,null),Zk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sT(n,e)}catch(e){await Uy(e)}}async function Jk(e,t,n){const r=sy(e);try{const e=await function(e,t){const n=sy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(oy(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);eT(r,t,n),Zk(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await sT(r,e)}catch(n){await Uy(n)}}function Zk(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function eT(e,t,n){const r=sy(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function tT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||nT(e,t)}))}function nT(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(YS(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),oT(e))}function rT(e,t,n){for(const r of n)r instanceof $k?(e.Ic.addReference(r.key,t),iT(e,r)):r instanceof Bk?(ey("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||nT(e,r.key)):iy()}function iT(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(ey("SyncEngine","New document in limbo: "+n),e.mc.add(r),oT(e))}function oT(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Oy(ky.fromString(t)),r=e.Ac.next();e.yc.set(r,new Vk(n)),e.gc=e.gc.insert(n,r),XS(e.remoteStore,new mC(u_(i_(n.path)),r,"TargetPurposeLimboResolution",eb.ct))}}async function sT(e,t,n){const r=sy(e),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach(((e,a)=>{s.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=oS.Li(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.dc.nu(i),await async function(e,t){const n=sy(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>zy.forEach(t,(t=>zy.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>zy.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Gy(e))throw e;ey("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,o))}async function aT(e,t){const n=sy(e);if(!n.currentUser.isEqual(t)){ey("SyncEngine","User change. New user:",t.toKey());const e=await cS(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new ly(ay.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await sT(n,e.er)}}function lT(e,t){const n=sy(e),r=n.yc.get(t);if(r&&r.fc)return P_().add(r.key);{let e=P_();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}async function cT(e,t){const n=sy(e),r=await gS(n.localStore,t.query,!0),i=t.view.hc(r);return n.isPrimaryClient&&rT(n,t.targetId,i.cc),i}async function uT(e,t){const n=sy(e);return vS(n.localStore,t).then((e=>sT(n,e)))}async function dT(e,t,n,r){const i=sy(e),o=await function(e,t){const n=sy(e),r=sy(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Sn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):zy.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await ck(i.remoteStore):"acknowledged"===n||"rejected"===n?(eT(i,t,r||null),Zk(i,t),function(e,t){sy(sy(e).mutationQueue).Cn(t)}(i.localStore,t)):iy(),await sT(i,o)):ey("SyncEngine","Cannot apply mutation batch with id: "+t)}async function hT(e,t,n){const r=sy(e),i=[],o=[];for(const s of t){let e;const t=r._c.get(s);if(t&&0!==t.length){e=await fS(r.localStore,u_(t[0]));for(const e of t){const t=r.wc.get(e),n=await cT(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await mS(r.localStore,s);e=await fS(r.localStore,t),await Wk(r,fT(t),s,!1,e.resumeToken)}i.push(e)}return r.dc.nu(o),i}function fT(e){return r_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function pT(e){const t=sy(e);return sy(sy(t.localStore).persistence).$i()}async function gT(e,t,n,r){const i=sy(e);if(i.vc)return void ey("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await vS(i.localStore,v_(o[0])),r=IE.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,qb.EMPTY_BYTE_STRING);await sT(i,e,r);break}case"rejected":await pS(i.localStore,t,!0),tT(i,t,r);break;default:iy()}}async function mT(e,t,n){const r=vT(e);if(r.vc){for(const e of t){if(r._c.has(e)){ey("SyncEngine","Adding an already active target "+e);continue}const t=await mS(r.localStore,e),n=await fS(r.localStore,t);await Wk(r,fT(t),n.targetId,!1,n.resumeToken),XS(r.remoteStore,n)}for(const e of n)r._c.has(e)&&await pS(r.localStore,e,!1).then((()=>{YS(r.remoteStore,e),tT(r,e)})).catch(Uy)}}function vT(e){const t=sy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Kk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Xk.bind(null,t),t.dc.nu=Pk.bind(null,t.eventManager),t.dc.Pc=Rk.bind(null,t.eventManager),t}function yT(e){const t=sy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Yk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Jk.bind(null,t),t}class bT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=BS(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return lS(this.persistence,new sS,e.initialUser,this.serializer)}createPersistence(e){return new Qx(Yx.zs,this.serializer)}createSharedClientState(e){return new OS}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wT extends bT{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await yT(this.Vc.syncEngine),await ck(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return lS(this.persistence,new sS,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Sx(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Zy(t,this.persistence);return new Jy(e.asyncQueue,n)}createPersistence(e){const t=iS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ux.withCacheSize(this.cacheSizeBytes):ux.DEFAULT;return new tS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,jS(),$S(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new OS}}class _T extends wT{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof IS&&(this.sharedClientState.syncEngine={jr:dT.bind(null,t),zr:gT.bind(null,t),Wr:mT.bind(null,t),$i:pT.bind(null,t),Qr:uT.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii((async e=>{await async function(e,t){const n=sy(e);if(vT(n),yT(n),!0===t&&!0!==n.vc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await hT(n,e.toArray());n.vc=!0,await bk(n.remoteStore,!0);for(const r of t)XS(n.remoteStore,r)}else if(!1===t&&!1!==n.vc){const e=[];let t=Promise.resolve();n._c.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(tT(n,i),pS(n.localStore,i,!0)))),YS(n.remoteStore,i)})),await t,await hT(n,e),function(e){const t=sy(e);t.yc.forEach(((e,n)=>{YS(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new Lb(Oy.comparator)}(n),n.vc=!1,await bk(n.remoteStore,!1)}}(this.Vc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=jS();if(!IS.D(t))throw new ly(ay.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=iS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class ET{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Qk(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=aT.bind(null,this.syncEngine),await bk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ik}createDatastore(e){const t=BS(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new FS(r));var r;return function(e,t,n,r){return new HS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Qk(this.syncEngine,e,0),o=PS.D()?new PS:new NS,new GS(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new qk(e,t,n,r,i,o);return s&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=sy(e);ey("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await QS(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}function CT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class xT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ty("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class ST{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new cy,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((e=>{e&&e.Qu()?this.metadata.resolve(e.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.Gu)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(null===e)return null;const t=this.xc.decode(e),n=Number(t);isNaN(n)&&this.Mc(`length string (${t}) is not valid number`);const r=await this.$c(n);return new Mk(JSON.parse(r),e.length+n)}Oc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(0===this.buffer.length)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const t=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Fc(){const e=await this.Cc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class kT{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ly(ay.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=sy(e),r=JE(n.serializer)+"/documents",i={documents:t.map((e=>KE(n.serializer,e)))},o=await n.vo("BatchGetDocuments",r,i,t.length),s=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){oy(!!t.found),t.found.name,t.found.updateTime;const n=QE(e,t.found.name),r=HE(t.found.updateTime),i=t.found.createTime?HE(t.found.createTime):xy.min(),o=new _w({mapValue:{fields:t.found.fields}});return Cw.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){oy(!!t.missing),oy(!!t.readTime);const n=QE(e,t.missing),r=HE(t.readTime);return Cw.newNoDocument(n,r)}(e,t):iy()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());oy(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new uE(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Oy.fromPath(t);this.mutations.push(new dE(n,this.precondition(n)))})),await async function(e,t){const n=sy(e),r=JE(n.serializer)+"/documents",i={writes:t.map((e=>nC(n.serializer,e)))};await n.Io("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw iy();t=xy.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ly(ay.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(xy.min())?Y_.exists(!1):Y_.updateTime(t):Y_.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xy.min()))throw new ly(ay.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Y_.updateTime(t)}return Y_.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class TT{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Bc=n.maxAttempts,this.qo=new US(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const e=new kT(this.datastore),t=this.qc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Uc(e)}))))})).catch((e=>{this.Uc(e)}))}))}qc(e){try{const t=this.updateFunction(e);return!tb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!yE(t)}return!1}}class IT{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Xv.UNAUTHENTICATED,this.clientId=by.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{ey("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ey("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ly(ay.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(LX){const n=Ck(LX,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function OT(e,t){e.asyncQueue.verifyOperationInProgress(),ey("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await cS(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function NT(e,t){e.asyncQueue.verifyOperationInProgress();const n=await RT(e);ey("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>yk(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>yk(t.remoteStore,n))),e._onlineComponents=t}function PT(e){return"FirebaseError"===e.name?e.code===ay.FAILED_PRECONDITION||e.code===ay.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function RT(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ey("FirestoreClient","Using user provided OfflineComponentProvider");try{await OT(e,e._uninitializedComponentsProvider._offline)}catch(LX){const n=LX;if(!PT(n))throw n;ny("Error using user provided cache. Falling back to memory cache: "+n),await OT(e,new bT)}}else ey("FirestoreClient","Using default OfflineComponentProvider"),await OT(e,new bT);return e._offlineComponents}async function AT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ey("FirestoreClient","Using user provided OnlineComponentProvider"),await NT(e,e._uninitializedComponentsProvider._online)):(ey("FirestoreClient","Using default OnlineComponentProvider"),await NT(e,new ET))),e._onlineComponents}function DT(e){return RT(e).then((e=>e.persistence))}function MT(e){return RT(e).then((e=>e.localStore))}function LT(e){return AT(e).then((e=>e.remoteStore))}function FT(e){return AT(e).then((e=>e.syncEngine))}function jT(e){return AT(e).then((e=>e.datastore))}async function $T(e){const t=await AT(e),n=t.eventManager;return n.onListen=Hk.bind(null,t.syncEngine),n.onUnlisten=Gk.bind(null,t.syncEngine),n}function BT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new cy;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new xT({next:o=>{t.enqueueAndForget((()=>Nk(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new ly(ay.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new ly(ay.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Dk(i_(n.path),o,{includeMetadataChanges:!0,Ku:!0});return Ok(e,s)}(await $T(e),e.asyncQueue,t,n,r))),r.promise}function UT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new cy;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new xT({next:n=>{t.enqueueAndForget((()=>Nk(e,s))),n.fromCache&&"server"===r.source?i.reject(new ly(ay.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Dk(n,o,{includeMetadataChanges:!0,Ku:!0});return Ok(e,s)}(await $T(e),e.asyncQueue,t,n,r))),r.promise}function zT(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?EE().encode(e):e,function(e,t){return new ST(e,t)}(function(e,t){if(e instanceof Uint8Array)return CT(e,t);if(e instanceof ArrayBuffer)return CT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,BS(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=sy(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=sy(e),r=HE(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.qs.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(jk(r));const i=new Fk(r,e.localStore,t.serializer);let o=await t.bc();for(;o;){const e=await i.zu(o);e&&n._updateProgress(e),o=await t.bc()}const s=await i.complete();return await sT(e,s.Ju,void 0),await function(e,t){const n=sy(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.qs.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.Hu)}catch(e){return ny("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await FT(e),i,r)}))}function VT(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const qT=new Map;function HT(e,t,n){if(!n)throw new ly(ay.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function WT(e,t,n,r){if(!0===t&&!0===r)throw new ly(ay.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function GT(e){if(!Oy.isDocumentKey(e))throw new ly(ay.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function KT(e){if(Oy.isDocumentKey(e))throw new ly(ay.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function QT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":iy()}function XT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ly(ay.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=QT(e);throw new ly(ay.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function YT(e,t){if(t<=0)throw new ly(ay.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class JT{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ly(ay.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ly(ay.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ly(ay.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new ly(ay.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new ly(ay.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class ZT{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ly(ay.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ly(ay.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new dy;switch(e.type){case"firstParty":return new gy(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ly(ay.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qT.get(e);t&&(ey("ComponentProvider","Removing Datastore"),qT.delete(e),t.terminate())}(this),Promise.resolve()}}function eI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=XT(e,ZT))._getSettings(),s=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ny("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Xv.MOCK_USER;else{t=ds(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new ly(ay.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Xv(o)}e._authCredentials=new hy(new uy(t,n))}}class tI{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rI(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tI(this.firestore,e,this._key)}}class nI{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new nI(this.firestore,e,this._query)}}class rI extends nI{constructor(e,t,n){super(e,t,i_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tI(this.firestore,null,new Oy(e))}withConverter(e){return new rI(this.firestore,e,this._path)}}function iI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=qs(e),HT("collection","path",t),e instanceof ZT){const n=ky.fromString(t,...r);return KT(n),new rI(e,null,n)}{if(!(e instanceof tI||e instanceof rI))throw new ly(ay.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ky.fromString(t,...r));return KT(n),new rI(e.firestore,null,n)}}function oI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=qs(e),1===arguments.length&&(t=by.A()),HT("doc","path",t),e instanceof ZT){const n=ky.fromString(t,...r);return GT(n),new tI(e,null,new Oy(n))}{if(!(e instanceof tI||e instanceof rI))throw new ly(ay.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ky.fromString(t,...r));return GT(n),new tI(e.firestore,e instanceof rI?e.converter:null,new Oy(n))}}function sI(e,t){return e=qs(e),t=qs(t),(e instanceof tI||e instanceof rI)&&(t instanceof tI||t instanceof rI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function aI(e,t){return e=qs(e),t=qs(t),e instanceof nI&&t instanceof nI&&e.firestore===t.firestore&&f_(e._query,t._query)&&e.converter===t.converter}class lI{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new US(this,"async_queue_retry"),this.Xc=()=>{const e=$S();e&&ey("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=$S();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=$S();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new cy;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(MX){if(!Gy(MX))throw MX;ey("AsyncQueue","Operation failed with retryable error: "+MX)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ty("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Ek.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&iy()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function cI(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class uI{constructor(){this._progressObserver={},this._taskCompletionResolver=new cy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class dI extends ZT{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new lI,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||fI(this),this._firestoreClient.terminate()}}function hI(e){return e._firestoreClient||fI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fI(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Jb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,VT(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new IT(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function pI(e,t,n){const r=new cy;return e.asyncQueue.enqueue((async()=>{try{await OT(e,n),await NT(e,t),r.resolve()}catch(e){const n=e;if(!PT(n))throw n;ny("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function gI(e){return function(e){const t=new cy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=sy(e);nk(n.remoteStore)||ey("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=sy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ec.get(e)||[];r.push(t),n.Ec.set(e,r)}catch(e){const n=Ck(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await FT(e),t))),t.promise}(hI(e=XT(e,dI)))}function mI(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await DT(e),n=await LT(e);return t.setNetworkEnabled(!0),function(e){const t=sy(e);return t.vu.delete(0),KS(t)}(n)}))}(hI(e=XT(e,dI)))}function vI(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await DT(e),n=await LT(e);return t.setNetworkEnabled(!1),async function(e){const t=sy(e);t.vu.add(0),await QS(t),t.bu.set("Offline")}(n)}))}(hI(e=XT(e,dI)))}function yI(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=sy(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.qs.getNamedQuery(e,t)))}(await MT(e),t)))}(hI(e=XT(e,dI)),t).then((t=>t?new nI(e,null,t.query):null))}function bI(e){if(e._initialized||e._terminated)throw new ly(ay.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wI(qb.fromBase64String(e))}catch(e){throw new ly(ay.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new wI(qb.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _I{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ly(ay.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Iy(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class EI{constructor(e){this._methodName=e}}class CI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ly(ay.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ly(ay.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wy(this._lat,e._lat)||wy(this._long,e._long)}}const xI=/^__.*__$/;class SI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new sE(e,this.data,this.fieldMask,t,this.fieldTransforms):new oE(e,this.data,t,this.fieldTransforms)}}class kI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new sE(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw iy()}}class II{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new II(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return KI(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(TI(this.ca)&&xI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class OI{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||BS(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new II({ca:e,methodName:t,ga:n,path:Iy.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NI(e){const t=e._freezeSettings(),n=BS(e._databaseId);return new OI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function PI(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ya(o.merge||o.mergeFields?2:0,t,n,i);qI("Data must be an object, but it was:",s,r);const a=zI(r,s);let l,c;if(o.merge)l=new zb(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=HI(t,r,n);if(!s.contains(i))throw new ly(ay.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);QI(e,i)||e.push(i)}l=new zb(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new SI(new _w(a),l,c)}class RI extends EI{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof RI}}function AI(e,t,n){return new II({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class DI extends EI{_toFieldTransform(e){return new Q_(e.path,new U_)}isEqual(e){return e instanceof DI}}class MI extends EI{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=AI(this,e,!0),n=this.pa.map((e=>UI(e,t))),r=new z_(n);return new Q_(e.path,r)}isEqual(e){return this===e}}class LI extends EI{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=AI(this,e,!0),n=this.pa.map((e=>UI(e,t))),r=new q_(n);return new Q_(e.path,r)}isEqual(e){return this===e}}class FI extends EI{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new W_(e.serializer,L_(e.serializer,this.Ia));return new Q_(e.path,t)}isEqual(e){return this===e}}function jI(e,t,n,r){const i=e.ya(1,t,n);qI("Data must be an object, but it was:",i,r);const o=[],s=_w.empty();Db(r,((e,r)=>{const a=GI(t,e,n);r=qs(r);const l=i.da(a);if(r instanceof RI)o.push(a);else{const e=UI(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new zb(o);return new kI(s,a,i.fieldTransforms)}function $I(e,t,n,r,i,o){const s=e.ya(1,t,n),a=[HI(t,r,n)],l=[i];if(o.length%2!=0)throw new ly(ay.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(HI(t,o[h])),l.push(o[h+1]);const c=[],u=_w.empty();for(let h=a.length-1;h>=0;--h)if(!QI(c,a[h])){const e=a[h];let t=l[h];t=qs(t);const n=s.da(e);if(t instanceof RI)c.push(e);else{const r=UI(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new zb(c);return new kI(u,d,s.fieldTransforms)}function BI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return UI(n,e.ya(r?4:3,t))}function UI(e,t){if(VI(e=qs(e)))return qI("Unsupported field value:",t,e),zI(e,t);if(e instanceof EI)return function(e,t){if(!TI(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=UI(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=qs(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return L_(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Cy.fromDate(e);return{timestampValue:zE(t.serializer,n)}}if(e instanceof Cy){const n=new Cy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:zE(t.serializer,n)}}if(e instanceof CI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wI)return{bytesValue:VE(t.serializer,e._byteString)};if(e instanceof tI){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:WE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${QT(e)}`)}(e,t)}function zI(e,t){const n={};return Mb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Db(e,((e,r)=>{const i=UI(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function VI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Cy||e instanceof CI||e instanceof wI||e instanceof tI||e instanceof EI)}function qI(e,t,n){if(!VI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=QT(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function HI(e,t,n){if((t=qs(t))instanceof _I)return t._internalPath;if("string"==typeof t)return GI(e,t);throw KI("Field path arguments must be of type string or ",e,!1,void 0,n)}const WI=new RegExp("[~\\*/\\[\\]]");function GI(e,t,n){if(t.search(WI)>=0)throw KI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new _I(...t.split("."))._internalPath}catch(r){throw KI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function KI(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ly(ay.INVALID_ARGUMENT,a+e+l)}function QI(e,t){return e.some((e=>e.isEqual(t)))}class XI{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new YI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(JI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class YI extends XI{data(){return super.data()}}function JI(e,t){return"string"==typeof t?GI(e,t):t instanceof _I?t._internalPath:t._delegate._internalPath}function ZI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ly(ay.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eO{}class tO extends eO{}function nO(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof eO&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof iO)).length,n=e.filter((e=>e instanceof rO)).length;if(t>1||t>0&&n>0)throw new ly(ay.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class rO extends tO{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new rO(e,t,n)}_apply(e){const t=this._parse(e);return hO(e._query,t),new nI(e.firestore,e.converter,d_(e._query,t))}_parse(e){const t=NI(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ly(ay.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){dO(s,o);const t=[];for(const n of s)t.push(uO(r,e,n));a={arrayValue:{values:t}}}else a=uO(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||dO(s,o),a=BI(n,"where",s,"in"===o||"not-in"===o);return Nw.create(i,o,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class iO extends eO{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iO(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Pw.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)hO(n,i),n=d_(n,i)}(e._query,t),new nI(e.firestore,e.converter,d_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class oO extends tO{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new oO(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ly(ay.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ly(ay.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Tw(t,n);return function(e,t){if(null===s_(e)){const n=a_(e);null!==n&&fO(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new nI(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new n_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class sO extends tO{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new sO(e,t,n)}_apply(e){return new nI(e.firestore,e.converter,h_(e._query,this._limit,this._limitType))}}class aO extends tO{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new aO(e,t,n)}_apply(e){const t=cO(e,this.type,this._docOrFields,this._inclusive);return new nI(e.firestore,e.converter,function(e,t){return new n_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class lO extends tO{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new lO(e,t,n)}_apply(e){const t=cO(e,this.type,this._docOrFields,this._inclusive);return new nI(e.firestore,e.converter,function(e,t){return new n_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function cO(e,t,n,r){if(n[0]=qs(n[0]),n[0]instanceof XI)return function(e,t,n,r,i){if(!r)throw new ly(ay.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const s of c_(e))if(s.field.isKeyField())o.push(cw(t,r.key));else{const e=r.data.field(s.field);if(Qb(e))throw new ly(ay.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new ly(ay.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new xw(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=NI(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new ly(ay.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new ly(ay.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof o}`);if(!l_(e)&&-1!==o.indexOf("/"))throw new ly(ay.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${o}' contains a slash.`);const n=e.path.child(ky.fromString(o));if(!Oy.isDocumentKey(n))throw new ly(ay.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Oy(n);a.push(cw(t,i))}else{const e=BI(n,r,o);a.push(e)}}return new xw(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function uO(e,t,n){if("string"==typeof(n=qs(n))){if(""===n)throw new ly(ay.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l_(t)&&-1!==n.indexOf("/"))throw new ly(ay.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ky.fromString(n));if(!Oy.isDocumentKey(r))throw new ly(ay.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cw(e,new Oy(r))}if(n instanceof tI)return cw(e,n._key);throw new ly(ay.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${QT(n)}.`)}function dO(e,t){if(!Array.isArray(e)||0===e.length)throw new ly(ay.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function hO(e,t){if(t.isInequality()){const n=a_(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new ly(ay.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=s_(e);null!==i&&fO(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ly(ay.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ly(ay.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function fO(e,t,n){if(!n.isEqual(t))throw new ly(ay.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class pO{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(nw(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw iy()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Db(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new CI(Gb(e.latitude),Gb(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Xb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Yb(e));default:return null}}convertTimestamp(e){const t=Wb(e);return new Cy(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ky.fromString(e);oy(gC(n));const r=new Zb(n.get(1),n.get(3)),i=new Oy(n.popFirst(5));return r.isEqual(t)||ty(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function gO(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class mO extends pO{constructor(e){super(),this.firestore=e}convertBytes(e){return new wI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tI(this.firestore,null,t)}}class vO{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yO extends XI{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new bO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(JI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class bO extends yO{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class wO{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new vO(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new bO(this._firestore,this._userDataWriter,n.key,n,new vO(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ly(ay.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new bO(e._firestore,e._userDataWriter,n.doc.key,n.doc,new vO(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new bO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new vO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:_O(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function _O(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return iy()}}function EO(e,t){return e instanceof yO&&t instanceof yO?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof wO&&t instanceof wO&&e._firestore===t._firestore&&aI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class CO extends pO{constructor(e){super(),this.firestore=e}convertBytes(e){return new wI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tI(this.firestore,null,t)}}function xO(e){e=XT(e,tI);const t=XT(e.firestore,dI),n=hI(t),r=new CO(t);return function(e,t){const n=new cy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=sy(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new ly(ay.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Ck(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await MT(e),t,n))),n.promise}(n,e._key).then((n=>new yO(t,r,e._key,n,new vO(null!==n&&n.hasLocalMutations,!0),e.converter)))}function SO(e){e=XT(e,nI);const t=XT(e.firestore,dI),n=hI(t),r=new CO(t);return function(e,t){const n=new cy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await gS(e,t,!0),i=new Uk(t,r.ir),o=i.sc(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=Ck(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await MT(e),t,n))),n.promise}(n,e._query).then((n=>new wO(t,r,e,n)))}function kO(e,t,n){e=XT(e,tI);const r=XT(e.firestore,dI),i=gO(e.converter,t,n);return NO(r,[PI(NI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Y_.none())])}function TO(e,t,n){e=XT(e,tI);const r=XT(e.firestore,dI),i=NI(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=qs(t))||t instanceof _I?$I(i,"updateDoc",e._key,t,n,a):jI(i,"updateDoc",e._key,t),NO(r,[o.toMutation(e._key,Y_.exists(!0))])}function IO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=qs(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||cI(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(cI(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof tI)d=XT(e.firestore,dI),h=i_(e._key.path),u={next:t=>{n[l]&&n[l](PO(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=XT(e,nI);d=XT(t.firestore,dI),h=t._query;const r=new CO(d);u={next:e=>{n[l]&&n[l](new wO(d,r,t,e))},error:n[l+1],complete:n[l+2]},ZI(e._query)}return function(e,t,n,r){const i=new xT(r),o=new Dk(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Ok(await $T(e),o))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>Nk(await $T(e),o)))}}(hI(d),h,c,u)}function OO(e,t){return function(e,t){const n=new xT(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){sy(e).ku.add(t),t.next()}(await $T(e),n))),()=>{n.Dc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){sy(e).ku.delete(t)}(await $T(e),n)))}}(hI(e=XT(e,dI)),cI(t)?t:{next:t})}function NO(e,t){return function(e,t){const n=new cy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=yT(e);try{const e=await function(e,t){const n=sy(e),r=Cy.now(),i=t.reduce(((e,t)=>e.add(t.key)),P_());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=E_(),l=P_();return n.Zi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=rE(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new sE(e.key,t,Ew(t.value.mapValue),Y_.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:S_(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Lb(wy)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await sT(r,e.changes),await ck(r.remoteStore)}catch(e){const t=Ck(e,"Failed to persist write");n.reject(t)}}(await FT(e),t,n))),n.promise}(hI(e),t)}function PO(e,t,n){const r=n.docs.get(t._key),i=new CO(e);return new yO(e,i,t._key,r,new vO(n.hasPendingWrites,n.fromCache),t.converter)}const RO={maxAttempts:5};class AO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=NI(e)}set(e,t,n){this._verifyNotCommitted();const r=DO(e,this._firestore),i=gO(r.converter,t,n),o=PI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Y_.none())),this}update(e,t,n){this._verifyNotCommitted();const r=DO(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=qs(t))||t instanceof _I?$I(this._dataReader,"WriteBatch.update",r._key,t,n,s):jI(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Y_.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=DO(e,this._firestore);return this._mutations=this._mutations.concat(new uE(t._key,Y_.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ly(ay.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function DO(e,t){if((e=qs(e)).firestore!==t)throw new ly(ay.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class MO extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=NI(e)}get(e){const t=DO(e,this._firestore),n=new mO(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return iy();const r=e[0];if(r.isFoundDocument())return new XI(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new XI(this._firestore,n,t._key,null,t.converter);throw iy()}))}set(e,t,n){const r=DO(e,this._firestore),i=gO(r.converter,t,n),o=PI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=DO(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=qs(t))||t instanceof _I?$I(this._dataReader,"Transaction.update",r._key,t,n,s):jI(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=DO(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=DO(e,this._firestore),n=new CO(this._firestore);return super.get(e).then((e=>new yO(this._firestore,n,t._key,e._document,new vO(!1,!1),t.converter)))}}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Yv=e}(ol),Za(new Hs("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new dI(new fy(e.getProvider("auth-internal")),new vy(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ly(ay.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zb(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),ul(Qv,"3.13.0",e),ul(Qv,"3.13.0","esm2017")}();function LO(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ly("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function FO(){if("undefined"===typeof Uint8Array)throw new ly("unimplemented","Uint8Arrays are not available in this environment.")}function jO(){if("undefined"==typeof atob)throw new ly("unimplemented","Blobs are unavailable in Firestore in this environment.")}class $O{constructor(e){this._delegate=e}static fromBase64String(e){return jO(),new $O(wI.fromBase64String(e))}static fromUint8Array(e){return FO(),new $O(wI.fromUint8Array(e))}toBase64(){return jO(),this._delegate.toBase64()}toUint8Array(){return FO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function BO(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class UO{enableIndexedDbPersistence(e,t){return function(e,t){bI(e=XT(e,dI));const n=hI(e);if(n._uninitializedComponentsProvider)throw new ly(ay.FAILED_PRECONDITION,"SDK cache is already specified.");ny("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new ET;return pI(n,i,new wT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){bI(e=XT(e,dI));const t=hI(e);if(t._uninitializedComponentsProvider)throw new ly(ay.FAILED_PRECONDITION,"SDK cache is already specified.");ny("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new ET;return pI(t,r,new _T(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new ly(ay.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new cy;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!qy.D())return Promise.resolve();const t=e+"main";await qy.delete(t)}(iS(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class zO{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Zb||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||ny("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eI(this._delegate,e,t,n)}enableNetwork(){return mI(this._delegate)}disableNetwork(){return vI(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,WT("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return gI(this._delegate)}onSnapshotsInSync(e){return OO(this._delegate,e)}get app(){if(!this._appCompat)throw new ly("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nN(this,iI(this._delegate,e))}catch(LX){throw KO(LX,"collection()","Firestore.collection()")}}doc(e){try{return new GO(this,oI(this._delegate,e))}catch(LX){throw KO(LX,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ZO(this,function(e,t){if(e=XT(e,ZT),HT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ly(ay.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new nI(e,null,function(e){return new n_(ky.emptyPath(),e)}(t))}(this._delegate,e))}catch(LX){throw KO(LX,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=XT(e,dI);const r=Object.assign(Object.assign({},RO),n);return function(e){if(e.maxAttempts<1)throw new ly(ay.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new cy;return e.asyncQueue.enqueueAndForget((async()=>{const i=await jT(e);new TT(e.asyncQueue,i,n,t,r).run()})),r.promise}(hI(e),(n=>t(new MO(e,n))),r)}(this._delegate,(t=>e(new qO(this,t))))}batch(){return hI(this._delegate),new HO(new AO(this._delegate,(e=>NO(this._delegate,e))))}loadBundle(e){return function(e,t){const n=hI(e=XT(e,dI)),r=new uI;return zT(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return yI(this._delegate,e).then((e=>e?new ZO(this,e):null))}}class VO extends pO{constructor(e){super(),this.firestore=e}convertBytes(e){return new $O(new wI(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return GO.forKey(t,this.firestore,null)}}class qO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new VO(e)}get(e){const t=rN(e);return this._delegate.get(t).then((e=>new YO(this._firestore,new yO(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=rN(e);return n?(LO("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=rN(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=rN(e);return this._delegate.delete(t),this}}class HO{constructor(e){this._delegate=e}set(e,t,n){const r=rN(e);return n?(LO("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=rN(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=rN(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class WO{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new bO(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new JO(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=WO.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new WO(e,new VO(e),t),r.set(t,i)),i}}WO.INSTANCES=new WeakMap;class GO{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VO(e)}static forPath(e,t,n){if(e.length%2!==0)throw new ly("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new GO(t,new tI(t._delegate,n,new Oy(e)))}static forKey(e,t,n){return new GO(t,new tI(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new nN(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nN(this.firestore,iI(this._delegate,e))}catch(LX){throw KO(LX,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=qs(e))instanceof tI&&sI(this._delegate,e)}set(e,t){t=LO("DocumentReference.set",t);try{return t?kO(this._delegate,e,t):kO(this._delegate,e)}catch(LX){throw KO(LX,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?TO(this._delegate,e):TO(this._delegate,e,t,...r)}catch(LX){throw KO(LX,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return NO(XT(e.firestore,dI),[new uE(e._key,Y_.none())])}(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=QO(t),i=XO(t,(e=>new YO(this.firestore,new yO(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return IO(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?xO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=XT(e,tI);const t=XT(e.firestore,dI);return BT(hI(t),e._key,{source:"server"}).then((n=>PO(t,e,n)))}(this._delegate):function(e){e=XT(e,tI);const t=XT(e.firestore,dI);return BT(hI(t),e._key).then((n=>PO(t,e,n)))}(this._delegate),t.then((e=>new YO(this.firestore,new yO(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new GO(this.firestore,e?this._delegate.withConverter(WO.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function KO(e,t,n){return e.message=e.message.replace(t,n),e}function QO(e){for(const t of e)if("object"===typeof t&&!BO(t))return t;return{}}function XO(e,t){var n,r;let i;return i=BO(e[0])?e[0]:BO(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class YO{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new GO(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return EO(this._delegate,e._delegate)}}class JO extends YO{data(e){const t=this._delegate.data(e);return function(e){e||iy()}(void 0!==t),t}}class ZO{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VO(e)}where(e,t,n){try{return new ZO(this.firestore,nO(this._delegate,function(e,t,n){const r=t,i=JI("where",e);return rO._create(i,r,n)}(e,t,n)))}catch(LX){throw KO(LX,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ZO(this.firestore,nO(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=JI("orderBy",e);return oO._create(n,t)}(e,t)))}catch(LX){throw KO(LX,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ZO(this.firestore,nO(this._delegate,function(e){return YT("limit",e),sO._create("limit",e,"F")}(e)))}catch(LX){throw KO(LX,"limit()","Query.limit()")}}limitToLast(e){try{return new ZO(this.firestore,nO(this._delegate,function(e){return YT("limitToLast",e),sO._create("limitToLast",e,"L")}(e)))}catch(LX){throw KO(LX,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new ZO(this.firestore,nO(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aO._create("startAt",t,!0)}(...arguments)))}catch(LX){throw KO(LX,"startAt()","Query.startAt()")}}startAfter(){try{return new ZO(this.firestore,nO(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aO._create("startAfter",t,!1)}(...arguments)))}catch(LX){throw KO(LX,"startAfter()","Query.startAfter()")}}endBefore(){try{return new ZO(this.firestore,nO(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lO._create("endBefore",t,!1)}(...arguments)))}catch(LX){throw KO(LX,"endBefore()","Query.endBefore()")}}endAt(){try{return new ZO(this.firestore,nO(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lO._create("endAt",t,!0)}(...arguments)))}catch(LX){throw KO(LX,"endAt()","Query.endAt()")}}isEqual(e){return aI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?SO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=XT(e,nI);const t=XT(e.firestore,dI),n=hI(t),r=new CO(t);return UT(n,e._query,{source:"server"}).then((n=>new wO(t,r,e,n)))}(this._delegate):function(e){e=XT(e,nI);const t=XT(e.firestore,dI),n=hI(t),r=new CO(t);return ZI(e._query),UT(n,e._query).then((n=>new wO(t,r,e,n)))}(this._delegate),t.then((e=>new tN(this.firestore,new wO(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=QO(t),i=XO(t,(e=>new tN(this.firestore,new wO(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return IO(this._delegate,r,i)}withConverter(e){return new ZO(this.firestore,e?this._delegate.withConverter(WO.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class eN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new JO(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ZO(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new JO(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new eN(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new JO(this._firestore,n))}))}isEqual(e){return EO(this._delegate,e._delegate)}}class nN extends ZO{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new GO(this.firestore,e):null}doc(e){try{return new GO(this.firestore,void 0===e?oI(this._delegate):oI(this._delegate,e))}catch(LX){throw KO(LX,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=XT(e.firestore,dI),r=oI(e),i=gO(e.converter,t);return NO(n,[PI(NI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Y_.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new GO(this.firestore,e)))}isEqual(e){return sI(this._delegate,e._delegate)}withConverter(e){return new nN(this.firestore,e?this._delegate.withConverter(WO.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function rN(e){return XT(e,tI)}class iN{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new _I(...t)}static documentId(){return new iN(Iy.keyField().canonicalString())}isEqual(e){return(e=qs(e))instanceof _I&&this._delegate._internalPath.isEqual(e._internalPath)}}class oN{constructor(e){this._delegate=e}static serverTimestamp(){const e=new DI("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new oN(e)}static delete(){const e=new RI("deleteField");return e._methodName="FieldValue.delete",new oN(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new MI("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new oN(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LI("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new oN(e)}static increment(e){const t=function(e){return new FI("increment",e)}(e);return t._methodName="FieldValue.increment",new oN(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const sN={Firestore:zO,GeoPoint:CI,Timestamp:Cy,Blob:$O,Transaction:qO,WriteBatch:HO,DocumentReference:GO,DocumentSnapshot:YO,Query:ZO,QueryDocumentSnapshot:JO,QuerySnapshot:tN,CollectionReference:nN,FieldPath:iN,FieldValue:oN,setLogLevel:function(e){!function(e){Jv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Hs("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},sN)))}(e,((e,t)=>new zO(e,t,new UO))),e.registerVersion("@firebase/firestore-compat","0.3.12")}(Tl);const aN="@firebase/database",lN="0.14.4";let cN="";function uN(e){cN=e}class dN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),xs(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Cs(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class hN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ks(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const fN=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new dN(t)}}catch(LX){}return new hN},pN=fN("localStorage"),gN=fN("sessionStorage"),mN=new na("@firebase/database"),vN=function(){let e=1;return function(){return e++}}(),yN=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Qo(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Ms;n.update(t);const r=n.digest();return Jo.encodeByteArray(r)},bN=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=bN.apply(null,n):e+="object"===typeof n?xs(n):n,e+=" "}return e};let wN=null,_N=!0;const EN=function(e,t){Qo(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(mN.logLevel=Ys.VERBOSE,wN=mN.log.bind(mN),t&&gN.set("logging_enabled",!0)):"function"===typeof e?wN=e:(wN=null,gN.remove("logging_enabled"))},CN=function(){if(!0===_N&&(_N=!1,null===wN&&!0===gN.get("logging_enabled")&&EN(!0)),wN){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=bN.apply(null,t);wN(r)}},xN=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];CN(e,...n)}},SN=function(){const e="FIREBASE INTERNAL ERROR: "+bN(...arguments);mN.error(e)},kN=function(){const e=`FIREBASE FATAL ERROR: ${bN(...arguments)}`;throw mN.error(e),new Error(e)},TN=function(){const e="FIREBASE WARNING: "+bN(...arguments);mN.warn(e)},IN=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ON="[MIN_NAME]",NN="[MAX_NAME]",PN=function(e,t){if(e===t)return 0;if(e===ON||t===NN)return-1;if(t===ON||e===NN)return 1;{const n=$N(e),r=$N(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},RN=function(e,t){return e===t?0:e<t?-1:1},AN=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+xs(t))},DN=function(e){if("object"!==typeof e||null===e)return xs(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=xs(t[r]),n+=":",n+=DN(e[t[r]]);return n+="}",n},MN=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function LN(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const FN=function(e){Qo(!IN(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const jN=new RegExp("^-?(0*)\\d{1,10}$"),$N=function(e){if(jN.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},BN=function(e){try{e()}catch(LX){setTimeout((()=>{const t=LX.stack||"";throw TN("Exception was thrown by user callback.",t),LX}),Math.floor(0))}},UN=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class zN{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){TN(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class VN{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(CN("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',TN(e)}}class qN{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}qN.OWNER="owner";const HN="5",WN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,GN="ac",KN="websocket",QN="long_polling";class XN{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=pN.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&pN.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function YN(e,t,n){let r;if(Qo("string"===typeof t,"typeof type must == string"),Qo("object"===typeof n,"typeof params must == object"),t===KN)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==QN)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return LN(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class JN{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;ks(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return rs(void 0,this.counters_)}}const ZN={},eP={};function tP(e){const t=e.toString();return ZN[t]||(ZN[t]=new JN),ZN[t]}class nP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&BN((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const rP="start";class iP{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xN(e),this.stats_=tP(t),this.urlFn=e=>(this.appCheckToken&&(e[GN]=this.appCheckToken),YN(t,QN,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new nP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(ys()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new oP((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===rP)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[rP]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=HN,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[GN]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&WN.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){iP.forceAllow_=!0}static forceDisallow(){iP.forceDisallow_=!0}static isAvailable(){return!ys()&&(!!iP.forceAllow_||!iP.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=xs(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=es(t),r=MN(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(ys())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=xs(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class oP{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,ys())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=vN(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=oP.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(LX){CN("frame writing exception"),LX.stack&&CN(LX.stack),CN(LX)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||CN("No IE domain setting required")}catch(LX){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){ys()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{CN("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(LX){}}),Math.floor(1))}}let sP=null;"undefined"!==typeof MozWebSocket?sP=MozWebSocket:"undefined"!==typeof WebSocket&&(sP=WebSocket);class aP{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xN(this.connId),this.stats_=tP(t),this.connURL=aP.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=HN,!ys()&&"undefined"!==typeof location&&location.hostname&&WN.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[GN]=r),i&&(o.p=i),YN(e,KN,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,pN.set("previous_websocket_failure",!0);try{let e;if(ys()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/${HN}/${cN}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new sP(this.connURL,[],e)}catch(LX){this.log_("Error instantiating WebSocket.");const t=LX.message||LX.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){aP.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==sP&&!aP.forceDisallow_}static previouslyFailed(){return pN.isInMemoryStorage||!0===pN.get("previous_websocket_failure")}markConnectionHealthy(){pN.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Cs(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Qo(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=xs(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=MN(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(LX){this.log_("Exception thrown from WebSocket.send():",LX.message||LX.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}aP.responsesRequiredToBeHealthy=2,aP.healthyTimeout=3e4;class lP{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[iP,aP]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=aP&&aP.isAvailable();let n=t&&!aP.previouslyFailed();if(e.webSocketOnly&&(t||TN("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[aP];else{const e=this.transports_=[];for(const t of lP.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);lP.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}lP.globalTransportInitialized_=!1;class cP{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xN("c:"+this.id+":"),this.transportManager_=new lP(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=UN((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=AN("t",e),n=AN("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=AN("t",e),n=AN("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=AN("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?SN("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):SN("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),HN!==n&&TN("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),UN((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):UN((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(pN.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class uP{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class dP{constructor(e){this.allowedEvents_=e,this.listeners_={},Qo(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Qo(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class hP extends dP{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||fs()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new hP}getInitialEvent(e){return Qo("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class fP{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function pP(){return new fP("")}function gP(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function mP(e){return e.pieces_.length-e.pieceNum_}function vP(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new fP(e.pieces_,t)}function yP(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function bP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function wP(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new fP(t,0)}function _P(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof fP)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new fP(n,0)}function EP(e){return e.pieceNum_>=e.pieces_.length}function CP(e,t){const n=gP(e),r=gP(t);if(null===n)return t;if(n===r)return CP(vP(e),vP(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function xP(e,t){const n=bP(e,0),r=bP(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=PN(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function SP(e,t){if(mP(e)!==mP(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function kP(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(mP(e)>mP(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class TP{constructor(e,t){this.errorPrefix_=t,this.parts_=bP(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Vs(this.parts_[n]);IP(this)}}function IP(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+OP(e))}function OP(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class NP extends dP{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new NP}getInitialEvent(e){return Qo("visible"===e,"Unknown event type: "+e),[this.visible_]}}const PP=1e3;class RP extends uP{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=RP.nextPersistentConnectionId_++,this.log_=xN("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=PP,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!ys())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");NP.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&hP.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(xs(i)),Qo(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new us,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Qo(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Qo(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;RP.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&ks(e,"w")){const n=Ts(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();TN(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Ss(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Ss(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Qo(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+xs(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):SN("Unrecognized action received from server: "+xs(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Qo(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=PP,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=PP,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=PP),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+RP.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){Qo(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?CN("getToken() completed but was canceled"):(CN("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new cP(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{TN(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(SN){this.log_("Failed to get token: "+SN),o||(this.repoInfo_.nodeAdmin&&TN(SN),a())}}}interrupt(e){CN("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){CN("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Is(this.interruptReasons_)&&(this.reconnectDelay_=PP,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>DN(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new fP(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){CN("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){CN("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";ys()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+cN.replace(/\./g,"-")]=1,fs()?e["framework.cordova"]=1:ms()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=hP.getInstance().currentlyOnline();return Is(this.interruptReasons_)&&e}}RP.nextPersistentConnectionId_=0,RP.nextConnectionId_=0;class AP{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new AP(e,t)}}class DP{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new AP(ON,e),r=new AP(ON,t);return 0!==this.compare(n,r)}minPost(){return AP.MIN}}let MP;class LP extends DP{static get __EMPTY_NODE(){return MP}static set __EMPTY_NODE(e){MP=e}compare(e,t){return PN(e.name,t.name)}isDefinedOn(e){throw Xo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return AP.MIN}maxPost(){return new AP(NN,MP)}makePost(e,t){return Qo("string"===typeof e,"KeyIndex indexValue must always be a string."),new AP(e,MP)}toString(){return".key"}}const FP=new LP;class jP{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class $P{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:$P.RED,this.left=null!=r?r:BP.EMPTY_NODE,this.right=null!=i?i:BP.EMPTY_NODE}copy(e,t,n,r,i){return new $P(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return BP.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return BP.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,$P.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,$P.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}$P.RED=!0,$P.BLACK=!1;class BP{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:BP.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new BP(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,$P.BLACK,null,null))}remove(e){return new BP(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,$P.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jP(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new jP(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new jP(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new jP(this.root_,null,this.comparator_,!0,e)}}function UP(e,t){return PN(e.name,t.name)}function zP(e,t){return PN(e,t)}let VP;BP.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new $P(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const qP=function(e){return"number"===typeof e?"number:"+FN(e):"string:"+e},HP=function(e){if(e.isLeafNode()){const t=e.val();Qo("string"===typeof t||"number"===typeof t||"object"===typeof t&&ks(t,".sv"),"Priority must be a string or number.")}else Qo(e===VP||e.isEmpty(),"priority of unexpected type.");Qo(e===VP||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let WP,GP,KP;class QP{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:QP.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Qo(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),HP(this.priorityNode_)}static set __childrenNodeConstructor(e){WP=e}static get __childrenNodeConstructor(){return WP}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new QP(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:QP.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return EP(e)?this:".priority"===gP(e)?this.priorityNode_:QP.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:QP.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=gP(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Qo(".priority"!==n||1===mP(e),".priority must be the last token in a path"),this.updateImmediateChild(n,QP.__childrenNodeConstructor.EMPTY_NODE.updateChild(vP(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+qP(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?FN(this.value_):this.value_,this.lazyHash_=yN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===QP.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof QP.__childrenNodeConstructor?-1:(Qo(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=QP.VALUE_TYPE_ORDER.indexOf(t),i=QP.VALUE_TYPE_ORDER.indexOf(n);return Qo(r>=0,"Unknown leaf type: "+t),Qo(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}QP.VALUE_TYPE_ORDER=["object","boolean","number","string"];const XP=new class extends DP{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?PN(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return AP.MIN}maxPost(){return new AP(NN,new QP("[PRIORITY-POST]",KP))}makePost(e,t){const n=GP(e);return new AP(t,new QP("[PRIORITY-POST]",n))}toString(){return".priority"}},YP=Math.log(2);class JP{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/YP,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ZP=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new $P(a,s.node,$P.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new $P(a,s.node,$P.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],d=n?n(u):u;l(new $P(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,$P.BLACK):(a(r,$P.BLACK),a(r,$P.RED))}return o}(new JP(e.length));return new BP(r||t,o)};let eR;const tR={};class nR{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Qo(tR&&XP,"ChildrenNode.ts has not been loaded"),eR=eR||new nR({".priority":tR},{".priority":XP}),eR}get(e){const t=Ts(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof BP?t:null}hasIndex(e){return ks(this.indexSet_,e.toString())}addIndex(e,t){Qo(e!==FP,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(AP.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?ZP(n,e.getCompare()):tR;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=o,new nR(c,l)}addToIndexes(e,t){const n=Os(this.indexes_,((n,r)=>{const i=Ts(this.indexSet_,r);if(Qo(i,"Missing index implementation for "+r),n===tR){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(AP.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),ZP(n,i.getCompare())}return tR}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new AP(e.name,r))),i.insert(e,e.node)}}));return new nR(n,this.indexSet_)}removeFromIndexes(e,t){const n=Os(this.indexes_,(n=>{if(n===tR)return n;{const r=t.get(e.name);return r?n.remove(new AP(e.name,r)):n}}));return new nR(n,this.indexSet_)}}let rR;class iR{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&HP(this.priorityNode_),this.children_.isEmpty()&&Qo(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return rR||(rR=new iR(new BP(zP),null,nR.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||rR}updatePriority(e){return this.children_.isEmpty()?this:new iR(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?rR:t}}getChild(e){const t=gP(e);return null===t?this:this.getImmediateChild(t).getChild(vP(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Qo(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new AP(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?rR:this.priorityNode_;return new iR(r,o,i)}}updateChild(e,t){const n=gP(e);if(null===n)return t;{Qo(".priority"!==gP(e)||1===mP(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(vP(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(XP,((o,s)=>{t[o]=s.val(e),n++,i&&iR.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+qP(this.getPriority().val())+":"),this.forEachChild(XP,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":yN(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new AP(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new AP(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new AP(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,AP.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,AP.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===oR?-1:0}withIndex(e){if(e===FP||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new iR(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===FP||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(XP),n=t.getIterator(XP);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===FP?null:this.indexMap_.get(e.toString())}}iR.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const oR=new class extends iR{constructor(){super(new BP(zP),iR.EMPTY_NODE,nR.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return iR.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(AP,{MIN:{value:new AP(ON,iR.EMPTY_NODE)},MAX:{value:new AP(NN,oR)}}),LP.__EMPTY_NODE=iR.EMPTY_NODE,QP.__childrenNodeConstructor=iR,VP=oR,function(e){KP=e}(oR);function sR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return iR.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Qo(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new QP(e,sR(t))}if(e instanceof Array){let n=iR.EMPTY_NODE;return LN(e,((t,r)=>{if(ks(e,t)&&"."!==t.substring(0,1)){const e=sR(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(sR(t))}{const n=[];let r=!1;if(LN(e,((e,t)=>{if("."!==e.substring(0,1)){const i=sR(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new AP(e,i)))}})),0===n.length)return iR.EMPTY_NODE;const i=ZP(n,UP,(e=>e.name),zP);if(r){const e=ZP(n,XP.getCompare());return new iR(i,sR(t),new nR({".priority":e},{".priority":XP}))}return new iR(i,sR(t),nR.Default)}}!function(e){GP=e}(sR);class aR extends DP{constructor(e){super(),this.indexPath_=e,Qo(!EP(e)&&".priority"!==gP(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?PN(e.name,t.name):i}makePost(e,t){const n=sR(e),r=iR.EMPTY_NODE.updateChild(this.indexPath_,n);return new AP(t,r)}maxPost(){const e=iR.EMPTY_NODE.updateChild(this.indexPath_,oR);return new AP(NN,e)}toString(){return bP(this.indexPath_,0).join("/")}}const lR=new class extends DP{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?PN(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return AP.MIN}maxPost(){return AP.MAX}makePost(e,t){const n=sR(e);return new AP(t,n)}toString(){return".value"}};function cR(e){return{type:"value",snapshotNode:e}}function uR(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function dR(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function hR(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class fR{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){Qo(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(dR(t,s)):Qo(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(uR(t,n)):o.trackChildChange(hR(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(XP,((e,r)=>{t.hasChild(e)||n.trackChildChange(dR(e,r))})),t.isLeafNode()||t.forEachChild(XP,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(hR(t,r,i))}else n.trackChildChange(uR(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?iR.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class pR{constructor(e){this.indexedFilter_=new fR(e.getIndex()),this.index_=e.getIndex(),this.startPost_=pR.getStartPost_(e),this.endPost_=pR.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new AP(t,n))||(n=iR.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=iR.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(iR.EMPTY_NODE);const i=this;return t.forEachChild(XP,((e,t)=>{i.matches(new AP(e,t))||(r=r.updateImmediateChild(e,iR.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class gR{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new pR(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new AP(t,n))||(n=iR.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=iR.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=iR.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(iR.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,iR.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;Qo(s.numChildren()===this.limit_,"");const a=new AP(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,a);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(hR(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(dR(t,e));const n=s.updateImmediateChild(t,iR.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(uR(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,a)>=0?(null!=i&&(i.trackChildChange(dR(l.name,l.node)),i.trackChildChange(uR(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,iR.EMPTY_NODE)):e}}class mR{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=XP}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Qo(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Qo(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ON}hasEnd(){return this.endSet_}getIndexEndValue(){return Qo(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Qo(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:NN}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Qo(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===XP}copy(){const e=new mR;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function vR(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function yR(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function bR(e,t){const n=e.copy();return n.index_=t,n}function wR(e){const t={};if(e.isDefault())return t;let n;if(e.index_===XP?n="$priority":e.index_===lR?n="$value":e.index_===FP?n="$key":(Qo(e.index_ instanceof aR,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=xs(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=xs(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+xs(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=xs(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+xs(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function _R(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==XP&&(t.i=e.index_.toString()),t}class ER extends uP{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=xN("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Qo(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=ER.getListenId_(e,n),s={};this.listens_[o]=s;const a=wR(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),Ts(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=ER.getListenId_(e,t);delete this.listens_[n]}get(e){const t=wR(e._queryParams),n=e._path.toString(),r=new us;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Rs(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=Cs(a.responseText)}catch(LX){TN("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&TN("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class CR{constructor(){this.rootNode_=iR.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function xR(){return{value:null,children:new Map}}function SR(e,t,n){if(EP(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=gP(t);e.children.has(r)||e.children.set(r,xR());SR(e.children.get(r),t=vP(t),n)}}function kR(e,t){if(EP(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(XP,((t,n)=>{SR(e,new fP(t),n)})),kR(e,t)}}if(e.children.size>0){const n=gP(t);if(t=vP(t),e.children.has(n)){kR(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function TR(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{TR(r,new fP(t.toString()+"/"+e),n)}))}class IR{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&LN(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class OR{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new IR(e);const n=1e4+2e4*Math.random();UN(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;LN(e,((e,r)=>{r>0&&ks(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),UN(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var NR;function PR(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(NR||(NR={}));class RR{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=NR.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(EP(this.path)){if(null!=this.affectedTree.value)return Qo(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new fP(e));return new RR(pP(),t,this.revert)}}return Qo(gP(this.path)===e,"operationForChild called for unrelated child."),new RR(vP(this.path),this.affectedTree,this.revert)}}class AR{constructor(e,t){this.source=e,this.path=t,this.type=NR.LISTEN_COMPLETE}operationForChild(e){return EP(this.path)?new AR(this.source,pP()):new AR(this.source,vP(this.path))}}class DR{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=NR.OVERWRITE}operationForChild(e){return EP(this.path)?new DR(this.source,pP(),this.snap.getImmediateChild(e)):new DR(this.source,vP(this.path),this.snap)}}class MR{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=NR.MERGE}operationForChild(e){if(EP(this.path)){const t=this.children.subtree(new fP(e));return t.isEmpty()?null:t.value?new DR(this.source,pP(),t.value):new MR(this.source,pP(),t)}return Qo(gP(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new MR(this.source,vP(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class LR{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(EP(e))return this.isFullyInitialized()&&!this.filtered_;const t=gP(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class FR{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function jR(e,t,n,r,i,o){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Xo("Should only compare child_ events.");const r=new AP(t.childName,t.snapshotNode),i=new AP(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function $R(e,t){return{eventCache:e,serverCache:t}}function BR(e,t,n,r){return $R(new LR(t,n,r),e.serverCache)}function UR(e,t,n,r){return $R(e.eventCache,new LR(t,n,r))}function zR(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function VR(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let qR;class HR{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(qR||(qR=new BP(RN)),qR);this.value=e,this.children=t}static fromObject(e){let t=new HR(null);return LN(e,((e,n)=>{t=t.set(new fP(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:pP(),value:this.value};if(EP(e))return null;{const n=gP(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(vP(e),t);if(null!=i){return{path:_P(new fP(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(EP(e))return this;{const t=gP(e),n=this.children.get(t);return null!==n?n.subtree(vP(e)):new HR(null)}}set(e,t){if(EP(e))return new HR(t,this.children);{const n=gP(e),r=(this.children.get(n)||new HR(null)).set(vP(e),t),i=this.children.insert(n,r);return new HR(this.value,i)}}remove(e){if(EP(e))return this.children.isEmpty()?new HR(null):new HR(null,this.children);{const t=gP(e),n=this.children.get(t);if(n){const r=n.remove(vP(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new HR(null):new HR(this.value,i)}return this}}get(e){if(EP(e))return this.value;{const t=gP(e),n=this.children.get(t);return n?n.get(vP(e)):null}}setTree(e,t){if(EP(e))return t;{const n=gP(e),r=(this.children.get(n)||new HR(null)).setTree(vP(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new HR(this.value,i)}}fold(e){return this.fold_(pP(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(_P(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,pP(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(EP(e))return null;{const r=gP(e),i=this.children.get(r);return i?i.findOnPath_(vP(e),_P(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,pP(),t)}foreachOnPath_(e,t,n){if(EP(e))return this;{this.value&&n(t,this.value);const r=gP(e),i=this.children.get(r);return i?i.foreachOnPath_(vP(e),_P(t,r),n):new HR(null)}}foreach(e){this.foreach_(pP(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(_P(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class WR{constructor(e){this.writeTree_=e}static empty(){return new WR(new HR(null))}}function GR(e,t,n){if(EP(t))return new WR(new HR(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=CP(i,t);return o=o.updateChild(s,n),new WR(e.writeTree_.set(i,o))}{const r=new HR(n),i=e.writeTree_.setTree(t,r);return new WR(i)}}}function KR(e,t,n){let r=e;return LN(n,((e,n)=>{r=GR(r,_P(t,e),n)})),r}function QR(e,t){if(EP(t))return WR.empty();{const n=e.writeTree_.setTree(t,new HR(null));return new WR(n)}}function XR(e,t){return null!=YR(e,t)}function YR(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(CP(n.path,t)):null}function JR(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(XP,((e,n)=>{t.push(new AP(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new AP(e,n.value))})),t}function ZR(e,t){if(EP(t))return e;{const n=YR(e,t);return new WR(null!=n?new HR(n):e.writeTree_.subtree(t))}}function eA(e){return e.writeTree_.isEmpty()}function tA(e,t){return nA(pP(),e.writeTree_,t)}function nA(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(Qo(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=nA(_P(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(_P(e,".priority"),r)),n}}function rA(e,t){return mA(t,e)}function iA(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Qo(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&oA(t,r.path)?i=!1:kP(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=aA(e.allWrites,sA,pP()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=QR(e.visibleWrites,r.path);else{LN(r.children,(t=>{e.visibleWrites=QR(e.visibleWrites,_P(r.path,t))}))}return!0}return!1}function oA(e,t){if(e.snap)return kP(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&kP(_P(e.path,n),t))return!0;return!1}function sA(e){return e.visible}function aA(e,t,n){let r=WR.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)kP(n,e)?(t=CP(n,e),r=GR(r,t,o.snap)):kP(e,n)&&(t=CP(e,n),r=GR(r,pP(),o.snap.getChild(t)));else{if(!o.children)throw Xo("WriteRecord should have .snap or .children");if(kP(n,e))t=CP(n,e),r=KR(r,t,o.children);else if(kP(e,n))if(t=CP(e,n),EP(t))r=KR(r,pP(),o.children);else{const e=Ts(o.children,gP(t));if(e){const n=e.getChild(vP(t));r=GR(r,pP(),n)}}}}}return r}function lA(e,t,n,r,i){if(r||i){const o=ZR(e.visibleWrites,t);if(!i&&eA(o))return n;if(i||null!=n||XR(o,pP())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(kP(e.path,t)||kP(t,e.path))};return tA(aA(e.allWrites,o,t),n||iR.EMPTY_NODE)}return null}{const r=YR(e.visibleWrites,t);if(null!=r)return r;{const r=ZR(e.visibleWrites,t);if(eA(r))return n;if(null!=n||XR(r,pP())){return tA(r,n||iR.EMPTY_NODE)}return null}}}function cA(e,t,n,r){return lA(e.writeTree,e.treePath,t,n,r)}function uA(e,t){return function(e,t,n){let r=iR.EMPTY_NODE;const i=YR(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(XP,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=ZR(e.visibleWrites,t);return n.forEachChild(XP,((e,t)=>{const n=tA(ZR(i,new fP(e)),t);r=r.updateImmediateChild(e,n)})),JR(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return JR(ZR(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function dA(e,t,n,r){return function(e,t,n,r,i){Qo(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=_P(t,n);if(XR(e.visibleWrites,o))return null;{const t=ZR(e.visibleWrites,o);return eA(t)?i.getChild(n):tA(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function hA(e,t){return function(e,t){return YR(e.visibleWrites,t)}(e.writeTree,_P(e.treePath,t))}function fA(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=ZR(e.visibleWrites,t),c=YR(l,pP());if(null!=c)a=c;else{if(null==n)return[];a=tA(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function pA(e,t,n){return function(e,t,n,r){const i=_P(t,n),o=YR(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return tA(ZR(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function gA(e,t){return mA(_P(e.treePath,t),e.writeTree)}function mA(e,t){return{treePath:e,writeTree:t}}class vA{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Qo("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Qo(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,hR(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,dR(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,uR(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Xo("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,hR(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const yA=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class bA{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new LR(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pA(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:VR(this.viewCache_),i=fA(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function wA(e,t,n,r,i){const o=new vA;let s,a;if(n.type===NR.OVERWRITE){const l=n;l.source.fromUser?s=CA(e,t,l.path,l.snap,r,i,o):(Qo(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!EP(l.path),s=EA(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===NR.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const c=_P(n,r);xA(t,gP(c))&&(a=CA(e,a,c,l,i,o,s))})),r.foreach(((r,l)=>{const c=_P(n,r);xA(t,gP(c))||(a=CA(e,a,c,l,i,o,s))})),a}(e,t,l.path,l.children,r,i,o):(Qo(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=kA(e,t,l.path,l.children,r,i,a,o))}else if(n.type===NR.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=hA(r,n))return t;{const a=new bA(r,t,i),l=t.eventCache.getNode();let c;if(EP(n)||".priority"===gP(n)){let n;if(t.serverCache.isFullyInitialized())n=cA(r,VR(t));else{const e=t.serverCache.getNode();Qo(e instanceof iR,"serverChildren would be complete if leaf node"),n=uA(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=gP(n);let u=pA(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,vP(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,iR.EMPTY_NODE,vP(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=cA(r,VR(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=hA(r,pP()),BR(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=hA(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(EP(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return EA(e,t,n,l.getNode().getChild(n),i,o,a,s);if(EP(n)){let r=new HR(null);return l.getNode().forEachChild(FP,((e,t)=>{r=r.set(new fP(e),t)})),kA(e,t,n,r,i,o,a,s)}return t}{let c=new HR(null);return r.foreach(((e,t)=>{const r=_P(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),kA(e,t,n,c,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==NR.LISTEN_COMPLETE)throw Xo("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=UR(t,o.getNode(),o.isFullyInitialized()||EP(n),o.isFiltered());return _A(e,s,n,r,yA,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=zR(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(cR(zR(t)))}}(t,s,l),{viewCache:s,changes:l}}function _A(e,t,n,r,i,o){const s=t.eventCache;if(null!=hA(r,n))return t;{let a,l;if(EP(n))if(Qo(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=VR(t),i=uA(r,n instanceof iR?n:iR.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=cA(r,VR(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=gP(n);if(".priority"===c){Qo(1===mP(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=dA(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=vP(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=dA(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=pA(r,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,i,o):s.getNode()}}return BR(t,a,s.isFullyInitialized()||EP(n),e.filter.filtersNodes())}}function EA(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(EP(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=gP(n);if(!l.isCompleteForPath(n)&&mP(n)>1)return t;const i=vP(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,yA,null)}const d=UR(t,c,l.isFullyInitialized()||EP(n),u.filtersNodes());return _A(e,d,n,i,new bA(i,d,o),a)}function CA(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new bA(i,t,o);if(EP(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=BR(t,c,!0,e.filter.filtersNodes());else{const i=gP(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=BR(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=vP(n),c=a.getNode().getImmediateChild(i);let d;if(EP(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===yP(o)&&e.getChild(wP(o)).isEmpty()?e:e.updateChild(o,r):iR.EMPTY_NODE}if(c.equals(d))l=t;else{l=BR(t,e.filter.updateChild(a.getNode(),i,d,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function xA(e,t){return e.eventCache.isCompleteForChild(t)}function SA(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function kA(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=EP(n)?r:new HR(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=SA(0,t.serverCache.getNode().getImmediateChild(n),r);c=EA(e,c,new fP(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=SA(0,t.serverCache.getNode().getImmediateChild(n),r);c=EA(e,c,new fP(n),l,i,o,s,a)}})),c}class TA{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new fR(n.getIndex()),i=(o=n).loadsAllData()?new fR(o.getIndex()):o.hasLimit()?new gR(o):new pR(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(iR.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(iR.EMPTY_NODE,a.getNode(),null),u=new LR(l,s.isFullyInitialized(),r.filtersNodes()),d=new LR(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=$R(d,u),this.eventGenerator_=new FR(this.query_)}get query(){return this.query_}}function IA(e,t){const n=VR(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!EP(t)&&!n.getImmediateChild(gP(t)).isEmpty())?n.getChild(t):null}function OA(e){return 0===e.eventRegistrations_.length}function NA(e,t,n){const r=[];if(n){Qo(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function PA(e,t,n,r){t.type===NR.MERGE&&null!==t.source.queryId&&(Qo(VR(e.viewCache_),"We should always have a full cache before handling merges"),Qo(zR(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=wA(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,Qo(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Qo(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),Qo(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,RA(e,o.changes,o.viewCache.eventCache.getNode(),null)}function RA(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),jR(e,i,"child_removed",t,r,n),jR(e,i,"child_added",t,r,n),jR(e,i,"child_moved",o,r,n),jR(e,i,"child_changed",t,r,n),jR(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let AA,DA;class MA{constructor(){this.views=new Map}}function LA(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return Qo(null!=o,"SyncTree gave us an op for an invalid query."),PA(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(PA(o,t,n,r));return i}}function FA(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=cA(n,i?r:null),o=!1;e?o=!0:r instanceof iR?(e=uA(n,r),o=!1):(e=iR.EMPTY_NODE,o=!1);const s=$R(new LR(e,o,!1),new LR(r,i,!1));return new TA(t,s)}return s}function jA(e,t,n,r,i,o){const s=FA(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(XP,((e,t)=>{r.push(uR(e,t))}));return n.isFullyInitialized()&&r.push(cR(n.getNode())),RA(e,r,n.getNode(),t)}(s,n)}function $A(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=qA(e);if("default"===i)for(const[l,c]of e.views.entries())s=s.concat(NA(c,n,r)),OA(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(i);t&&(s=s.concat(NA(t,n,r)),OA(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!qA(e)&&o.push(new(Qo(AA,"Reference.ts has not been loaded"),AA)(t._repo,t._path)),{removed:o,events:s}}function BA(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function UA(e,t){let n=null;for(const r of e.views.values())n=n||IA(r,t);return n}function zA(e,t){if(t._queryParams.loadsAllData())return HA(e);{const n=t._queryIdentifier;return e.views.get(n)}}function VA(e,t){return null!=zA(e,t)}function qA(e){return null!=HA(e)}function HA(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let WA=1;class GA{constructor(e){this.listenProvider_=e,this.syncPointTree_=new HR(null),this.pendingWriteTree_={visibleWrites:WR.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function KA(e,t,n,r,i){return function(e,t,n,r,i){Qo(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=GR(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?rD(e,new DR({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function QA(e,t,n,r){!function(e,t,n,r){Qo(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=KR(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=HR.fromObject(n);return rD(e,new MR({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function XA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(iA(e.pendingWriteTree_,t)){let t=new HR(null);return null!=r.snap?t=t.set(pP(),!0):LN(r.children,(e=>{t=t.set(new fP(e),!0)})),rD(e,new RR(r.path,t,n))}return[]}function YA(e,t,n){return rD(e,new DR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function JA(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||VA(s,t))){const l=$A(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>qA(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&qA(t)){return[HA(t)]}{let e=[];return t&&(e=BA(t)),LN(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=sD(e,r);e.listenProvider_.startListening(hD(i),aD(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(hD(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(lD(t));e.listenProvider_.stopListening(hD(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=lD(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function ZA(e,t,n,r){const i=cD(e,r);if(null!=i){const r=uD(i),o=r.path,s=r.queryId,a=CP(o,t);return dD(e,o,new DR(PR(s),a,n))}return[]}function eD(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=CP(e,i);o=o||UA(t,n),s=s||qA(t)}));let a,l=e.syncPointTree_.get(i);if(l?(s=s||qA(l),o=o||UA(l,pP())):(l=new MA,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)a=!0;else{a=!1,o=iR.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=UA(t,pP());n&&(o=o.updateImmediateChild(e,n))}))}const c=VA(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=lD(t);Qo(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=WA++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=jA(l,t,n,rA(e.pendingWriteTree_,i),o,a);if(!c&&!s&&!r){const n=zA(l,t);u=u.concat(function(e,t,n){const r=t._path,i=aD(e,t),o=sD(e,n),s=e.listenProvider_.startListening(hD(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)Qo(!qA(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!EP(e)&&t&&qA(t))return[HA(t).query];{let e=[];return t&&(e=e.concat(BA(t).map((e=>e.query)))),LN(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(hD(r),aD(e,r))}}return s}(e,t,n))}return u}function tD(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=UA(n,CP(e,t));if(r)return r}));return lA(r,t,i,n,!0)}function nD(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=CP(e,n);r=r||UA(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||UA(i,pP()):(i=new MA,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new LR(r,!0,!1):null;return function(e){return zR(e.viewCache_)}(FA(i,t,rA(e.pendingWriteTree_,t._path),o?s.getNode():iR.EMPTY_NODE,o))}function rD(e,t){return iD(t,e.syncPointTree_,null,rA(e.pendingWriteTree_,pP()))}function iD(e,t,n,r){if(EP(e.path))return oD(e,t,n,r);{const i=t.get(pP());null==n&&null!=i&&(n=UA(i,pP()));let o=[];const s=gP(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=gA(r,s);o=o.concat(iD(a,l,e,t))}return i&&(o=o.concat(LA(i,e,r,n))),o}}function oD(e,t,n,r){const i=t.get(pP());null==n&&null!=i&&(n=UA(i,pP()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=gA(r,t),l=e.operationForChild(t);l&&(o=o.concat(oD(l,i,s,a)))})),i&&(o=o.concat(LA(i,e,r,n))),o}function sD(e,t){const n=t.query,r=aD(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||iR.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=cD(e,n);if(r){const n=uD(r),i=n.path,o=n.queryId,s=CP(i,t);return dD(e,i,new AR(PR(o),s))}return[]}(e,n._path,r):function(e,t){return rD(e,new AR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return JA(e,n,null,r)}}}}function aD(e,t){const n=lD(t);return e.queryToTagMap.get(n)}function lD(e){return e._path.toString()+"$"+e._queryIdentifier}function cD(e,t){return e.tagToQueryMap.get(t)}function uD(e){const t=e.indexOf("$");return Qo(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new fP(e.substr(0,t))}}function dD(e,t,n){const r=e.syncPointTree_.get(t);Qo(r,"Missing sync point for query tag that we're tracking");return LA(r,n,rA(e.pendingWriteTree_,t),null)}function hD(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Qo(DA,"Reference.ts has not been loaded"),DA)(e._repo,e._path):e}class fD{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new fD(t)}node(){return this.node_}}class pD{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=_P(this.path_,e);return new pD(this.syncTree_,t)}node(){return tD(this.syncTree_,this.path_)}}const gD=function(e,t,n){return e&&"object"===typeof e?(Qo(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?mD(e[".sv"],t,n):"object"===typeof e[".sv"]?vD(e[".sv"],t):void Qo(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},mD=function(e,t,n){if("timestamp"===e)return n.timestamp;Qo(!1,"Unexpected server value: "+e)},vD=function(e,t,n){e.hasOwnProperty("increment")||Qo(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Qo(!1,"Unexpected increment value: "+r);const i=t.node();if(Qo(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},yD=function(e,t,n,r){return wD(t,new pD(n,e),r)},bD=function(e,t,n){return wD(e,new fD(t),n)};function wD(e,t,n){const r=e.getPriority().val(),i=gD(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=gD(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new QP(o,sR(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new QP(i))),r.forEachChild(XP,((e,r)=>{const i=wD(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class _D{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function ED(e,t){let n=t instanceof fP?t:new fP(t),r=e,i=gP(n);for(;null!==i;){const e=Ts(r.node.children,i)||{children:{},childCount:0};r=new _D(i,r,e),n=vP(n),i=gP(n)}return r}function CD(e){return e.node.value}function xD(e,t){e.node.value=t,OD(e)}function SD(e){return e.node.childCount>0}function kD(e,t){LN(e.node.children,((n,r)=>{t(new _D(n,e,r))}))}function TD(e,t,n,r){n&&!r&&t(e),kD(e,(e=>{TD(e,t,!0,r)})),n&&r&&t(e)}function ID(e){return new fP(null===e.parent?e.name:ID(e.parent)+"/"+e.name)}function OD(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===CD(e)&&!SD(e)}(n),i=ks(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,OD(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,OD(e))}(e.parent,e.name,e)}const ND=/[\[\].#$\/\u0000-\u001F\u007F]/,PD=/[\[\].#$\u0000-\u001F\u007F]/,RD=10485760,AD=function(e){return"string"===typeof e&&0!==e.length&&!ND.test(e)},DD=function(e){return"string"===typeof e&&0!==e.length&&!PD.test(e)},MD=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!IN(e)||e&&"object"===typeof e&&ks(e,".sv")},LD=function(e,t,n,r){r&&void 0===t||FD(Bs(e,"value"),t,n)},FD=function(e,t,n){const r=n instanceof fP?new TP(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+OP(r));if("function"===typeof t)throw new Error(e+"contains a function "+OP(r)+" with contents = "+t.toString());if(IN(t))throw new Error(e+"contains "+t.toString()+" "+OP(r));if("string"===typeof t&&t.length>RD/3&&Vs(t)>RD)throw new Error(e+"contains a string greater than "+RD+" utf8 bytes "+OP(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(LN(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!AD(t)))throw new Error(e+" contains an invalid key ("+t+") "+OP(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Vs(t),IP(e)}(r,t),FD(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=Vs(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+OP(r)+" in addition to actual children.")}},jD=function(e,t,n,r){if(r&&void 0===t)return;const i=Bs(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];LN(t,((e,t)=>{const r=new fP(e);if(FD(i,t,_P(n,r)),".priority"===yP(r)&&!MD(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=bP(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!AD(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(xP);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&kP(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},$D=function(e,t,n){if(!n||void 0!==t){if(IN(t))throw new Error(Bs(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!MD(t))throw new Error(Bs(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},BD=function(e,t,n,r){if((!r||void 0!==n)&&!AD(n))throw new Error(Bs(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},UD=function(e,t,n,r){if((!r||void 0!==n)&&!DD(n))throw new Error(Bs(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},zD=function(e,t){if(".info"===gP(t))throw new Error(e+" failed = Can't modify data under /.info/")},VD=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!AD(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),DD(e)}(n))throw new Error(Bs(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class qD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function HD(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||SP(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function WD(e,t,n){HD(e,n),KD(e,(e=>SP(e,t)))}function GD(e,t,n){HD(e,n),KD(e,(e=>kP(e,t)||kP(t,e)))}function KD(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(QD(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function QD(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();wN&&CN("event: "+n.toString()),BN(r)}}}const XD="repo_interrupt";class YD{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xR(),this.transactionQueueTree_=new _D,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function JD(e,t,n){if(e.stats_=tP(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ER(e.repoInfo_,((t,n,r,i)=>{tM(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>nM(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xs(n)}catch(LX){throw new Error("Invalid authOverride provided: "+LX)}}e.persistentConnection_=new RP(e.repoInfo_,t,((t,n,r,i)=>{tM(e,t,n,r,i)}),(t=>{nM(e,t)}),(t=>{!function(e,t){LN(t,((t,n)=>{rM(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return eP[n]||(eP[n]=t()),eP[n]}(e.repoInfo_,(()=>new OR(e.stats_,e.server_))),e.infoData_=new CR,e.infoSyncTree_=new GA({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=YA(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),rM(e,"connected",!1),e.serverSyncTree_=new GA({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);GD(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function ZD(e){const t=e.infoData_.getNode(new fP(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function eM(e){return(t=(t={timestamp:ZD(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function tM(e,t,n,r,i){e.dataUpdateCount++;const o=new fP(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=Os(n,(e=>sR(e)));s=function(e,t,n,r){const i=cD(e,r);if(i){const r=uD(i),o=r.path,s=r.queryId,a=CP(o,t),l=HR.fromObject(n);return dD(e,o,new MR(PR(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=sR(n);s=ZA(e.serverSyncTree_,o,t,i)}else if(r){const t=Os(n,(e=>sR(e)));s=function(e,t,n){const r=HR.fromObject(n);return rD(e,new MR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=sR(n);s=YA(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=pM(e,o)),GD(e.eventQueue_,a,s)}function nM(e,t){rM(e,"connected",t),!1===t&&function(e){uM(e,"onDisconnectEvents");const t=eM(e),n=xR();TR(e.onDisconnect_,pP(),((r,i)=>{const o=yD(r,i,e.serverSyncTree_,t);SR(n,r,o)}));let r=[];TR(n,pP(),((t,n)=>{r=r.concat(YA(e.serverSyncTree_,t,n));const i=bM(e,t);pM(e,i)})),e.onDisconnect_=xR(),GD(e.eventQueue_,pP(),r)}(e)}function rM(e,t,n){const r=new fP("/.info/"+t),i=sR(n);e.infoData_.updateSnapshot(r,i);const o=YA(e.infoSyncTree_,r,i);GD(e.eventQueue_,r,o)}function iM(e){return e.nextWriteId_++}function oM(e,t,n,r,i){uM(e,"set",{path:t.toString(),value:n,priority:r});const o=eM(e),s=sR(n,r),a=tD(e.serverSyncTree_,t),l=bD(s,a,o),c=iM(e),u=KA(e.serverSyncTree_,t,l,c,!0);HD(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||TN("set at "+t+" failed: "+n);const s=XA(e.serverSyncTree_,c,!o);GD(e.eventQueue_,t,s),dM(e,i,n,r)}));const d=bM(e,t);pM(e,d),GD(e.eventQueue_,d,[])}function sM(e,t,n){e.server_.onDisconnectCancel(t.toString(),((r,i)=>{"ok"===r&&kR(e.onDisconnect_,t),dM(e,n,r,i)}))}function aM(e,t,n,r){const i=sR(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),((n,o)=>{"ok"===n&&SR(e.onDisconnect_,t,i),dM(e,r,n,o)}))}function lM(e,t,n){let r;r=".info"===gP(t._path)?JA(e.infoSyncTree_,t,n):JA(e.serverSyncTree_,t,n),WD(e.eventQueue_,t._path,r)}function cM(e){e.persistentConnection_&&e.persistentConnection_.interrupt(XD)}function uM(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];CN(t,...r)}function dM(e,t,n,r){t&&BN((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function hM(e,t,n){return tD(e.serverSyncTree_,t,n)||iR.EMPTY_NODE}function fM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||yM(e,t),CD(t)){const n=mM(e,t);Qo(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=hM(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];Qo(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=CP(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{uM(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(XA(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();yM(e,ED(e.transactionQueueTree_,t)),fM(e,e.transactionQueueTree_),GD(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)BN(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{TN("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}pM(e,t)}}),s)}(e,ID(t),n)}else SD(t)&&kD(t,(t=>{fM(e,t)}))}function pM(e,t){const n=gM(e,t),r=ID(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const o=t[l],c=CP(n,o.path);let u,d=!1;if(Qo(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)d=!0,u=o.abortReason,i=i.concat(XA(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)d=!0,u="maxretry",i=i.concat(XA(e.serverSyncTree_,o.currentWriteId,!0));else{const n=hM(e,o.path,s);o.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){FD("transaction failed: Data returned ",r,o.path);let t=sR(r);"object"===typeof r&&null!=r&&ks(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=eM(e),c=bD(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=iM(e),s.splice(s.indexOf(a),1),i=i.concat(KA(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(XA(e.serverSyncTree_,a,!0))}else d=!0,u="nodata",i=i.concat(XA(e.serverSyncTree_,o.currentWriteId,!0))}GD(e.eventQueue_,n,i),i=[],d&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;yM(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)BN(r[l]);fM(e,e.transactionQueueTree_)}(e,mM(e,n),r),r}function gM(e,t){let n,r=e.transactionQueueTree_;for(n=gP(t);null!==n&&void 0===CD(r);)r=ED(r,n),n=gP(t=vP(t));return r}function mM(e,t){const n=[];return vM(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function vM(e,t,n){const r=CD(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);kD(t,(t=>{vM(e,t,n)}))}function yM(e,t){const n=CD(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,xD(t,n.length>0?n:void 0)}kD(t,(t=>{yM(e,t)}))}function bM(e,t){const n=ID(gM(e,t)),r=ED(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{wM(e,t)})),wM(e,r),TD(r,(t=>{wM(e,t)})),n}function wM(e,t){const n=CD(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Qo(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(Qo(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(XA(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?xD(t,void 0):n.length=o+1,GD(e.eventQueue_,ID(t),i);for(let e=0;e<r.length;e++)BN(r[e])}}const _M=function(e,t){const n=EM(e),r=n.namespace;"firebase.com"===n.domain&&kN(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||kN("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&TN("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new XN(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new fP(n.pathString)}},EM=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(LX){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):TN(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},CM="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",xM=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=CM.charAt(n%64),n=Math.floor(n/64);Qo(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=CM.charAt(t[i]);return Qo(20===s.length,"nextPushId: Length should be 20."),s}}();class SM{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+xs(this.snapshot.exportVal())}}class kM{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class TM{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Qo(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class IM{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new us;return sM(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){zD("OnDisconnect.remove",this._path);const e=new us;return aM(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){zD("OnDisconnect.set",this._path),LD("OnDisconnect.set",e,this._path,!1);const t=new us;return aM(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){zD("OnDisconnect.setWithPriority",this._path),LD("OnDisconnect.setWithPriority",e,this._path,!1),$D("OnDisconnect.setWithPriority",t,!1);const n=new us;return function(e,t,n,r,i){const o=sR(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),((n,r)=>{"ok"===n&&SR(e.onDisconnect_,t,o),dM(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){zD("OnDisconnect.update",this._path),jD("OnDisconnect.update",e,this._path,!1);const t=new us;return function(e,t,n,r){if(Is(n))return CN("onDisconnect().update() called with empty data.  Don't do anything."),void dM(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((i,o)=>{"ok"===i&&LN(n,((n,r)=>{const i=sR(r);SR(e.onDisconnect_,_P(t,n),i)})),dM(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}class OM{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return EP(this._path)?null:yP(this._path)}get ref(){return new AM(this._repo,this._path)}get _queryIdentifier(){const e=_R(this._queryParams),t=DN(e);return"{}"===t?"default":t}get _queryObject(){return _R(this._queryParams)}isEqual(e){if(!((e=qs(e))instanceof OM))return!1;const t=this._repo===e._repo,n=SP(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function NM(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function PM(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===FP){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==ON)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==NN)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===XP){if(null!=t&&!MD(t)||null!=n&&!MD(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Qo(e.getIndex()instanceof aR||e.getIndex()===lR,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function RM(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class AM extends OM{constructor(e,t){super(e,t,new mR,!1)}get parent(){const e=wP(this._path);return null===e?null:new AM(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class DM{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new fP(e),n=FM(this.ref,e);return new DM(this._node.getChild(t),n,XP)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new DM(n,FM(this.ref,t),XP))))}hasChild(e){const t=new fP(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function MM(e,t){return(e=qs(e))._checkNotDeleted("ref"),void 0!==t?FM(e._root,t):e._root}function LM(e,t){(e=qs(e))._checkNotDeleted("refFromURL");const n=_M(t,e._repo.repoInfo_.nodeAdmin);VD("refFromURL",n);const r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||kN("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),MM(e,n.path.toString())}function FM(e,t){var n,r,i,o;return null===gP((e=qs(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),UD(n,r,i,o)):UD("child","path",t,!1),new AM(e._repo,_P(e._path,t))}function jM(e,t){e=qs(e),zD("set",e._path),LD("set",t,e._path,!1);const n=new us;return oM(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function $M(e,t){jD("update",t,e._path,!1);const n=new us;return function(e,t,n,r){uM(e,"update",{path:t.toString(),value:n});let i=!0;const o=eM(e),s={};if(LN(n,((n,r)=>{i=!1,s[n]=yD(_P(t,n),sR(r),e.serverSyncTree_,o)})),i)CN("update() called with empty data.  Don't do anything."),dM(0,r,"ok",void 0);else{const i=iM(e),o=QA(e.serverSyncTree_,t,s,i);HD(e.eventQueue_,o),e.server_.merge(t.toString(),n,((n,o)=>{const s="ok"===n;s||TN("update at "+t+" failed: "+n);const a=XA(e.serverSyncTree_,i,!s),l=a.length>0?pM(e,t):t;GD(e.eventQueue_,l,a),dM(0,r,n,o)})),LN(n,(n=>{const r=bM(e,_P(t,n));pM(e,r)})),GD(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function BM(e){e=qs(e);const t=new TM((()=>{})),n=new UM(t);return function(e,t,n){const r=nD(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=sR(r).withIndex(t._queryParams.getIndex());let o;if(eD(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=YA(e.serverSyncTree_,t._path,i);else{const n=aD(e.serverSyncTree_,t);o=ZA(e.serverSyncTree_,t._path,i,n)}return GD(e.eventQueue_,t._path,o),JA(e.serverSyncTree_,t,n,null,!0),i}),(n=>(uM(e,"get for query "+xs(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new DM(t,new AM(e._repo,e._path),e._queryParams.getIndex())))}class UM{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new SM("value",this,new DM(e.snapshotNode,new AM(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new kM(this,e,t):null}matches(e){return e instanceof UM&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class zM{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new kM(this,e,t):null}createEvent(e,t){Qo(null!=e.childName,"Child events should have a childName.");const n=FM(new AM(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new SM(e.type,this,new DM(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof zM&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function VM(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{lM(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new TM(n,o||void 0),a="value"===t?new UM(s):new zM(t,s);return function(e,t,n){let r;r=".info"===gP(t._path)?eD(e.infoSyncTree_,t,n):eD(e.serverSyncTree_,t,n),WD(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>lM(e._repo,e,a)}function qM(e,t,n,r){return VM(e,"value",t,n,r)}function HM(e,t,n,r){return VM(e,"child_added",t,n,r)}function WM(e,t,n,r){return VM(e,"child_changed",t,n,r)}function GM(e,t,n,r){return VM(e,"child_moved",t,n,r)}function KM(e,t,n,r){return VM(e,"child_removed",t,n,r)}function QM(e,t,n){let r=null;const i=n?new TM(n):null;"value"===t?r=new UM(i):t&&(r=new zM(t,i)),lM(e._repo,e,r)}class XM{}class YM extends XM{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){LD("endAt",this._value,e._path,!0);const t=yR(e._queryParams,this._value,this._key);if(RM(t),PM(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new OM(e._repo,e._path,t,e._orderByCalled)}}class JM extends XM{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){LD("endBefore",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===FP||n?yR(e,t,n):yR(e,t,ON),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(RM(t),PM(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new OM(e._repo,e._path,t,e._orderByCalled)}}class ZM extends XM{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){LD("startAt",this._value,e._path,!0);const t=vR(e._queryParams,this._value,this._key);if(RM(t),PM(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new OM(e._repo,e._path,t,e._orderByCalled)}}class eL extends XM{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){LD("startAfter",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===FP||n?vR(e,t,n):vR(e,t,NN),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(RM(t),PM(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new OM(e._repo,e._path,t,e._orderByCalled)}}class tL extends XM{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new OM(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class nL extends XM{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new OM(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class rL extends XM{constructor(e){super(),this._path=e}_apply(e){NM(e,"orderByChild");const t=new fP(this._path);if(EP(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new aR(t),r=bR(e._queryParams,n);return PM(r),new OM(e._repo,e._path,r,!0)}}class iL extends XM{_apply(e){NM(e,"orderByKey");const t=bR(e._queryParams,FP);return PM(t),new OM(e._repo,e._path,t,!0)}}class oL extends XM{_apply(e){NM(e,"orderByPriority");const t=bR(e._queryParams,XP);return PM(t),new OM(e._repo,e._path,t,!0)}}class sL extends XM{_apply(e){NM(e,"orderByValue");const t=bR(e._queryParams,lR);return PM(t),new OM(e._repo,e._path,t,!0)}}class aL extends XM{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(LD("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new YM(this._value,this._key)._apply(new ZM(this._value,this._key)._apply(e))}}function lL(e){let t=qs(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const o of r)t=o._apply(t);return t}!function(e){Qo(!AA,"__referenceConstructor has already been defined"),AA=e}(AM),function(e){Qo(!DA,"__referenceConstructor has already been defined"),DA=e}(AM);const cL={};let uL=!1;function dL(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||kN("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),CN("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,l=_M(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,o=`http://${a}?ns=${c.namespace}`,l=_M(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new qN(qN.OWNER):new VN(e.name,e.options,t);VD("Invalid Firebase Database URL",l),EP(l.path)||kN("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=cL[t.name];i||(i={},cL[t.name]=i);let o=i[e.toURLString()];o&&kN("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new YD(e,uL,n,r),i[e.toURLString()]=o,o}(c,e,u,new zN(e.name,n));return new hL(d,e)}class hL{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(JD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new AM(this._repo,pP())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=cL[t];n&&n[e.key]===e||kN(`Database ${t}(${e.repoInfo_}) has already been deleted.`),cM(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&kN("Cannot call "+e+" on a deleted database.")}}function fL(){lP.IS_TRANSPORT_INITIALIZED&&TN("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function pL(){fL(),iP.forceDisallow()}function gL(){fL(),aP.forceDisallow(),iP.forceAllow()}function mL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=qs(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&kN("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&kN('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new qN(qN.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:ds(r.mockUserToken,e.app.options.projectId);o=new qN(t)}!function(e,t,n,r){e.repoInfo_=new XN(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}function vL(e){var t;(e=qs(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(XD)}function yL(e,t){EN(e,t)}const bL={".sv":"timestamp"};class wL{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function _L(e,t,n){var r;if(e=qs(e),zD("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,o=new us,s=qM(e,(()=>{}));return function(e,t,n,r,i,o){uM(e,"transaction on "+t);const s={path:t,update:n,onComplete:r,status:null,order:vN(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=hM(e,t,void 0);s.currentInputSnapshot=a;const l=s.update(a.val());if(void 0===l)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{FD("transaction failed: Data returned ",l,s.path),s.status=0;const n=ED(e.transactionQueueTree_,t),r=CD(n)||[];let i;r.push(s),xD(n,r),"object"===typeof l&&null!==l&&ks(l,".priority")?(i=Ts(l,".priority"),Qo(MD(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):i=(tD(e.serverSyncTree_,t)||iR.EMPTY_NODE).getPriority().val();const o=eM(e),c=sR(l,i),u=bD(c,a,o);s.currentOutputSnapshotRaw=c,s.currentOutputSnapshotResolved=u,s.currentWriteId=iM(e);const d=KA(e.serverSyncTree_,t,u,s.currentWriteId,s.applyLocally);GD(e.eventQueue_,t,d),fM(e,e.transactionQueueTree_)}}(e._repo,e._path,t,((t,n,r)=>{let i=null;t?o.reject(t):(i=new DM(r,new AM(e._repo,e._path),XP),o.resolve(new wL(n,i)))}),s,i),o.promise}RP.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},RP.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){uN(ol),Za(new Hs("database",((e,t)=>{let{instanceIdentifier:n}=t;return dL(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),ul(aN,lN,e),ul(aN,lN,"esm2017")}();const EL=new na("@firebase/database-compat"),CL=function(e){const t="FIREBASE WARNING: "+e;EL.warn(t)};class xL{constructor(e){this._delegate=e}cancel(e){$s("OnDisconnect.cancel",0,1,arguments.length),Us("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then((()=>e(null)),(t=>e(t))),t}remove(e){$s("OnDisconnect.remove",0,1,arguments.length),Us("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then((()=>e(null)),(t=>e(t))),t}set(e,t){$s("OnDisconnect.set",1,2,arguments.length),Us("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){$s("OnDisconnect.setWithPriority",2,3,arguments.length),Us("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}update(e,t){if($s("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,CL("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Us("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}}class SL{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return $s("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class kL{constructor(e,t){this._database=e,this._delegate=t}val(){return $s("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return $s("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return $s("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return $s("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return $s("DataSnapshot.child",0,1,arguments.length),e=String(e),UD("DataSnapshot.child","path",e,!1),new kL(this._database,this._delegate.child(e))}hasChild(e){return $s("DataSnapshot.hasChild",1,1,arguments.length),UD("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return $s("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return $s("DataSnapshot.forEach",1,1,arguments.length),Us("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((t=>e(new kL(this._database,t))))}hasChildren(){return $s("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return $s("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return $s("DataSnapshot.ref",0,0,arguments.length),new IL(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class TL{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var i;$s("Query.on",2,4,arguments.length),Us("Query.on","callback",t,!1);const o=TL.getCancelAndContextArgs_("Query.on",n,r),s=(e,n)=>{t.call(o.context,new kL(this.database,e),n)};s.userCallback=t,s.context=o.context;const a=null===(i=o.cancel)||void 0===i?void 0:i.bind(o.context);switch(e){case"value":return qM(this._delegate,s,a),t;case"child_added":return HM(this._delegate,s,a),t;case"child_removed":return KM(this._delegate,s,a),t;case"child_changed":return WM(this._delegate,s,a),t;case"child_moved":return GM(this._delegate,s,a),t;default:throw new Error(Bs("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if($s("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Bs(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),Us("Query.off","callback",t,!0),zs("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,QM(this._delegate,e,r)}else QM(this._delegate,e)}get(){return BM(this._delegate).then((e=>new kL(this.database,e)))}once(e,t,n,r){$s("Query.once",1,4,arguments.length),Us("Query.once","callback",t,!0);const i=TL.getCancelAndContextArgs_("Query.once",n,r),o=new us,s=(e,n)=>{const r=new kL(this.database,e);t&&t.call(i.context,r,n),o.resolve(r)};s.userCallback=t,s.context=i.context;const a=e=>{i.cancel&&i.cancel.call(i.context,e),o.reject(e)};switch(e){case"value":qM(this._delegate,s,a,{onlyOnce:!0});break;case"child_added":HM(this._delegate,s,a,{onlyOnce:!0});break;case"child_removed":KM(this._delegate,s,a,{onlyOnce:!0});break;case"child_changed":WM(this._delegate,s,a,{onlyOnce:!0});break;case"child_moved":GM(this._delegate,s,a,{onlyOnce:!0});break;default:throw new Error(Bs("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return $s("Query.limitToFirst",1,1,arguments.length),new TL(this.database,lL(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new tL(e)}(e)))}limitToLast(e){return $s("Query.limitToLast",1,1,arguments.length),new TL(this.database,lL(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new nL(e)}(e)))}orderByChild(e){return $s("Query.orderByChild",1,1,arguments.length),new TL(this.database,lL(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return UD("orderByChild","path",e,!1),new rL(e)}(e)))}orderByKey(){return $s("Query.orderByKey",0,0,arguments.length),new TL(this.database,lL(this._delegate,new iL))}orderByPriority(){return $s("Query.orderByPriority",0,0,arguments.length),new TL(this.database,lL(this._delegate,new oL))}orderByValue(){return $s("Query.orderByValue",0,0,arguments.length),new TL(this.database,lL(this._delegate,new sL))}startAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return $s("Query.startAt",0,2,arguments.length),new TL(this.database,lL(this._delegate,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return BD("startAt","key",t,!0),new ZM(e,t)}(e,t)))}startAfter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return $s("Query.startAfter",0,2,arguments.length),new TL(this.database,lL(this._delegate,function(e,t){return BD("startAfter","key",t,!0),new eL(e,t)}(e,t)))}endAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return $s("Query.endAt",0,2,arguments.length),new TL(this.database,lL(this._delegate,function(e,t){return BD("endAt","key",t,!0),new YM(e,t)}(e,t)))}endBefore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return $s("Query.endBefore",0,2,arguments.length),new TL(this.database,lL(this._delegate,function(e,t){return BD("endBefore","key",t,!0),new JM(e,t)}(e,t)))}equalTo(e,t){return $s("Query.equalTo",1,2,arguments.length),new TL(this.database,lL(this._delegate,function(e,t){return BD("equalTo","key",t,!0),new aL(e,t)}(e,t)))}toString(){return $s("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return $s("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if($s("Query.isEqual",1,1,arguments.length),!(e instanceof TL)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Us(e,"cancel",r.cancel,!0),r.context=n,zs(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Bs(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new IL(this.database,new AM(this._delegate._repo,this._delegate._path))}}class IL extends TL{constructor(e,t){super(e,new OM(t._repo,t._path,new mR,!1)),this.database=e,this._delegate=t}getKey(){return $s("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return $s("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new IL(this.database,FM(this._delegate,e))}getParent(){$s("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new IL(this.database,e):null}getRoot(){return $s("Reference.root",0,0,arguments.length),new IL(this.database,this._delegate.root)}set(e,t){$s("Reference.set",1,2,arguments.length),Us("Reference.set","onComplete",t,!0);const n=jM(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}update(e,t){if($s("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,CL("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}zD("Reference.update",this._delegate._path),Us("Reference.update","onComplete",t,!0);const n=$M(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){$s("Reference.setWithPriority",2,3,arguments.length),Us("Reference.setWithPriority","onComplete",n,!0);const r=function(e,t,n){if(zD("setWithPriority",e._path),LD("setWithPriority",t,e._path,!1),$D("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new us;return oM(e._repo,e._path,t,n,r.wrapCallback((()=>{}))),r.promise}(this._delegate,e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}remove(e){$s("Reference.remove",0,1,arguments.length),Us("Reference.remove","onComplete",e,!0);const t=function(e){return zD("remove",e._path),jM(e,null)}(this._delegate);return e&&t.then((()=>e(null)),(t=>e(t))),t}transaction(e,t,n){$s("Reference.transaction",1,3,arguments.length),Us("Reference.transaction","transactionUpdate",e,!1),Us("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Bs(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);const r=_L(this._delegate,e,{applyLocally:n}).then((e=>new SL(e.committed,new kL(this.database,e.snapshot))));return t&&r.then((e=>t(null,e.committed,e.snapshot)),(e=>t(e,!1,null))),r}setPriority(e,t){$s("Reference.setPriority",1,2,arguments.length),Us("Reference.setPriority","onComplete",t,!0);const n=function(e,t){e=qs(e),zD("setPriority",e._path),$D("setPriority",t,!1);const n=new us;return oM(e._repo,_P(e._path,".priority"),t,null,n.wrapCallback((()=>{}))),n.promise}(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}push(e,t){$s("Reference.push",0,2,arguments.length),Us("Reference.push","onComplete",t,!0);const n=function(e,t){e=qs(e),zD("push",e._path),LD("push",t,e._path,!0);const n=ZD(e._repo),r=xM(n),i=FM(e,r),o=FM(e,r);let s;return s=null!=t?jM(o,t).then((()=>o)):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(this._delegate,e),r=n.then((e=>new IL(this.database,e)));t&&r.then((()=>t(null)),(e=>t(e)));const i=new IL(this.database,n);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return zD("Reference.onDisconnect",this._delegate._path),new xL(new IM(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class OL{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:pL,forceLongPolling:gL}}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};mL(this._delegate,e,t,n)}ref(e){if($s("database.ref",0,1,arguments.length),e instanceof IL){const t=LM(this._delegate,e.toString());return new IL(this,t)}{const t=MM(this._delegate,e);return new IL(this,t)}}refFromURL(e){$s("database.refFromURL",1,1,arguments.length);const t=LM(this._delegate,e);return new IL(this,t)}goOffline(){return $s("database.goOffline",0,0,arguments.length),function(e){(e=qs(e))._checkNotDeleted("goOffline"),cM(e._repo)}(this._delegate)}goOnline(){return $s("database.goOnline",0,0,arguments.length),vL(this._delegate)}}OL.ServerValue={TIMESTAMP:bL,increment:e=>function(e){return{".sv":{increment:e}}}(e)};var NL=Object.freeze({__proto__:null,initStandalone:function(e){let{app:t,url:n,version:r,customAuthImpl:i,namespace:o,nodeAdmin:s=!1}=e;uN(r);const a=new Gs("auth-internal",new Qs("database-standalone"));return a.setComponent(new Hs("auth-internal",(()=>i),"PRIVATE")),{instance:new OL(dL(t,a,void 0,n,s),t),namespace:o}}});const PL=OL.ServerValue;!function(e){e.INTERNAL.registerComponent(new Hs("database-compat",((e,t)=>{let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new OL(i,r)}),"PUBLIC").setServiceProps({Reference:IL,Query:TL,Database:OL,DataSnapshot:kL,enableLogging:yL,INTERNAL:NL,ServerValue:PL}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.3.4")}(Tl);const RL="firebasestorage.googleapis.com",AL="storageBucket";class DL extends ws{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(FL(e),`Firebase Storage: ${t} (${FL(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,DL.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return FL(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var ML,LL;function FL(e){return"storage/"+e}function jL(){return new DL(ML.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function $L(){return new DL(ML.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BL(){return new DL(ML.CANCELED,"User canceled the upload/download.")}function UL(){return new DL(ML.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zL(e){return new DL(ML.INVALID_ARGUMENT,e)}function VL(){return new DL(ML.APP_DELETED,"The Firebase app was deleted.")}function qL(e){return new DL(ML.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function HL(e,t){return new DL(ML.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function WL(e){throw new DL(ML.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ML||(ML={}));class GL{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=GL.makeFromUrl(e,t)}catch(LX){return new GL(e,"")}if(""===n.path)return n;throw r=e,new DL(ML.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===RL?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new GL(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new DL(ML.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class KL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function QL(e){return"string"===typeof e||e instanceof String}function XL(e){return YL()&&e instanceof Blob}function YL(){return"undefined"!==typeof Blob&&!ps()}function JL(e,t,n,r){if(r<t)throw zL(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw zL(`Invalid value for '${e}'. Expected ${n} or less.`)}function ZL(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function eF(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function tF(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(LL||(LL={}));class nF{constructor(e,t,n,r,i,o,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new rF(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===LL.NO_ERROR,i=n.getStatus();if(!t||tF(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===LL.ABORT;return void e(!1,new rF(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new rF(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(LX){r(LX)}else if(null!==i){const e=jL();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?VL():BL())}else{r($L())}};this.canceled_?t(0,new rF(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function g(e){p||(p=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{s=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class rF{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function iF(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function oF(){const e=iF();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(YL())return new Blob(n);throw new DL(ML.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function sF(e){if("undefined"===typeof atob)throw t="base-64",new DL(ML.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const aF={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lF{constructor(e,t){this.data=e,this.contentType=t||null}}function cF(e,t){switch(e){case aF.RAW:return new lF(uF(t));case aF.BASE64:case aF.BASE64URL:return new lF(dF(e,t));case aF.DATA_URL:return new lF(function(e){const t=new hF(e);return t.base64?dF(aF.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(LX){throw HL(aF.DATA_URL,"Malformed data URL.")}return uF(t)}(t.rest)}(t),new hF(t).contentType)}throw jL()}function uF(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function dF(e,t){switch(e){case aF.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw HL(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case aF.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw HL(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=sF(t)}catch(LX){if(LX.message.includes("polyfill"))throw LX;throw HL(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class hF{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw HL(aF.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class fF{constructor(e,t){let n=0,r="";XL(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(XL(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new fF(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new fF(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(YL()){const e=t.map((e=>e instanceof fF?e.data_:e));return new fF(oF.apply(null,e))}{const e=t.map((e=>QL(e)?cF(aF.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new fF(r,!0)}}uploadData(){return this.data_}}function pF(e){let t;try{t=JSON.parse(e)}catch(LX){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function gF(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function mF(e,t){return t}class vF{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||mF}}let yF=null;function bF(){if(yF)return yF;const e=[];e.push(new vF("bucket")),e.push(new vF("generation")),e.push(new vF("metageneration")),e.push(new vF("name","fullPath",!0));const t=new vF("name");t.xform=function(e,t){return function(e){return!QL(e)||e.length<2?e:gF(e)}(t)},e.push(t);const n=new vF("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new vF("timeCreated")),e.push(new vF("updated")),e.push(new vF("md5Hash",null,!0)),e.push(new vF("cacheControl",null,!0)),e.push(new vF("contentDisposition",null,!0)),e.push(new vF("contentEncoding",null,!0)),e.push(new vF("contentLanguage",null,!0)),e.push(new vF("contentType",null,!0)),e.push(new vF("metadata","customMetadata",!0)),yF=e,yF}function wF(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new GL(n,r);return t._makeStorageReference(i)}})}(r,e),r}function _F(e,t,n){const r=pF(t);if(null===r)return null;return wF(e,r,n)}function EF(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const CF="prefixes",xF="items";function SF(e,t,n){const r=pF(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[CF])for(const i of n[CF]){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new GL(t,n));r.prefixes.push(o)}if(n[xF])for(const i of n[xF]){const n=e._makeStorageReference(new GL(t,i.name));r.items.push(n)}return r}(e,t,r)}class kF{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function TF(e){if(!e)throw jL()}function IF(e,t){return function(n,r){const i=_F(e,r,t);return TF(null!==i),i}}function OF(e,t){return function(n,r){const i=_F(e,r,t);return TF(null!==i),function(e,t,n,r){const i=pF(t);if(null===i)return null;if(!QL(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent,a=o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return ZL("/b/"+s(i)+"/o/"+s(o),n,r)+eF({alt:"media",token:t})}));return a[0]}(i,r,e.host,e._protocol)}}function NF(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new DL(ML.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new DL(ML.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new DL(ML.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new DL(ML.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function PF(e){const t=NF(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new DL(ML.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function RF(e,t,n){const r=ZL(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new kF(r,"GET",IF(e,n),i);return o.errorHandler=PF(t),o}function AF(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=ZL(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new kF(s,"GET",function(e,t){return function(n,r){const i=SF(e,t,r);return TF(null!==i),i}}(e,t.bucket),a);return l.urlParams=o,l.errorHandler=NF(t),l}function DF(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function MF(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=DF(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+EF(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=fF.getBlob(c,r,u);if(null===d)throw UL();const h={name:l.fullPath},f=ZL(o,e.host,e._protocol),p=e.maxUploadRetryTime,g=new kF(f,"POST",IF(e,n),p);return g.urlParams=h,g.headers=s,g.body=d.uploadData(),g.errorHandler=NF(t),g}class LF{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function FF(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(LX){TF(!1)}return TF(!!n&&-1!==(t||["active"]).indexOf(n)),n}const jF=262144;function $F(e,t,n,r,i,o,s,a){const l=new LF(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new DL(ML.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,h=d+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},g=r.slice(d,h);if(null===g)throw UL();const m=t.maxUploadRetryTime,v=new kF(n,"POST",(function(e,n){const i=FF(e,["active","final"]),s=l.current+u,a=r.size();let c;return c="final"===i?IF(t,o)(e,n):null,new LF(s,a,"final"===i,c)}),m);return v.headers=p,v.body=g.uploadData(),v.progressCallback=a||null,v.errorHandler=NF(e),v}const BF={STATE_CHANGED:"state_changed"},UF={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zF(e){switch(e){case"running":case"pausing":case"canceling":return UF.RUNNING;case"paused":return UF.PAUSED;case"success":return UF.SUCCESS;case"canceled":return UF.CANCELED;default:return UF.ERROR}}class VF{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function qF(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}class HF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=LL.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=LL.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=LL.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw WL("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw WL("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw WL("cannot .getStatus() before sending");try{return this.xhr_.status}catch(LX){return-1}}getResponse(){if(!this.sent_)throw WL("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw WL("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class WF extends HF{initXhr(){this.xhr_.responseType="text"}}function GF(){return new WF}class KF{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=bF(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(ML.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(tF(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=$L()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(ML.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=DF(t,r,i),a={name:s.fullPath},l=ZL(o,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=EF(s,n),d=e.maxUploadRetryTime,h=new kF(l,"POST",(function(e){let t;FF(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(LX){TF(!1)}return TF(QL(t)),t}),d);return h.urlParams=a,h.headers=c,h.body=u,h.errorHandler=NF(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,GF,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new kF(n,"POST",(function(e){const t=FF(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(LX){TF(!1)}n||TF(!1);const i=Number(n);return TF(!isNaN(i)),new LF(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=NF(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,GF,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=jF*this._chunkMultiplier,t=new LF(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=$F(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(LX){return this._error=LX,void this._transition("error")}const s=this._ref.storage._makeRequest(o,GF,r,i,!1);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(jF*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=RF(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,GF,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=MF(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,GF,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=BL(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=zF(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new VF(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(zF(this._state)){case UF.SUCCESS:qF(this._resolve.bind(null,this.snapshot))();break;case UF.CANCELED:case UF.ERROR:qF(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(zF(this._state)){case UF.RUNNING:case UF.PAUSED:e.next&&qF(e.next.bind(e,this.snapshot))();break;case UF.SUCCESS:e.complete&&qF(e.complete.bind(e))();break;default:e.error&&qF(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class QF{constructor(e,t){this._service=e,this._location=t instanceof GL?t:GL.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new QF(e,t)}get root(){const e=new GL(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gF(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new GL(this._location.bucket,e);return new QF(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw qL(e)}}function XF(e){const t={prefixes:[],items:[]};return YF(e,t).then((()=>t))}async function YF(e,t,n){const r={pageToken:n},i=await JF(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await YF(e,t,i.nextPageToken)}function JF(e,t){null!=t&&"number"===typeof t.maxResults&&JL("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=AF(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,GF)}function ZF(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=ZL(t.fullServerUrl(),e.host,e._protocol),o=EF(n,r),s=e.maxOperationRetryTime,a=new kF(i,"PATCH",IF(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=PF(t),a}(e.storage,e._location,t,bF());return e.storage.makeRequestWithTokens(n,GF)}function ej(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=ZL(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new kF(r,"GET",OF(e,n),i);return o.errorHandler=PF(t),o}(e.storage,e._location,bF());return e.storage.makeRequestWithTokens(t,GF).then((e=>{if(null===e)throw new DL(ML.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function tj(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=ZL(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new kF(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=PF(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,GF)}function nj(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new GL(e._location.bucket,n);return new QF(e.storage,r)}function rj(e,t){if(e instanceof sj){const n=e;if(null==n._bucket)throw new DL(ML.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+AL+"' property when initializing the app?");const r=new QF(n,n._bucket);return null!=t?rj(r,t):r}return void 0!==t?nj(e,t):e}function ij(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof sj)return new QF(e,t);throw zL("To use ref(service, url), the first argument must be a Storage instance.")}return rj(e,t)}function oj(e,t){const n=null===t||void 0===t?void 0:t[AL];return null==n?null:GL.makeFromBucketSpec(n,e)}class sj{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=RL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?GL.makeFromBucketSpec(r,this._host):oj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=GL.makeFromBucketSpec(this._url,e):this._bucket=oj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){JL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){JL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new QF(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new KL(VL());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=eF(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new nF(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const aj="@firebase/storage",lj="0.11.2",cj="storage";function uj(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new KF(e,new fF(t),n)}(e=qs(e),t,n)}function dj(e){return function(e){e._throwIfRoot("getMetadata");const t=RF(e.storage,e._location,bF());return e.storage.makeRequestWithTokens(t,GF)}(e=qs(e))}function hj(e,t){return ij(e=qs(e),t)}function fj(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:ds(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function pj(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new sj(r,i,o,n,ol)}Za(new Hs(cj,pj,"PUBLIC").setMultipleInstances(!0)),ul(aj,lj,""),ul(aj,lj,"esm2017");class gj{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class mj{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new gj(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new gj(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new gj(e,this,this._ref)):{next:t.next?e=>t.next(new gj(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class vj{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new yj(e,this._service)))}get items(){return this._delegate.items.map((e=>new yj(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class yj{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return nj(e,t)}(this._delegate,e);return new yj(t,this.storage)}get root(){return new yj(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new yj(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new mj(uj(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aF.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=cF(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new mj(new KF(this._delegate,new fF(r.data,!0),i),this)}listAll(){return function(e){return XF(e=qs(e))}(this._delegate).then((e=>new vj(e,this.storage)))}list(e){return function(e,t){return JF(e=qs(e),t)}(this._delegate,e||void 0).then((e=>new vj(e,this.storage)))}getMetadata(){return dj(this._delegate)}updateMetadata(e){return function(e,t){return ZF(e=qs(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return ej(e=qs(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return tj(e=qs(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw qL(e)}}class bj{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(wj(e))throw zL("ref() expected a child path but got a URL, use refFromURL instead.");return new yj(hj(this._delegate,e),this)}refFromURL(e){if(!wj(e))throw zL("refFromURL() expected a full URL but got a child path, use ref() instead.");try{GL.makeFromUrl(e,this._delegate.host)}catch(LX){throw zL("refFromUrl() expected a valid full URL but got an invalid one.")}return new yj(hj(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fj(this._delegate,e,t,n)}}function wj(e){return/^[A-Za-z]+:\/\//.test(e)}function _j(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new bj(r,i)}!function(e){const t={TaskState:UF,TaskEvent:BF,StringFormat:aF,Storage:bj,Reference:yj};e.INTERNAL.registerComponent(new Hs("storage-compat",_j,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(Tl);const Ej=Tl.initializeApp({apiKey:"AIzaSyCMAs8cyM68K1JfVseIjU_nNgEeyXBxL-s",authDomain:"financefrenzy-biz.firebaseapp.com",databaseURL:"https://financefrenzy-biz-default-rtdb.firebaseio.com",projectId:"financefrenzy-biz",storageBucket:"financefrenzy-biz.appspot.com",messagingSenderId:"580011627408",appId:"1:580011627408:web:47e0a3be92ebb7c2995915",measurementId:"G-T14QWMKGD7"}),Cj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:al();const t=el(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=el(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Ns(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Wl(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ph,persistence:[Od,hd,pd]}),r=cs("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>jh)return;const r=null===t||void 0===t?void 0:t.token;$h!==r&&($h=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){qs(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){qs(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const o=as("auth");return o&&eu(n,`http://${o}`),n}(Ej);console.log("Firebase initialized");const xj=Ej.firestore(),Sj=Tl,kj=()=>(0,Bn.jsxs)(Bn.Fragment,{children:[(0,Bn.jsx)(Ho,{collapseOnSelect:!0,expand:"lg ",bg:"dark",variant:"dark",fixed:"top",children:(0,Bn.jsxs)(Kn,{className:"container-fluid",children:[(0,Bn.jsxs)(Br.Link,{href:"#hero",children:[" ",(0,Bn.jsx)(Ho.Brand,{children:(0,Bn.jsx)(Mn,{to:"/",children:(0,Bn.jsx)("img",{src:".\\assets\\img\\logo.png",width:"50",height:"50",style:{position:"relative",right:"2rem",top:"0.2rem"},className:"d-inline-block align-top ml-8",alt:"React Bootstrap logo"})})})]}),(0,Bn.jsx)(Ho.Toggle,{"aria-controls":"responsive-navbar-nav",className:"ms-auto m-2 float-sm-left  float-md-left float-lg-left float-xl-left"}),(0,Bn.jsx)(Ho.Collapse,{id:"responsive-navbar-nav",children:(0,Bn.jsxs)(Br,{className:"ms-auto",children:[(0,Bn.jsx)(Br.Link,{href:"#hero",className:"logo",children:(0,Bn.jsx)(Mn,{className:"nav-link",to:"/",children:(0,Bn.jsx)("h1",{className:"logo",children:(0,Bn.jsxs)(Mn,{className:"nav-link",to:"/",children:[(0,Bn.jsxs)("h6",{children:["financeFrenzy ",(0,Bn.jsx)("br",{})," ",(0,Bn.jsx)("span",{style:{fontSize:"6.5px",color:"white",fontWeight:"bolder"},children:"We help build your Dream!"})," "]})," "]})})})}),(0,Bn.jsx)(Br.Link,{href:"#logout",children:(0,Bn.jsx)(Mn,{className:"nav-link",onClick:()=>{Sj.auth().signOut().then((()=>{console.log("Logout successful")})).catch((e=>{console.error("Logout error:",e)}))},to:"/logout",children:(0,Bn.jsx)("h5",{children:"Logout"})})})]})})]})}),(0,Bn.jsx)(Bn.Fragment,{})]});function Tj(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var Ij=n(816);var Oj=function(e,t){"function"===typeof e?e(t):"object"===te(e)&&e&&"current"in e&&(e.current=t)},Nj=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach((function(t){Oj(t,e)}))}},Pj=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e,n,r){var i=t.useRef({});return"value"in i.current&&!r(i.current.condition,n)||(i.current.value=e(),i.current.condition=n),i.current.value}((function(){return Nj.apply(void 0,n)}),n,(function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))}))},Rj=function(e){var t,n,r=(0,Ij.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===Ij.ForwardRef)&&!!("function"!==typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===Ij.ForwardRef)};function Aj(e){return(0,t.isValidElement)(e)&&!(0,Ij.isFragment)(e)}Number(t.version.split(".")[0]);const Dj=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,s=i.height;if(o||s)return!0}}return!1},Mj="ant",Lj=["outlined","borderless","filled"],Fj=t.createContext({getPrefixCls:(e,t)=>t||(e?`${Mj}-${e}`:Mj),iconPrefixCls:"anticon"}),{Consumer:jj}=Fj;function $j(e){return e&&t.isValidElement(e)&&e.type===t.Fragment}function Bj(e,n){return((e,n,r)=>t.isValidElement(e)?t.cloneElement(e,"function"===typeof r?r(e.props||{}):r):n)(e,e,n)}function Uj(e){if(Array.isArray(e))return e}function zj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Vj(e,t){if(e){if("string"==typeof e)return zj(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zj(e,t):void 0}}function qj(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Hj(e,t){return Uj(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||Vj(e,t)||qj()}function Wj(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Gj(e){return function(e){if(Array.isArray(e))return zj(e)}(e)||Wj(e)||Vj(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Kj=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};function Qj(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var Xj="data-rc-order",Yj="data-rc-priority",Jj=new Map;function Zj(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):"rc-util-key"}function e$(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function t$(e){return Array.from((Jj.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function n$(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Qj())return null;var n=t.csp,r=t.prepend,i=t.priority,o=void 0===i?0:i,s=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),a="prependQueue"===s,l=document.createElement("style");l.setAttribute(Xj,s),a&&o&&l.setAttribute(Yj,"".concat(o)),null!==n&&void 0!==n&&n.nonce&&(l.nonce=null===n||void 0===n?void 0:n.nonce),l.innerHTML=e;var c=e$(t),u=c.firstChild;if(r){if(a){var d=(t.styles||t$(c)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(Xj)))return!1;var t=Number(e.getAttribute(Yj)||0);return o>=t}));if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function r$(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e$(t);return(t.styles||t$(n)).find((function(n){return n.getAttribute(Zj(t))===e}))}function i$(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r$(e,t);n&&e$(t).removeChild(n)}function o$(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e$(n),i=t$(r),o=oe(oe({},n),{},{styles:i});!function(e,t){var n=Jj.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=n$("",t),i=r.parentNode;Jj.set(e,i),e.removeChild(r)}}(r,o);var s=r$(t,o);if(s){var a,l,c;if(null!==(a=o.csp)&&void 0!==a&&a.nonce&&s.nonce!==(null===(l=o.csp)||void 0===l?void 0:l.nonce))s.nonce=null===(c=o.csp)||void 0===c?void 0:c.nonce;return s.innerHTML!==e&&(s.innerHTML=e),s}var u=n$(e,o);return u.setAttribute(Zj(o),t),u}var s$={},a$=[];function l$(e,t){}function c$(e,t){}function u$(e,t,n){t||s$[n]||(e(!1,n),s$[n]=!0)}function d$(e,t){u$(l$,e,t)}d$.preMessage=function(e){a$.push(e)},d$.resetWarned=function(){s$={}},d$.noteOnce=function(e,t){u$(c$,e,t)};const h$=d$;const f$=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=r.has(t);if(h$(!s,"Warning: There may be circular references"),s)return!1;if(t===i)return!0;if(n&&o>1)return!1;r.add(t);var a=o+1;if(Array.isArray(t)){if(!Array.isArray(i)||t.length!==i.length)return!1;for(var l=0;l<t.length;l++)if(!e(t[l],i[l],a))return!1;return!0}if(t&&i&&"object"===te(t)&&"object"===te(i)){var c=Object.keys(t);return c.length===Object.keys(i).length&&c.every((function(n){return e(t[n],i[n],a)}))}return!1}(e,t)};function p$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ne(r.key),r)}}function m$(e,t,n){return t&&g$(e.prototype,t),n&&g$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v$(e){return e.join("%")}var y$=function(){function e(t){p$(this,e),re(this,"instanceId",void 0),re(this,"cache",new Map),this.instanceId=t}return m$(e,[{key:"get",value:function(e){return this.opGet(v$(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(v$(e),t)}},{key:"opUpdate",value:function(e,t){var n=t(this.cache.get(e));null===n?this.cache.delete(e):this.cache.set(e,n)}}]),e}();const b$=y$;var w$="data-token-hash",_$="data-css-hash",E$="__cssinjs_instance__";function C$(){var e=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(_$,"]"))||[],n=document.head.firstChild;Array.from(t).forEach((function(t){t[E$]=t[E$]||e,t[E$]===e&&document.head.insertBefore(t,n)}));var r={};Array.from(document.querySelectorAll("style[".concat(_$,"]"))).forEach((function(t){var n,i=t.getAttribute(_$);r[i]?t[E$]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t)):r[i]=!0}))}return new b$(e)}var x$=t.createContext({hashPriority:"low",cache:C$(),defaultCache:!0});const S$=x$;var k$="CALC_UNIT";new RegExp(k$,"g");var T$=function(){function e(){p$(this,e),re(this,"cache",void 0),re(this,"keys",void 0),re(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return m$(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={map:this.cache};return e.forEach((function(e){var t;i?i=null===(t=i)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):i=void 0})),null!==(t=i)&&void 0!==t&&t.value&&r&&(i.value[1]=this.cacheCallTimes++),null===(n=i)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var i=this.keys.reduce((function(e,t){var n=Hj(e,2)[1];return r.internalGet(t)[1]<n?[t,r.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),o=Hj(i,1)[0];this.delete(o)}this.keys.push(t)}var s=this.cache;t.forEach((function(e,i){if(i===t.length-1)s.set(e,{value:[n,r.cacheCallTimes++]});else{var o=s.get(e);o?o.map||(o.map=new Map):s.set(e,{map:new Map}),s=s.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var n,r=e.get(t[0]);if(1===t.length)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),null===(n=r.value)||void 0===n?void 0:n[0];var i=this.deleteByPath(r.map,t.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(t[0]),i}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();re(T$,"MAX_CACHE_SIZE",20),re(T$,"MAX_CACHE_OFFSET",5);var I$=0,O$=function(){function e(t){p$(this,e),re(this,"derivatives",void 0),re(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=I$,0===t.length&&t.length,I$+=1}return m$(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,n){return n(e,t)}),void 0)}}]),e}(),N$=new T$;var P$=new WeakMap,R$={};var A$=new WeakMap;function D$(e){var t=A$.get(e)||"";return t||(Object.keys(e).forEach((function(n){var r=e[n];t+=n,r instanceof O$?t+=r.id:r&&"object"===te(r)?t+=D$(r):t+=r})),t=Kj(t),A$.set(e,t)),t}function M$(e,t){return Kj("".concat(t,"_").concat(D$(e)))}"random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,"");var L$=Qj();function F$(e){return"number"===typeof e?"".concat(e,"px"):e}function j$(e,t,n){var r;if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var i=oe(oe({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},(re(r={},w$,t),re(r,_$,n),r)),o=Object.keys(i).map((function(e){var t=i[e];return t?"".concat(e,'="').concat(t,'"'):null})).filter((function(e){return e})).join(" ");return"<style ".concat(o,">").concat(e,"</style>")}var $$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},B$=function(e,t,n){return Object.keys(e).length?".".concat(t).concat(null!==n&&void 0!==n&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map((function(e){var t=Hj(e,2),n=t[0],r=t[1];return"".concat(n,":").concat(r,";")})).join(""),"}"):""},U$=function(e,t,n){var r={},i={};return Object.entries(e).forEach((function(e){var t,o,s=Hj(e,2),a=s[0],l=s[1];if(null!==n&&void 0!==n&&null!==(t=n.preserve)&&void 0!==t&&t[a])i[a]=l;else if(("string"===typeof l||"number"===typeof l)&&(null===n||void 0===n||null===(o=n.ignore)||void 0===o||!o[a])){var c,u=$$(a,null===n||void 0===n?void 0:n.prefix);r[u]="number"!==typeof l||null!==n&&void 0!==n&&null!==(c=n.unitless)&&void 0!==c&&c[a]?String(l):"".concat(l,"px"),i[a]="var(".concat(u,")")}})),[i,B$(r,t,{scope:null===n||void 0===n?void 0:n.scope})]},z$=Qj()?t.useLayoutEffect:t.useEffect,V$=function(e,n){var r=t.useRef(!0);z$((function(){return e(r.current)}),n),z$((function(){return r.current=!1,function(){r.current=!0}}),[])},q$=function(e,t){V$((function(t){if(!t)return e()}),t)};const H$=V$;var W$=oe({},r).useInsertionEffect;const G$=W$?function(e,t,n){return W$((function(){return e(),t()}),n)}:function(e,n,r){t.useMemo(e,r),H$((function(){return n(!0)}),r)};var K$="undefined"!==typeof oe({},r).useInsertionEffect?function(e){var n=[],r=!1;return t.useEffect((function(){return r=!1,function(){r=!0,n.length&&n.forEach((function(e){return e()}))}}),e),function(e){r||n.push(e)}}:function(){return function(e){e()}};const Q$=K$;const X$=function(){return!1};function Y$(e,n,r,i,o){var s=t.useContext(S$).cache,a=v$([e].concat(Gj(n))),l=Q$([a]),c=(X$(),function(e){s.opUpdate(a,(function(t){var n=Hj(t||[void 0,void 0],2),i=n[0];var o=[void 0===i?0:i,n[1]||r()];return e?e(o):o}))});t.useMemo((function(){c()}),[a]);var u=s.opGet(a)[1];return G$((function(){null===o||void 0===o||o(u)}),(function(e){return c((function(t){var n=Hj(t,2),r=n[0],i=n[1];return e&&0===r&&(null===o||void 0===o||o(u)),[r+1,i]})),function(){s.opUpdate(a,(function(t){var n=Hj(t||[],2),r=n[0],o=void 0===r?0:r,c=n[1];return 0===o-1?(l((function(){!e&&s.opGet(a)||null===i||void 0===i||i(c,!1)})),null):[o-1,c]}))}}),[a]),u}var J$={},Z$=new Map;function eB(e,t){Z$.set(e,(Z$.get(e)||0)-1);var n=Array.from(Z$.keys()),r=n.filter((function(e){return(Z$.get(e)||0)<=0}));n.length-r.length>0&&r.forEach((function(e){!function(e,t){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(w$,'="').concat(e,'"]')).forEach((function(e){var n;e[E$]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))}))}(e,t),Z$.delete(e)}))}var tB="token";function nB(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,t.useContext)(S$),o=i.cache.instanceId,s=i.container,a=r.salt,l=void 0===a?"":a,c=r.override,u=void 0===c?J$:c,d=r.formatToken,h=r.getComputedToken,f=r.cssVar,p=function(e,t){for(var n=P$,r=0;r<t.length;r+=1){var i=t[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(R$)||n.set(R$,e()),n.get(R$)}((function(){return Object.assign.apply(Object,[{}].concat(Gj(n)))}),n),g=D$(p),m=D$(u),v=f?D$(f):"",y=Y$(tB,[l,e.id,g,m,v],(function(){var t,n=h?h(p,u,e):function(e,t,n,r){var i=oe(oe({},n.getDerivativeToken(e)),t);return r&&(i=r(i)),i}(p,u,e,d),r=oe({},n),i="";if(f){var o=Hj(U$(n,f.key,{prefix:f.prefix,ignore:f.ignore,unitless:f.unitless,preserve:f.preserve}),2);n=o[0],i=o[1]}var s=M$(n,l);n._tokenKey=s,r._tokenKey=M$(r,l);var a=null!==(t=null===f||void 0===f?void 0:f.key)&&void 0!==t?t:s;n._themeKey=a,function(e){Z$.set(e,(Z$.get(e)||0)+1)}(a);var c="".concat("css","-").concat(Kj(s));return n._hashId=c,[n,c,r,i,(null===f||void 0===f?void 0:f.key)||""]}),(function(e){eB(e[0]._themeKey,o)}),(function(e){var t=Hj(e,4),n=t[0],r=t[3];if(f&&r){var i=o$(r,Kj("css-variables-".concat(n._themeKey)),{mark:_$,prepend:"queue",attachTo:s,priority:-999});i[E$]=o,i.setAttribute(w$,n._themeKey)}}));return y}const rB={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var iB="comm",oB="rule",sB="decl",aB=Math.abs,lB=String.fromCharCode;Object.assign;function cB(e){return e.trim()}function uB(e,t,n){return e.replace(t,n)}function dB(e,t,n){return e.indexOf(t,n)}function hB(e,t){return 0|e.charCodeAt(t)}function fB(e,t,n){return e.slice(t,n)}function pB(e){return e.length}function gB(e,t){return t.push(e),e}function mB(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function vB(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case sB:return e.return=e.return||e.value;case iB:return"";case"@keyframes":return e.return=e.value+"{"+mB(e.children,r)+"}";case oB:if(!pB(e.value=e.props.join(",")))return""}return pB(n=mB(e.children,r))?e.return=e.value+"{"+n+"}":""}var yB=1,bB=1,wB=0,_B=0,EB=0,CB="";function xB(e,t,n,r,i,o,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:yB,column:bB,length:s,return:"",siblings:a}}function SB(){return EB=_B>0?hB(CB,--_B):0,bB--,10===EB&&(bB=1,yB--),EB}function kB(){return EB=_B<wB?hB(CB,_B++):0,bB++,10===EB&&(bB=1,yB++),EB}function TB(){return hB(CB,_B)}function IB(){return _B}function OB(e,t){return fB(CB,e,t)}function NB(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function PB(e){return yB=bB=1,wB=pB(CB=e),_B=0,[]}function RB(e){return CB="",e}function AB(e){return cB(OB(_B-1,LB(91===e?e+2:40===e?e+1:e)))}function DB(e){for(;(EB=TB())&&EB<33;)kB();return NB(e)>2||NB(EB)>3?"":" "}function MB(e,t){for(;--t&&kB()&&!(EB<48||EB>102||EB>57&&EB<65||EB>70&&EB<97););return OB(e,IB()+(t<6&&32==TB()&&32==kB()))}function LB(e){for(;kB();)switch(EB){case e:return _B;case 34:case 39:34!==e&&39!==e&&LB(EB);break;case 40:41===e&&LB(e);break;case 92:kB()}return _B}function FB(e,t){for(;kB()&&e+EB!==57&&(e+EB!==84||47!==TB()););return"/*"+OB(t,_B-1)+"*"+lB(47===e?e:kB())}function jB(e){for(;!NB(TB());)kB();return OB(e,_B)}function $B(e){return RB(BB("",null,null,null,[""],e=PB(e),0,[0],e))}function BB(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,f=0,p=0,g=1,m=1,v=1,y=0,b="",w=i,_=o,E=r,C=b;m;)switch(p=y,y=kB()){case 40:if(108!=p&&58==hB(C,d-1)){-1!=dB(C+=uB(AB(y),"&","&\f"),"&\f",aB(c?a[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:C+=AB(y);break;case 9:case 10:case 13:case 32:C+=DB(p);break;case 92:C+=MB(IB()-1,7);continue;case 47:switch(TB()){case 42:case 47:gB(zB(FB(kB(),IB()),t,n,l),l),5!=NB(p||1)&&5!=NB(TB()||1)||!pB(C)||" "===fB(C,-1,void 0)||(C+=" ");break;default:C+="/"}break;case 123*g:a[c++]=pB(C)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+u:-1==v&&(C=uB(C,/\f/g,"")),f>0&&(pB(C)-d||0===g&&47===p)&&gB(f>32?VB(C+";",r,n,d-1,l):VB(uB(C," ","")+";",r,n,d-2,l),l);break;case 59:C+=";";default:if(gB(E=UB(C,t,n,c,u,i,a,b,w=[],_=[],d,o),o),123===y)if(0===u)BB(C,t,E,E,w,o,d,a,_);else switch(99===h&&110===hB(C,3)?100:h){case 100:case 108:case 109:case 115:BB(e,E,E,r&&gB(UB(e,E,E,0,0,i,a,b,i,w=[],d,_),_),i,_,d,a,r?w:_);break;default:BB(C,E,E,E,[""],_,0,a,_)}}c=u=f=0,g=v=1,b=C="",d=s;break;case 58:d=1+pB(C),f=p;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==SB())continue;switch(C+=lB(y),y*g){case 38:v=u>0?1:(C+="\f",-1);break;case 44:a[c++]=(pB(C)-1)*v,v=1;break;case 64:45===TB()&&(C+=AB(kB())),h=TB(),u=d=pB(b=C+=jB(IB())),y++;break;case 45:45===p&&2==pB(C)&&(g=0)}}return o}function UB(e,t,n,r,i,o,s,a,l,c,u,d){for(var h=i-1,f=0===i?o:[""],p=function(e){return e.length}(f),g=0,m=0,v=0;g<r;++g)for(var y=0,b=fB(e,h+1,h=aB(m=s[g])),w=e;y<p;++y)(w=cB(m>0?f[y]+" "+b:uB(b,/&\f/g,f[y])))&&(l[v++]=w);return xB(e,t,n,0===i?oB:a,l,c,u,d)}function zB(e,t,n,r){return xB(e,t,n,iB,lB(EB),fB(e,2,-2),0,r)}function VB(e,t,n,r,i){return xB(e,t,n,sB,fB(e,0,r),fB(e,r+1,-1),r,i)}var qB,HB="data-ant-cssinjs-cache-path",WB="_FILE_STYLE__";var GB=!0;function KB(e){return function(){if(!qB&&(qB={},Qj())){var e=document.createElement("div");e.className=HB,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach((function(e){var t=Hj(e.split(":"),2),n=t[0],r=t[1];qB[n]=r}));var n,r=document.querySelector("style[".concat(HB,"]"));r&&(GB=!1,null===(n=r.parentNode)||void 0===n||n.removeChild(r)),document.body.removeChild(e)}}(),!!qB[e]}var QB="_multi_value_";function XB(e){return mB($B(e),vB).replace(/\{%%%\:[^;];}/g,";")}function YB(e,t,n){if(!t)return e;var r=".".concat(t),i="low"===n?":where(".concat(r,")"):r,o=e.split(",").map((function(e){var t,n=e.trim().split(/\s+/),r=n[0]||"",o=(null===(t=r.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[r="".concat(o).concat(i).concat(r.slice(o.length))].concat(Gj(n.slice(1))).join(" ")}));return o.join(",")}var JB=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,o=r.injectHash,s=r.parentSelectors,a=n.hashId,l=n.layer,c=(n.path,n.hashPriority),u=n.transformers,d=void 0===u?[]:u,h=(n.linters,""),f={};function p(t){var r=t.getName(a);if(!f[r]){var i=Hj(e(t.style,n,{root:!1,parentSelectors:s}),1)[0];f[r]="@keyframes ".concat(t.getName(a)).concat(i)}}var g=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){Array.isArray(t)?e(t,n):t&&n.push(t)})),n}(Array.isArray(t)?t:[t]);return g.forEach((function(t){var r="string"!==typeof t||i?t:{};if("string"===typeof r)h+="".concat(r,"\n");else if(r._keyframe)p(r);else{var l=d.reduce((function(e,t){var n;return(null===t||void 0===t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e}),r);Object.keys(l).forEach((function(t){var r=l[t];if("object"!==te(r)||!r||"animationName"===t&&r._keyframe||function(e){return"object"===te(e)&&e&&("_skip_check_"in e||QB in e)}(r)){var u;function _(e,t){var n=e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),r=t;rB[e]||"number"!==typeof r||0===r||(r="".concat(r,"px")),"animationName"===e&&null!==t&&void 0!==t&&t._keyframe&&(p(t),r=t.getName(a)),h+="".concat(n,":").concat(r,";")}var d=null!==(u=null===r||void 0===r?void 0:r.value)&&void 0!==u?u:r;"object"===te(r)&&null!==r&&void 0!==r&&r[QB]&&Array.isArray(d)?d.forEach((function(e){_(t,e)})):_(t,d)}else{var g=!1,m=t.trim(),v=!1;(i||o)&&a?m.startsWith("@")?g=!0:m=YB("&"===m?"":t,a,c):!i||a||"&"!==m&&""!==m||(m="",v=!0);var y=Hj(e(r,n,{root:v,injectHash:g,parentSelectors:[].concat(Gj(s),[m])}),2),b=y[0],w=y[1];f=oe(oe({},f),w),h+="".concat(m).concat(b)}}))}})),i?l&&(h="@layer ".concat(l.name," {").concat(h,"}"),l.dependencies&&(f["@layer ".concat(l.name)]=l.dependencies.map((function(e){return"@layer ".concat(e,", ").concat(l.name,";")})).join("\n"))):h="{".concat(h,"}"),[h,f]};function ZB(e,t){return Kj("".concat(e.join("%")).concat(t))}function eU(){return null}var tU="style";function nU(e,n){var r=e.token,i=e.path,o=e.hashId,s=e.layer,a=e.nonce,l=e.clientOnly,c=e.order,u=void 0===c?0:c,d=t.useContext(S$),h=d.autoClear,p=(d.mock,d.defaultCache),g=d.hashPriority,m=d.container,v=d.ssrInline,y=d.transformers,b=d.linters,w=d.cache,_=d.layer,E=r._tokenKey,C=[E];_&&C.push("layer"),C.push.apply(C,Gj(i));var x=L$;var S=Y$(tU,C,(function(){var e=C.join("|");if(KB(e)){var t=function(e){var t=qB[e],n=null;if(t&&Qj())if(GB)n=WB;else{var r=document.querySelector("style[".concat(_$,'="').concat(qB[e],'"]'));r?n=r.innerHTML:delete qB[e]}return[n,t]}(e),r=Hj(t,2),a=r[0],c=r[1];if(a)return[a,E,c,{},l,u]}var d=n(),h=Hj(JB(d,{hashId:o,hashPriority:g,layer:_?s:void 0,path:i.join("-"),transformers:y,linters:b}),2),f=h[0],p=h[1],m=XB(f),v=ZB(C,m);return[m,E,v,p,l,u]}),(function(e,t){var n=Hj(e,3)[2];(t||h)&&L$&&i$(n,{mark:_$})}),(function(e){var t=Hj(e,4),n=t[0],r=(t[1],t[2]),i=t[3];if(x&&n!==WB){var o={mark:_$,prepend:!_&&"queue",attachTo:m,priority:u},s="function"===typeof a?a():a;s&&(o.csp={nonce:s});var l=[],c=[];Object.keys(i).forEach((function(e){e.startsWith("@layer")?l.push(e):c.push(e)})),l.forEach((function(e){o$(XB(i[e]),"_layer-".concat(e),oe(oe({},o),{},{prepend:!0}))}));var d=o$(n,r,o);d[E$]=w.instanceId,d.setAttribute(w$,E),c.forEach((function(e){o$(XB(i[e]),"_effect-".concat(e),o)}))}})),k=Hj(S,3),T=k[0],I=k[1],O=k[2];return function(e){var n,r;v&&!x&&p?n=t.createElement("style",f({},(re(r={},w$,I),re(r,_$,O),r),{dangerouslySetInnerHTML:{__html:T}})):n=t.createElement(eU,null);return t.createElement(t.Fragment,null,n,e)}}var rU="cssVar";const iU=function(e,n){var r=e.key,i=e.prefix,o=e.unitless,s=e.ignore,a=e.token,l=e.scope,c=void 0===l?"":l,u=(0,t.useContext)(S$),d=u.cache.instanceId,h=u.container,f=a._tokenKey,p=[].concat(Gj(e.path),[r,c,f]),g=Y$(rU,p,(function(){var e=n(),t=Hj(U$(e,r,{prefix:i,unitless:o,ignore:s,scope:c}),2),a=t[0],l=t[1];return[a,l,ZB(p,l),r]}),(function(e){var t=Hj(e,3)[2];L$&&i$(t,{mark:_$})}),(function(e){var t=Hj(e,3),n=t[1],i=t[2];if(n){var o=o$(n,i,{mark:_$,prepend:"queue",attachTo:h,priority:-999});o[E$]=d,o.setAttribute(w$,r)}}));return g};var oU;re(oU={},tU,(function(e,t,n){var r=Hj(e,6),i=r[0],o=r[1],s=r[2],a=r[3],l=r[4],c=r[5],u=(n||{}).plain;if(l)return null;var d=i,h={"data-rc-order":"prependQueue","data-rc-priority":"".concat(c)};return d=j$(i,o,s,h,u),a&&Object.keys(a).forEach((function(e){if(!t[e]){t[e]=!0;var n=j$(XB(a[e]),o,"_effect-".concat(e),h,u);e.startsWith("@layer")?d=n+d:d+=n}})),[c,s,d]})),re(oU,tB,(function(e,t,n){var r=Hj(e,5),i=r[2],o=r[3],s=r[4],a=(n||{}).plain;if(!o)return null;var l=i._tokenKey;return[-999,l,j$(o,s,l,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},a)]})),re(oU,rU,(function(e,t,n){var r=Hj(e,4),i=r[1],o=r[2],s=r[3],a=(n||{}).plain;if(!i)return null;return[-999,o,j$(i,s,o,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},a)]}));var sU=function(){function e(t,n){p$(this,e),re(this,"name",void 0),re(this,"style",void 0),re(this,"_keyframe",!0),this.name=t,this.style=n}return m$(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}();const aU=sU;function lU(e){return e.notSplit=!0,e}lU(["borderTop","borderBottom"]),lU(["borderTop"]),lU(["borderBottom"]),lU(["borderLeft","borderRight"]),lU(["borderLeft"]),lU(["borderRight"]);function cU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&It(e,t)}function dU(e){return dU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dU(e)}function hU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(hU=function(){return!!e})()}function fU(e){var t=hU();return function(){var n,r=dU(e);if(t){var i=dU(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cU(e)}(this,n)}}const pU=m$((function e(){p$(this,e)}));var gU="CALC_UNIT",mU=new RegExp(gU,"g");function vU(e){return"number"===typeof e?"".concat(e).concat(gU):e}var yU=function(e){uU(n,e);var t=fU(n);function n(e,r){var i;p$(this,n),re(cU(i=t.call(this)),"result",""),re(cU(i),"unitlessCssVar",void 0),re(cU(i),"lowPriority",void 0);var o=te(e);return i.unitlessCssVar=r,e instanceof n?i.result="(".concat(e.result,")"):"number"===o?i.result=vU(e):"string"===o&&(i.result=e),i}return m$(n,[{key:"add",value:function(e){return e instanceof n?this.result="".concat(this.result," + ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," + ").concat(vU(e))),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof n?this.result="".concat(this.result," - ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," - ").concat(vU(e))),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof n?this.result="".concat(this.result," * ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," * ").concat(e)),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof n?this.result="".concat(this.result," / ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," / ").concat(e)),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(e){var t=this,n=(e||{}).unit,r=!0;return"boolean"===typeof n?r=n:Array.from(this.unitlessCssVar).some((function(e){return t.result.includes(e)}))&&(r=!1),this.result=this.result.replace(mU,r?"px":""),"undefined"!==typeof this.lowPriority?"calc(".concat(this.result,")"):this.result}}]),n}(pU);const bU=function(e){uU(n,e);var t=fU(n);function n(e){var r;return p$(this,n),re(cU(r=t.call(this)),"result",0),e instanceof n?r.result=e.result:"number"===typeof e&&(r.result=e),r}return m$(n,[{key:"add",value:function(e){return e instanceof n?this.result+=e.result:"number"===typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof n?this.result-=e.result:"number"===typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof n?this.result*=e.result:"number"===typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof n?this.result/=e.result:"number"===typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}]),n}(pU);const wU=function(e,t){var n="css"===e?yU:bU;return function(e){return new n(e,t)}};const _U=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function EU(e){var n=t.useRef();n.current=e;var r=t.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return r}function CU(e){var n=t.useRef(!1),r=Hj(t.useState(e),2),i=r[0],o=r[1];return t.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[i,function(e,t){t&&n.current||o(e)}]}function xU(e){return void 0!==e}function SU(e,t){var n=t||{},r=n.defaultValue,i=n.value,o=n.onChange,s=n.postState,a=Hj(CU((function(){return xU(i)?i:xU(r)?"function"===typeof r?r():r:"function"===typeof e?e():e})),2),l=a[0],c=a[1],u=void 0!==i?i:l,d=s?s(u):u,h=EU(o),f=Hj(CU([u]),2),p=f[0],g=f[1];return q$((function(){var e=p[0];l!==e&&h(l,e)}),[p]),q$((function(){xU(i)||c(i)}),[i]),[d,EU((function(e,t){c(e,t),g([u],t)}))]}function kU(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function TU(e,t,n,r){if(!t.length)return n;var i,o=function(e){return Uj(e)||Wj(e)||Vj(e)||qj()}(t),s=o[0],a=o.slice(1);return i=e||"number"!==typeof s?Array.isArray(e)?Gj(e):oe({},e):[],r&&void 0===n&&1===a.length?delete i[s][a[0]]:i[s]=TU(i[s],a,n,r),i}function IU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!kU(e,t.slice(0,-1))?e:TU(e,t,n,r)}function OU(e){return Array.isArray(e)?[]:{}}var NU="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function PU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=OU(t[0]);return t.forEach((function(e){!function t(n,i){var o,s=new Set(i),a=kU(e,n),l=Array.isArray(a);if(l||"object"===te(o=a)&&null!==o&&Object.getPrototypeOf(o)===Object.prototype){if(!s.has(a)){s.add(a);var c=kU(r,n);l?r=IU(r,n,[]):c&&"object"===te(c)||(r=IU(r,n,OU(a))),NU(a).forEach((function(e){t([].concat(Gj(n),[e]),s)}))}}else r=IU(r,n,a)}([])})),r}const RU=function(e,t,n,r){var i=oe({},t[e]);null!==r&&void 0!==r&&r.deprecatedTokens&&r.deprecatedTokens.forEach((function(e){var t,n=Hj(e,2),r=n[0],o=n[1];(null!==i&&void 0!==i&&i[r]||null!==i&&void 0!==i&&i[o])&&(null!==(t=i[o])&&void 0!==t||(i[o]=null===i||void 0===i?void 0:i[r]))}));var o=oe(oe({},n),i);return Object.keys(o).forEach((function(e){o[e]===t[e]&&delete o[e]})),o};var AU="undefined"!==typeof CSSINJS_STATISTIC,DU=!0;function MU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!AU)return Object.assign.apply(Object,[{}].concat(t));DU=!1;var r={};return t.forEach((function(e){"object"===te(e)&&Object.keys(e).forEach((function(t){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){return e[t]}})}))})),DU=!0,r}var LU={};function FU(){}const jU=function(e){var t,n=e,r=FU;return AU&&"undefined"!==typeof Proxy&&(t=new Set,n=new Proxy(e,{get:function(e,n){var r;DU&&(null===(r=t)||void 0===r||r.add(n));return e[n]}}),r=function(e,n){var r;LU[e]={global:Array.from(t),component:oe(oe({},null===(r=LU[e])||void 0===r?void 0:r.component),n)}}),{token:n,keys:t,flush:r}};const $U=function(e,t,n){var r;return"function"===typeof n?n(MU(t,null!==(r=t[e])&&void 0!==r?r:{})):null!==n&&void 0!==n?n:{}};const BU=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"max(".concat(t.map((function(e){return F$(e)})).join(","),")")},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"min(".concat(t.map((function(e){return F$(e)})).join(","),")")}}};var UU=function(){function e(){p$(this,e),re(this,"map",new Map),re(this,"objectIDMap",new WeakMap),re(this,"nextID",0),re(this,"lastAccessBeat",new Map),re(this,"accessBeat",0)}return m$(e,[{key:"set",value:function(e,t){this.clear();var n=this.getCompositeKey(e);this.map.set(n,t),this.lastAccessBeat.set(n,Date.now())}},{key:"get",value:function(e){var t=this.getCompositeKey(e),n=this.map.get(t);return this.lastAccessBeat.set(t,Date.now()),this.accessBeat+=1,n}},{key:"getCompositeKey",value:function(e){var t=this,n=e.map((function(e){return e&&"object"===te(e)?"obj_".concat(t.getObjectID(e)):"".concat(te(e),"_").concat(e)}));return n.join("|")}},{key:"getObjectID",value:function(e){if(this.objectIDMap.has(e))return this.objectIDMap.get(e);var t=this.nextID;return this.objectIDMap.set(e,t),this.nextID+=1,t}},{key:"clear",value:function(){var e=this;if(this.accessBeat>1e4){var t=Date.now();this.lastAccessBeat.forEach((function(n,r){t-n>6e5&&(e.map.delete(r),e.lastAccessBeat.delete(r))})),this.accessBeat=0}}}]),e}(),zU=new UU;const VU=function(e,n){return t.useMemo((function(){var t=zU.get(n);if(t)return t;var r=e();return zU.set(n,r),r}),n)};const qU=function(){return{}};const HU=function(e){var n=e.useCSP,r=void 0===n?qU:n,i=e.useToken,o=e.usePrefix,s=e.getResetStyles,a=e.getCommonStyle,l=e.getCompUnitless;function c(t,n,l){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=Array.isArray(t)?t:[t,t],d=Hj(u,1)[0],h=u.join("-"),f=e.layer||{name:"antd"};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,u=i(),p=u.theme,g=u.realToken,m=u.hashId,v=u.token,y=u.cssVar,b=o(),w=b.rootPrefixCls,_=b.iconPrefixCls,E=r(),C=y?"css":"js",x=VU((function(){var e=new Set;return y&&Object.keys(c.unitless||{}).forEach((function(t){e.add($$(t,y.prefix)),e.add($$(t,_U(d,y.prefix)))})),wU(C,e)}),[C,d,null===y||void 0===y?void 0:y.prefix]),S=BU(C),k=S.max,T=S.min,I={theme:p,token:v,hashId:m,nonce:function(){return E.nonce},clientOnly:c.clientOnly,layer:f,order:c.order||-999};nU(oe(oe({},I),{},{clientOnly:!1,path:["Shared",w]}),(function(){return"function"===typeof s?s(v):[]}));var O=nU(oe(oe({},I),{},{path:[h,e,_]}),(function(){if(!1===c.injectStyle)return[];var r=jU(v),i=r.token,o=r.flush,s=$U(d,g,l),u=".".concat(e),h=RU(d,g,s,{deprecatedTokens:c.deprecatedTokens});y&&s&&"object"===te(s)&&Object.keys(s).forEach((function(e){s[e]="var(".concat($$(e,_U(d,y.prefix)),")")}));var f=MU(i,{componentCls:u,prefixCls:e,iconCls:".".concat(_),antCls:".".concat(w),calc:x,max:k,min:T},y?s:h),p=n(f,{hashId:m,prefixCls:e,rootPrefixCls:w,iconPrefixCls:_});o(d,h);var b="function"===typeof a?a(f,e,t,c.resetFont):null;return[!1===c.resetStyle?null:b,p]}));return[O,m]}}return{genStyleHooks:function(e,n,r,o){var s=Array.isArray(e)?e[0]:e;function a(e){return"".concat(String(s)).concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))}var u=(null===o||void 0===o?void 0:o.unitless)||{},d=oe(oe({},"function"===typeof l?l(e):{}),{},re({},a("zIndexPopup"),!0));Object.keys(u).forEach((function(e){d[a(e)]=u[e]}));var h=oe(oe({},o),{},{unitless:d,prefixToken:a}),f=c(e,n,r,h),p=function(e,n,r){var o=r.unitless,s=r.injectStyle,a=void 0===s||s,l=r.prefixToken,c=r.ignore,u=function(t){var s=t.rootCls,a=t.cssVar,u=void 0===a?{}:a,d=i().realToken;return iU({path:[e],prefix:u.prefix,key:u.key,unitless:o,ignore:c,token:d,scope:s},(function(){var t=$U(e,d,n),i=RU(e,d,t,{deprecatedTokens:null===r||void 0===r?void 0:r.deprecatedTokens});return Object.keys(t).forEach((function(e){i[l(e)]=i[e],delete i[e]})),i})),null},d=function(n){var r=i().cssVar;return[function(i){return a&&r?t.createElement(t.Fragment,null,t.createElement(u,{rootCls:n,cssVar:r,component:e}),i):i},null===r||void 0===r?void 0:r.key]};return d}(s,r,h);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=Hj(f(e,t),2)[1],r=Hj(p(t),2);return[r[0],n,r[1]]}},genSubStyleComponent:function(e,t,n){var r=c(e,t,n,oe({resetStyle:!1,order:-998},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}));return function(e){var t=e.prefixCls,n=e.rootCls;return r(t,void 0===n?t:n),null}},genComponentStyleHook:c}},WU=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},GU=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),KU=e=>({outline:`${F$(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),QU=e=>({"&:focus-visible":Object.assign({},KU(e))});function XU(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function YU(e){return Math.min(1,Math.max(0,e))}function JU(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function ZU(e){return e<=1?"".concat(100*Number(e),"%"):e}function ez(e){return 1===e.length?"0"+e:String(e)}function tz(e,t,n){e=XU(e,255),t=XU(t,255),n=XU(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,s=0,a=(r+i)/2;if(r===i)s=0,o=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}return{h:o,s:s,l:a}}function nz(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function rz(e,t,n){e=XU(e,255),t=XU(t,255),n=XU(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,s=r,a=r-i,l=0===r?0:a/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/a+(t<n?6:0);break;case t:o=(n-e)/a+2;break;case n:o=(e-t)/a+4}o/=6}return{h:o,s:l,v:s}}function iz(e,t,n,r){var i=[ez(Math.round(e).toString(16)),ez(Math.round(t).toString(16)),ez(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function oz(e){return Math.round(255*parseFloat(e)).toString(16)}function sz(e){return az(e)/255}function az(e){return parseInt(e,16)}var lz={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function cz(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return"string"===typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(lz[e])e=lz[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=fz.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=fz.rgba.exec(e),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=fz.hsl.exec(e),n)return{h:n[1],s:n[2],l:n[3]};if(n=fz.hsla.exec(e),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=fz.hsv.exec(e),n)return{h:n[1],s:n[2],v:n[3]};if(n=fz.hsva.exec(e),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=fz.hex8.exec(e),n)return{r:az(n[1]),g:az(n[2]),b:az(n[3]),a:sz(n[4]),format:t?"name":"hex8"};if(n=fz.hex6.exec(e),n)return{r:az(n[1]),g:az(n[2]),b:az(n[3]),format:t?"name":"hex"};if(n=fz.hex4.exec(e),n)return{r:az(n[1]+n[1]),g:az(n[2]+n[2]),b:az(n[3]+n[3]),a:sz(n[4]+n[4]),format:t?"name":"hex8"};if(n=fz.hex3.exec(e),n)return{r:az(n[1]+n[1]),g:az(n[2]+n[2]),b:az(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(pz(e.r)&&pz(e.g)&&pz(e.b)?(t=function(e,t,n){return{r:255*XU(e,255),g:255*XU(t,255),b:255*XU(n,255)}}(e.r,e.g,e.b),s=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):pz(e.h)&&pz(e.s)&&pz(e.v)?(r=ZU(e.s),i=ZU(e.v),t=function(e,t,n){e=6*XU(e,360),t=XU(t,100),n=XU(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6;return{r:255*[n,s,o,o,a,n][l],g:255*[a,n,n,s,o,o][l],b:255*[o,o,a,n,n,s][l]}}(e.h,r,i),s=!0,a="hsv"):pz(e.h)&&pz(e.s)&&pz(e.l)&&(r=ZU(e.s),o=ZU(e.l),t=function(e,t,n){var r,i,o;if(e=XU(e,360),t=XU(t,100),n=XU(n,100),0===t)i=n,o=n,r=n;else{var s=n<.5?n*(1+t):n+t-n*t,a=2*n-s;r=nz(a,s,e+1/3),i=nz(a,s,e),o=nz(a,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=JU(n),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var uz="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),dz="[\\s|\\(]+(".concat(uz,")[,|\\s]+(").concat(uz,")[,|\\s]+(").concat(uz,")\\s*\\)?"),hz="[\\s|\\(]+(".concat(uz,")[,|\\s]+(").concat(uz,")[,|\\s]+(").concat(uz,")[,|\\s]+(").concat(uz,")\\s*\\)?"),fz={CSS_UNIT:new RegExp(uz),rgb:new RegExp("rgb"+dz),rgba:new RegExp("rgba"+hz),hsl:new RegExp("hsl"+dz),hsla:new RegExp("hsla"+hz),hsv:new RegExp("hsv"+dz),hsva:new RegExp("hsva"+hz),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function pz(e){return Boolean(fz.CSS_UNIT.exec(String(e)))}var gz=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function mz(e){var t=rz(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function vz(e){var t=e.r,n=e.g,r=e.b;return"#".concat(iz(t,n,r,!1))}function yz(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function bz(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function wz(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function _z(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=cz(e),i=5;i>0;i-=1){var o=mz(r),s=vz(cz({h:yz(o,i,!0),s:bz(o,i,!0),v:wz(o,i,!0)}));n.push(s)}n.push(vz(r));for(var a=1;a<=4;a+=1){var l=mz(r),c=vz(cz({h:yz(l,a),s:bz(l,a),v:wz(l,a)}));n.push(c)}return"dark"===t.theme?gz.map((function(e){var r=e.index,i=e.opacity,o=vz(function(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}(cz(t.backgroundColor||"#141414"),cz(n[r]),100*i));return o})):n}var Ez={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Cz=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Cz.primary=Cz[5];var xz=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];xz.primary=xz[5];var Sz=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];Sz.primary=Sz[5];var kz=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];kz.primary=kz[5];var Tz=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Tz.primary=Tz[5];var Iz=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Iz.primary=Iz[5];var Oz=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Oz.primary=Oz[5];var Nz=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Nz.primary=Nz[5];var Pz=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Pz.primary=Pz[5];var Rz=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Rz.primary=Rz[5];var Az=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Az.primary=Az[5];var Dz=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Dz.primary=Dz[5];var Mz=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Mz.primary=Mz[5];var Lz={red:Cz,volcano:xz,orange:Sz,gold:kz,yellow:Tz,lime:Iz,green:Oz,cyan:Nz,blue:Pz,geekblue:Rz,purple:Az,magenta:Dz,grey:Mz},Fz=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];Fz.primary=Fz[5];var jz=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];jz.primary=jz[5];var $z=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];$z.primary=$z[5];var Bz=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];Bz.primary=Bz[5];var Uz=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];Uz.primary=Uz[5];var zz=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];zz.primary=zz[5];var Vz=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];Vz.primary=Vz[5];var qz=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];qz.primary=qz[5];var Hz=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];Hz.primary=Hz[5];var Wz=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];Wz.primary=Wz[5];var Gz=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];Gz.primary=Gz[5];var Kz=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];Kz.primary=Kz[5];var Qz=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];Qz.primary=Qz[5];const Xz={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Yz=Object.assign(Object.assign({},Xz),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});var Jz=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=cz(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=JU(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=rz(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=rz(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=tz(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=tz(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),iz(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,i){var o=[ez(Math.round(e).toString(16)),ez(Math.round(t).toString(16)),ez(Math.round(n).toString(16)),ez(oz(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*XU(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*XU(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+iz(this.r,this.g,this.b,!1),t=0,n=Object.entries(lz);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=YU(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=YU(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=YU(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=YU(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),o=n/100;return new e({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(new e({h:r,s:i,v:o})),o=(o+a)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),i=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],o=360/t,s=1;s<t;s++)i.push(new e({h:(r+s*o)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();const Zz=e=>{let t=e,n=e,r=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:i}};const eV=e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}};function tV(e){return(e+8)/e}const nV=e=>{const t=function(e){const t=new Array(10).fill(null).map(((t,n)=>{const r=n-1,i=e*Math.pow(Math.E,r/5),o=n>1?Math.floor(i):Math.ceil(i);return 2*Math.floor(o/2)}));return t[1]=e,t.map((e=>({size:e,lineHeight:tV(e)})))}(e),n=t.map((e=>e.size)),r=t.map((e=>e.lineHeight)),i=n[1],o=n[0],s=n[2],a=r[1],l=r[0],c=r[2];return{fontSizeSM:o,fontSize:i,fontSizeLG:s,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:a,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(a*i),fontHeightLG:Math.round(c*s),fontHeightSM:Math.round(l*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};const rV=(e,t)=>new Jz(e).setAlpha(t).toRgbString(),iV=(e,t)=>new Jz(e).darken(t).toHexString(),oV=e=>{const t=_z(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},sV=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:rV(r,.88),colorTextSecondary:rV(r,.65),colorTextTertiary:rV(r,.45),colorTextQuaternary:rV(r,.25),colorFill:rV(r,.15),colorFillSecondary:rV(r,.06),colorFillTertiary:rV(r,.04),colorFillQuaternary:rV(r,.02),colorBgSolid:rV(r,1),colorBgSolidHover:rV(r,.75),colorBgSolidActive:rV(r,.95),colorBgLayout:iV(n,4),colorBgContainer:iV(n,0),colorBgElevated:iV(n,0),colorBgSpotlight:rV(r,.85),colorBgBlur:"transparent",colorBorder:iV(n,15),colorBorderSecondary:iV(n,6)}};const aV=function(e){var t=Array.isArray(e)?e:[e];return N$.has(t)||N$.set(t,new O$(t)),N$.get(t)}((function(e){Ez.pink=Ez.magenta,Lz.pink=Lz.magenta;const t=Object.keys(Xz).map((t=>{const n=e[t]===Ez[t]?Lz[t]:_z(e[t]);return new Array(10).fill(1).reduce(((e,r,i)=>(e[`${t}-${i+1}`]=n[i],e[`${t}${i+1}`]=n[i],e)),{})})).reduce(((e,t)=>e=Object.assign(Object.assign({},e),t)),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=t;const{colorSuccess:i,colorWarning:o,colorError:s,colorInfo:a,colorPrimary:l,colorBgBase:c,colorTextBase:u}=e,d=n(l),h=n(i),f=n(o),p=n(s),g=n(a),m=r(c,u),v=n(e.colorLink||e.colorInfo),y=new Jz(p[1]).mix(new Jz(p[3]),50).toHexString();return Object.assign(Object.assign({},m),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:h[1],colorSuccessBgHover:h[2],colorSuccessBorder:h[3],colorSuccessBorderHover:h[4],colorSuccessHover:h[4],colorSuccess:h[6],colorSuccessActive:h[7],colorSuccessTextHover:h[8],colorSuccessText:h[9],colorSuccessTextActive:h[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBgFilledHover:y,colorErrorBgActive:p[3],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:f[1],colorWarningBgHover:f[2],colorWarningBorder:f[3],colorWarningBorderHover:f[4],colorWarningHover:f[4],colorWarning:f[6],colorWarningActive:f[7],colorWarningTextHover:f[8],colorWarningText:f[9],colorWarningTextActive:f[10],colorInfoBg:g[1],colorInfoBgHover:g[2],colorInfoBorder:g[3],colorInfoBorderHover:g[4],colorInfoHover:g[4],colorInfo:g[6],colorInfoActive:g[7],colorInfoTextHover:g[8],colorInfoText:g[9],colorInfoTextActive:g[10],colorLinkHover:v[4],colorLink:v[6],colorLinkActive:v[7],colorBgMask:new Jz("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:oV,generateNeutralColorPalettes:sV})),nV(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),eV(e)),function(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:i}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+2*t).toFixed(1)}s`,motionDurationSlow:`${(n+3*t).toFixed(1)}s`,lineWidthBold:i+1},Zz(r))}(e))})),lV={token:Yz,override:{override:Yz},hashed:!0},cV=t.createContext(lV);function uV(e){return e>=0&&e<=255}const dV=function(e,t){const{r:n,g:r,b:i,a:o}=new Jz(e).toRgb();if(o<1)return e;const{r:s,g:a,b:l}=new Jz(t).toRgb();for(let c=.01;c<=1;c+=.01){const e=Math.round((n-s*(1-c))/c),t=Math.round((r-a*(1-c))/c),o=Math.round((i-l*(1-c))/c);if(uV(e)&&uV(t)&&uV(o))return new Jz({r:e,g:t,b:o,a:Math.round(100*c)/100}).toRgbString()}return new Jz({r:n,g:r,b:i,a:1}).toRgbString()};var hV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function fV(e){const{override:t}=e,n=hV(e,["override"]),r=Object.assign({},t);Object.keys(Yz).forEach((e=>{delete r[e]}));const i=Object.assign(Object.assign({},n),r),o=1200,s=1600;if(!1===i.motion){const e="0s";i.motionDurationFast=e,i.motionDurationMid=e,i.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:dV(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:dV(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:dV(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:3*i.lineWidth,lineWidth:i.lineWidth,controlOutlineWidth:2*i.lineWidth,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:dV(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:o,screenXLMin:o,screenXLMax:1599,screenXXL:s,screenXXLMin:s,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`\n      0 1px 2px -2px ${new Jz("rgba(0, 0, 0, 0.16)").toRgbString()},\n      0 3px 6px 0 ${new Jz("rgba(0, 0, 0, 0.12)").toRgbString()},\n      0 5px 12px 4px ${new Jz("rgba(0, 0, 0, 0.09)").toRgbString()}\n    `,boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var pV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const gV={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},mV={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},vV={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},yV=(e,t,n)=>{const r=n.getDerivativeToken(e),{override:i}=t,o=pV(t,["override"]);let s=Object.assign(Object.assign({},r),{override:i});return s=fV(s),o&&Object.entries(o).forEach((e=>{let[t,n]=e;const{theme:r}=n,i=pV(n,["theme"]);let o=i;r&&(o=yV(Object.assign(Object.assign({},s),i),{override:i},r)),s[t]=o})),s};function bV(){const{token:e,hashed:n,theme:r,override:i,cssVar:o}=t.useContext(cV),s=`5.22.2-${n||""}`,a=r||aV,[l,c,u]=nB(a,[Yz,e],{salt:s,override:i,getComputedToken:yV,formatToken:fV,cssVar:o&&{prefix:o.prefix,key:o.key,unitless:gV,ignore:mV,preserve:vV}});return[a,u,n?c:"",l,o]}const wV=(e,t)=>{const[n,r]=bV();return nU({theme:n,token:r,hashId:"",path:["ant-design-icons",e],nonce:()=>null===t||void 0===t?void 0:t.nonce,layer:{name:"antd"}},(()=>[{[`.${e}`]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{[`.${e} .${e}-icon`]:{display:"block"}})}]))},{genStyleHooks:_V,genComponentStyleHook:EV,genSubStyleComponent:CV}=HU({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:n}=(0,t.useContext)(Fj);return{rootPrefixCls:e(),iconPrefixCls:n}},useToken:()=>{const[e,t,n,r,i]=bV();return{theme:e,realToken:t,hashId:n,token:r,cssVar:i}},useCSP:()=>{const{csp:e,iconPrefixCls:n}=(0,t.useContext)(Fj);return wV(n,e),null!==e&&void 0!==e?e:{}},getResetStyles:e=>[{"&":GU(e)}],getCommonStyle:(e,t,n,r)=>{const i=`[class^="${t}"], [class*=" ${t}"]`,o=n?`.${n}`:i,s={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let a={};return!1!==r&&(a={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},a),s),{[i]:s})}},getCompUnitless:()=>gV}),xV=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},SV=EV("Wave",(e=>[xV(e)]));var kV=function(e){return+setTimeout(e,16)},TV=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(kV=function(e){return window.requestAnimationFrame(e)},TV=function(e){return window.cancelAnimationFrame(e)});var IV=0,OV=new Map;function NV(e){OV.delete(e)}var PV=function(e){var t=IV+=1;return function n(r){if(0===r)NV(t),e();else{var i=kV((function(){n(r-1)}));OV.set(t,i)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};PV.cancel=function(e){var t=OV.get(e);return NV(e),TV(t)};const RV=PV,AV=`${Mj}-wave-target`;function DV(e){return e instanceof HTMLElement||e instanceof SVGElement}function MV(e){return e&&"object"===te(e)&&DV(e.nativeElement)?e.nativeElement:DV(e)?e:null}function LV(e){var n,r=MV(e);return r||(e instanceof t.Component?null===(n=i.findDOMNode)||void 0===n?void 0:n.call(i,e):null)}var FV=t.createContext({});const jV=function(e){uU(n,e);var t=fU(n);function n(){return p$(this,n),t.apply(this,arguments)}return m$(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component);var $V="none",BV="appear",UV="enter",zV="leave",VV="none",qV="prepare",HV="start",WV="active",GV="end",KV="prepared";function QV(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var XV=function(e,t){var n={animationend:QV("Animation","AnimationEnd"),transitionend:QV("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Qj(),"undefined"!==typeof window?window:{}),YV={};if(Qj()){var JV=document.createElement("div");YV=JV.style}var ZV={};function eq(e){if(ZV[e])return ZV[e];var t=XV[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in YV)return ZV[e]=t[o],ZV[e]}return""}var tq=eq("animationend"),nq=eq("transitionend"),rq=!(!tq||!nq),iq=tq||"animationend",oq=nq||"transitionend";function sq(e,t){if(!e)return null;if("object"===te(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}const aq=Qj()?t.useLayoutEffect:t.useEffect;var lq=[qV,HV,WV,GV],cq=[qV,KV],uq=!1;function dq(e){return e===WV||e===GV}const hq=function(e,n,r){var i=Hj(CU(VV),2),o=i[0],s=i[1],a=function(){var e=t.useRef(null);function n(){RV.cancel(e.current)}return t.useEffect((function(){return function(){n()}}),[]),[function t(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var o=RV((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):t(r,i-1)}));e.current=o},n]}(),l=Hj(a,2),c=l[0],u=l[1];var d=n?cq:lq;return aq((function(){if(o!==VV&&o!==GV){var e=d.indexOf(o),t=d[e+1],n=r(o);n===uq?s(t,!0):t&&c((function(e){function r(){e.isCanceled()||s(t,!0)}!0===n?r():Promise.resolve(n).then(r)}))}}),[e,o]),t.useEffect((function(){return function(){u()}}),[]),[function(){s(qV,!0)},o]};function fq(e,n,r,i){var o=i.motionEnter,s=void 0===o||o,a=i.motionAppear,l=void 0===a||a,c=i.motionLeave,u=void 0===c||c,d=i.motionDeadline,h=i.motionLeaveImmediately,f=i.onAppearPrepare,p=i.onEnterPrepare,g=i.onLeavePrepare,m=i.onAppearStart,v=i.onEnterStart,y=i.onLeaveStart,b=i.onAppearActive,w=i.onEnterActive,_=i.onLeaveActive,E=i.onAppearEnd,C=i.onEnterEnd,x=i.onLeaveEnd,S=i.onVisibleChanged,k=Hj(CU(),2),T=k[0],I=k[1],O=function(e){var n=t.useReducer((function(e){return e+1}),0),r=Hj(n,2)[1],i=t.useRef(e);return[EU((function(){return i.current})),EU((function(e){i.current="function"===typeof e?e(i.current):e,r()}))]}($V),N=Hj(O,2),P=N[0],R=N[1],A=Hj(CU(null),2),D=A[0],M=A[1],L=P(),F=(0,t.useRef)(!1),j=(0,t.useRef)(null);function $(){return r()}var B=(0,t.useRef)(!1);function U(){R($V),M(null,!0)}var z=EU((function(e){var t=P();if(t!==$V){var n=$();if(!e||e.deadline||e.target===n){var r,i=B.current;t===BV&&i?r=null===E||void 0===E?void 0:E(n,e):t===UV&&i?r=null===C||void 0===C?void 0:C(n,e):t===zV&&i&&(r=null===x||void 0===x?void 0:x(n,e)),i&&!1!==r&&U()}}})),V=function(e){var n=(0,t.useRef)();function r(t){t&&(t.removeEventListener(oq,e),t.removeEventListener(iq,e))}return t.useEffect((function(){return function(){r(n.current)}}),[]),[function(t){n.current&&n.current!==t&&r(n.current),t&&t!==n.current&&(t.addEventListener(oq,e),t.addEventListener(iq,e),n.current=t)},r]}(z),q=Hj(V,1)[0],H=function(e){switch(e){case BV:return re(re(re({},qV,f),HV,m),WV,b);case UV:return re(re(re({},qV,p),HV,v),WV,w);case zV:return re(re(re({},qV,g),HV,y),WV,_);default:return{}}},W=t.useMemo((function(){return H(L)}),[L]),G=Hj(hq(L,!e,(function(e){if(e===qV){var t=W[qV];return t?t($()):uq}var n;Q in W&&M((null===(n=W[Q])||void 0===n?void 0:n.call(W,$(),null))||null);return Q===WV&&L!==$V&&(q($()),d>0&&(clearTimeout(j.current),j.current=setTimeout((function(){z({deadline:!0})}),d))),Q===KV&&U(),true})),2),K=G[0],Q=G[1],X=dq(Q);B.current=X,aq((function(){I(n);var t,r=F.current;F.current=!0,!r&&n&&l&&(t=BV),r&&n&&s&&(t=UV),(r&&!n&&u||!r&&h&&!n&&u)&&(t=zV);var i=H(t);t&&(e||i[qV])?(R(t),K()):R($V)}),[n]),(0,t.useEffect)((function(){(L===BV&&!l||L===UV&&!s||L===zV&&!u)&&R($V)}),[l,s,u]),(0,t.useEffect)((function(){return function(){F.current=!1,clearTimeout(j.current)}}),[]);var Y=t.useRef(!1);(0,t.useEffect)((function(){T&&(Y.current=!0),void 0!==T&&L===$V&&((Y.current||T)&&(null===S||void 0===S||S(T)),Y.current=!0)}),[T,L]);var J=D;return W[qV]&&Q===HV&&(J=oe({transition:"none"},J)),[L,Q,J,null!==T&&void 0!==T?T:n]}const pq=function(e){var n=e;"object"===te(e)&&(n=e.transitionSupport);var r=t.forwardRef((function(e,r){var i=e.visible,o=void 0===i||i,s=e.removeOnLeave,a=void 0===s||s,l=e.forceRender,c=e.children,u=e.motionName,d=e.leavedClassName,h=e.eventProps,f=function(e,t){return!(!e.motionName||!n||!1===t)}(e,t.useContext(FV).motion),p=(0,t.useRef)(),g=(0,t.useRef)();var m=Hj(fq(f,o,(function(){try{return p.current instanceof HTMLElement?p.current:LV(g.current)}catch(LX){return null}}),e),4),v=m[0],y=m[1],b=m[2],w=m[3],_=t.useRef(w);w&&(_.current=!0);var E,C=t.useCallback((function(e){p.current=e,Oj(r,e)}),[r]),x=oe(oe({},h),{},{visible:o});if(c)if(v===$V)E=w?c(oe({},x),C):!a&&_.current&&d?c(oe(oe({},x),{},{className:d}),C):l||!a&&!d?c(oe(oe({},x),{},{style:{display:"none"}}),C):null;else{var S;y===qV?S="prepare":dq(y)?S="active":y===HV&&(S="start");var k=sq(u,"".concat(v,"-").concat(S));E=c(oe(oe({},x),{},{className:$n()(sq(u,v),re(re({},k,k&&S),u,"string"===typeof u)),style:b}),C)}else E=null;t.isValidElement(E)&&Rj(E)&&(E.ref||(E=t.cloneElement(E,{ref:C})));return t.createElement(jV,{ref:g},E)}));return r.displayName="CSSMotion",r}(rq);function gq(e,t){if(null==e)return{};var n,r,i=p(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var mq="add",vq="keep",yq="remove",bq="removed";function wq(e){var t;return oe(oe({},t=e&&"object"===te(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function _q(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(wq)}var Eq=["component","children","onVisibleChanged","onAllRemoved"],Cq=["status"],xq=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const Sq=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pq,n=function(n){uU(i,n);var r=fU(i);function i(){var e;p$(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return re(cU(e=r.call.apply(r,[this].concat(n))),"state",{keyEntities:[]}),re(cU(e),"removeKey",(function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:oe(oe({},e),{},{status:bq})}))}}),(function(){0===e.state.keyEntities.filter((function(e){return e.status!==bq})).length&&e.props.onAllRemoved&&e.props.onAllRemoved()}))})),e}return m$(i,[{key:"render",value:function(){var n=this,r=this.state.keyEntities,i=this.props,o=i.component,s=i.children,a=i.onVisibleChanged,l=(i.onAllRemoved,gq(i,Eq)),c=o||t.Fragment,u={};return xq.forEach((function(e){u[e]=l[e],delete l[e]})),delete l.keys,t.createElement(c,l,r.map((function(r,i){var o=r.status,l=gq(r,Cq),c=o===mq||o===vq;return t.createElement(e,f({},u,{key:l.key,visible:c,eventProps:l,onVisibleChanged:function(e){null===a||void 0===a||a(e,{key:l.key}),e||n.removeKey(l.key)}}),(function(e,t){return s(oe(oe({},e),{},{index:i}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=_q(n),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=_q(e),s=_q(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var a=s[o];if(a.key===e.key){r<o&&(n=n.concat(s.slice(r,o).map((function(e){return oe(oe({},e),{},{status:mq})}))),r=o),n.push(oe(oe({},a),{},{status:vq})),r+=1,t=!0;break}}t||n.push(oe(oe({},e),{},{status:yq}))})),r<i&&(n=n.concat(s.slice(r).map((function(e){return oe(oe({},e),{},{status:mq})}))));var a={};n.forEach((function(e){var t=e.key;a[t]=(a[t]||0)+1}));var l=Object.keys(a).filter((function(e){return a[e]>1}));return l.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==yq})),n.forEach((function(t){t.key===e&&(t.status=vq)}))})),n}(r,i);return{keyEntities:o.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==bq||e.status!==yq}))}}}]),i}(t.Component);return re(n,"defaultProps",{component:"div"}),n}(rq),kq=pq;function Tq(){Tq=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,s=Object.create(o.prototype),a=new N(r||[]);return i(s,"_invoke",{value:k(e,n,a)}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function v(){}function y(){}function b(){}var w={};c(w,s,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(P([])));E&&E!==n&&r.call(E,s)&&(w=E);var C=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,s,a){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==te(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function k(t,n,r){var i=h;return function(o,s){if(i===p)throw Error("Generator is already running");if(i===g){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var l=T(a,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?g:f,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function T(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(te(t)+" is not iterable")}return y.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},x(S.prototype),c(S.prototype,a,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new S(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},x(C),c(C,l,"Generator"),c(C,s,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Iq(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,i)}function Oq(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){Iq(o,r,i,s,a,"next",e)}function a(e){Iq(o,r,i,s,a,"throw",e)}s(void 0)}))}}var Nq,Pq=oe({},o),Rq=Pq.version,Aq=Pq.render,Dq=Pq.unmountComponentAtNode;try{Number((Rq||"").split(".")[0])>=18&&(Nq=Pq.createRoot)}catch(LX){}function Mq(e){var t=Pq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===te(t)&&(t.usingClientEntryPoint=e)}var Lq="__rc_react_root__";function Fq(e,t){Nq?function(e,t){Mq(!0);var n=t[Lq]||Nq(t);Mq(!1),n.render(e),t[Lq]=n}(e,t):function(e,t){Aq(e,t)}(e,t)}function jq(e){return $q.apply(this,arguments)}function $q(){return($q=Oq(Tq().mark((function e(t){return Tq().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[Lq])||void 0===e||e.unmount(),delete t[Lq]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bq(e){Dq(e)}function Uq(){return(Uq=Oq(Tq().mark((function e(t){return Tq().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Nq){e.next=2;break}return e.abrupt("return",jq(t));case 2:Bq(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zq(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}function Vq(e){return Number.isNaN(e)?0:e}const qq=e=>{const{className:n,target:r,component:i}=e,o=t.useRef(null),[s,a]=t.useState(null),[l,c]=t.useState([]),[u,d]=t.useState(0),[h,f]=t.useState(0),[p,g]=t.useState(0),[m,v]=t.useState(0),[y,b]=t.useState(!1),w={left:u,top:h,width:p,height:m,borderRadius:l.map((e=>`${e}px`)).join(" ")};function _(){const e=getComputedStyle(r);a(function(e){const{borderTopColor:t,borderColor:n,backgroundColor:r}=getComputedStyle(e);return zq(t)?t:zq(n)?n:zq(r)?r:null}(r));const t="static"===e.position,{borderLeftWidth:n,borderTopWidth:i}=e;d(t?r.offsetLeft:Vq(-parseFloat(n))),f(t?r.offsetTop:Vq(-parseFloat(i))),g(r.offsetWidth),v(r.offsetHeight);const{borderTopLeftRadius:o,borderTopRightRadius:s,borderBottomLeftRadius:l,borderBottomRightRadius:u}=e;c([o,s,u,l].map((e=>Vq(parseFloat(e)))))}if(s&&(w["--wave-color"]=s),t.useEffect((()=>{if(r){const e=RV((()=>{_(),b(!0)}));let t;return"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(_),t.observe(r)),()=>{RV.cancel(e),null===t||void 0===t||t.disconnect()}}}),[]),!y)return null;const E=("Checkbox"===i||"Radio"===i)&&(null===r||void 0===r?void 0:r.classList.contains(AV));return t.createElement(kq,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(e,t)=>{var n;if(t.deadline||"opacity"===t.propertyName){const e=null===(n=o.current)||void 0===n?void 0:n.parentElement;(function(e){return Uq.apply(this,arguments)})(e).then((()=>{null===e||void 0===e||e.remove()}))}return!1}},((e,r)=>{let{className:i}=e;return t.createElement("div",{ref:Nj(o,r),className:$n()(n,i,{"wave-quick":E}),style:w})}))},Hq=(e,n)=>{var r;const{component:i}=n;if("Checkbox"===i&&!(null===(r=e.querySelector("input"))||void 0===r?void 0:r.checked))return;const o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.top="0px",null===e||void 0===e||e.insertBefore(o,null===e||void 0===e?void 0:e.firstChild),Fq(t.createElement(qq,Object.assign({},n,{target:e})),o)},Wq=(e,n,r)=>{const{wave:i}=t.useContext(Fj),[,o,s]=bV(),a=EU((t=>{const a=e.current;if((null===i||void 0===i?void 0:i.disabled)||!a)return;const l=a.querySelector(`.${AV}`)||a,{showEffect:c}=i||{};(c||Hq)(l,{className:n,token:o,component:r,event:t,hashId:s})})),l=t.useRef();return e=>{RV.cancel(l.current),l.current=RV((()=>{a(e)}))}};const Gq=e=>{const{children:n,disabled:r,component:i}=e,{getPrefixCls:o}=(0,t.useContext)(Fj),s=(0,t.useRef)(null),a=o("wave"),[,l]=SV(a),c=Wq(s,$n()(a,l),i);if(t.useEffect((()=>{const e=s.current;if(!e||1!==e.nodeType||r)return;const t=t=>{!Dj(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||c(t)};return e.addEventListener("click",t,!0),()=>{e.removeEventListener("click",t,!0)}}),[r]),!t.isValidElement(n))return null!==n&&void 0!==n?n:null;return Bj(n,{ref:Rj(n)?Nj(n.ref,s):s})},Kq=t.createContext(!1),Qq=e=>{let{children:n,disabled:r}=e;const i=t.useContext(Kq);return t.createElement(Kq.Provider,{value:null!==r&&void 0!==r?r:i},n)},Xq=Kq,Yq=t.createContext(void 0),Jq=Yq,Zq=e=>{const n=t.useContext(Jq);return t.useMemo((()=>e?"string"===typeof e?null!==e&&void 0!==e?e:n:e instanceof Function?e(n):n:n),[e,n])};function eH(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return t.Children.forEach(e,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(eH(e)):(0,Ij.isFragment)(e)&&e.props?r=r.concat(eH(e.props.children,n)):r.push(e))})),r}const tH=t.createContext(null),nH=(e,n)=>{const r=t.useContext(tH),i=t.useMemo((()=>{if(!r)return"";const{compactDirection:t,isFirstItem:i,isLastItem:o}=r,s="vertical"===t?"-vertical-":"-";return $n()(`${e}-compact${s}item`,{[`${e}-compact${s}first-item`]:i,[`${e}-compact${s}last-item`]:o,[`${e}-compact${s}item-rtl`]:"rtl"===n})}),[e,n,r]);return{compactSize:null===r||void 0===r?void 0:r.compactSize,compactDirection:null===r||void 0===r?void 0:r.compactDirection,compactItemClassnames:i}},rH=e=>{let{children:n}=e;return t.createElement(tH.Provider,{value:null},n)};var iH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const oH=t.createContext(void 0),sH=e=>{const{getPrefixCls:n,direction:r}=t.useContext(Fj),{prefixCls:i,size:o,className:s}=e,a=iH(e,["prefixCls","size","className"]),l=n("btn-group",i),[,,c]=bV();let u="";switch(o){case"large":u="lg";break;case"small":u="sm"}const d=$n()(l,{[`${l}-${u}`]:u,[`${l}-rtl`]:"rtl"===r},s,c);return t.createElement(oH.Provider,{value:o},t.createElement("div",Object.assign({},a,{className:d})))},aH=/^[\u4E00-\u9FA5]{2}$/,lH=aH.test.bind(aH);function cH(e){return"string"===typeof e}function uH(e){return"text"===e||"link"===e}function dH(e,n){let r=!1;const i=[];return t.Children.forEach(e,(e=>{const t=typeof e,n="string"===t||"number"===t;if(r&&n){const t=i.length-1,n=i[t];i[t]=`${n}${e}`}else i.push(e);r=n})),t.Children.map(i,(e=>function(e,n){if(null===e||void 0===e)return;const r=n?" ":"";return"string"!==typeof e&&"number"!==typeof e&&cH(e.type)&&lH(e.props.children)?Bj(e,{children:e.props.children.split("").join(r)}):cH(e)?lH(e)?t.createElement("span",null,e.split("").join(r)):t.createElement("span",null,e):$j(e)?t.createElement("span",null,e):e}(e,n)))}const hH=(0,t.forwardRef)(((e,n)=>{const{className:r,style:i,children:o,prefixCls:s}=e,a=$n()(`${s}-icon`,r);return t.createElement("span",{ref:n,className:a,style:i},o)})),fH=hH;const pH={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const gH=(0,t.createContext)({});function mH(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function vH(e){return function(e){return mH(e)instanceof ShadowRoot}(e)?mH(e):null}function yH(e){return"object"===te(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===te(e.icon)||"function"===typeof e.icon)}function bH(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else delete t[n],t[function(e){return e.replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}(n)]=r;return t}),{})}function wH(e,n,r){return r?t.createElement(e.tag,oe(oe({key:n},bH(e.attrs)),r),(e.children||[]).map((function(t,r){return wH(t,"".concat(n,"-").concat(e.tag,"-").concat(r))}))):t.createElement(e.tag,oe({key:n},bH(e.attrs)),(e.children||[]).map((function(t,r){return wH(t,"".concat(n,"-").concat(e.tag,"-").concat(r))})))}function _H(e){return _z(e)[0]}function EH(e){return e?Array.isArray(e)?e:[e]:[]}var CH=["icon","className","onClick","style","primaryColor","secondaryColor"],xH={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var SH=function(e){var n,r,i=e.icon,o=e.className,s=e.onClick,a=e.style,l=e.primaryColor,c=e.secondaryColor,u=gq(e,CH),d=t.useRef(),h=xH;if(l&&(h={primaryColor:l,secondaryColor:c||_H(l)}),function(e){var n=(0,t.useContext)(gH),r=n.csp,i=n.prefixCls,o="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";i&&(o=o.replace(/anticon/g,i)),(0,t.useEffect)((function(){var t=vH(e.current);o$(o,"@ant-design-icons",{prepend:!0,csp:r,attachTo:t})}),[])}(d),n=yH(i),r="icon should be icon definiton, but got ".concat(i),h$(n,"[@ant-design/icons] ".concat(r)),!yH(i))return null;var f=i;return f&&"function"===typeof f.icon&&(f=oe(oe({},f),{},{icon:f.icon(h.primaryColor,h.secondaryColor)})),wH(f.icon,"svg-".concat(f.name),oe(oe({className:o,onClick:s,style:a,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:d}))};SH.displayName="IconReact",SH.getTwoToneColors=function(){return oe({},xH)},SH.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;xH.primaryColor=t,xH.secondaryColor=n||_H(t),xH.calculated=!!n};const kH=SH;function TH(e){var t=Hj(EH(e),2),n=t[0],r=t[1];return kH.setTwoToneColors({primaryColor:n,secondaryColor:r})}var IH=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];TH(Pz.primary);var OH=t.forwardRef((function(e,n){var r=e.className,i=e.icon,o=e.spin,s=e.rotate,a=e.tabIndex,l=e.onClick,c=e.twoToneColor,u=gq(e,IH),d=t.useContext(gH),h=d.prefixCls,p=void 0===h?"anticon":h,g=d.rootClassName,m=$n()(g,p,re(re({},"".concat(p,"-").concat(i.name),!!i.name),"".concat(p,"-spin"),!!o||"loading"===i.name),r),v=a;void 0===v&&l&&(v=-1);var y=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,b=Hj(EH(c),2),w=b[0],_=b[1];return t.createElement("span",f({role:"img","aria-label":i.name},u,{ref:n,tabIndex:v,onClick:l,className:m}),t.createElement(kH,{icon:i,primaryColor:w,secondaryColor:_,style:y}))}));OH.displayName="AntdIcon",OH.getTwoToneColor=function(){var e=kH.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},OH.setTwoToneColor=TH;const NH=OH;var PH=function(e,n){return t.createElement(NH,f({},e,{ref:n,icon:pH}))};const RH=t.forwardRef(PH),AH=(0,t.forwardRef)(((e,n)=>{const{prefixCls:r,className:i,style:o,iconClassName:s}=e,a=$n()(`${r}-loading-icon`,i);return t.createElement(fH,{prefixCls:r,className:a,style:o,ref:n},t.createElement(RH,{className:s}))})),DH=()=>({width:0,opacity:0,transform:"scale(0)"}),MH=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),LH=e=>{const{prefixCls:n,loading:r,existIcon:i,className:o,style:s}=e,a=!!r;return i?t.createElement(AH,{prefixCls:n,className:o,style:s}):t.createElement(kq,{visible:a,motionName:`${n}-loading-icon-motion`,motionLeave:a,removeOnLeave:!0,onAppearStart:DH,onAppearActive:MH,onEnterStart:DH,onEnterActive:MH,onLeaveStart:MH,onLeaveActive:DH},((e,r)=>{let{className:i,style:a}=e;return t.createElement(AH,{prefixCls:n,className:o,style:Object.assign(Object.assign({},s),a),ref:r,iconClassName:i})}))},FH=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),jH=e=>{const{componentCls:t,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:o}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(r).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},FH(`${t}-primary`,i),FH(`${t}-danger`,o)]}},$H=Math.round;function BH(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map((e=>parseFloat(e)));for(let i=0;i<3;i+=1)r[i]=t(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const UH=(e,t,n)=>0===n?e:e/100;function zH(e,t){const n=t||255;return e>n?n:e<0?0:e}class VH{constructor(e){function t(t){return t[0]in e&&t[1]in e&&t[2]in e}if(re(this,"isValid",!0),re(this,"r",0),re(this,"g",0),re(this,"b",0),re(this,"a",1),re(this,"_h",void 0),re(this,"_s",void 0),re(this,"_l",void 0),re(this,"_v",void 0),re(this,"_max",void 0),re(this,"_min",void 0),re(this,"_brightness",void 0),e)if("string"===typeof e){const n=e.trim();function r(e){return n.startsWith(e)}/^#?[A-F\d]{3,8}$/i.test(n)?this.fromHexString(n):r("rgb")?this.fromRgbString(n):r("hsl")?this.fromHslString(n):(r("hsv")||r("hsb"))&&this.fromHsvString(n)}else if(e instanceof VH)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=zH(e.r),this.g=zH(e.g),this.b=zH(e.b),this.a="number"===typeof e.a?zH(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else{if(!t("hsv"))throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e));this.fromHsv(e)}else;}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return.2126*e(this.r)+.7152*e(this.g)+.0722*e(this.b)}getHue(){if("undefined"===typeof this._h){const e=this.getMax()-this.getMin();this._h=0===e?0:$H(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if("undefined"===typeof this._s){const e=this.getMax()-this.getMin();this._s=0===e?0:e/this.getMax()}return this._s}getLightness(){return"undefined"===typeof this._l&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return"undefined"===typeof this._v&&(this._v=this.getMax()/255),this._v}getBrightness(){return"undefined"===typeof this._brightness&&(this._brightness=(299*this.r+587*this.g+114*this.b)/1e3),this._brightness}darken(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()-e/100;return r<0&&(r=0),this._c({h:t,s:n,l:r,a:this.a})}lighten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()+e/100;return r>1&&(r=1),this._c({h:t,s:n,l:r,a:this.a})}mix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;const n=this._c(e),r=t/100,i=e=>(n[e]-this[e])*r+this[e],o={r:$H(i("r")),g:$H(i("g")),b:$H(i("b")),a:$H(100*i("a"))/100};return this._c(o)}tint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:255,g:255,b:255,a:1},e)}shade(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),n=this.a+t.a*(1-this.a),r=e=>$H((this[e]*this.a+t[e]*t.a*(1-this.a))/n);return this._c({r:r("r"),g:r("g"),b:r("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=2===t.length?t:"0"+t;const n=(this.g||0).toString(16);e+=2===n.length?n:"0"+n;const r=(this.b||0).toString(16);if(e+=2===r.length?r:"0"+r,"number"===typeof this.a&&this.a>=0&&this.a<1){const t=$H(255*this.a).toString(16);e+=2===t.length?t:"0"+t}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=$H(100*this.getSaturation()),n=$H(100*this.getLightness());return 1!==this.a?`hsla(${e},${t}%,${n}%,${this.a})`:`hsl(${e},${t}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return 1!==this.a?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,n){const r=this.clone();return r[e]=zH(t,n),r}_c(e){return new this.constructor(e)}getMax(){return"undefined"===typeof this._max&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return"undefined"===typeof this._min&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function n(e,n){return parseInt(t[e]+t[n||e],16)}t.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=t[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=t[6]?n(6,7)/255:1)}fromHsl(e){let{h:t,s:n,l:r,a:i}=e;if(this._h=t%360,this._s=n,this._l=r,this.a="number"===typeof i?i:1,n<=0){const e=$H(255*r);this.r=e,this.g=e,this.b=e}let o=0,s=0,a=0;const l=t/60,c=(1-Math.abs(2*r-1))*n,u=c*(1-Math.abs(l%2-1));l>=0&&l<1?(o=c,s=u):l>=1&&l<2?(o=u,s=c):l>=2&&l<3?(s=c,a=u):l>=3&&l<4?(s=u,a=c):l>=4&&l<5?(o=u,a=c):l>=5&&l<6&&(o=c,a=u);const d=r-c/2;this.r=$H(255*(o+d)),this.g=$H(255*(s+d)),this.b=$H(255*(a+d))}fromHsv(e){let{h:t,s:n,v:r,a:i}=e;this._h=t%360,this._s=n,this._v=r,this.a="number"===typeof i?i:1;const o=$H(255*r);if(this.r=o,this.g=o,this.b=o,n<=0)return;const s=t/60,a=Math.floor(s),l=s-a,c=$H(r*(1-n)*255),u=$H(r*(1-n*l)*255),d=$H(r*(1-n*(1-l))*255);switch(a){case 0:this.g=d,this.b=c;break;case 1:this.r=u,this.b=c;break;case 2:this.r=c,this.b=d;break;case 3:this.r=c,this.g=u;break;case 4:this.r=d,this.g=c;break;default:this.g=c,this.b=u}}fromHsvString(e){const t=BH(e,UH);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=BH(e,UH);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=BH(e,((e,t)=>t.includes("%")?$H(e/100*255):e));this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var qH=["b"],HH=["v"],WH=function(e){return Math.round(Number(e||0))},GH=function(e){uU(n,e);var t=fU(n);function n(e){return p$(this,n),t.call(this,function(e){if(e instanceof VH)return e;if(e&&"object"===te(e)&&"h"in e&&"b"in e){var t=e,n=t.b;return oe(oe({},gq(t,qH)),{},{v:n})}return"string"===typeof e&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e}(e))}return m$(n,[{key:"toHsbString",value:function(){var e=this.toHsb(),t=WH(100*e.s),n=WH(100*e.b),r=WH(e.h),i=e.a,o="hsb(".concat(r,", ").concat(t,"%, ").concat(n,"%)"),s="hsba(".concat(r,", ").concat(t,"%, ").concat(n,"%, ").concat(i.toFixed(0===i?0:2),")");return 1===i?o:s}},{key:"toHsb",value:function(){var e=this.toHsv(),t=e.v;return oe(oe({},gq(e,HH)),{},{b:t,a:this.a})}}]),n}(VH),KH=function(e){return e instanceof GH?e:new GH(e)};KH("#1677ff");let QH=function(){return m$((function e(t){var n;if(p$(this,e),this.cleared=!1,t instanceof e)return this.metaColor=t.metaColor.clone(),this.colors=null===(n=t.colors)||void 0===n?void 0:n.map((t=>({color:new e(t.color),percent:t.percent}))),void(this.cleared=t.cleared);const r=Array.isArray(t);r&&t.length?(this.colors=t.map((t=>{let{color:n,percent:r}=t;return{color:new e(n),percent:r}})),this.metaColor=new GH(this.colors[0].color.metaColor)):this.metaColor=new GH(r?"":t),(!t||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}),[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return e=this.toHexString(),t=this.metaColor.a<1,e?((e,t)=>(null===e||void 0===e?void 0:e.replace(/[^\w/]/g,"").slice(0,t?8:6))||"")(e,t):"";var e,t}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:e}=this;if(e){return`linear-gradient(90deg, ${e.map((e=>`${e.color.toRgbString()} ${e.percent}%`)).join(", ")})`}return this.metaColor.toRgbString()}},{key:"equals",value:function(e){return!(!e||this.isGradient()!==e.isGradient())&&(this.isGradient()?this.colors.length===e.colors.length&&this.colors.every(((t,n)=>{const r=e.colors[n];return t.percent===r.percent&&t.color.equals(r.color)})):this.toHexString()===e.toHexString())}}])}();const XH=(e,t)=>{const{r:n,g:r,b:i,a:o}=e.toRgb(),s=new GH(e.toRgbString()).onBackground(t).toHsv();return o<=.5?s.v>.5:.299*n+.587*r+.114*i>192},YH=e=>{const{paddingInline:t,onlyIconSize:n,paddingBlock:r}=e;return MU(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:r,buttonIconOnlyFontSize:n})},JH=e=>{var t,n,r,i,o,s;const a=null!==(t=e.contentFontSize)&&void 0!==t?t:e.fontSize,l=null!==(n=e.contentFontSizeSM)&&void 0!==n?n:e.fontSize,c=null!==(r=e.contentFontSizeLG)&&void 0!==r?r:e.fontSizeLG,u=null!==(i=e.contentLineHeight)&&void 0!==i?i:tV(a),d=null!==(o=e.contentLineHeightSM)&&void 0!==o?o:tV(l),h=null!==(s=e.contentLineHeightLG)&&void 0!==s?s:tV(c),f=XH(new QH(e.colorBgSolid),"#fff")?"#000":"#fff";return{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:e.fontSizeLG,onlyIconSizeSM:e.fontSizeLG-2,onlyIconSizeLG:e.fontSizeLG+2,groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:f,contentFontSize:a,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:u,contentLineHeightSM:d,contentLineHeightLG:h,paddingBlock:Math.max((e.controlHeight-a*u)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-l*d)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-c*h)/2-e.lineWidth,0)}},ZH=e=>{const{componentCls:t,iconCls:n,fontWeight:r}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${F$(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`> span, ${t}-icon`]:{display:"inline-flex"},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},QU(e)),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},"&-icon-end":{flexDirection:"row-reverse"}}}},eW=(e,t,n)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":n}}),tW=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),nW=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),rW=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),iW=(e,t,n,r,i,o,s,a)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:r||void 0,boxShadow:"none"},eW(e,Object.assign({background:t},s),Object.assign({background:t},a))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:o||void 0}})}),oW=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},rW(e))}),sW=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),aW=(e,t,n,r)=>{const i=r&&["link","text"].includes(r)?sW:oW;return Object.assign(Object.assign({},i(e)),eW(e.componentCls,t,n))},lW=(e,t,n,r,i)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:n},aW(e,r,i))}),cW=(e,t,n,r,i)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:n},aW(e,r,i))}),uW=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),dW=(e,t,n,r)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},aW(e,n,r))}),hW=(e,t,n,r,i)=>({[`&${e.componentCls}-variant-${n}`]:Object.assign({color:t,boxShadow:"none"},aW(e,r,i,n))}),fW=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},lW(e,e.solidTextColor,e.colorBgSolid,{background:e.colorBgSolidHover},{background:e.colorBgSolidActive})),uW(e)),dW(e,e.colorFillTertiary,{background:e.colorFillSecondary},{background:e.colorFill})),hW(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),iW(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),pW=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},cW(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),uW(e)),dW(e,e.colorPrimaryBg,{background:e.colorPrimaryBgHover},{background:e.colorPrimaryBorder})),hW(e,e.colorLink,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),iW(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),gW=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},lW(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),cW(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),uW(e)),dW(e,e.colorErrorBg,{background:e.colorErrorBgFilledHover},{background:e.colorErrorBgActive})),hW(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),hW(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),iW(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),mW=e=>{const{componentCls:t}=e;return{[`${t}-color-default`]:fW(e),[`${t}-color-primary`]:pW(e),[`${t}-color-dangerous`]:gW(e)}},vW=e=>Object.assign(Object.assign(Object.assign(Object.assign({},cW(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),hW(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),lW(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),hW(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),yW=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:i,lineHeight:o,borderRadius:s,buttonPaddingHorizontal:a,iconCls:l,buttonPaddingVertical:c,motionDurationSlow:u,motionEaseInOut:d,buttonIconOnlyFontSize:h,opacityLoading:f}=e;return[{[t]:{fontSize:i,lineHeight:o,height:r,padding:`${F$(c)} ${F$(a)}`,borderRadius:s,[`&${n}-icon-only`]:{width:r,paddingInline:0,[`&${n}-compact-item`]:{flex:"none"},[`&${n}-round`]:{width:"auto"},[l]:{fontSize:h}},[`&${n}-loading`]:{opacity:f,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${u} ${d}, opacity ${u} ${d}`}}},{[`${n}${n}-circle${t}`]:tW(e)},{[`${n}${n}-round${t}`]:nW(e)}]},bW=e=>{const t=MU(e,{fontSize:e.contentFontSize,lineHeight:e.contentLineHeight});return yW(t,e.componentCls)},wW=e=>{const t=MU(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,lineHeight:e.contentLineHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:e.paddingBlockSM,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return yW(t,`${e.componentCls}-sm`)},_W=e=>{const t=MU(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,lineHeight:e.contentLineHeightLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:e.paddingBlockLG,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return yW(t,`${e.componentCls}-lg`)},EW=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},CW=_V("Button",(e=>{const t=YH(e);return[ZH(t),bW(t),wW(t),_W(t),EW(t),mW(t),vW(t),jH(t)]}),JH,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function xW(e,t,n){const{focusElCls:r,focus:i,borderElCls:o}=n,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map((e=>`&:${e} ${s}`)).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function SW(e,t,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function kW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0};const{componentCls:n}=e,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},xW(e,r,t)),SW(n,r,t))}}function TW(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function IW(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},TW(e,t)),(n=e.componentCls,r=t,{[`&-item:not(${r}-first-item):not(${r}-last-item)`]:{borderRadius:0},[`&-item${r}-first-item:not(${r}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${r}-last-item:not(${r}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}))};var n,r}const OW=e=>{const{componentCls:t,colorPrimaryHover:n,lineWidth:r,calc:i}=e,o=i(r).mul(-1).equal(),s=e=>({[`${t}-compact${e?"-vertical":""}-item${t}-primary:not([disabled])`]:{"& + &::before":{position:"absolute",top:e?o:0,insetInlineStart:e?0:o,backgroundColor:n,content:'""',width:e?"100%":r,height:e?r:"100%"}}});return Object.assign(Object.assign({},s()),s(!0))},NW=CV(["Button","compact"],(e=>{const t=YH(e);return[kW(t),IW(t),OW(t)]}),JH);var PW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const RW={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["primary","link"],text:["default","text"]},AW=t.forwardRef(((e,n)=>{var r,i,o,s;const{loading:a=!1,prefixCls:l,color:c,variant:u,type:d,danger:h=!1,shape:f="default",size:p,styles:g,disabled:m,className:v,rootClassName:y,children:b,icon:w,iconPosition:_="start",ghost:E=!1,block:C=!1,htmlType:x="button",classNames:S,style:k={},autoInsertSpace:T,autoFocus:I}=e,O=PW(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),N=d||"default",[P,R]=(0,t.useMemo)((()=>{if(c&&u)return[c,u];const e=RW[N]||[];return h?["danger",e[1]]:e}),[d,c,u,h]),A="danger"===P?"dangerous":P,{getPrefixCls:D,direction:M,button:L}=(0,t.useContext)(Fj),F=null===(r=null!==T&&void 0!==T?T:null===L||void 0===L?void 0:L.autoInsertSpace)||void 0===r||r,j=D("btn",l),[$,B,U]=CW(j),z=(0,t.useContext)(Xq),V=null!==m&&void 0!==m?m:z,q=(0,t.useContext)(oH),H=(0,t.useMemo)((()=>function(e){if("object"===typeof e&&e){let t=null===e||void 0===e?void 0:e.delay;return t=Number.isNaN(t)||"number"!==typeof t?0:t,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}(a)),[a]),[W,G]=(0,t.useState)(H.loading),[K,Q]=(0,t.useState)(!1),X=(0,t.useRef)(),Y=Pj(n,X),J=1===t.Children.count(b)&&!w&&!uH(R);(0,t.useEffect)((()=>{let e=null;return H.delay>0?e=setTimeout((()=>{e=null,G(!0)}),H.delay):G(H.loading),function(){e&&(clearTimeout(e),e=null)}}),[H]),(0,t.useEffect)((()=>{if(!X.current||!F)return;const e=X.current.textContent||"";J&&lH(e)?K||Q(!0):K&&Q(!1)})),(0,t.useEffect)((()=>{I&&X.current&&X.current.focus()}),[]);const Z=t.useCallback((t=>{var n;W||V?t.preventDefault():null===(n=e.onClick)||void 0===n||n.call(e,t)}),[e.onClick,W,V]);const{compactSize:ee,compactItemClassnames:te}=nH(j,M),ne={large:"lg",small:"sm",middle:void 0},re=Zq((e=>{var t,n;return null!==(n=null!==(t=null!==p&&void 0!==p?p:ee)&&void 0!==t?t:q)&&void 0!==n?n:e})),ie=re&&null!==(i=ne[re])&&void 0!==i?i:"",oe=W?"loading":w,se=Tj(O,["navigate"]),ae=$n()(j,B,U,{[`${j}-${f}`]:"default"!==f&&f,[`${j}-${N}`]:N,[`${j}-dangerous`]:h,[`${j}-color-${A}`]:A,[`${j}-variant-${R}`]:R,[`${j}-${ie}`]:ie,[`${j}-icon-only`]:!b&&0!==b&&!!oe,[`${j}-background-ghost`]:E&&!uH(R),[`${j}-loading`]:W,[`${j}-two-chinese-chars`]:K&&F&&!W,[`${j}-block`]:C,[`${j}-rtl`]:"rtl"===M,[`${j}-icon-end`]:"end"===_},te,v,y,null===L||void 0===L?void 0:L.className),le=Object.assign(Object.assign({},null===L||void 0===L?void 0:L.style),k),ce=$n()(null===S||void 0===S?void 0:S.icon,null===(o=null===L||void 0===L?void 0:L.classNames)||void 0===o?void 0:o.icon),ue=Object.assign(Object.assign({},(null===g||void 0===g?void 0:g.icon)||{}),(null===(s=null===L||void 0===L?void 0:L.styles)||void 0===s?void 0:s.icon)||{}),de=w&&!W?t.createElement(fH,{prefixCls:j,className:ce,style:ue},w):t.createElement(LH,{existIcon:!!w,prefixCls:j,loading:W}),he=b||0===b?dH(b,J&&F):null;if(void 0!==se.href)return $(t.createElement("a",Object.assign({},se,{className:$n()(ae,{[`${j}-disabled`]:V}),href:V?void 0:se.href,style:le,onClick:Z,ref:Y,tabIndex:V?-1:0}),de,he));let fe=t.createElement("button",Object.assign({},O,{type:x,className:ae,style:le,onClick:Z,disabled:V,ref:Y}),de,he,te&&t.createElement(NW,{prefixCls:j}));return uH(R)||(fe=t.createElement(Gq,{component:"Button",disabled:W},fe)),$(fe)})),DW=AW;DW.Group=sH,DW.__ANT_BUTTON=!0;const MW=DW;const LW={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};var FW=function(e,n){return t.createElement(NH,f({},e,{ref:n,icon:LW}))};const jW=t.forwardRef(FW);const $W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"};var BW=function(e,n){return t.createElement(NH,f({},e,{ref:n,icon:$W}))};const UW=t.forwardRef(BW),zW=()=>{const[e,n]=(0,t.useState)(!1);return(0,Bn.jsxs)(Bn.Fragment,{children:[(0,Bn.jsx)(MW,{className:"sidebar-toggle",onClick:()=>{n(!e)},icon:e?(0,Bn.jsx)(jW,{}):(0,Bn.jsx)(UW,{}),size:"large",shape:"circle"}),(0,Bn.jsx)("div",{className:"sidebar "+(e?"open":""),children:(0,Bn.jsxs)("ul",{children:[(0,Bn.jsx)("li",{children:(0,Bn.jsx)(Mn,{to:"/contact",children:"Contact"})}),(0,Bn.jsx)("li",{children:(0,Bn.jsx)(Mn,{to:"/careers",children:"Careers"})}),(0,Bn.jsx)("li",{children:(0,Bn.jsx)(Mn,{to:"/FAQ",children:"FAQ"})})]})})]})};function VW(){return VW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VW.apply(this,arguments)}var qW;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(qW||(qW={}));function HW(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function WW(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var GW;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(GW||(GW={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function KW(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function QW(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function XW(e,t){let n=QW(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function YW(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=WW(e):(i=VW({},e),HW(!i.pathname||!i.pathname.includes("?"),KW("?","pathname","search",i)),HW(!i.pathname||!i.pathname.includes("#"),KW("#","pathname","hash",i)),HW(!i.search||!i.search.includes("#"),KW("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?WW(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:ZW(r),hash:eG(i)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const JW=e=>e.join("/").replace(/\/\/+/g,"/"),ZW=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",eG=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const tG=["post","put","patch","delete"],nG=(new Set(tG),["get",...tG]);new Set(nG),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function rG(){return rG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rG.apply(this,arguments)}const iG=t.createContext(null);const oG=t.createContext(null);const sG=t.createContext(null);const aG=t.createContext({outlet:null,matches:[],isDataRoute:!1});function lG(){return null!=t.useContext(sG)}function cG(){return lG()||HW(!1),t.useContext(sG).location}function uG(e){t.useContext(oG).static||t.useLayoutEffect(e)}function dG(){let{isDataRoute:e}=t.useContext(aG);return e?function(){let{router:e}=pG(hG.UseNavigateStable),n=gG(fG.UseNavigateStable),r=t.useRef(!1);uG((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,rG({fromRouteId:n},i)))}),[e,n]);return i}():function(){lG()||HW(!1);let e=t.useContext(iG),{basename:n,future:r,navigator:i}=t.useContext(oG),{matches:o}=t.useContext(aG),{pathname:s}=cG(),a=JSON.stringify(XW(o,r.v7_relativeSplatPath)),l=t.useRef(!1);uG((()=>{l.current=!0}));let c=t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let o=YW(t,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:JW([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,a,s,e]);return c}()}t.Component;var hG=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hG||{}),fG=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fG||{});function pG(e){let n=t.useContext(iG);return n||HW(!1),n}function gG(e){let n=function(){let e=t.useContext(aG);return e||HW(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||HW(!1),r.route.id}r.startTransition;function mG(e){let{to:n,replace:r,state:i,relative:o}=e;lG()||HW(!1);let{future:s,static:a}=t.useContext(oG),{matches:l}=t.useContext(aG),{pathname:c}=cG(),u=dG(),d=YW(n,XW(l,s.v7_relativeSplatPath),c,"path"===o),h=JSON.stringify(d);return t.useEffect((()=>u(JSON.parse(h),{replace:r,state:i,relative:o})),[u,h,o,r,i]),null}new Promise((()=>{}));t.Component;function vG(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=vG(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const yG=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=vG(e))&&(r&&(r+=" "),r+=t);return r};function bG(){return bG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bG.apply(this,arguments)}function wG(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function _G(e){return"number"===typeof e&&!isNaN(e)}function EG(e){return"boolean"===typeof e}function CG(e){return"string"===typeof e}function xG(e){return"function"===typeof e}function SG(e){return CG(e)||xG(e)?e:null}function kG(e){return 0===e||e}var TG=!("undefined"===typeof window||!window.document||!window.document.createElement);function IG(e){return(0,t.isValidElement)(e)||CG(e)||xG(e)||_G(e)}var OG={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},NG={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function PG(e){var n=e.enter,r=e.exit,i=e.appendPosition,o=void 0!==i&&i,s=e.collapse,a=void 0===s||s,l=e.collapseDuration,c=void 0===l?300:l;return function(e){var i=e.children,s=e.position,l=e.preventExitTransition,u=e.done,d=e.nodeRef,h=e.isIn,f=o?n+"--"+s:n,p=o?r+"--"+s:r,g=(0,t.useRef)(),m=(0,t.useRef)(0);function v(e){if(e.target===d.current){var t=d.current;t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",v),t.removeEventListener("animationcancel",v),0===m.current&&(t.className=g.current)}}function y(){var e=d.current;e.removeEventListener("animationend",y),a?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,u,c):u()}return(0,t.useLayoutEffect)((function(){!function(){var e=d.current;g.current=e.className,e.className+=" "+f,e.addEventListener("animationend",v),e.addEventListener("animationcancel",v)}()}),[]),(0,t.useEffect)((function(){h||(l?y():function(){m.current=1;var e=d.current;e.className+=" "+p,e.addEventListener("animationend",y)}())}),[h]),t.createElement(t.Fragment,null,i)}}var RG={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.list.has(e)&&this.list.get(e).forEach((function(n){var i=setTimeout((function(){n.apply(void 0,r)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(i)}))}},AG=["delay","staleId"];function DG(e){var n=(0,t.useReducer)((function(e){return e+1}),0),r=n[1],i=(0,t.useState)([]),o=i[0],s=i[1],a=(0,t.useRef)(null),l=(0,t.useRef)(new Map).current,c=function(e){return-1!==o.indexOf(e)},u=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:c,getToast:function(e){return l.get(e)}}).current;function d(e){var t=e.containerId;!u.props.limit||t&&u.containerId!==t||(u.count-=u.queue.length,u.queue=[])}function h(e){s((function(t){return kG(e)?t.filter((function(t){return t!==e})):[]}))}function f(){var e=u.queue.shift();g(e.toastContent,e.toastProps,e.staleId)}function p(e,n){var i=n.delay,o=n.staleId,s=wG(n,AG);if(IG(e)&&!function(e){return!a.current||u.props.enableMultiContainer&&e.containerId!==u.props.containerId||l.has(e.toastId)&&null==e.updateId}(s)){var c=s.toastId,d=s.updateId,p=s.data,m=u.props,v=function(){return h(c)},y=null==d;y&&u.count++;var b,w,_={toastId:c,updateId:d,isLoading:s.isLoading,theme:s.theme||m.theme,icon:null!=s.icon?s.icon:m.icon,isIn:!1,key:s.key||u.toastKey++,type:s.type,closeToast:v,closeButton:s.closeButton,rtl:m.rtl,position:s.position||m.position,transition:s.transition||m.transition,className:SG(s.className||m.toastClassName),bodyClassName:SG(s.bodyClassName||m.bodyClassName),style:s.style||m.toastStyle,bodyStyle:s.bodyStyle||m.bodyStyle,onClick:s.onClick||m.onClick,pauseOnHover:EG(s.pauseOnHover)?s.pauseOnHover:m.pauseOnHover,pauseOnFocusLoss:EG(s.pauseOnFocusLoss)?s.pauseOnFocusLoss:m.pauseOnFocusLoss,draggable:EG(s.draggable)?s.draggable:m.draggable,draggablePercent:s.draggablePercent||m.draggablePercent,draggableDirection:s.draggableDirection||m.draggableDirection,closeOnClick:EG(s.closeOnClick)?s.closeOnClick:m.closeOnClick,progressClassName:SG(s.progressClassName||m.progressClassName),progressStyle:s.progressStyle||m.progressStyle,autoClose:!s.isLoading&&(b=s.autoClose,w=m.autoClose,!1===b||_G(b)&&b>0?b:w),hideProgressBar:EG(s.hideProgressBar)?s.hideProgressBar:m.hideProgressBar,progress:s.progress,role:s.role||m.role,deleteToast:function(){l.delete(c);var e=u.queue.length;if(u.count=kG(c)?u.count-1:u.count-u.displayedToast,u.count<0&&(u.count=0),e>0){var t=kG(c)?1:u.props.limit;if(1===e||1===t)u.displayedToast++,f();else{var n=t>e?e:t;u.displayedToast=n;for(var i=0;i<n;i++)f()}}else r()}};xG(s.onOpen)&&(_.onOpen=s.onOpen),xG(s.onClose)&&(_.onClose=s.onClose),_.closeButton=m.closeButton,!1===s.closeButton||IG(s.closeButton)?_.closeButton=s.closeButton:!0===s.closeButton&&(_.closeButton=!IG(m.closeButton)||m.closeButton);var E=e;(0,t.isValidElement)(e)&&!CG(e.type)?E=(0,t.cloneElement)(e,{closeToast:v,toastProps:_,data:p}):xG(e)&&(E=e({closeToast:v,toastProps:_,data:p})),m.limit&&m.limit>0&&u.count>m.limit&&y?u.queue.push({toastContent:E,toastProps:_,staleId:o}):_G(i)&&i>0?setTimeout((function(){g(E,_,o)}),i):g(E,_,o)}}function g(e,t,n){var r=t.toastId;n&&l.delete(n),l.set(r,{content:e,props:t}),s((function(e){return[].concat(e,[r]).filter((function(e){return e!==n}))}))}return(0,t.useEffect)((function(){return u.containerId=e.containerId,RG.cancelEmit(3).on(0,p).on(1,(function(e){return a.current&&h(e)})).on(5,d).emit(2,u),function(){return RG.emit(3,u)}}),[]),(0,t.useEffect)((function(){u.isToastActive=c,u.displayedToast=o.length,RG.emit(4,o.length,e.containerId)}),[o]),(0,t.useEffect)((function(){u.props=e})),{getToastToRender:function(t){var n=new Map,r=Array.from(l.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:a,isToastActive:c}}function MG(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function LG(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function FG(e){var n=(0,t.useState)(!1),r=n[0],i=n[1],o=(0,t.useState)(!1),s=o[0],a=o[1],l=(0,t.useRef)(null),c=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,u=(0,t.useRef)(e),d=e.autoClose,h=e.pauseOnHover,f=e.closeToast,p=e.onClick,g=e.closeOnClick;function m(t){if(e.draggable){c.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",_),document.addEventListener("touchmove",w),document.addEventListener("touchend",_);var n=l.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=MG(t.nativeEvent),c.y=LG(t.nativeEvent),"x"===e.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function v(){if(c.boundingRect){var t=c.boundingRect,n=t.top,r=t.bottom,i=t.left,o=t.right;e.pauseOnHover&&c.x>=i&&c.x<=o&&c.y>=n&&c.y<=r?b():y()}}function y(){i(!0)}function b(){i(!1)}function w(t){var n=l.current;c.canDrag&&n&&(c.didMove=!0,r&&b(),c.x=MG(t),c.y=LG(t),"x"===e.draggableDirection?c.delta=c.x-c.start:c.delta=c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),n.style.transform="translate"+e.draggableDirection+"("+c.delta+"px)",n.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function _(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",_);var t=l.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return a(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,t.useEffect)((function(){u.current=e})),(0,t.useEffect)((function(){return l.current&&l.current.addEventListener("d",y,{once:!0}),xG(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),function(){var e=u.current;xG(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)}}),[]),(0,t.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||b();window.addEventListener("focus",y),window.addEventListener("blur",b)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",b))}}),[e.pauseOnFocusLoss]);var E={onMouseDown:m,onTouchStart:m,onMouseUp:v,onTouchEnd:v};return d&&h&&(E.onMouseEnter=b,E.onMouseLeave=y),g&&(E.onClick=function(e){p&&p(e),c.canCloseOnClick&&f()}),{playToast:y,pauseToast:b,isRunning:r,preventExitTransition:s,toastRef:l,eventHandlers:E}}function jG(e){var n=e.closeToast,r=e.theme,i=e.ariaLabel,o=void 0===i?"close":i;return(0,t.createElement)("button",{className:"Toastify__close-button Toastify__close-button--"+r,type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":o},(0,t.createElement)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},(0,t.createElement)("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function $G(e){var n,r,i=e.delay,o=e.isRunning,s=e.closeToast,a=e.type,l=e.hide,c=e.className,u=e.style,d=e.controlledProgress,h=e.progress,f=e.rtl,p=e.isIn,g=e.theme,m=bG({},u,{animationDuration:i+"ms",animationPlayState:o?"running":"paused",opacity:l?0:1});d&&(m.transform="scaleX("+h+")");var v=yG("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+g,"Toastify__progress-bar--"+a,((n={})["Toastify__progress-bar--rtl"]=f,n)),y=xG(c)?c({rtl:f,type:a,defaultClassName:v}):yG(v,c),b=((r={})[d&&h>=1?"onTransitionEnd":"onAnimationEnd"]=d&&h<1?null:function(){p&&s()},r);return(0,t.createElement)("div",Object.assign({role:"progressbar","aria-hidden":l?"true":"false","aria-label":"notification timer",className:y,style:m},b))}$G.defaultProps={type:NG.DEFAULT,hide:!1};var BG=["theme","type"],UG=function(e){var n=e.theme,r=e.type,i=wG(e,BG);return(0,t.createElement)("svg",Object.assign({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-"+r+")"},i))};var zG={info:function(e){return(0,t.createElement)(UG,Object.assign({},e),(0,t.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return(0,t.createElement)(UG,Object.assign({},e),(0,t.createElement)("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return(0,t.createElement)(UG,Object.assign({},e),(0,t.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return(0,t.createElement)(UG,Object.assign({},e),(0,t.createElement)("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return(0,t.createElement)("div",{className:"Toastify__spinner"})}},VG=function(e){var n,r,i=FG(e),o=i.isRunning,s=i.preventExitTransition,a=i.toastRef,l=i.eventHandlers,c=e.closeButton,u=e.children,d=e.autoClose,h=e.onClick,f=e.type,p=e.hideProgressBar,g=e.closeToast,m=e.transition,v=e.position,y=e.className,b=e.style,w=e.bodyClassName,_=e.bodyStyle,E=e.progressClassName,C=e.progressStyle,x=e.updateId,S=e.role,k=e.progress,T=e.rtl,I=e.toastId,O=e.deleteToast,N=e.isIn,P=e.isLoading,R=e.icon,A=e.theme,D=yG("Toastify__toast","Toastify__toast-theme--"+A,"Toastify__toast--"+f,((n={})["Toastify__toast--rtl"]=T,n)),M=xG(y)?y({rtl:T,position:v,type:f,defaultClassName:D}):yG(D,y),L=!!k,F=zG[f],j={theme:A,type:f},$=F&&F(j);return!1===R?$=void 0:xG(R)?$=R(j):(0,t.isValidElement)(R)?$=(0,t.cloneElement)(R,j):CG(R)?$=R:P&&($=zG.spinner()),(0,t.createElement)(m,{isIn:N,done:O,position:v,preventExitTransition:s,nodeRef:a},(0,t.createElement)("div",Object.assign({id:I,onClick:h,className:M},l,{style:b,ref:a}),(0,t.createElement)("div",Object.assign({},N&&{role:S},{className:xG(w)?w({type:f}):yG("Toastify__toast-body",w),style:_}),$&&(0,t.createElement)("div",{className:yG("Toastify__toast-icon",(r={},r["Toastify--animate-icon Toastify__zoom-enter"]=!P,r))},$),(0,t.createElement)("div",null,u)),function(e){if(e){var n={closeToast:g,type:f,theme:A};return xG(e)?e(n):(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):void 0}}(c),(d||L)&&(0,t.createElement)($G,Object.assign({},x&&!L?{key:"pb-"+x}:{},{rtl:T,theme:A,delay:d,isRunning:o,isIn:N,closeToast:g,hide:p,type:f,style:C,className:E,controlledProgress:L,progress:k}))))},qG=PG({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),HG=function(e){var n=DG(e),r=n.getToastToRender,i=n.containerRef,o=n.isToastActive,s=e.className,a=e.style,l=e.rtl,c=e.containerId;function u(e){var t,n=yG("Toastify__toast-container","Toastify__toast-container--"+e,((t={})["Toastify__toast-container--rtl"]=l,t));return xG(s)?s({position:e,rtl:l,defaultClassName:n}):yG(n,SG(s))}return(0,t.createElement)("div",{ref:i,className:"Toastify",id:c},r((function(e,n){var r=n.length?bG({},a):bG({},a,{pointerEvents:"none"});return(0,t.createElement)("div",{className:u(e),style:r,key:"container-"+e},n.map((function(e){var n=e.content,r=e.props;return(0,t.createElement)(VG,Object.assign({},r,{isIn:o(r.toastId),key:"toast-"+r.key,closeButton:!0===r.closeButton?jG:r.closeButton}),n)})))})))};HG.defaultProps={position:OG.TOP_RIGHT,transition:qG,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:jG,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var WG,GG,KG,QG=new Map,XG=[],YG=!1;function JG(){return Math.random().toString(36).substring(2,9)}function ZG(e){return e&&(CG(e.toastId)||_G(e.toastId))?e.toastId:JG()}function eK(e,n){return QG.size>0?RG.emit(0,e,n):(XG.push({content:e,options:n}),YG&&TG&&(YG=!1,GG=document.createElement("div"),document.body.appendChild(GG),(0,i.render)((0,t.createElement)(HG,Object.assign({},KG)),GG))),n.toastId}function tK(e,t){return bG({},t,{type:t&&t.type||e,toastId:ZG(t)})}function nK(e){return function(t,n){return eK(t,tK(e,n))}}function rK(e,t){return eK(e,tK(NG.DEFAULT,t))}rK.loading=function(e,t){return eK(e,tK(NG.DEFAULT,bG({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},rK.promise=function(e,t,n){var r,i=t.pending,o=t.error,s=t.success;i&&(r=CG(i)?rK.loading(i,n):rK.loading(i.render,bG({},n,i)));var a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=function(e,t,i){if(null!=t){var o=bG({type:e},a,n,{data:i}),s=CG(t)?{render:t}:t;return r?rK.update(r,bG({},o,s)):rK(s.render,bG({},o,s)),i}rK.dismiss(r)},c=xG(e)?e():e;return c.then((function(e){return l("success",s,e)})).catch((function(e){return l("error",o,e)})),c},rK.success=nK(NG.SUCCESS),rK.info=nK(NG.INFO),rK.error=nK(NG.ERROR),rK.warning=nK(NG.WARNING),rK.warn=rK.warning,rK.dark=function(e,t){return eK(e,tK(NG.DEFAULT,bG({theme:"dark"},t)))},rK.dismiss=function(e){return RG.emit(1,e)},rK.clearWaitingQueue=function(e){return void 0===e&&(e={}),RG.emit(5,e)},rK.isActive=function(e){var t=!1;return QG.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},rK.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=QG.get(n||WG);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,o=bG({},r,t,{toastId:t.toastId||e,updateId:JG()});o.toastId!==e&&(o.staleId=e);var s=o.render||i;delete o.render,eK(s,o)}}),0)},rK.done=function(e){rK.update(e,{progress:1})},rK.onChange=function(e){return xG(e)&&RG.on(4,e),function(){xG(e)&&RG.off(4,e)}},rK.configure=function(e){void 0===e&&(e={}),YG=!0,KG=e},rK.POSITION=OG,rK.TYPE=NG,RG.on(2,(function(e){WG=e.containerId||e,QG.set(WG,e),XG.forEach((function(e){RG.emit(0,e.content,e.options)})),XG=[]})).on(3,(function(e){QG.delete(e.containerId||e),0===QG.size&&RG.off(0).off(1).off(5),TG&&GG&&document.body.removeChild(GG)})),rK.configure();const iK=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[o,s]=(0,t.useState)({name:"",email:"",subject:"",message:""}),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),d=async()=>{try{const e=(await xj.collection("contacts").get()).docs.map((e=>({id:e.id,...e.data()})));n(e)}catch(SN){console.error("Error fetching contacts: ",SN),rK.error("Error fetching contacts!")}finally{i(!1)}};(0,t.useEffect)((()=>{d()}),[]);return r?(0,Bn.jsx)("div",{children:"Loading..."}):(0,Bn.jsxs)("div",{className:"container-fluid",children:[(0,Bn.jsx)("h1",{children:"Contact List"}),(0,Bn.jsxs)("div",{className:"mb-4",children:[(0,Bn.jsx)("h3",{children:a?"Edit Contact":"Add New Contact"}),(0,Bn.jsx)("input",{type:"text",className:"form-control",placeholder:"Name",value:o.name,onChange:e=>s({...o,name:e.target.value})}),(0,Bn.jsx)("input",{type:"email",className:"form-control",placeholder:"Email",value:o.email,onChange:e=>s({...o,email:e.target.value})}),(0,Bn.jsx)("input",{type:"text",className:"form-control",placeholder:"Subject",value:o.subject,onChange:e=>s({...o,subject:e.target.value})}),(0,Bn.jsx)("textarea",{className:"form-control",placeholder:"Message",value:o.message,onChange:e=>s({...o,message:e.target.value})}),(0,Bn.jsx)("button",{className:"btn btn-primary",onClick:a?async()=>{if(o.name&&o.email&&o.subject&&o.message)try{await xj.collection("contacts").doc(c.id).update(o),l(!1),u(null),s({name:"",email:"",subject:"",message:""}),d(),rK.success("Contact updated successfully!")}catch(SN){console.error("Error updating contact: ",SN),rK.error("Error updating contact!")}else rK.warn("All fields are required!")}:async()=>{if(o.name&&o.email&&o.subject&&o.message)try{await xj.collection("contacts").add(o),s({name:"",email:"",subject:"",message:""}),d(),rK.success("Contact added successfully!")}catch(SN){console.error("Error adding contact: ",SN),rK.error("Error adding contact!")}else rK.warn("All fields are required!")},children:a?"Update Contact":"Add Contact"})]}),(0,Bn.jsxs)("table",{className:"table table-striped",children:[(0,Bn.jsx)("thead",{children:(0,Bn.jsxs)("tr",{children:[(0,Bn.jsx)("th",{scope:"col",children:"Name"}),(0,Bn.jsx)("th",{scope:"col",children:"Email"}),(0,Bn.jsx)("th",{scope:"col",children:"Subject"}),(0,Bn.jsx)("th",{scope:"col",children:"Message"}),(0,Bn.jsx)("th",{scope:"col",children:"Actions"})]})}),(0,Bn.jsx)("tbody",{children:e.map((e=>(0,Bn.jsxs)("tr",{children:[(0,Bn.jsx)("td",{children:e.name}),(0,Bn.jsx)("td",{children:e.email}),(0,Bn.jsx)("td",{children:e.subject}),(0,Bn.jsx)("td",{children:e.message}),(0,Bn.jsxs)("td",{children:[(0,Bn.jsx)("button",{className:"btn btn-warning",onClick:()=>(e=>{l(!0),u(e),s({name:e.name,email:e.email,subject:e.subject,message:e.message})})(e),children:"Edit"}),(0,Bn.jsx)("button",{className:"btn btn-danger",onClick:()=>(async e=>{try{await xj.collection("contacts").doc(e).delete(),d(),rK.success("Contact deleted successfully!")}catch(SN){console.error("Error deleting contact: ",SN),rK.error("Error deleting contact!")}})(e.id),children:"Delete"})]})]},e.id)))})]})]})},oK=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[o,s]=(0,t.useState)({Fname:"",Lname:"",email:"",evening:"",options:"",phoneN:"",referN:"",roleN:""}),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null);(0,t.useEffect)((()=>{rK.configure()}),[]);const d=async()=>{try{const e=(await xj.collection("careers").get()).docs.map((e=>({id:e.id,...e.data()})));n(e)}catch(SN){console.error("Error fetching careers: ",SN),rK.error("Error fetching careers!")}finally{i(!1)}};(0,t.useEffect)((()=>{d()}),[]);return r?(0,Bn.jsx)("div",{children:"Loading..."}):(0,Bn.jsxs)("div",{className:"container",children:[(0,Bn.jsx)("h1",{children:"Career List"}),(0,Bn.jsxs)("div",{className:"mb-4",children:[(0,Bn.jsx)("h3",{children:a?"Edit Career":"Add New Career"}),(0,Bn.jsx)("input",{type:"text",className:"form-control",placeholder:"First Name",value:o.Fname,onChange:e=>s({...o,Fname:e.target.value})}),(0,Bn.jsx)("input",{type:"text",className:"form-control",placeholder:"Last Name",value:o.Lname,onChange:e=>s({...o,Lname:e.target.value})}),(0,Bn.jsx)("input",{type:"email",className:"form-control",placeholder:"Email",value:o.email,onChange:e=>s({...o,email:e.target.value})}),(0,Bn.jsx)("input",{type:"text",className:"form-control",placeholder:"Phone Number",value:o.phoneN,onChange:e=>s({...o,phoneN:e.target.value})}),(0,Bn.jsx)("input",{type:"text",className:"form-control",placeholder:"Role",value:o.roleN,onChange:e=>s({...o,roleN:e.target.value})}),(0,Bn.jsx)("button",{className:"btn btn-primary",onClick:a?async()=>{if(o.Fname&&o.Lname&&o.email&&o.phoneN&&o.roleN)if(c)try{await xj.collection("careers").doc(c.id).update({Fname:o.Fname,Lname:o.Lname,email:o.email,evening:o.evening,options:o.options,phoneN:o.phoneN,referN:o.referN,roleN:o.roleN}),l(!1),u(null),s({Fname:"",Lname:"",email:"",evening:"",options:"",phoneN:"",referN:"",roleN:""}),d(),rK.success("Career updated successfully!")}catch(SN){console.error("Error updating career: ",SN),rK.error("Error updating career.")}else rK.warn("No career selected for editing.");else rK.warn("All fields are required!")}:async()=>{if(o.Fname&&o.Lname&&o.email&&o.phoneN&&o.roleN)try{await xj.collection("careers").add(o),s({Fname:"",Lname:"",email:"",evening:"",options:"",phoneN:"",referN:"",roleN:""}),d(),rK.success("Career created successfully!")}catch(SN){console.error("Error adding career: ",SN),rK.error("Error creating career.")}else rK.warn("All fields are required!")},children:a?"Update Career":"Add Career"})]}),(0,Bn.jsxs)("table",{className:"table table-striped",children:[(0,Bn.jsx)("thead",{children:(0,Bn.jsxs)("tr",{children:[(0,Bn.jsx)("th",{scope:"col",children:"First Name"}),(0,Bn.jsx)("th",{scope:"col",children:"Last Name"}),(0,Bn.jsx)("th",{scope:"col",children:"Email"}),(0,Bn.jsx)("th",{scope:"col",children:"Phone"}),(0,Bn.jsx)("th",{scope:"col",children:"Role"}),(0,Bn.jsx)("th",{scope:"col",children:"Actions"})]})}),(0,Bn.jsx)("tbody",{children:e.map((e=>(0,Bn.jsxs)("tr",{children:[(0,Bn.jsx)("td",{children:e.Fname}),(0,Bn.jsx)("td",{children:e.Lname}),(0,Bn.jsx)("td",{children:e.email}),(0,Bn.jsx)("td",{children:e.phoneN}),(0,Bn.jsx)("td",{children:e.roleN}),(0,Bn.jsxs)("td",{children:[(0,Bn.jsx)("button",{className:"btn btn-warning",onClick:()=>(e=>{l(!0),u(e),s({Fname:e.Fname,Lname:e.Lname,email:e.email,evening:e.evening,options:e.options,phoneN:e.phoneN,referN:e.referN,roleN:e.roleN})})(e),children:"Edit"}),(0,Bn.jsx)("button",{className:"btn btn-danger",onClick:()=>(async e=>{try{await xj.collection("careers").doc(e).delete(),d(),rK.success("Career deleted successfully!")}catch(SN){console.error("Error deleting career: ",SN),rK.error("Error deleting career.")}})(e.id),children:"Delete"})]})]},e.id)))})]})]})},sK=()=>{const e=X(),{faqs:n,loading:r,error:i}=ee((e=>e.faq));return(0,t.useEffect)((()=>{e((async e=>{e({type:"FETCH_FAQS_REQUEST"});try{const t=await fetch("https://api.example.com/faqs");e({type:"FETCH_FAQS_SUCCESS",payload:await t.json()})}catch(i){e({type:"FETCH_FAQS_ERROR",payload:i.message})}}))}),[e]),r?(0,Bn.jsx)("div",{children:"Loading..."}):i?(0,Bn.jsxs)("div",{children:["Error: ",i]}):(0,Bn.jsxs)("div",{children:[(0,Bn.jsx)("h1",{children:"FAQs"}),(0,Bn.jsx)("ul",{children:n.map((e=>(0,Bn.jsx)("li",{children:e.question},e.id)))})]})};class aK extends t.Component{render(){const{user:e}=this.props;return e?(0,Bn.jsxs)("div",{className:"home-layout",children:[(0,Bn.jsxs)(Tt,{children:[(0,Bn.jsx)("script",{src:"assets/vendor/purecounter/purecounter.js"}),(0,Bn.jsx)("script",{src:"assets/vendor/aos/aos.js"}),(0,Bn.jsx)("script",{src:"assets/vendor/bootstrap/js/bootstrap.bundle.min.js"}),(0,Bn.jsx)("script",{src:"assets/vendor/glightbox/js/glightbox.min.js"}),(0,Bn.jsx)("script",{src:"assets/vendor/isotope-layout/isotope.pkgd.min.js"}),(0,Bn.jsx)("script",{src:"assets/vendor/swiper/swiper-bundle.min.js"}),(0,Bn.jsx)("script",{src:"assets/vendor/php-email-form/validate.js"}),(0,Bn.jsx)("script",{src:"assets/js/main.js",type:"text/javascript"})]}),(0,Bn.jsx)(zW,{}),(0,Bn.jsx)(kj,{}),(0,Bn.jsx)("div",{className:"main-content",children:(0,Bn.jsxs)(Tn,{children:[(0,Bn.jsx)(_n,{path:"/contact",component:iK}),(0,Bn.jsx)(_n,{path:"/careers",component:oK}),(0,Bn.jsx)(_n,{path:"/FAQ",component:sK}),(0,Bn.jsx)(_n,{path:"/",render:()=>(0,Bn.jsx)("h1",{children:"Welcome to Home Page"})})]})})]}):(0,Bn.jsx)(mG,{to:"/login"})}}const lK=H((e=>({user:e.auth.user})))(aK);var cK="RC_FORM_INTERNAL_HOOKS",uK=function(){h$(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const dK=t.createContext({getFieldValue:uK,getFieldsValue:uK,getFieldError:uK,getFieldWarning:uK,getFieldsError:uK,isFieldsTouched:uK,isFieldTouched:uK,isFieldValidating:uK,isFieldsValidating:uK,resetFields:uK,setFields:uK,setFieldValue:uK,setFieldsValue:uK,validateFields:uK,submit:uK,getInternalHooks:function(){return uK(),{dispatch:uK,initEntityValue:uK,registerField:uK,useSubscribe:uK,setInitialValues:uK,destroyForm:uK,setCallbacks:uK,registerWatch:uK,getFields:uK,setValidateMessages:uK,setPreserve:uK,getInitialValue:uK}}});const hK=t.createContext(null);function fK(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function pK(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var gK=pK();function mK(e){var t="function"==typeof Map?new Map:void 0;return mK=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(FX){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(hU())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&It(i,n.prototype),i}(e,arguments,dU(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),It(n,e)},mK(e)}var vK=/%[sdj%]/g;function yK(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function bK(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var s=e.replace(vK,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}}));return s}return e}function wK(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function _K(e,t,n){var r=0,i=e.length;!function o(s){if(s&&s.length)n(s);else{var a=r;r+=1,a<i?t(e[a],o):n([])}}([])}var EK=function(e){uU(n,e);var t=fU(n);function n(e,r){var i;return p$(this,n),re(cU(i=t.call(this,"Async Validation Error")),"errors",void 0),re(cU(i),"fields",void 0),i.errors=e,i.fields=r,i}return m$(n)}(mK(Error));function CK(e,t,n,r,i){if(t.first){var o=new Promise((function(t,o){var s=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,Gj(e[n]||[]))})),t}(e);_K(s,n,(function(e){return r(e),e.length?o(new EK(e,yK(e))):t(i)}))}));return o.catch((function(e){return e})),o}var s=!0===t.firstFields?Object.keys(e):t.firstFields||[],a=Object.keys(e),l=a.length,c=0,u=[],d=new Promise((function(t,o){var d=function(e){if(u.push.apply(u,e),++c===l)return r(u),u.length?o(new EK(u,yK(u))):t(i)};a.length||(r(u),t(i)),a.forEach((function(t){var r=e[t];-1!==s.indexOf(t)?_K(r,n,d):function(e,t,n){var r=[],i=0,o=e.length;function s(e){r.push.apply(r,Gj(e||[])),++i===o&&n(r)}e.forEach((function(e){t(e,s)}))}(r,n,d)}))}));return d.catch((function(e){return e})),d}function xK(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function SK(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===te(r)&&"object"===te(e[n])?e[n]=oe(oe({},e[n]),r):e[n]=r}return e}var kK="enum";const TK=function(e,t,n,r,i){e[kK]=Array.isArray(e[kK])?e[kK]:[],-1===e[kK].indexOf(t)&&r.push(bK(i.messages[kK],e.fullField,e[kK].join(", ")))};const IK=function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(bK(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(bK(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}};const OK=function(e,t,n,r,i){var o="number"===typeof e.len,s="number"===typeof e.min,a="number"===typeof e.max,l=t,c=null,u="number"===typeof t,d="string"===typeof t,h=Array.isArray(t);if(u?c="number":d?c="string":h&&(c="array"),!c)return!1;h&&(l=t.length),d&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==e.len&&r.push(bK(i.messages[c].len,e.fullField,e.len)):s&&!a&&l<e.min?r.push(bK(i.messages[c].min,e.fullField,e.min)):a&&!s&&l>e.max?r.push(bK(i.messages[c].max,e.fullField,e.max)):s&&a&&(l<e.min||l>e.max)&&r.push(bK(i.messages[c].range,e.fullField,e.min,e.max))};const NK=function(e,t,n,r,i,o){!e.required||n.hasOwnProperty(e.field)&&!wK(t,o||e.type)||r.push(bK(i.messages.required,e.fullField))};var PK;var RK=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,AK=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,DK={integer:function(e){return DK.number(e)&&parseInt(e,10)===e},float:function(e){return DK.number(e)&&!DK.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(LX){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===te(e)&&!DK.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(RK)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(PK)return PK;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],o="(?:".concat(i.join("|"),")").concat("(?:%[0-9a-zA-Z]{1,})?"),s=new RegExp("(?:^".concat(n,"$)|(?:^").concat(o,"$)")),a=new RegExp("^".concat(n,"$")),l=new RegExp("^".concat(o,"$")),c=function(e){return e&&e.exact?s:new RegExp("(?:".concat(t(e)).concat(n).concat(t(e),")|(?:").concat(t(e)).concat(o).concat(t(e),")"),"g")};c.v4=function(e){return e&&e.exact?a:new RegExp("".concat(t(e)).concat(n).concat(t(e)),"g")},c.v6=function(e){return e&&e.exact?l:new RegExp("".concat(t(e)).concat(o).concat(t(e)),"g")};var u=c.v4().source,d=c.v6().source,h="(?:".concat("(?:(?:[a-z]+:)?//)","|www\\.)").concat("(?:\\S+(?::\\S*)?@)?","(?:localhost|").concat(u,"|").concat(d,"|").concat("(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)").concat("(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*").concat("(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",")").concat("(?::\\d{2,5})?").concat('(?:[/?#][^\\s"]*)?');return PK=new RegExp("(?:^".concat(h,"$)"),"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(AK)}};const MK=function(e,t,n,r,i){if(e.required&&void 0===t)NK(e,t,n,r,i);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?DK[o](t)||r.push(bK(i.messages.types[o],e.fullField,e.type)):o&&te(t)!==e.type&&r.push(bK(i.messages.types[o],e.fullField,e.type))}};const LK=function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(bK(i.messages.whitespace,e.fullField))},FK={required:NK,whitespace:LK,type:MK,range:OK,enum:TK,pattern:IK};const jK=function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wK(t)&&!e.required)return n();FK.required(e,t,r,o,i)}n(o)};const $K=function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();FK.required(e,t,r,o,i,"array"),void 0!==t&&null!==t&&(FK.type(e,t,r,o,i),FK.range(e,t,r,o,i))}n(o)};const BK=function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wK(t)&&!e.required)return n();FK.required(e,t,r,o,i),void 0!==t&&FK.type(e,t,r,o,i)}n(o)};const UK=function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wK(t,"date")&&!e.required)return n();var s;if(FK.required(e,t,r,o,i),!wK(t,"date"))s=t instanceof Date?t:new Date(t),FK.type(e,s,r,o,i),s&&FK.range(e,s.getTime(),r,o,i)}n(o)};const zK=function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wK(t)&&!e.required)return n();FK.required(e,t,r,o,i),void 0!==t&&FK.enum(e,t,r,o,i)}n(o)};const VK=function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wK(t)&&!e.required)return n();FK.required(e,t,r,o,i),void 0!==t&&(FK.type(e,t,r,o,i),FK.range(e,t,r,o,i))}n(o)};const qK=function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wK(t)&&!e.required)return n();FK.required(e,t,r,o,i),void 0!==t&&(FK.type(e,t,r,o,i),FK.range(e,t,r,o,i))}n(o)};const HK=function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wK(t)&&!e.required)return n();FK.required(e,t,r,o,i),void 0!==t&&FK.type(e,t,r,o,i)}n(o)};const WK=function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),wK(t)&&!e.required)return n();FK.required(e,t,r,o,i),void 0!==t&&(FK.type(e,t,r,o,i),FK.range(e,t,r,o,i))}n(o)};const GK=function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wK(t)&&!e.required)return n();FK.required(e,t,r,o,i),void 0!==t&&FK.type(e,t,r,o,i)}n(o)};const KK=function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wK(t,"string")&&!e.required)return n();FK.required(e,t,r,o,i),wK(t,"string")||FK.pattern(e,t,r,o,i)}n(o)};const QK=function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wK(t)&&!e.required)return n();FK.required(e,t,r,o,i),wK(t)||FK.type(e,t,r,o,i)}n(o)};const XK=function(e,t,n,r,i){var o=[],s=Array.isArray(t)?"array":te(t);FK.required(e,t,r,o,i,s),n(o)};const YK=function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wK(t,"string")&&!e.required)return n();FK.required(e,t,r,o,i,"string"),wK(t,"string")||(FK.type(e,t,r,o,i),FK.range(e,t,r,o,i),FK.pattern(e,t,r,o,i),!0===e.whitespace&&FK.whitespace(e,t,r,o,i))}n(o)};const JK=function(e,t,n,r,i){var o=e.type,s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wK(t,o)&&!e.required)return n();FK.required(e,t,r,s,i,o),wK(t,o)||FK.type(e,t,r,s,i)}n(s)},ZK={string:YK,method:HK,number:WK,boolean:BK,regexp:QK,integer:qK,float:VK,array:$K,object:GK,enum:zK,pattern:KK,date:UK,url:JK,hex:JK,email:JK,required:XK,any:jK};var eQ=function(){function e(t){p$(this,e),re(this,"rules",null),re(this,"_messages",gK),this.define(t)}return m$(e,[{key:"define",value:function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==te(e)||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))}},{key:"messages",value:function(e){return e&&(this._messages=SK(pK(),e)),this._messages}},{key:"validate",value:function(t){var n=this,r=t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if("function"===typeof i&&(o=i,i={}),!this.rules||0===Object.keys(this.rules).length)return o&&o(null,r),Promise.resolve(r);if(i.messages){var s=this.messages();s===gK&&(s=pK()),SK(s,i.messages),i.messages=s}else i.messages=this.messages();var a={};(i.keys||Object.keys(this.rules)).forEach((function(e){var i=n.rules[e],o=r[e];i.forEach((function(i){var s=i;"function"===typeof s.transform&&(r===t&&(r=oe({},r)),void 0!==(o=r[e]=s.transform(o))&&null!==o&&(s.type=s.type||(Array.isArray(o)?"array":te(o)))),(s="function"===typeof s?{validator:s}:oe({},s)).validator=n.getValidationMethod(s),s.validator&&(s.field=e,s.fullField=s.fullField||e,s.type=n.getType(s),a[e]=a[e]||[],a[e].push({rule:s,value:o,source:r,field:e}))}))}));var l={};return CK(a,i,(function(t,n){var o,s=t.rule,a=("object"===s.type||"array"===s.type)&&("object"===te(s.fields)||"object"===te(s.defaultField));function c(e,t){return oe(oe({},t),{},{fullField:"".concat(s.fullField,".").concat(e),fullFields:s.fullFields?[].concat(Gj(s.fullFields),[e]):[e]})}function u(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],u=Array.isArray(o)?o:[o];!i.suppressWarning&&u.length&&e.warning("async-validator:",u),u.length&&void 0!==s.message&&(u=[].concat(s.message));var d=u.map(xK(s,r));if(i.first&&d.length)return l[s.field]=1,n(d);if(a){if(s.required&&!t.value)return void 0!==s.message?d=[].concat(s.message).map(xK(s,r)):i.error&&(d=[i.error(s,bK(i.messages.required,s.field))]),n(d);var h={};s.defaultField&&Object.keys(t.value).map((function(e){h[e]=s.defaultField})),h=oe(oe({},h),t.rule.fields);var f={};Object.keys(h).forEach((function(e){var t=h[e],n=Array.isArray(t)?t:[t];f[e]=n.map(c.bind(null,e))}));var p=new e(f);p.messages(i.messages),t.rule.options&&(t.rule.options.messages=i.messages,t.rule.options.error=i.error),p.validate(t.value,t.rule.options||i,(function(e){var t=[];d&&d.length&&t.push.apply(t,Gj(d)),e&&e.length&&t.push.apply(t,Gj(e)),n(t.length?t:null)}))}else n(d)}if(a=a&&(s.required||!s.required&&t.value),s.field=t.field,s.asyncValidator)o=s.asyncValidator(s,t.value,u,t.source,i);else if(s.validator){try{o=s.validator(s,t.value,u,t.source,i)}catch(SN){var d,h;null===(d=(h=console).error)||void 0===d||d.call(h,SN),i.suppressValidatorError||setTimeout((function(){throw SN}),0),u(SN.message)}!0===o?u():!1===o?u("function"===typeof s.message?s.message(s.fullField||s.field):s.message||"".concat(s.fullField||s.field," fails")):o instanceof Array?u(o):o instanceof Error&&u(o.message)}o&&o.then&&o.then((function(){return u()}),(function(e){return u(e)}))}),(function(e){!function(e){var t=[],n={};function i(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,Gj(e)):t.push(e)}for(var s=0;s<e.length;s++)i(e[s]);t.length?(n=yK(t),o(t,n)):o(null,r)}(e)}),r)}},{key:"getType",value:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!ZK.hasOwnProperty(e.type))throw new Error(bK("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?ZK.required:ZK[this.getType(e)]||void 0}}]),e}();re(eQ,"register",(function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");ZK[e]=t})),re(eQ,"warning",(function(){})),re(eQ,"messages",gK),re(eQ,"validators",ZK);var tQ="'${name}' is not a valid ${type}",nQ={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:tQ,method:tQ,array:tQ,object:tQ,number:tQ,date:tQ,boolean:tQ,integer:tQ,float:tQ,regexp:tQ,email:tQ,url:tQ,hex:tQ},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},rQ=eQ;function iQ(e,t){return e.replace(/\\?\$\{\w+\}/g,(function(e){if(e.startsWith("\\"))return e.slice(1);var n=e.slice(2,-1);return t[n]}))}var oQ="CODE_LOGIC_ERROR";function sQ(e,t,n,r,i){return aQ.apply(this,arguments)}function aQ(){return aQ=Oq(Tq().mark((function e(n,r,i,o,s){var a,l,c,u,d,h,f,p,g;return Tq().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(a=oe({},i)).ruleIndex,rQ.warning=function(){},a.validator&&(l=a.validator,a.validator=function(){try{return l.apply(void 0,arguments)}catch(SN){return console.error(SN),Promise.reject(oQ)}}),c=null,a&&"array"===a.type&&a.defaultField&&(c=a.defaultField,delete a.defaultField),u=new rQ(re({},n,[a])),d=PU(nQ,o.validateMessages),u.messages(d),h=[],e.prev=10,e.next=13,Promise.resolve(u.validate(re({},n,r),oe({},o)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(h=e.t0.errors.map((function(e,n){var r=e.message,i=r===oQ?d.default:r;return t.isValidElement(i)?t.cloneElement(i,{key:"error_".concat(n)}):i})));case 18:if(h.length||!c){e.next=23;break}return e.next=21,Promise.all(r.map((function(e,t){return sQ("".concat(n,".").concat(t),e,c,o,s)})));case 21:return f=e.sent,e.abrupt("return",f.reduce((function(e,t){return[].concat(Gj(e),Gj(t))}),[]));case 23:return p=oe(oe({},i),{},{name:n,enum:(i.enum||[]).join(", ")},s),g=h.map((function(e){return"string"===typeof e?iQ(e,p):e})),e.abrupt("return",g);case 26:case"end":return e.stop()}}),e,null,[[10,15]])}))),aQ.apply(this,arguments)}function lQ(e,t,n,r,i,o){var s,a=e.join("."),l=n.map((function(e,t){var n=e.validator,r=oe(oe({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,o=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){h$(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=o&&"function"===typeof o.then&&"function"===typeof o.catch,h$(i,"`callback` is deprecated. Please return a promise instead."),i&&o.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,o=t.ruleIndex;return!!n===!!i?r-o:n?1:-1}));if(!0===i)s=new Promise(function(){var e=Oq(Tq().mark((function e(n,i){var s,c,u;return Tq().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0;case 1:if(!(s<l.length)){e.next=12;break}return c=l[s],e.next=5,sQ(a,t,c,r,o);case 5:if(!(u=e.sent).length){e.next=9;break}return i([{errors:u,rule:c}]),e.abrupt("return");case 9:s+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return sQ(a,t,e,r,o).then((function(t){return{errors:t,rule:e}}))}));s=(i?function(e){return uQ.apply(this,arguments)}(c):function(e){return cQ.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return s.catch((function(e){return e})),s}function cQ(){return(cQ=Oq(Tq().mark((function e(t){return Tq().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,Gj(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uQ(){return(uQ=Oq(Tq().mark((function e(t){var n;return Tq().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dQ(e){return fK(e)}function hQ(e,t){var n={};return t.forEach((function(t){var r=kU(e,t);n=IU(n,t,r)})),n}function fQ(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some((function(e){return pQ(t,e,n)}))}function pQ(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every((function(t,n){return e[n]===t})))}function gQ(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===te(t.target)&&e in t.target?t.target[e]:t}function mQ(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],o=t-n;return o>0?[].concat(Gj(e.slice(0,n)),[i],Gj(e.slice(n,t)),Gj(e.slice(t+1,r))):o<0?[].concat(Gj(e.slice(0,t)),Gj(e.slice(t+1,n+1)),[i],Gj(e.slice(n+1,r))):e}var vQ=["name"],yQ=[];function bQ(e,t,n,r,i,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var wQ=function(e){uU(r,e);var n=fU(r);function r(e){var i;(p$(this,r),re(cU(i=n.call(this,e)),"state",{resetCount:0}),re(cU(i),"cancelRegisterFunc",null),re(cU(i),"mounted",!1),re(cU(i),"touched",!1),re(cU(i),"dirty",!1),re(cU(i),"validatePromise",void 0),re(cU(i),"prevValidating",void 0),re(cU(i),"errors",yQ),re(cU(i),"warnings",yQ),re(cU(i),"cancelRegister",(function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,dQ(r)),i.cancelRegisterFunc=null})),re(cU(i),"getNamePath",(function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(Gj(void 0===n?[]:n),Gj(t)):[]})),re(cU(i),"getRules",(function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))})),re(cU(i),"refresh",(function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))})),re(cU(i),"metaCache",null),re(cU(i),"triggerMetaEvent",(function(e){var t=i.props.onMetaChange;if(t){var n=oe(oe({},i.getMeta()),{},{destroy:e});f$(i.metaCache,n)||t(n),i.metaCache=n}else i.metaCache=null})),re(cU(i),"onStoreChange",(function(e,t,n){var r=i.props,o=r.shouldUpdate,s=r.dependencies,a=void 0===s?[]:s,l=r.onReset,c=n.store,u=i.getNamePath(),d=i.getValue(e),h=i.getValue(c),f=t&&fQ(t,u);switch("valueUpdate"!==n.type||"external"!==n.source||f$(d,h)||(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=yQ,i.warnings=yQ,i.triggerMetaEvent()),n.type){case"reset":if(!t||f)return i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=yQ,i.warnings=yQ,i.triggerMetaEvent(),null===l||void 0===l||l(),void i.refresh();break;case"remove":if(o&&bQ(o,e,c,d,h,n))return void i.reRender();break;case"setField":var p=n.data;if(f)return"touched"in p&&(i.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(i.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(i.errors=p.errors||yQ),"warnings"in p&&(i.warnings=p.warnings||yQ),i.dirty=!0,i.triggerMetaEvent(),void i.reRender();if("value"in p&&fQ(t,u,!0))return void i.reRender();if(o&&!u.length&&bQ(o,e,c,d,h,n))return void i.reRender();break;case"dependenciesUpdate":if(a.map(dQ).some((function(e){return fQ(n.relatedFields,e)})))return void i.reRender();break;default:if(f||(!a.length||u.length||o)&&bQ(o,e,c,d,h,n))return void i.reRender()}!0===o&&i.reRender()})),re(cU(i),"validateRules",(function(e){var t=i.getNamePath(),n=i.getValue(),r=e||{},o=r.triggerName,s=r.validateOnly,a=void 0!==s&&s,l=Promise.resolve().then(Oq(Tq().mark((function r(){var s,a,c,u,d,h,f;return Tq().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i.mounted){r.next=2;break}return r.abrupt("return",[]);case 2:if(s=i.props,a=s.validateFirst,c=void 0!==a&&a,u=s.messageVariables,d=s.validateDebounce,h=i.getRules(),o&&(h=h.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||fK(t).includes(o)}))),!d||!o){r.next=10;break}return r.next=8,new Promise((function(e){setTimeout(e,d)}));case 8:if(i.validatePromise===l){r.next=10;break}return r.abrupt("return",[]);case 10:return(f=lQ(t,n,h,e,c,u)).catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yQ;if(i.validatePromise===l){var t;i.validatePromise=null;var n=[],r=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors,o=void 0===i?yQ:i;t?r.push.apply(r,Gj(o)):n.push.apply(n,Gj(o))})),i.errors=n,i.warnings=r,i.triggerMetaEvent(),i.reRender()}})),r.abrupt("return",f);case 13:case"end":return r.stop()}}),r)}))));return a||(i.validatePromise=l,i.dirty=!0,i.errors=yQ,i.warnings=yQ,i.triggerMetaEvent(),i.reRender()),l})),re(cU(i),"isFieldValidating",(function(){return!!i.validatePromise})),re(cU(i),"isFieldTouched",(function(){return i.touched})),re(cU(i),"isFieldDirty",(function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(cK).getInitialValue)(i.getNamePath())})),re(cU(i),"getErrors",(function(){return i.errors})),re(cU(i),"getWarnings",(function(){return i.warnings})),re(cU(i),"isListField",(function(){return i.props.isListField})),re(cU(i),"isList",(function(){return i.props.isList})),re(cU(i),"isPreserve",(function(){return i.props.preserve})),re(cU(i),"getMeta",(function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:null===i.validatePromise}})),re(cU(i),"getOnlyChild",(function(e){if("function"===typeof e){var n=i.getMeta();return oe(oe({},i.getOnlyChild(e(i.getControlled(),n,i.props.fieldContext))),{},{isFunction:!0})}var r=eH(e);return 1===r.length&&t.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}})),re(cU(i),"getValue",(function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return kU(e||t(!0),n)})),re(cU(i),"getControlled",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.name,r=t.trigger,o=t.validateTrigger,s=t.getValueFromEvent,a=t.normalize,l=t.valuePropName,c=t.getValueProps,u=t.fieldContext,d=void 0!==o?o:u.validateTrigger,h=i.getNamePath(),f=u.getInternalHooks,p=u.getFieldsValue,g=f(cK).dispatch,m=i.getValue(),v=c||function(e){return re({},l,e)},y=e[r],b=void 0!==n?v(m):{};var w=oe(oe({},e),b);return w[r]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=s?s.apply(void 0,n):gQ.apply(void 0,[l].concat(n)),a&&(e=a(e,m,p(!0))),e!==m&&g({type:"updateValue",namePath:h,value:e}),y&&y.apply(void 0,n)},fK(d||[]).forEach((function(e){var t=w[e];w[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&g({type:"validateField",namePath:h,triggerName:e})}})),w})),e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(cK).initEntityValue)(cU(i));return i}return m$(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(cK).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,n=this.state.resetCount,r=this.props.children,i=this.getOnlyChild(r),o=i.child;return i.isFunction?e=o:t.isValidElement(o)?e=t.cloneElement(o,this.getControlled(o.props)):(h$(!o,"`children` of Field is not validate ReactElement."),e=o),t.createElement(t.Fragment,{key:n},e)}}]),r}(t.Component);re(wQ,"contextType",dK),re(wQ,"defaultProps",{trigger:"onChange",valuePropName:"value"});const _Q=function(e){var n=e.name,r=gq(e,vQ),i=t.useContext(dK),o=t.useContext(hK),s=void 0!==n?dQ(n):void 0,a="keep";return r.isListField||(a="_".concat((s||[]).join("_"))),t.createElement(wQ,f({key:a,name:s,isListField:!!o},r,{fieldContext:i}))};const EQ=function(e){var n=e.name,r=e.initialValue,i=e.children,o=e.rules,s=e.validateTrigger,a=e.isListField,l=t.useContext(dK),c=t.useContext(hK),u=t.useRef({keys:[],id:0}).current,d=t.useMemo((function(){var e=dQ(l.prefixName)||[];return[].concat(Gj(e),Gj(dQ(n)))}),[l.prefixName,n]),h=t.useMemo((function(){return oe(oe({},l),{},{prefixName:d})}),[l,d]),f=t.useMemo((function(){return{getKey:function(e){var t=d.length,n=e[t];return[u.keys[n],e.slice(t+1)]}}}),[d]);return"function"!==typeof i?(h$(!1,"Form.List only accepts function as children."),null):t.createElement(hK.Provider,{value:f},t.createElement(dK.Provider,{value:h},t.createElement(_Q,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:o,validateTrigger:s,initialValue:r,isList:!0,isListField:null!==a&&void 0!==a?a:!!c},(function(e,t){var n=e.value,r=void 0===n?[]:n,o=e.onChange,s=l.getFieldValue,a=function(){return s(d||[])||[]},c={add:function(e,t){var n=a();t>=0&&t<=n.length?(u.keys=[].concat(Gj(u.keys.slice(0,t)),[u.id],Gj(u.keys.slice(t))),o([].concat(Gj(n.slice(0,t)),[e],Gj(n.slice(t))))):(u.keys=[].concat(Gj(u.keys),[u.id]),o([].concat(Gj(n),[e]))),u.id+=1},remove:function(e){var t=a(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(u.keys=u.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=a();e<0||e>=n.length||t<0||t>=n.length||(u.keys=mQ(u.keys,e,t),o(mQ(n,e,t)))}}},h=r||[];return Array.isArray(h)||(h=[]),i(h.map((function(e,t){var n=u.keys[t];return void 0===n&&(u.keys[t]=u.id,n=u.keys[t],u.id+=1),{name:t,key:n,isListField:!0}})),c,t)}))))};var CQ="__@field_split__";function xQ(e){return e.map((function(e){return"".concat(te(e),":").concat(e)})).join(CQ)}var SQ=function(){function e(){p$(this,e),re(this,"kvs",new Map)}return m$(e,[{key:"set",value:function(e,t){this.kvs.set(xQ(e),t)}},{key:"get",value:function(e){return this.kvs.get(xQ(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(xQ(e))}},{key:"map",value:function(e){return Gj(this.kvs.entries()).map((function(t){var n=Hj(t,2),r=n[0],i=n[1],o=r.split(CQ);return e({key:o.map((function(e){var t=Hj(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}();const kQ=SQ;var TQ=["name"],IQ=m$((function e(t){var n=this;p$(this,e),re(this,"formHooked",!1),re(this,"forceRootUpdate",void 0),re(this,"subscribable",!0),re(this,"store",{}),re(this,"fieldEntities",[]),re(this,"initialValues",{}),re(this,"callbacks",{}),re(this,"validateMessages",null),re(this,"preserve",null),re(this,"lastValidatePromise",null),re(this,"getForm",(function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}})),re(this,"getInternalHooks",(function(e){return e===cK?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(h$(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)})),re(this,"useSubscribe",(function(e){n.subscribable=e})),re(this,"prevWithoutPreserves",null),re(this,"setInitialValues",(function(e,t){if(n.initialValues=e||{},t){var r,i=PU(e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=IU(i,n,kU(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}})),re(this,"destroyForm",(function(e){if(e)n.updateStore({});else{var t=new kQ;n.getFieldEntities(!0).forEach((function(e){n.isMergedPreserve(e.isPreserve())||t.set(e.getNamePath(),!0)})),n.prevWithoutPreserves=t}})),re(this,"getInitialValue",(function(e){var t=kU(n.initialValues,e);return e.length?PU(t):t})),re(this,"setCallbacks",(function(e){n.callbacks=e})),re(this,"setValidateMessages",(function(e){n.validateMessages=e})),re(this,"setPreserve",(function(e){n.preserve=e})),re(this,"watchList",[]),re(this,"registerWatch",(function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}})),re(this,"notifyWatch",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue(),r=n.getFieldsValue(!0);n.watchList.forEach((function(n){n(t,r,e)}))}})),re(this,"timeoutId",null),re(this,"warningUnhooked",(function(){0})),re(this,"updateStore",(function(e){n.store=e})),re(this,"getFieldEntities",(function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities})),re(this,"getFieldsMap",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new kQ;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t})),re(this,"getFieldEntitiesForNamePathList",(function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=dQ(e);return t.get(n)||{INVALIDATE_NAME_PATH:dQ(e)}}))})),re(this,"getFieldsValue",(function(e,t){var r,i,o;if(n.warningUnhooked(),!0===e||Array.isArray(e)?(r=e,i=t):e&&"object"===te(e)&&(o=e.strict,i=e.filter),!0===r&&!i)return n.store;var s=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),a=[];return s.forEach((function(e){var t,n,s,l,c="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(o){if(null!==(s=(l=e).isList)&&void 0!==s&&s.call(l))return}else if(!r&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(i){var u="getMeta"in e?e.getMeta():null;i(u)&&a.push(c)}else a.push(c)})),hQ(n.store,a.map(dQ))})),re(this,"getFieldValue",(function(e){n.warningUnhooked();var t=dQ(e);return kU(n.store,t)})),re(this,"getFieldsError",(function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:dQ(e[n]),errors:[],warnings:[]}}))})),re(this,"getFieldError",(function(e){n.warningUnhooked();var t=dQ(e);return n.getFieldsError([t])[0].errors})),re(this,"getFieldWarning",(function(e){n.warningUnhooked();var t=dQ(e);return n.getFieldsError([t])[0].warnings})),re(this,"isFieldsTouched",(function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o=t[0],s=t[1],a=!1;0===t.length?i=null:1===t.length?Array.isArray(o)?(i=o.map(dQ),a=!1):(i=null,a=o):(i=o.map(dQ),a=s);var l=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return a?l.every((function(e){return c(e)||e.isList()})):l.some(c);var u=new kQ;i.forEach((function(e){u.set(e,[])})),l.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&u.update(n,(function(t){return[].concat(Gj(t),[e])}))}))}));var d=function(e){return e.some(c)},h=u.map((function(e){return e.value}));return a?h.every(d):h.some(d)})),re(this,"isFieldTouched",(function(e){return n.warningUnhooked(),n.isFieldsTouched([e])})),re(this,"isFieldsValidating",(function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(dQ);return t.some((function(e){var t=e.getNamePath();return fQ(r,t)&&e.isFieldValidating()}))})),re(this,"isFieldValidating",(function(e){return n.warningUnhooked(),n.isFieldsValidating([e])})),re(this,"resetWithFieldInitialValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new kQ,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i;e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,Gj(Gj(r).map((function(e){return e.entity}))))}))):i=r,i.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))h$(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var o=t.get(i);if(o&&o.size>1)h$(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var s=n.getFieldValue(i);r.isListField()||e.skipExist&&void 0!==s||n.updateStore(IU(n.store,i,Gj(o)[0].value))}}}}))})),re(this,"resetFields",(function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(PU(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(dQ);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(IU(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)})),re(this,"setFields",(function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,o=gq(e,TQ),s=dQ(i);r.push(s),"value"in o&&n.updateStore(IU(n.store,s,o.value)),n.notifyObservers(t,[s],{type:"setField",data:e})})),n.notifyWatch(r)})),re(this,"getFields",(function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=oe(oe({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))})),re(this,"initEntityValue",(function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===kU(n.store,r)&&n.updateStore(IU(n.store,r,t))}})),re(this,"isMergedPreserve",(function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t})),re(this,"registerField",(function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||o.length>1)){var s=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==s&&n.fieldEntities.every((function(e){return!pQ(e.getNamePath(),t)}))){var a=n.store;n.updateStore(IU(a,t,s,!0)),n.notifyObservers(a,[t],{type:"remove"}),n.triggerDependenciesUpdate(a,t)}}n.notifyWatch([t])}})),re(this,"dispatch",(function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,o=e.triggerName;n.validateFields([i],{triggerName:o})}})),re(this,"notifyObservers",(function(e,t,r){if(n.subscribable){var i=oe(oe({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()})),re(this,"triggerDependenciesUpdate",(function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(Gj(r))}),r})),re(this,"updateValue",(function(e,t){var r=dQ(e),i=n.store;n.updateStore(IU(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var o=n.triggerDependenciesUpdate(i,r),s=n.callbacks.onValuesChange;s&&s(hQ(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(Gj(o)))})),re(this,"setFieldsValue",(function(e){n.warningUnhooked();var t=n.store;if(e){var r=PU(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()})),re(this,"setFieldValue",(function(e,t){n.setFields([{name:e,value:t}])})),re(this,"getDependencyChildrenFields",(function(e){var t=new Set,r=[],i=new kQ;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=dQ(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r})),re(this,"triggerOnFieldsChange",(function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var o=new kQ;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),i.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}var s=i.filter((function(t){var n=t.name;return fQ(e,n)}));s.length&&r(s,i)}})),re(this,"validateFields",(function(e,t){var r,i;n.warningUnhooked(),Array.isArray(e)||"string"===typeof e||"string"===typeof t?(r=e,i=t):i=e;var o=!!r,s=o?r.map(dQ):[],a=[],l=String(Date.now()),c=new Set,u=i||{},d=u.recursive,h=u.dirty;n.getFieldEntities(!0).forEach((function(e){if(o||s.push(e.getNamePath()),e.props.rules&&e.props.rules.length&&(!h||e.isFieldDirty())){var t=e.getNamePath();if(c.add(t.join(l)),!o||fQ(s,t,d)){var r=e.validateRules(oe({validateMessages:oe(oe({},nQ),n.validateMessages)},i));a.push(r.then((function(){return{name:t,errors:[],warnings:[]}})).catch((function(e){var n,r=[],i=[];return null===(n=e.forEach)||void 0===n||n.call(e,(function(e){var t=e.rule.warningOnly,n=e.errors;t?i.push.apply(i,Gj(n)):r.push.apply(r,Gj(n))})),r.length?Promise.reject({name:t,errors:r,warnings:i}):{name:t,errors:r,warnings:i}})))}}}));var f=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,o){e.forEach((function(e,s){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[s]=e,n>0||(t&&o(r),i(r))}))}))})):Promise.resolve([])}(a);n.lastValidatePromise=f,f.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var p=f.then((function(){return n.lastValidatePromise===f?Promise.resolve(n.getFieldsValue(s)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(s),errorFields:t,outOfDate:n.lastValidatePromise!==f})}));p.catch((function(e){return e}));var g=s.filter((function(e){return c.has(e.join(l))}));return n.triggerOnFieldsChange(g),p})),re(this,"submit",(function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))})),this.forceRootUpdate=t}));const OQ=function(e){var n=t.useRef(),r=Hj(t.useState({}),2)[1];if(!n.current)if(e)n.current=e;else{var i=new IQ((function(){r({})}));n.current=i.getForm()}return[n.current]};var NQ=t.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),PQ=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,s=t.useContext(NQ),a=t.useRef({});return t.createElement(NQ.Provider,{value:oe(oe({},s),{},{validateMessages:oe(oe({},s.validateMessages),n),triggerFormChange:function(e,t){r&&r(e,{changedFields:t,forms:a.current}),s.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:a.current}),s.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(a.current=oe(oe({},a.current),{},re({},e,t))),s.registerForm(e,t)},unregisterForm:function(e){var t=oe({},a.current);delete t[e],a.current=t,s.unregisterForm(e)}})},o)};const RQ=NQ;var AQ=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"];const DQ=function(e,n){var r=e.name,i=e.initialValues,o=e.fields,s=e.form,a=e.preserve,l=e.children,c=e.component,u=void 0===c?"form":c,d=e.validateMessages,h=e.validateTrigger,p=void 0===h?"onChange":h,g=e.onValuesChange,m=e.onFieldsChange,v=e.onFinish,y=e.onFinishFailed,b=e.clearOnDestroy,w=gq(e,AQ),_=t.useRef(null),E=t.useContext(RQ),C=Hj(OQ(s),1)[0],x=C.getInternalHooks(cK),S=x.useSubscribe,k=x.setInitialValues,T=x.setCallbacks,I=x.setValidateMessages,O=x.setPreserve,N=x.destroyForm;t.useImperativeHandle(n,(function(){return oe(oe({},C),{},{nativeElement:_.current})})),t.useEffect((function(){return E.registerForm(r,C),function(){E.unregisterForm(r)}}),[E,C,r]),I(oe(oe({},E.validateMessages),d)),T({onValuesChange:g,onFieldsChange:function(e){if(E.triggerFormChange(r,e),m){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];m.apply(void 0,[e].concat(n))}},onFinish:function(e){E.triggerFormFinish(r,e),v&&v(e)},onFinishFailed:y}),O(a);var P,R=t.useRef(null);k(i,!R.current),R.current||(R.current=!0),t.useEffect((function(){return function(){return N(b)}}),[]);var A="function"===typeof l;A?P=l(C.getFieldsValue(!0),C):P=l;S(!A);var D=t.useRef();t.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==te(e)||"object"!==te(t))return!1;var n=Object.keys(e),r=Object.keys(t);return Gj(new Set([].concat(n,r))).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(D.current||[],o||[])||C.setFields(o||[]),D.current=o}),[o,C]);var M=t.useMemo((function(){return oe(oe({},C),{},{validateTrigger:p})}),[C,p]),L=t.createElement(hK.Provider,{value:null},t.createElement(dK.Provider,{value:M},P));return!1===u?L:t.createElement(u,f({},w,{ref:_,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),C.submit()},onReset:function(e){var t;e.preventDefault(),C.resetFields(),null===(t=w.onReset)||void 0===t||t.call(w,e)}}),L)};function MQ(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var LQ=function(){};const FQ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=void 0===o?{}:o,a=function(e){return e&&!!e._init}(s)?{form:s}:s,l=a.form,c=Hj((0,t.useState)(),2),u=c[0],d=c[1],h=(0,t.useMemo)((function(){return MQ(u)}),[u]),f=(0,t.useRef)(h);f.current=h;var p=(0,t.useContext)(dK),g=l||p,m=g&&g._init,v=dQ(i),y=(0,t.useRef)(v);return y.current=v,LQ(v),(0,t.useEffect)((function(){if(m){var e=g.getFieldsValue,t=(0,g.getInternalHooks)(cK).registerWatch,n=function(e,t){var n=a.preserve?t:e;return"function"===typeof i?i(n):kU(n,y.current)},r=t((function(e,t){var r=n(e,t),i=MQ(r);f.current!==i&&(f.current=i,d(r))})),o=n(e(),e(!0));return u!==o&&d(o),r}}),[m]),u};var jQ=t.forwardRef(DQ);jQ.FormProvider=PQ,jQ.Field=_Q,jQ.List=EQ,jQ.useForm=OQ,jQ.useWatch=FQ;const $Q=jQ,BQ=t.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),UQ=t.createContext(null),zQ=e=>{const n=Tj(e,["prefixCls"]);return t.createElement(PQ,Object.assign({},n))},VQ=t.createContext({prefixCls:""}),qQ=t.createContext({});const HQ=e=>{let{children:n,status:r,override:i}=e;const o=(0,t.useContext)(qQ),s=(0,t.useMemo)((()=>{const e=Object.assign({},o);return i&&delete e.isFormItemInput,r&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[r,i,o]);return t.createElement(qQ.Provider,{value:s},n)},WQ=(0,t.createContext)(void 0),GQ=()=>({height:0,opacity:0}),KQ=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},QQ=e=>({height:e?e.offsetHeight:0}),XQ=(e,t)=>!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName,YQ=(e,t,n)=>void 0!==n?n:`${e}-${t}`,JQ=function(){return{motionName:`${arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mj}-motion-collapse`,onAppearStart:GQ,onEnterStart:GQ,onAppearActive:KQ,onEnterActive:KQ,onLeaveStart:QQ,onLeaveActive:GQ,onAppearEnd:XQ,onEnterEnd:XQ,onLeaveEnd:XQ,motionDeadline:500}},ZQ=e=>{const[,,,,t]=bV();return t?`${e}-css-var`:""};function eX(e){const[n,r]=t.useState(e);return t.useEffect((()=>{const t=setTimeout((()=>{r(e)}),e.length?0:10);return()=>{clearTimeout(t)}}),[e]),n}const tX=e=>({animationDuration:e,animationFillMode:"both"}),nX=e=>({animationDuration:e,animationFillMode:"both"}),rX=function(e,t,n,r){const i=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return{[`\n      ${i}${e}-enter,\n      ${i}${e}-appear\n    `]:Object.assign(Object.assign({},tX(r)),{animationPlayState:"paused"}),[`${i}${e}-leave`]:Object.assign(Object.assign({},nX(r)),{animationPlayState:"paused"}),[`\n      ${i}${e}-enter${e}-enter-active,\n      ${i}${e}-appear${e}-appear-active\n    `]:{animationName:t,animationPlayState:"running"},[`${i}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},iX=new aU("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),oX=new aU("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),sX=new aU("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),aX=new aU("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),lX=new aU("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),cX=new aU("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),uX=new aU("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),dX=new aU("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),hX=new aU("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),fX=new aU("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),pX=new aU("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),gX=new aU("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),mX={zoom:{inKeyframes:iX,outKeyframes:oX},"zoom-big":{inKeyframes:sX,outKeyframes:aX},"zoom-big-fast":{inKeyframes:sX,outKeyframes:aX},"zoom-left":{inKeyframes:uX,outKeyframes:dX},"zoom-right":{inKeyframes:hX,outKeyframes:fX},"zoom-up":{inKeyframes:lX,outKeyframes:cX},"zoom-down":{inKeyframes:pX,outKeyframes:gX}},vX=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:o}=mX[t];return[rX(r,i,o,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),{[`\n        ${r}-enter,\n        ${r}-appear\n      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},yX=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},\n        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},\n        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),bX=e=>{const{componentCls:t}=e,n=`${t}-show-help`,r=`${t}-show-help-item`;return{[n]:{transition:`opacity ${e.motionDurationFast} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${e.motionDurationFast} ${e.motionEaseInOut},\n                     opacity ${e.motionDurationFast} ${e.motionEaseInOut},\n                     transform ${e.motionDurationFast} ${e.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},wX=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${F$(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${F$(e.controlOutlineWidth)} ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),_X=(e,t)=>{const{formItemCls:n}=e;return{[n]:{[`${n}-label > label`]:{height:t},[`${n}-control-input`]:{minHeight:t}}}},EX=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},WU(e)),wX(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},_X(e,e.controlHeightSM)),"&-large":Object.assign({},_X(e,e.controlHeightLG))})}},CX=e=>{const{formItemCls:t,iconCls:n,componentCls:r,rootPrefixCls:i,antCls:o,labelRequiredMarkColor:s,labelColor:a,labelFontSize:l,labelHeight:c,labelColonMarginInlineStart:u,labelColonMarginInlineEnd:d,itemMarginBottom:h}=e;return{[t]:Object.assign(Object.assign({},WU(e)),{marginBottom:h,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,\n        &-hidden${o}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:c,color:a,fontSize:l,[`> ${n}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required:not(${t}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:e.marginXXS,color:s,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${r}-hide-required-mark &`]:{display:"none"}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`${r}-hide-required-mark &`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:u,marginInlineEnd:d},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${i}-col-'"]):not([class*="' ${i}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[t]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:iX,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},xX=(e,t)=>{const{formItemCls:n}=e;return{[`${t}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}}}}},SX=e=>{const{componentCls:t,formItemCls:n,inlineItemMarginBottom:r}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:e.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,\n        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},kX=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),TX=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${n} ${n}-label`]:kX(e),[`${t}:not(${t}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},IX=e=>{const{componentCls:t,formItemCls:n,antCls:r}=e;return{[`${t}-vertical`]:{[`${n}:not(${n}-horizontal)`]:{[`${n}-row`]:{flexDirection:"column"},[`${n}-label > label`]:{height:"auto"},[`${n}-control`]:{width:"100%"},[`${n}-label,\n        ${r}-col-24${n}-label,\n        ${r}-col-xl-24${n}-label`]:kX(e)}},[`@media (max-width: ${F$(e.screenXSMax)})`]:[TX(e),{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-xs-24${n}-label`]:kX(e)}}}],[`@media (max-width: ${F$(e.screenSMMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-sm-24${n}-label`]:kX(e)}}},[`@media (max-width: ${F$(e.screenMDMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-md-24${n}-label`]:kX(e)}}},[`@media (max-width: ${F$(e.screenLGMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-lg-24${n}-label`]:kX(e)}}}}},OX=e=>{const{formItemCls:t,antCls:n}=e;return{[`${t}-vertical`]:{[`${t}-row`]:{flexDirection:"column"},[`${t}-label > label`]:{height:"auto"},[`${t}-control`]:{width:"100%"}},[`${t}-vertical ${t}-label,\n      ${n}-col-24${t}-label,\n      ${n}-col-xl-24${t}-label`]:kX(e),[`@media (max-width: ${F$(e.screenXSMax)})`]:[TX(e),{[t]:{[`${n}-col-xs-24${t}-label`]:kX(e)}}],[`@media (max-width: ${F$(e.screenSMMax)})`]:{[t]:{[`${n}-col-sm-24${t}-label`]:kX(e)}},[`@media (max-width: ${F$(e.screenMDMax)})`]:{[t]:{[`${n}-col-md-24${t}-label`]:kX(e)}},[`@media (max-width: ${F$(e.screenLGMax)})`]:{[t]:{[`${n}-col-lg-24${t}-label`]:kX(e)}}}},NX=(e,t)=>MU(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t}),PX=_V("Form",((e,t)=>{let{rootPrefixCls:n}=t;const r=NX(e,n);return[EX(r),CX(r),bX(r),xX(r,r.componentCls),xX(r,r.formItemCls),SX(r),IX(r),OX(r),yX(r),iX]}),(e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0})),{order:-1e3}),RX=[];function AX(e,t,n){return{key:"string"===typeof e?e:`${t}-${arguments.length>3&&void 0!==arguments[3]?arguments[3]:0}`,error:e,errorStatus:n}}const DX=e=>{let{help:n,helpStatus:r,errors:i=RX,warnings:o=RX,className:s,fieldId:a,onVisibleChanged:l}=e;const{prefixCls:c}=t.useContext(VQ),u=`${c}-item-explain`,d=ZQ(c),[h,f,p]=PX(c,d),g=(0,t.useMemo)((()=>JQ(c)),[c]),m=eX(i),v=eX(o),y=t.useMemo((()=>void 0!==n&&null!==n?[AX(n,"help",r)]:[].concat(Gj(m.map(((e,t)=>AX(e,"error","error",t)))),Gj(v.map(((e,t)=>AX(e,"warning","warning",t)))))),[n,r,m,v]),b=t.useMemo((()=>{const e={};return y.forEach((t=>{let{key:n}=t;e[n]=(e[n]||0)+1})),y.map(((t,n)=>Object.assign(Object.assign({},t),{key:e[t.key]>1?`${t.key}-fallback-${n}`:t.key})))}),[y]),w={};return a&&(w.id=`${a}_help`),h(t.createElement(kq,{motionDeadline:g.motionDeadline,motionName:`${c}-show-help`,visible:!!b.length,onVisibleChanged:l},(e=>{const{className:n,style:r}=e;return t.createElement("div",Object.assign({},w,{className:$n()(u,n,p,d,s,f),style:r,role:"alert"}),t.createElement(Sq,Object.assign({keys:b},JQ(c),{motionName:`${c}-show-help-item`,component:!1}),(e=>{const{key:n,error:r,errorStatus:i,className:o,style:s}=e;return t.createElement("div",{key:n,className:$n()(o,{[`${u}-${i}`]:i}),style:s},r)})))})))},MX=e=>"object"==typeof e&&null!=e&&1===e.nodeType,LX=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,FX=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return LX(n.overflowY,t)||LX(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},jX=(e,t,n,r,i,o,s,a)=>o<e&&s>t||o>e&&s<t?0:o<=e&&a<=n||s>=t&&a>=n?o-e-r:s>t&&a<n||o<e&&a>n?s-t+i:0,$X=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},BX=(e,t)=>{var n,r,i,o;if("undefined"==typeof document)return[];const{scrollMode:s,block:a,inline:l,boundary:c,skipOverflowHiddenElements:u}=t,d="function"==typeof c?c:e=>e!==c;if(!MX(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,f=[];let p=e;for(;MX(p)&&d(p);){if(p=$X(p),p===h){f.push(p);break}null!=p&&p===document.body&&FX(p)&&!FX(document.documentElement)||null!=p&&FX(p,u)&&f.push(p)}const g=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,m=null!=(o=null==(i=window.visualViewport)?void 0:i.height)?o:innerHeight,{scrollX:v,scrollY:y}=window,{height:b,width:w,top:_,right:E,bottom:C,left:x}=e.getBoundingClientRect(),{top:S,right:k,bottom:T,left:I}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let O="start"===a||"nearest"===a?_-S:"end"===a?C+T:_+b/2-S+T,N="center"===l?x+w/2-I+k:"end"===l?E+k:x-I;const P=[];for(let R=0;R<f.length;R++){const e=f[R],{height:t,width:n,top:r,right:i,bottom:o,left:c}=e.getBoundingClientRect();if("if-needed"===s&&_>=0&&x>=0&&C<=m&&E<=g&&_>=r&&C<=o&&x>=c&&E<=i)return P;const u=getComputedStyle(e),d=parseInt(u.borderLeftWidth,10),p=parseInt(u.borderTopWidth,10),S=parseInt(u.borderRightWidth,10),k=parseInt(u.borderBottomWidth,10);let T=0,I=0;const A="offsetWidth"in e?e.offsetWidth-e.clientWidth-d-S:0,D="offsetHeight"in e?e.offsetHeight-e.clientHeight-p-k:0,M="offsetWidth"in e?0===e.offsetWidth?0:n/e.offsetWidth:0,L="offsetHeight"in e?0===e.offsetHeight?0:t/e.offsetHeight:0;if(h===e)T="start"===a?O:"end"===a?O-m:"nearest"===a?jX(y,y+m,m,p,k,y+O,y+O+b,b):O-m/2,I="start"===l?N:"center"===l?N-g/2:"end"===l?N-g:jX(v,v+g,g,d,S,v+N,v+N+w,w),T=Math.max(0,T+y),I=Math.max(0,I+v);else{T="start"===a?O-r-p:"end"===a?O-o+k+D:"nearest"===a?jX(r,o,t,p,k+D,O,O+b,b):O-(r+t/2)+D/2,I="start"===l?N-c-d:"center"===l?N-(c+n/2)+A/2:"end"===l?N-i+S+A:jX(c,i,n,d,S+A,N,N+w,w);const{scrollLeft:s,scrollTop:u}=e;T=0===L?0:Math.max(0,Math.min(u+T/L,e.scrollHeight-t/L+D)),I=0===M?0:Math.max(0,Math.min(s+I/M,e.scrollWidth-n/M+A)),O+=u-T,N+=s-I}P.push({el:e,top:T,left:I})}return P};function UX(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const n=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if((e=>"object"==typeof e&&"function"==typeof e.behavior)(t))return t.behavior(BX(e,t));const r="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:i,top:o,left:s}of BX(e,(e=>!1===e?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&0!==Object.keys(e).length)(e)?e:{block:"start",inline:"nearest"})(t))){const e=o-n.top+n.bottom,t=s-n.left+n.right;i.scroll({top:e,left:t,behavior:r})}}const zX=["parentNode"];function VX(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function qX(e,t){if(!e.length)return;const n=e.join("_");if(t)return`${t}_${n}`;return zX.includes(n)?`form_item_${n}`:n}function HX(e,t,n,r,i,o){let s=r;return void 0!==o?s=o:n.validating?s="validating":e.length?s="error":t.length?s="warning":(n.touched||i&&n.validated)&&(s="success"),s}function WX(e){return VX(e).join("_")}function GX(e,t){const n=MV(t.getFieldInstance(e));if(n)return n;const r=qX(VX(e),t.__INTERNAL__.name);return r?document.getElementById(r):void 0}function KX(e){const[n]=OQ(),r=t.useRef({}),i=t.useMemo((()=>null!==e&&void 0!==e?e:Object.assign(Object.assign({},n),{__INTERNAL__:{itemRef:e=>t=>{const n=WX(e);t?r.current[n]=t:delete r.current[n]}},scrollToField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=GX(e,i);n&&UX(n,Object.assign({scrollMode:"if-needed",block:"nearest"},t))},focusField:e=>{var t;const n=GX(e,i);n&&(null===(t=n.focus)||void 0===t||t.call(n))},getFieldInstance:e=>{const t=WX(e);return r.current[t]}})),[e,n]);return[i]}const QX=(0,t.createContext)(void 0);var XX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const YX=(e,n)=>{const r=t.useContext(Xq),{getPrefixCls:i,direction:o,form:s}=t.useContext(Fj),{prefixCls:a,className:l,rootClassName:c,size:u,disabled:d=r,form:h,colon:f,labelAlign:p,labelWrap:g,labelCol:m,wrapperCol:v,hideRequiredMark:y,layout:b="horizontal",scrollToFirstError:w,requiredMark:_,onFinishFailed:E,name:C,style:x,feedbackIcons:S,variant:k}=e,T=XX(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),I=Zq(u),O=t.useContext(QX);const N=(0,t.useMemo)((()=>void 0!==_?_:!y&&(!s||void 0===s.requiredMark||s.requiredMark)),[y,_,s]),P=null!==f&&void 0!==f?f:null===s||void 0===s?void 0:s.colon,R=i("form",a),A=ZQ(R),[D,M,L]=PX(R,A),F=$n()(R,`${R}-${b}`,{[`${R}-hide-required-mark`]:!1===N,[`${R}-rtl`]:"rtl"===o,[`${R}-${I}`]:I},L,A,M,null===s||void 0===s?void 0:s.className,l,c),[j]=KX(h),{__INTERNAL__:$}=j;$.name=C;const B=(0,t.useMemo)((()=>({name:C,labelAlign:p,labelCol:m,labelWrap:g,wrapperCol:v,vertical:"vertical"===b,colon:P,requiredMark:N,itemRef:$.itemRef,form:j,feedbackIcons:S})),[C,p,m,v,b,P,N,j,S]),U=t.useRef(null);t.useImperativeHandle(n,(()=>{var e;return Object.assign(Object.assign({},j),{nativeElement:null===(e=U.current)||void 0===e?void 0:e.nativeElement})}));const z=(e,t)=>{if(e){let n={block:"nearest"};"object"===typeof e&&(n=Object.assign(Object.assign({},n),e)),j.scrollToField(t,n),n.focus&&j.focusField(t)}};return D(t.createElement(WQ.Provider,{value:k},t.createElement(Qq,{disabled:d},t.createElement(Jq.Provider,{value:I},t.createElement(zQ,{validateMessages:O},t.createElement(BQ.Provider,{value:B},t.createElement($Q,Object.assign({id:C},T,{name:C,onFinishFailed:e=>{if(null===E||void 0===E||E(e),e.errorFields.length){const t=e.errorFields[0].name;if(void 0!==w)return void z(w,t);s&&void 0!==s.scrollToFirstError&&z(s.scrollToFirstError,t)}},form:j,ref:U,style:Object.assign(Object.assign({},null===s||void 0===s?void 0:s.style),x),className:F}))))))))};const JX=t.forwardRef(YX);function ZX(){}const eY=()=>{const e=()=>{};return e.deprecated=ZX,e};const tY=()=>{const{status:e,errors:n=[],warnings:r=[]}=(0,t.useContext)(qQ);return{status:e,errors:n,warnings:r}};tY.Context=qQ;const nY=tY;const rY=["xxl","xl","lg","md","sm","xs"];function iY(){const[,e]=bV(),n=(e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}))((e=>{const t=e,n=[].concat(rY).reverse();return n.forEach(((e,r)=>{const i=e.toUpperCase(),o=`screen${i}Min`,s=`screen${i}`;if(!(t[o]<=t[s]))throw new Error(`${o}<=${s} fails : !(${t[o]}<=${t[s]})`);if(r<n.length-1){const e=`screen${i}Max`;if(!(t[s]<=t[e]))throw new Error(`${s}<=${e} fails : !(${t[s]}<=${t[e]})`);const o=`screen${n[r+1].toUpperCase()}Min`;if(!(t[e]<=t[o]))throw new Error(`${e}<=${o} fails : !(${t[e]}<=${t[o]})`)}})),e})(e));return t.useMemo((()=>{const e=new Map;let t=-1,r={};return{matchHandlers:{},dispatch:t=>(r=t,e.forEach((e=>e(r))),e.size>=1),subscribe(n){return e.size||this.register(),t+=1,e.set(t,n),n(r),t},unsubscribe(t){e.delete(t),e.size||this.unregister()},unregister(){Object.keys(n).forEach((e=>{const t=n[e],r=this.matchHandlers[t];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),e.clear()},register(){Object.keys(n).forEach((e=>{const t=n[e],i=t=>{let{matches:n}=t;this.dispatch(Object.assign(Object.assign({},r),{[e]:n}))},o=window.matchMedia(t);o.addListener(i),this.matchHandlers[t]={mql:o,listener:i},i(o)}))},responsiveMap:n}}),[e])}const oY=(0,t.createContext)({}),sY=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},aY=(e,t)=>((e,t)=>{const{prefixCls:n,componentCls:r,gridColumns:i}=e,o={};for(let s=i;s>=0;s--)0===s?(o[`${r}${t}-${s}`]={display:"none"},o[`${r}-push-${s}`]={insetInlineStart:"auto"},o[`${r}-pull-${s}`]={insetInlineEnd:"auto"},o[`${r}${t}-push-${s}`]={insetInlineStart:"auto"},o[`${r}${t}-pull-${s}`]={insetInlineEnd:"auto"},o[`${r}${t}-offset-${s}`]={marginInlineStart:0},o[`${r}${t}-order-${s}`]={order:0}):(o[`${r}${t}-${s}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${s/i*100}%`,maxWidth:s/i*100+"%"}],o[`${r}${t}-push-${s}`]={insetInlineStart:s/i*100+"%"},o[`${r}${t}-pull-${s}`]={insetInlineEnd:s/i*100+"%"},o[`${r}${t}-offset-${s}`]={marginInlineStart:s/i*100+"%"},o[`${r}${t}-order-${s}`]={order:s});return o[`${r}${t}-flex`]={flex:`var(--${n}${t}-flex)`},o})(e,t),lY=_V("Grid",(e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}}),(()=>({}))),cY=_V("Grid",(e=>{const t=MU(e,{gridColumns:24}),n={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[sY(t),aY(t,""),aY(t,"-xs"),Object.keys(n).map((e=>((e,t,n)=>({[`@media (min-width: ${F$(t)})`]:Object.assign({},aY(e,n))}))(t,n[e],e))).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})]}),(()=>({})));var uY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function dY(e,n){const[r,i]=t.useState("string"===typeof e?e:"");return t.useEffect((()=>{(()=>{if("string"===typeof e&&i(e),"object"===typeof e)for(let t=0;t<rY.length;t++){const r=rY[t];if(!n[r])continue;const o=e[r];if(void 0!==o)return void i(o)}})()}),[JSON.stringify(e),n]),r}const hY=t.forwardRef(((e,n)=>{const{prefixCls:r,justify:i,align:o,className:s,style:a,children:l,gutter:c=0,wrap:u}=e,d=uY(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:h,direction:f}=t.useContext(Fj),[p,g]=t.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[m,v]=t.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),y=dY(o,m),b=dY(i,m),w=t.useRef(c),_=iY();t.useEffect((()=>{const e=_.subscribe((e=>{v(e);const t=w.current||0;(!Array.isArray(t)&&"object"===typeof t||Array.isArray(t)&&("object"===typeof t[0]||"object"===typeof t[1]))&&g(e)}));return()=>_.unsubscribe(e)}),[]);const E=h("row",r),[C,x,S]=lY(E),k=(()=>{const e=[void 0,void 0];return(Array.isArray(c)?c:[c,void 0]).forEach(((t,n)=>{if("object"===typeof t)for(let r=0;r<rY.length;r++){const i=rY[r];if(p[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t})),e})(),T=$n()(E,{[`${E}-no-wrap`]:!1===u,[`${E}-${b}`]:b,[`${E}-${y}`]:y,[`${E}-rtl`]:"rtl"===f},s,x,S),I={},O=null!=k[0]&&k[0]>0?k[0]/-2:void 0;O&&(I.marginLeft=O,I.marginRight=O);const[N,P]=k;I.rowGap=P;const R=t.useMemo((()=>({gutter:[N,P],wrap:u})),[N,P,u]);return C(t.createElement(oY.Provider,{value:R},t.createElement("div",Object.assign({},d,{className:T,style:Object.assign(Object.assign({},I),a),ref:n}),l)))}));const fY=hY;var pY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function gY(e){return"number"===typeof e?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}const mY=["xs","sm","md","lg","xl","xxl"],vY=t.forwardRef(((e,n)=>{const{getPrefixCls:r,direction:i}=t.useContext(Fj),{gutter:o,wrap:s}=t.useContext(oY),{prefixCls:a,span:l,order:c,offset:u,push:d,pull:h,className:f,children:p,flex:g,style:m}=e,v=pY(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),y=r("col",a),[b,w,_]=cY(y),E={};let C={};mY.forEach((t=>{let n={};const r=e[t];"number"===typeof r?n.span=r:"object"===typeof r&&(n=r||{}),delete v[t],C=Object.assign(Object.assign({},C),{[`${y}-${t}-${n.span}`]:void 0!==n.span,[`${y}-${t}-order-${n.order}`]:n.order||0===n.order,[`${y}-${t}-offset-${n.offset}`]:n.offset||0===n.offset,[`${y}-${t}-push-${n.push}`]:n.push||0===n.push,[`${y}-${t}-pull-${n.pull}`]:n.pull||0===n.pull,[`${y}-rtl`]:"rtl"===i}),n.flex&&(C[`${y}-${t}-flex`]=!0,E[`--${y}-${t}-flex`]=gY(n.flex))}));const x=$n()(y,{[`${y}-${l}`]:void 0!==l,[`${y}-order-${c}`]:c,[`${y}-offset-${u}`]:u,[`${y}-push-${d}`]:d,[`${y}-pull-${h}`]:h},f,C,w,_),S={};if(o&&o[0]>0){const e=o[0]/2;S.paddingLeft=e,S.paddingRight=e}return g&&(S.flex=gY(g),!1!==s||S.minWidth||(S.minWidth=0)),b(t.createElement("div",Object.assign({},v,{style:Object.assign(Object.assign(Object.assign({},S),m),E),className:x,ref:n}),p))}));const yY=vY,bY=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}},wY=CV(["Form","item-item"],((e,t)=>{let{rootPrefixCls:n}=t;const r=NX(e,n);return[bY(r)]}));var _Y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const EY=e=>{const{prefixCls:n,status:r,labelCol:i,wrapperCol:o,children:s,errors:a,warnings:l,_internalItemRender:c,extra:u,help:d,fieldId:h,marginBottom:f,onErrorVisibleChanged:p,label:g}=e,m=`${n}-item`,v=t.useContext(BQ),y=t.useMemo((()=>{let e=Object.assign({},o||v.wrapperCol||{});if(null===g&&!i&&!o&&v.labelCol){[void 0,"xs","sm","md","lg","xl","xxl"].forEach((t=>{const n=t?[t]:[],r=kU(v.labelCol,n),i="object"===typeof r?r:{},o=kU(e,n);"span"in i&&!("offset"in("object"===typeof o?o:{}))&&i.span<24&&(e=IU(e,[].concat(n,["offset"]),i.span))}))}return e}),[o,v]),b=$n()(`${m}-control`,y.className),w=t.useMemo((()=>{const{labelCol:e,wrapperCol:t}=v;return _Y(v,["labelCol","wrapperCol"])}),[v]),_=t.useRef(null),[E,C]=t.useState(0);H$((()=>{u&&_.current?C(_.current.clientHeight):C(0)}),[u]);const x=t.createElement("div",{className:`${m}-control-input`},t.createElement("div",{className:`${m}-control-input-content`},s)),S=t.useMemo((()=>({prefixCls:n,status:r})),[n,r]),k=null!==f||a.length||l.length?t.createElement(VQ.Provider,{value:S},t.createElement(DX,{fieldId:h,errors:a,warnings:l,help:d,helpStatus:r,className:`${m}-explain-connected`,onVisibleChanged:p})):null,T={};h&&(T.id=`${h}_extra`);const I=u?t.createElement("div",Object.assign({},T,{className:`${m}-extra`,ref:_}),u):null,O=k||I?t.createElement("div",{className:`${m}-additional`,style:f?{minHeight:f+E}:{}},k,I):null,N=c&&"pro_table_render"===c.mark&&c.render?c.render(e,{input:x,errorList:k,extra:I}):t.createElement(t.Fragment,null,x,O);return t.createElement(BQ.Provider,{value:w},t.createElement(yY,Object.assign({},y,{className:b}),N),t.createElement(wY,{prefixCls:n}))};const CY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};var xY=function(e,n){return t.createElement(NH,f({},e,{ref:n,icon:CY}))};const SY=t.forwardRef(xY),kY=(0,t.createContext)(void 0);const TY={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};const IY=oe(oe({},{yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),OY={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},NY={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},IY),timePickerLocale:Object.assign({},OY)},PY="${label} is not a valid ${type}",RY={locale:"en",Pagination:TY,DatePicker:NY,TimePicker:OY,Calendar:NY,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:PY,method:PY,array:PY,object:PY,number:PY,date:PY,boolean:PY,integer:PY,float:PY,regexp:PY,email:PY,url:PY,hex:PY},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}},AY=(e,n)=>{const r=t.useContext(kY),i=t.useMemo((()=>{var t;const i=n||RY[e],o=null!==(t=null===r||void 0===r?void 0:r[e])&&void 0!==t?t:{};return Object.assign(Object.assign({},"function"===typeof i?i():i),o||{})}),[e,n,r]);return[i,t.useMemo((()=>{const e=null===r||void 0===r?void 0:r.locale;return(null===r||void 0===r?void 0:r.exist)&&!e?RY.locale:e}),[r])]};function DY(e){var n=e.children,r=e.prefixCls,i=e.id,o=e.overlayInnerStyle,s=e.className,a=e.style;return t.createElement("div",{className:$n()("".concat(r,"-content"),s),style:a},t.createElement("div",{className:"".concat(r,"-inner"),id:i,role:"tooltip",style:o},"function"===typeof n?n():n))}const MY=t.createContext(null);var LY=[];function FY(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,i,o=n.style;if(o.position="absolute",o.left="0",o.top="0",o.width="100px",o.height="100px",o.overflow="scroll",e){var s=getComputedStyle(e);o.scrollbarColor=s.scrollbarColor,o.scrollbarWidth=s.scrollbarWidth;var a=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(a.width,10),c=parseInt(a.height,10);try{var u=l?"width: ".concat(a.width,";"):"",d=c?"height: ".concat(a.height,";"):"";o$("\n#".concat(t,"::-webkit-scrollbar {\n").concat(u,"\n").concat(d,"\n}"),t)}catch(LX){console.error(LX),r=l,i=c}}document.body.appendChild(n);var h=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,f=e&&i&&!isNaN(i)?i:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),i$(t),{width:h,height:f}}var jY="rc-util-locker-".concat(Date.now()),$Y=0;function BY(e){var n=!!e,r=Hj(t.useState((function(){return $Y+=1,"".concat(jY,"_").concat($Y)})),1)[0];H$((function(){if(n){var e=(i=document.body,"undefined"!==typeof document&&i&&i instanceof Element?FY(i):{width:0,height:0}).width,t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;o$("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(e,"px);"):"","\n}"),r)}else i$(r);var i;return function(){i$(r)}}),[n,r])}var UY=!1;var zY=function(e){return!1!==e&&(Qj()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)},VY=t.forwardRef((function(e,n){var r=e.open,o=e.autoLock,s=e.getContainer,a=(e.debug,e.autoDestroy),l=void 0===a||a,c=e.children,u=Hj(t.useState(r),2),d=u[0],h=u[1],f=d||r;t.useEffect((function(){(l||r)&&h(r)}),[r,l]);var p=Hj(t.useState((function(){return zY(s)})),2),g=p[0],m=p[1];t.useEffect((function(){var e=zY(s);m(null!==e&&void 0!==e?e:null)}));var v=function(e){var n=Hj(t.useState((function(){return Qj()?document.createElement("div"):null})),1)[0],r=t.useRef(!1),i=t.useContext(MY),o=Hj(t.useState(LY),2),s=o[0],a=o[1],l=i||(r.current?void 0:function(e){a((function(t){return[e].concat(Gj(t))}))});function c(){n.parentElement||document.body.appendChild(n),r.current=!0}function u(){var e;null===(e=n.parentElement)||void 0===e||e.removeChild(n),r.current=!1}return H$((function(){return e?i?i(c):c():u(),u}),[e]),H$((function(){s.length&&(s.forEach((function(e){return e()})),a(LY))}),[s]),[n,l]}(f&&!g),y=Hj(v,2),b=y[0],w=y[1],_=null!==g&&void 0!==g?g:b;BY(o&&r&&Qj()&&(_===b||_===document.body));var E=null;c&&Rj(c)&&n&&(E=c.ref);var C=Pj(E,n);if(!f||!Qj()||void 0===g)return null;var x,S=!1===_||("boolean"===typeof x&&(UY=x),UY),k=c;return n&&(k=t.cloneElement(c,{ref:C})),t.createElement(MY.Provider,{value:w},S?k:(0,i.createPortal)(k,_))}));const qY=VY;var HY=t.createContext(null);var WY=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),GY="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,KY="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),QY="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(KY):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var XY=["top","right","bottom","left","width","height","size","weight"],YY="undefined"!==typeof MutationObserver,JY=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&a()}function s(){QY(o)}function a(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return a}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){GY&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),YY?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){GY&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=XY.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),ZY=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},eJ=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||KY},tJ=aJ(0,0,0,0);function nJ(e){return parseFloat(e)||0}function rJ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+nJ(e["border-"+n+"-width"])}),0)}function iJ(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return tJ;var r=eJ(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=nJ(o)}return t}(r),o=i.left+i.right,s=i.top+i.bottom,a=nJ(r.width),l=nJ(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==t&&(a-=rJ(r,"left","right")+o),Math.round(l+s)!==n&&(l-=rJ(r,"top","bottom")+s)),!function(e){return e===eJ(e).document.documentElement}(e)){var c=Math.round(a+o)-t,u=Math.round(l+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return aJ(i.left,i.top,a,l)}var oJ="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof eJ(e).SVGGraphicsElement}:function(e){return e instanceof eJ(e).SVGElement&&"function"===typeof e.getBBox};function sJ(e){return GY?oJ(e)?function(e){var t=e.getBBox();return aJ(0,0,t.width,t.height)}(e):iJ(e):tJ}function aJ(e,t,n,r){return{x:e,y:t,width:n,height:r}}var lJ=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=aJ(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=sJ(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),cJ=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return ZY(s,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),s}(t);ZY(this,{target:e,contentRect:n})},uJ=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new WY,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof eJ(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new lJ(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof eJ(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new cJ(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),dJ="undefined"!==typeof WeakMap?new WeakMap:new WY,hJ=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=JY.getInstance(),r=new uJ(t,n,this);dJ.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){hJ.prototype[e]=function(){var t;return(t=dJ.get(this))[e].apply(t,arguments)}}));const fJ="undefined"!==typeof KY.ResizeObserver?KY.ResizeObserver:hJ;var pJ=new Map;var gJ=new fJ((function(e){e.forEach((function(e){var t,n=e.target;null===(t=pJ.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var mJ=function(e){uU(n,e);var t=fU(n);function n(){return p$(this,n),t.apply(this,arguments)}return m$(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component);function vJ(e,n){var r=e.children,i=e.disabled,o=t.useRef(null),s=t.useRef(null),a=t.useContext(HY),l="function"===typeof r,c=l?r(o):r,u=t.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!l&&t.isValidElement(c)&&Rj(c),h=d?c.ref:null,f=Pj(h,o),p=function(){var e;return LV(o.current)||(o.current&&"object"===te(o.current)?LV(null===(e=o.current)||void 0===e?void 0:e.nativeElement):null)||LV(s.current)};t.useImperativeHandle(n,(function(){return p()}));var g=t.useRef(e);g.current=e;var m=t.useCallback((function(e){var t=g.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),o=i.width,s=i.height,l=e.offsetWidth,c=e.offsetHeight,d=Math.floor(o),h=Math.floor(s);if(u.current.width!==d||u.current.height!==h||u.current.offsetWidth!==l||u.current.offsetHeight!==c){var f={width:d,height:h,offsetWidth:l,offsetHeight:c};u.current=f;var p=l===Math.round(o)?o:l,m=c===Math.round(s)?s:c,v=oe(oe({},f),{},{offsetWidth:p,offsetHeight:m});null===a||void 0===a||a(v,e,r),n&&Promise.resolve().then((function(){n(v,e)}))}}),[]);return t.useEffect((function(){var e=p();return e&&!i&&function(e,t){pJ.has(e)||(pJ.set(e,new Set),gJ.observe(e)),pJ.get(e).add(t)}(e,m),function(){return function(e,t){pJ.has(e)&&(pJ.get(e).delete(t),pJ.get(e).size||(gJ.unobserve(e),pJ.delete(e)))}(e,m)}}),[o.current,i]),t.createElement(mJ,{ref:s},d?t.cloneElement(c,{ref:f}):c)}const yJ=t.forwardRef(vJ);function bJ(e,n){var r=e.children;return("function"===typeof r?[r]:eH(r)).map((function(r,i){var o=(null===r||void 0===r?void 0:r.key)||"".concat("rc-observer-key","-").concat(i);return t.createElement(yJ,f({},e,{key:o,ref:0===i?n:void 0}),r)}))}var wJ=t.forwardRef(bJ);wJ.Collection=function(e){var n=e.children,r=e.onBatchResize,i=t.useRef(0),o=t.useRef([]),s=t.useContext(HY),a=t.useCallback((function(e,t,n){i.current+=1;var a=i.current;o.current.push({size:e,element:t,data:n}),Promise.resolve().then((function(){a===i.current&&(null===r||void 0===r||r(o.current),o.current=[])})),null===s||void 0===s||s(e,t,n)}),[r,s]);return t.createElement(HY.Provider,{value:a},n)};const _J=wJ;var EJ=0;var CJ=oe({},r).useId;const xJ=CJ?function(e){var t=CJ();return e||t}:function(e){var n=Hj(t.useState("ssr-id"),2),r=n[0],i=n[1];return t.useEffect((function(){var e=EJ;EJ+=1,i("rc_unique_".concat(e))}),[]),e||r};function SJ(e){var n=e.prefixCls,r=e.align,i=e.arrow,o=e.arrowPos,s=i||{},a=s.className,l=s.content,c=o.x,u=void 0===c?0:c,d=o.y,h=void 0===d?0:d,f=t.useRef();if(!r||!r.points)return null;var p={position:"absolute"};if(!1!==r.autoArrow){var g=r.points[0],m=r.points[1],v=g[0],y=g[1],b=m[0],w=m[1];v!==b&&["t","b"].includes(v)?"t"===v?p.top=0:p.bottom=0:p.top=h,y!==w&&["l","r"].includes(y)?"l"===y?p.left=0:p.right=0:p.left=u}return t.createElement("div",{ref:f,className:$n()("".concat(n,"-arrow"),a),style:p},l)}function kJ(e){var n=e.prefixCls,r=e.open,i=e.zIndex,o=e.mask,s=e.motion;return o?t.createElement(kq,f({},s,{motionAppear:!0,visible:r,removeOnLeave:!0}),(function(e){var r=e.className;return t.createElement("div",{style:{zIndex:i},className:$n()("".concat(n,"-mask"),r)})})):null}var TJ=t.memo((function(e){return e.children}),(function(e,t){return t.cache}));const IJ=TJ;var OJ=t.forwardRef((function(e,n){var r=e.popup,i=e.className,o=e.prefixCls,s=e.style,a=e.target,l=e.onVisibleChanged,c=e.open,u=e.keepDom,d=e.fresh,h=e.onClick,p=e.mask,g=e.arrow,m=e.arrowPos,v=e.align,y=e.motion,b=e.maskMotion,w=e.forceRender,_=e.getPopupContainer,E=e.autoDestroy,C=e.portal,x=e.zIndex,S=e.onMouseEnter,k=e.onMouseLeave,T=e.onPointerEnter,I=e.onPointerDownCapture,O=e.ready,N=e.offsetX,P=e.offsetY,R=e.offsetR,A=e.offsetB,D=e.onAlign,M=e.onPrepare,L=e.stretch,F=e.targetWidth,j=e.targetHeight,$="function"===typeof r?r():r,B=c||u,U=(null===_||void 0===_?void 0:_.length)>0,z=Hj(t.useState(!_||!U),2),V=z[0],q=z[1];if(H$((function(){!V&&U&&a&&q(!0)}),[V,U,a]),!V)return null;var H="auto",W={left:"-1000vw",top:"-1000vh",right:H,bottom:H};if(O||!c){var G,K=v.points,Q=v.dynamicInset||(null===(G=v._experimental)||void 0===G?void 0:G.dynamicInset),X=Q&&"r"===K[0][1],Y=Q&&"b"===K[0][0];X?(W.right=R,W.left=H):(W.left=N,W.right=H),Y?(W.bottom=A,W.top=H):(W.top=P,W.bottom=H)}var J={};return L&&(L.includes("height")&&j?J.height=j:L.includes("minHeight")&&j&&(J.minHeight=j),L.includes("width")&&F?J.width=F:L.includes("minWidth")&&F&&(J.minWidth=F)),c||(J.pointerEvents="none"),t.createElement(C,{open:w||B,getContainer:_&&function(){return _(a)},autoDestroy:E},t.createElement(kJ,{prefixCls:o,open:c,zIndex:x,mask:p,motion:b}),t.createElement(_J,{onResize:D,disabled:!c},(function(e){return t.createElement(kq,f({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(o,"-hidden")},y,{onAppearPrepare:M,onEnterPrepare:M,visible:c,onVisibleChanged:function(e){var t;null===y||void 0===y||null===(t=y.onVisibleChanged)||void 0===t||t.call(y,e),l(e)}}),(function(r,a){var l=r.className,u=r.style,f=$n()(o,l,i);return t.createElement("div",{ref:Nj(e,n,a),className:f,style:oe(oe(oe(oe({"--arrow-x":"".concat(m.x||0,"px"),"--arrow-y":"".concat(m.y||0,"px")},W),J),u),{},{boxSizing:"border-box",zIndex:x},s),onMouseEnter:S,onMouseLeave:k,onPointerEnter:T,onClick:h,onPointerDownCapture:I},g&&t.createElement(SJ,{prefixCls:o,arrow:g,arrowPos:m,align:v}),t.createElement(IJ,{cache:!c&&!d},$))}))})))}));const NJ=OJ;var PJ=t.forwardRef((function(e,n){var r=e.children,i=e.getTriggerDOMNode,o=Rj(r),s=t.useCallback((function(e){Oj(n,i?i(e):e)}),[i]),a=Pj(s,r.ref);return o?t.cloneElement(r,{ref:a}):r}));const RJ=PJ;const AJ=t.createContext(null);function DJ(e){return e?Array.isArray(e)?e:[e]:[]}function MJ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function LJ(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function FJ(e){return e.ownerDocument.defaultView}function jJ(e){for(var t=[],n=null===e||void 0===e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=FJ(n).getComputedStyle(n);[i.overflowX,i.overflowY,i.overflow].some((function(e){return r.includes(e)}))&&t.push(n),n=n.parentElement}return t}function $J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function BJ(e){return $J(parseFloat(e),0)}function UJ(e,t){var n=oe({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=FJ(e).getComputedStyle(e),r=t.overflow,i=t.overflowClipMargin,o=t.borderTopWidth,s=t.borderBottomWidth,a=t.borderLeftWidth,l=t.borderRightWidth,c=e.getBoundingClientRect(),u=e.offsetHeight,d=e.clientHeight,h=e.offsetWidth,f=e.clientWidth,p=BJ(o),g=BJ(s),m=BJ(a),v=BJ(l),y=$J(Math.round(c.width/h*1e3)/1e3),b=$J(Math.round(c.height/u*1e3)/1e3),w=(h-f-m-v)*y,_=(u-d-p-g)*b,E=p*b,C=g*b,x=m*y,S=v*y,k=0,T=0;if("clip"===r){var I=BJ(i);k=I*y,T=I*b}var O=c.x+x-k,N=c.y+E-T,P=O+c.width+2*k-x-S-w,R=N+c.height+2*T-E-C-_;n.left=Math.max(n.left,O),n.top=Math.max(n.top,N),n.right=Math.min(n.right,P),n.bottom=Math.min(n.bottom,R)}})),n}function zJ(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function VJ(e,t){var n=Hj(t||[],2),r=n[0],i=n[1];return[zJ(e.width,r),zJ(e.height,i)]}function qJ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function HJ(e,t){var n,r=t[0],i=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===i?e.x:"r"===i?e.x+e.width:e.x+e.width/2,y:n}}function WJ(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,r){return r===t?n[e]||"c":e})).join("")}var GJ=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const KJ=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qY,n=t.forwardRef((function(n,r){var i=n.prefixCls,o=void 0===i?"rc-trigger-popup":i,s=n.children,a=n.action,l=void 0===a?"hover":a,c=n.showAction,u=n.hideAction,d=n.popupVisible,h=n.defaultPopupVisible,f=n.onPopupVisibleChange,p=n.afterPopupVisibleChange,g=n.mouseEnterDelay,m=n.mouseLeaveDelay,v=void 0===m?.1:m,y=n.focusDelay,b=n.blurDelay,w=n.mask,_=n.maskClosable,E=void 0===_||_,C=n.getPopupContainer,x=n.forceRender,S=n.autoDestroy,k=n.destroyPopupOnHide,T=n.popup,I=n.popupClassName,O=n.popupStyle,N=n.popupPlacement,P=n.builtinPlacements,R=void 0===P?{}:P,A=n.popupAlign,D=n.zIndex,M=n.stretch,L=n.getPopupClassNameFromAlign,F=n.fresh,j=n.alignPoint,$=n.onPopupClick,B=n.onPopupAlign,U=n.arrow,z=n.popupMotion,V=n.maskMotion,q=n.popupTransitionName,H=n.popupAnimation,W=n.maskTransitionName,G=n.maskAnimation,K=n.className,Q=n.getTriggerDOMNode,X=gq(n,GJ),Y=S||k||!1,J=Hj(t.useState(!1),2),Z=J[0],ee=J[1];H$((function(){ee(function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))}())}),[]);var te=t.useRef({}),ne=t.useContext(AJ),re=t.useMemo((function(){return{registerSubPopup:function(e,t){te.current[e]=t,null===ne||void 0===ne||ne.registerSubPopup(e,t)}}}),[ne]),ie=xJ(),se=Hj(t.useState(null),2),ae=se[0],le=se[1],ce=t.useRef(null),ue=EU((function(e){ce.current=e,DV(e)&&ae!==e&&le(e),null===ne||void 0===ne||ne.registerSubPopup(ie,e)})),de=Hj(t.useState(null),2),he=de[0],fe=de[1],pe=t.useRef(null),ge=EU((function(e){DV(e)&&he!==e&&(fe(e),pe.current=e)})),me=t.Children.only(s),ve=(null===me||void 0===me?void 0:me.props)||{},ye={},be=EU((function(e){var t,n,r=he;return(null===r||void 0===r?void 0:r.contains(e))||(null===(t=vH(r))||void 0===t?void 0:t.host)===e||e===r||(null===ae||void 0===ae?void 0:ae.contains(e))||(null===(n=vH(ae))||void 0===n?void 0:n.host)===e||e===ae||Object.values(te.current).some((function(t){return(null===t||void 0===t?void 0:t.contains(e))||e===t}))})),we=LJ(o,z,H,q),_e=LJ(o,V,G,W),Ee=Hj(t.useState(h||!1),2),Ce=Ee[0],xe=Ee[1],Se=null!==d&&void 0!==d?d:Ce,ke=EU((function(e){void 0===d&&xe(e)}));H$((function(){xe(d||!1)}),[d]);var Te=t.useRef(Se);Te.current=Se;var Ie=t.useRef([]);Ie.current=[];var Oe=EU((function(e){var t;ke(e),(null!==(t=Ie.current[Ie.current.length-1])&&void 0!==t?t:Se)!==e&&(Ie.current.push(e),null===f||void 0===f||f(e))})),Ne=t.useRef(),Pe=function(){clearTimeout(Ne.current)},Re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Pe(),0===t?Oe(e):Ne.current=setTimeout((function(){Oe(e)}),1e3*t)};t.useEffect((function(){return Pe}),[]);var Ae=Hj(t.useState(!1),2),De=Ae[0],Me=Ae[1];H$((function(e){e&&!Se||Me(!0)}),[Se]);var Le=Hj(t.useState(null),2),Fe=Le[0],je=Le[1],$e=Hj(t.useState(null),2),Be=$e[0],Ue=$e[1],ze=function(e){Ue([e.clientX,e.clientY])},Ve=function(e,n,r,i,o,s,a){var l=Hj(t.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[i]||{}}),2),c=l[0],u=l[1],d=t.useRef(0),h=t.useMemo((function(){return n?jJ(n):[]}),[n]),f=t.useRef({});e||(f.current={});var p=EU((function(){if(n&&r&&e){var t,l,c,d,p,g=n,m=g.ownerDocument,v=FJ(g).getComputedStyle(g),y=v.width,b=v.height,w=v.position,_=g.style.left,E=g.style.top,C=g.style.right,x=g.style.bottom,S=g.style.overflow,k=oe(oe({},o[i]),s),T=m.createElement("div");if(null===(t=g.parentElement)||void 0===t||t.appendChild(T),T.style.left="".concat(g.offsetLeft,"px"),T.style.top="".concat(g.offsetTop,"px"),T.style.position=w,T.style.height="".concat(g.offsetHeight,"px"),T.style.width="".concat(g.offsetWidth,"px"),g.style.left="0",g.style.top="0",g.style.right="auto",g.style.bottom="auto",g.style.overflow="hidden",Array.isArray(r))p={x:r[0],y:r[1],width:0,height:0};else{var I,O,N=r.getBoundingClientRect();N.x=null!==(I=N.x)&&void 0!==I?I:N.left,N.y=null!==(O=N.y)&&void 0!==O?O:N.top,p={x:N.x,y:N.y,width:N.width,height:N.height}}var P=g.getBoundingClientRect();P.x=null!==(l=P.x)&&void 0!==l?l:P.left,P.y=null!==(c=P.y)&&void 0!==c?c:P.top;var R=m.documentElement,A=R.clientWidth,D=R.clientHeight,M=R.scrollWidth,L=R.scrollHeight,F=R.scrollTop,j=R.scrollLeft,$=P.height,B=P.width,U=p.height,z=p.width,V={left:0,top:0,right:A,bottom:D},q={left:-j,top:-F,right:M-j,bottom:L-F},H=k.htmlRegion,W="visible",G="visibleFirst";"scroll"!==H&&H!==G&&(H=W);var K=H===G,Q=UJ(q,h),X=UJ(V,h),Y=H===W?X:Q,J=K?X:Y;g.style.left="auto",g.style.top="auto",g.style.right="0",g.style.bottom="0";var Z=g.getBoundingClientRect();g.style.left=_,g.style.top=E,g.style.right=C,g.style.bottom=x,g.style.overflow=S,null===(d=g.parentElement)||void 0===d||d.removeChild(T);var ee=$J(Math.round(B/parseFloat(y)*1e3)/1e3),te=$J(Math.round($/parseFloat(b)*1e3)/1e3);if(0===ee||0===te||DV(r)&&!Dj(r))return;var ne=k.offset,re=k.targetOffset,ie=Hj(VJ(P,ne),2),se=ie[0],ae=ie[1],le=Hj(VJ(p,re),2),ce=le[0],ue=le[1];p.x-=ce,p.y-=ue;var de=Hj(k.points||[],2),he=de[0],fe=qJ(de[1]),pe=qJ(he),ge=HJ(p,fe),me=HJ(P,pe),ve=oe({},k),ye=ge.x-me.x+se,be=ge.y-me.y+ae;function ht(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y,r=P.x+e,i=P.y+t,o=r+B,s=i+$,a=Math.max(r,n.left),l=Math.max(i,n.top),c=Math.min(o,n.right),u=Math.min(s,n.bottom);return Math.max(0,(c-a)*(u-l))}var we,_e,Ee,Ce,xe=ht(ye,be),Se=ht(ye,be,X),ke=HJ(p,["t","l"]),Te=HJ(P,["t","l"]),Ie=HJ(p,["b","r"]),Oe=HJ(P,["b","r"]),Ne=k.overflow||{},Pe=Ne.adjustX,Re=Ne.adjustY,Ae=Ne.shiftX,De=Ne.shiftY,Me=function(e){return"boolean"===typeof e?e:e>=0};function ft(){we=P.y+be,_e=we+$,Ee=P.x+ye,Ce=Ee+B}ft();var Le=Me(Re),Fe=pe[0]===fe[0];if(Le&&"t"===pe[0]&&(_e>J.bottom||f.current.bt)){var je=be;Fe?je-=$-U:je=ke.y-Oe.y-ae;var $e=ht(ye,je),Be=ht(ye,je,X);$e>xe||$e===xe&&(!K||Be>=Se)?(f.current.bt=!0,be=je,ae=-ae,ve.points=[WJ(pe,0),WJ(fe,0)]):f.current.bt=!1}if(Le&&"b"===pe[0]&&(we<J.top||f.current.tb)){var Ue=be;Fe?Ue+=$-U:Ue=Ie.y-Te.y-ae;var ze=ht(ye,Ue),Ve=ht(ye,Ue,X);ze>xe||ze===xe&&(!K||Ve>=Se)?(f.current.tb=!0,be=Ue,ae=-ae,ve.points=[WJ(pe,0),WJ(fe,0)]):f.current.tb=!1}var qe=Me(Pe),He=pe[1]===fe[1];if(qe&&"l"===pe[1]&&(Ce>J.right||f.current.rl)){var We=ye;He?We-=B-z:We=ke.x-Oe.x-se;var Ge=ht(We,be),Ke=ht(We,be,X);Ge>xe||Ge===xe&&(!K||Ke>=Se)?(f.current.rl=!0,ye=We,se=-se,ve.points=[WJ(pe,1),WJ(fe,1)]):f.current.rl=!1}if(qe&&"r"===pe[1]&&(Ee<J.left||f.current.lr)){var Qe=ye;He?Qe+=B-z:Qe=Ie.x-Te.x-se;var Xe=ht(Qe,be),Ye=ht(Qe,be,X);Xe>xe||Xe===xe&&(!K||Ye>=Se)?(f.current.lr=!0,ye=Qe,se=-se,ve.points=[WJ(pe,1),WJ(fe,1)]):f.current.lr=!1}ft();var Je=!0===Ae?0:Ae;"number"===typeof Je&&(Ee<X.left&&(ye-=Ee-X.left-se,p.x+z<X.left+Je&&(ye+=p.x-X.left+z-Je)),Ce>X.right&&(ye-=Ce-X.right-se,p.x>X.right-Je&&(ye+=p.x-X.right+Je)));var Ze=!0===De?0:De;"number"===typeof Ze&&(we<X.top&&(be-=we-X.top-ae,p.y+U<X.top+Ze&&(be+=p.y-X.top+U-Ze)),_e>X.bottom&&(be-=_e-X.bottom-ae,p.y>X.bottom-Ze&&(be+=p.y-X.bottom+Ze)));var et=P.x+ye,tt=et+B,nt=P.y+be,rt=nt+$,it=p.x,ot=it+z,st=p.y,at=st+U,lt=(Math.max(et,it)+Math.min(tt,ot))/2-et,ct=(Math.max(nt,st)+Math.min(rt,at))/2-nt;null===a||void 0===a||a(n,ve);var ut=Z.right-P.x-(ye+P.width),dt=Z.bottom-P.y-(be+P.height);1===ee&&(ye=Math.round(ye),ut=Math.round(ut)),1===te&&(be=Math.round(be),dt=Math.round(dt)),u({ready:!0,offsetX:ye/ee,offsetY:be/te,offsetR:ut/ee,offsetB:dt/te,arrowX:lt/ee,arrowY:ct/te,scaleX:ee,scaleY:te,align:ve})}})),g=function(){u((function(e){return oe(oe({},e),{},{ready:!1})}))};return H$(g,[i]),H$((function(){e||g()}),[e]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,function(){d.current+=1;var e=d.current;Promise.resolve().then((function(){d.current===e&&p()}))}]}(Se,ae,j&&null!==Be?Be:he,N,R,A,B),qe=Hj(Ve,11),He=qe[0],We=qe[1],Ge=qe[2],Ke=qe[3],Qe=qe[4],Xe=qe[5],Ye=qe[6],Je=qe[7],Ze=qe[8],et=qe[9],tt=qe[10],nt=function(e,n,r,i){return t.useMemo((function(){var t=DJ(null!==r&&void 0!==r?r:n),o=DJ(null!==i&&void 0!==i?i:n),s=new Set(t),a=new Set(o);return e&&(s.has("hover")&&(s.delete("hover"),s.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[s,a]}),[e,n,r,i])}(Z,l,c,u),rt=Hj(nt,2),it=rt[0],ot=rt[1],st=it.has("click"),at=ot.has("click")||ot.has("contextMenu"),lt=EU((function(){De||tt()}));!function(e,t,n,r,i){H$((function(){if(e&&t&&n){var o=n,s=jJ(t),a=jJ(o),l=FJ(o),c=new Set([l].concat(Gj(s),Gj(a)));function u(){r(),i()}return c.forEach((function(e){e.addEventListener("scroll",u,{passive:!0})})),l.addEventListener("resize",u,{passive:!0}),r(),function(){c.forEach((function(e){e.removeEventListener("scroll",u),l.removeEventListener("resize",u)}))}}}),[e,t,n])}(Se,he,ae,lt,(function(){Te.current&&j&&at&&Re(!1)})),H$((function(){lt()}),[Be,N]),H$((function(){!Se||null!==R&&void 0!==R&&R[N]||lt()}),[JSON.stringify(A)]);var ct=t.useMemo((function(){var e=function(e,t,n,r){for(var i=n.points,o=Object.keys(e),s=0;s<o.length;s+=1){var a,l=o[s];if(MJ(null===(a=e[l])||void 0===a?void 0:a.points,i,r))return"".concat(t,"-placement-").concat(l)}return""}(R,o,et,j);return $n()(e,null===L||void 0===L?void 0:L(et))}),[et,L,R,o,j]);t.useImperativeHandle(r,(function(){return{nativeElement:pe.current,popupElement:ce.current,forceAlign:lt}}));var ut=Hj(t.useState(0),2),dt=ut[0],ht=ut[1],ft=Hj(t.useState(0),2),pt=ft[0],gt=ft[1],mt=function(){if(M&&he){var e=he.getBoundingClientRect();ht(e.width),gt(e.height)}};function vt(e,t,n,r){ye[e]=function(i){var o;null===r||void 0===r||r(i),Re(t,n);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];null===(o=ve[e])||void 0===o||o.call.apply(o,[ve,i].concat(a))}}H$((function(){Fe&&(tt(),Fe(),je(null))}),[Fe]),(st||at)&&(ye.onClick=function(e){var t;Te.current&&at?Re(!1):!Te.current&&st&&(ze(e),Re(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(t=ve.onClick)||void 0===t||t.call.apply(t,[ve,e].concat(r))});var yt,bt,wt=function(e,n,r,i,o,s,a,l){var c=t.useRef(e);c.current=e;var u=t.useRef(!1);return t.useEffect((function(){if(n&&i&&(!o||s)){var e=function(){u.current=!1},t=function(e){var t;!c.current||a((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||u.current||l(!1)},d=FJ(i);d.addEventListener("pointerdown",e,!0),d.addEventListener("mousedown",t,!0),d.addEventListener("contextmenu",t,!0);var h=vH(r);return h&&(h.addEventListener("mousedown",t,!0),h.addEventListener("contextmenu",t,!0)),function(){d.removeEventListener("pointerdown",e,!0),d.removeEventListener("mousedown",t,!0),d.removeEventListener("contextmenu",t,!0),h&&(h.removeEventListener("mousedown",t,!0),h.removeEventListener("contextmenu",t,!0))}}}),[n,r,i,o,s]),function(){u.current=!0}}(Se,at,he,ae,w,E,be,Re),_t=it.has("hover"),Et=ot.has("hover");_t&&(vt("onMouseEnter",!0,g,(function(e){ze(e)})),vt("onPointerEnter",!0,g,(function(e){ze(e)})),yt=function(e){(Se||De)&&null!==ae&&void 0!==ae&&ae.contains(e.target)&&Re(!0,g)},j&&(ye.onMouseMove=function(e){var t;null===(t=ve.onMouseMove)||void 0===t||t.call(ve,e)})),Et&&(vt("onMouseLeave",!1,v),vt("onPointerLeave",!1,v),bt=function(){Re(!1,v)}),it.has("focus")&&vt("onFocus",!0,y),ot.has("focus")&&vt("onBlur",!1,b),it.has("contextMenu")&&(ye.onContextMenu=function(e){var t;Te.current&&ot.has("contextMenu")?Re(!1):(ze(e),Re(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(t=ve.onContextMenu)||void 0===t||t.call.apply(t,[ve,e].concat(r))}),K&&(ye.className=$n()(ve.className,K));var Ct=oe(oe({},ve),ye),xt={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){X[e]&&(xt[e]=function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===(t=Ct[e])||void 0===t||t.call.apply(t,[Ct].concat(r)),X[e].apply(X,r)})}));var St=t.cloneElement(me,oe(oe({},Ct),xt)),kt={x:Xe,y:Ye},Tt=U?oe({},!0!==U?U:{}):null;return t.createElement(t.Fragment,null,t.createElement(_J,{disabled:!Se,ref:ge,onResize:function(){mt(),lt()}},t.createElement(RJ,{getTriggerDOMNode:Q},St)),t.createElement(AJ.Provider,{value:re},t.createElement(NJ,{portal:e,ref:ue,prefixCls:o,popup:T,className:$n()(I,ct),style:O,target:he,onMouseEnter:yt,onMouseLeave:bt,onPointerEnter:yt,zIndex:D,open:Se,keepDom:De,fresh:F,onClick:$,onPointerDownCapture:wt,mask:w,motion:we,maskMotion:_e,onVisibleChanged:function(e){Me(!1),tt(),null===p||void 0===p||p(e)},onPrepare:function(){return new Promise((function(e){mt(),je((function(){return e}))}))},forceRender:x,autoDestroy:Y,getPopupContainer:C,align:et,arrow:Tt,arrowPos:kt,ready:He,offsetX:We,offsetY:Ge,offsetR:Ke,offsetB:Qe,onAlign:lt,stretch:M,targetWidth:dt/Je,targetHeight:pt/Ze})))}));return n}(qY);var QJ={shiftX:64,adjustY:1},XJ={adjustX:1,shiftY:!0},YJ=[0,0],JJ={left:{points:["cr","cl"],overflow:XJ,offset:[-4,0],targetOffset:YJ},right:{points:["cl","cr"],overflow:XJ,offset:[4,0],targetOffset:YJ},top:{points:["bc","tc"],overflow:QJ,offset:[0,-4],targetOffset:YJ},bottom:{points:["tc","bc"],overflow:QJ,offset:[0,4],targetOffset:YJ},topLeft:{points:["bl","tl"],overflow:QJ,offset:[0,-4],targetOffset:YJ},leftTop:{points:["tr","tl"],overflow:XJ,offset:[-4,0],targetOffset:YJ},topRight:{points:["br","tr"],overflow:QJ,offset:[0,-4],targetOffset:YJ},rightTop:{points:["tl","tr"],overflow:XJ,offset:[4,0],targetOffset:YJ},bottomRight:{points:["tr","br"],overflow:QJ,offset:[0,4],targetOffset:YJ},rightBottom:{points:["bl","br"],overflow:XJ,offset:[4,0],targetOffset:YJ},bottomLeft:{points:["tl","bl"],overflow:QJ,offset:[0,4],targetOffset:YJ},leftBottom:{points:["br","bl"],overflow:XJ,offset:[-4,0],targetOffset:YJ}};var ZJ=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],eZ=function(e,n){var r=e.overlayClassName,i=e.trigger,o=void 0===i?["hover"]:i,s=e.mouseEnterDelay,a=void 0===s?0:s,l=e.mouseLeaveDelay,c=void 0===l?.1:l,u=e.overlayStyle,d=e.prefixCls,h=void 0===d?"rc-tooltip":d,p=e.children,g=e.onVisibleChange,m=e.afterVisibleChange,v=e.transitionName,y=e.animation,b=e.motion,w=e.placement,_=void 0===w?"right":w,E=e.align,C=void 0===E?{}:E,x=e.destroyTooltipOnHide,S=void 0!==x&&x,k=e.defaultVisible,T=e.getTooltipContainer,I=e.overlayInnerStyle,O=(e.arrowContent,e.overlay),N=e.id,P=e.showArrow,R=void 0===P||P,A=gq(e,ZJ),D=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return D.current}));var M=oe({},A);"visible"in e&&(M.popupVisible=e.visible);return t.createElement(KJ,f({popupClassName:r,prefixCls:h,popup:function(){return t.createElement(DY,{key:"content",prefixCls:h,id:N,overlayInnerStyle:I},O)},action:o,builtinPlacements:JJ,popupPlacement:_,ref:D,popupAlign:C,getPopupContainer:T,onPopupVisibleChange:g,afterPopupVisibleChange:m,popupTransitionName:v,popupAnimation:y,popupMotion:b,defaultPopupVisible:k,autoDestroy:S,mouseLeaveDelay:c,popupStyle:u,mouseEnterDelay:a,arrow:R},M),p)};const tZ=(0,t.forwardRef)(eZ),nZ=e=>{const{space:n,form:r,children:i}=e;if(void 0===i||null===i)return null;let o=i;return r&&(o=t.createElement(HQ,{override:!0,status:!0},o)),n&&(o=t.createElement(rH,null,o)),o};const rZ=t.createContext(void 0),iZ=100,oZ={Modal:iZ,Drawer:iZ,Popover:iZ,Popconfirm:iZ,Tooltip:iZ,Tour:iZ,FloatButton:iZ},sZ={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};const aZ=(e,n)=>{const[,r]=bV(),i=t.useContext(rZ),o=function(e){return e in oZ}(e);let s;if(void 0!==n)s=[n,n];else{let t=null!==i&&void 0!==i?i:0;t+=o?(i?0:r.zIndexPopupBase)+oZ[e]:sZ[e],s=[void 0===i?n:t,t]}return s};const lZ=(e,t,n)=>{const{sizePopupArrow:r,arrowPolygon:i,arrowPath:o,arrowShadowWidth:s,borderRadiusXS:a,calc:l}=e;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[i,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:s,height:s,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${F$(a)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}};function cZ(e){const{contentRadius:t,limitVerticalRadius:n}=e,r=t>12?t+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?8:r}}function uZ(e,t){return e?t:{}}function dZ(e,t,n){const{componentCls:r,boxShadowPopoverArrow:i,arrowOffsetVertical:o,arrowOffsetHorizontal:s}=e,{arrowDistance:a=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},lZ(e,t,i)),{"&:before":{background:t}})]},uZ(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:a,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":s,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${F$(s)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),uZ(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:a,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":s,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${F$(s)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),uZ(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:a},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:o},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:o}})),uZ(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:a},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:o},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:o}}))}}const hZ={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},fZ={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},pZ=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function gZ(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:o,visibleFirst:s}=e,a=t/2,l={};return Object.keys(hZ).forEach((e=>{const c=r&&fZ[e]||hZ[e],u=Object.assign(Object.assign({},c),{offset:[0,0],dynamicInset:!0});switch(l[e]=u,pZ.has(e)&&(u.autoArrow=!1),e){case"top":case"topLeft":case"topRight":u.offset[1]=-a-i;break;case"bottom":case"bottomLeft":case"bottomRight":u.offset[1]=a+i;break;case"left":case"leftTop":case"leftBottom":u.offset[0]=-a-i;break;case"right":case"rightTop":case"rightBottom":u.offset[0]=a+i}const d=cZ({contentRadius:o,limitVerticalRadius:!0});if(r)switch(e){case"topLeft":case"bottomLeft":u.offset[0]=-d.arrowOffsetHorizontal-a;break;case"topRight":case"bottomRight":u.offset[0]=d.arrowOffsetHorizontal+a;break;case"leftTop":case"rightTop":u.offset[1]=2*-d.arrowOffsetHorizontal+a;break;case"leftBottom":case"rightBottom":u.offset[1]=2*d.arrowOffsetHorizontal-a}u.overflow=function(e,t,n,r){if(!1===r)return{adjustX:!1,adjustY:!1};const i=r&&"object"===typeof r?r:{},o={};switch(e){case"top":case"bottom":o.shiftX=2*t.arrowOffsetHorizontal+n,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=2*t.arrowOffsetVertical+n,o.shiftX=!0,o.adjustX=!0}const s=Object.assign(Object.assign({},o),i);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}(e,d,t,n),s&&(u.htmlRegion="visibleFirst")})),l}const mZ=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function vZ(e,t){return mZ.reduce(((n,r)=>{const i=e[`${r}1`],o=e[`${r}3`],s=e[`${r}6`],a=e[`${r}7`];return Object.assign(Object.assign({},n),t(r,{lightColor:i,lightBorderColor:o,darkColor:s,textColor:a}))}),{})}const yZ=e=>{const{componentCls:t,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:i,tooltipBorderRadius:o,zIndexPopup:s,controlHeight:a,boxShadowSecondary:l,paddingSM:c,paddingXS:u}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},WU(e)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:n,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${t}-inner`]:{minWidth:"1em",minHeight:a,padding:`${F$(e.calc(c).div(2).equal())} ${F$(u)}`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:o,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:e.min(o,8)}},[`${t}-content`]:{position:"relative"}}),vZ(e,((e,n)=>{let{darkColor:r}=n;return{[`&${t}-${e}`]:{[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{"--antd-arrow-background-color":r}}}}))),{"&-rtl":{direction:"rtl"}})},dZ(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},bZ=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},cZ({contentRadius:e.borderRadius,limitVerticalRadius:!0})),function(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:r}=e,i=t/2,o=i,s=1*r/Math.sqrt(2),a=i-r*(1-1/Math.sqrt(2)),l=i-n*(1/Math.sqrt(2)),c=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),u=2*i-l,d=c,h=2*i-s,f=a,p=2*i-0,g=o,m=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),v=r*(Math.sqrt(2)-1);return{arrowShadowWidth:m,arrowPath:`path('M 0 ${o} A ${r} ${r} 0 0 0 ${s} ${a} L ${l} ${c} A ${n} ${n} 0 0 1 ${u} ${d} L ${h} ${f} A ${r} ${r} 0 0 0 ${p} ${g} Z')`,arrowPolygon:`polygon(${v}px 100%, 50% ${v}px, ${2*i-v}px 100%, ${v}px 100%)`}}(MU(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),wZ=function(e){const t=_V("Tooltip",(e=>{const{borderRadius:t,colorTextLightSolid:n,colorBgSpotlight:r}=e,i=MU(e,{tooltipMaxWidth:250,tooltipColor:n,tooltipBorderRadius:t,tooltipBg:r});return[yZ(i),vX(e,"zoom-big-fast")]}),bZ,{resetStyle:!1,injectStyle:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]});return t(e)},_Z=mZ.map((e=>`${e}-inverse`));function EZ(e,t){const n=function(e){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?mZ.includes(e):[].concat(Gj(_Z),Gj(mZ)).includes(e)}(t),r=$n()({[`${e}-${t}`]:t&&n}),i={},o={};return t&&!n&&(i.background=t,o["--antd-arrow-background-color"]=t),{className:r,overlayStyle:i,arrowStyle:o}}const CZ=e=>{const{prefixCls:n,className:r,placement:i="top",title:o,color:s,overlayInnerStyle:a}=e,{getPrefixCls:l}=t.useContext(Fj),c=l("tooltip",n),[u,d,h]=wZ(c),f=EZ(c,s),p=f.arrowStyle,g=Object.assign(Object.assign({},a),f.overlayStyle),m=$n()(d,h,c,`${c}-pure`,`${c}-placement-${i}`,r,f.className);return u(t.createElement("div",{className:m,style:p},t.createElement("div",{className:`${c}-arrow`}),t.createElement(DY,Object.assign({},e,{className:d,prefixCls:c,overlayInnerStyle:g}),o)))};var xZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const SZ=t.forwardRef(((e,n)=>{var r,i;const{prefixCls:o,openClassName:s,getTooltipContainer:a,overlayClassName:l,color:c,overlayInnerStyle:u,children:d,afterOpenChange:h,afterVisibleChange:f,destroyTooltipOnHide:p,arrow:g=!0,title:m,overlay:v,builtinPlacements:y,arrowPointAtCenter:b=!1,autoAdjustOverflow:w=!0}=e,_=!!g,[,E]=bV(),{getPopupContainer:C,getPrefixCls:x,direction:S}=t.useContext(Fj),k=eY("Tooltip"),T=t.useRef(null),I=()=>{var e;null===(e=T.current)||void 0===e||e.forceAlign()};t.useImperativeHandle(n,(()=>{var e;return{forceAlign:I,forcePopupAlign:()=>{k.deprecated(!1,"forcePopupAlign","forceAlign"),I()},nativeElement:null===(e=T.current)||void 0===e?void 0:e.nativeElement}}));const[O,N]=SU(!1,{value:null!==(r=e.open)&&void 0!==r?r:e.visible,defaultValue:null!==(i=e.defaultOpen)&&void 0!==i?i:e.defaultVisible}),P=!m&&!v&&0!==m,R=t.useMemo((()=>{var e,t;let n=b;return"object"===typeof g&&(n=null!==(t=null!==(e=g.pointAtCenter)&&void 0!==e?e:g.arrowPointAtCenter)&&void 0!==t?t:b),y||gZ({arrowPointAtCenter:n,autoAdjustOverflow:w,arrowWidth:_?E.sizePopupArrow:0,borderRadius:E.borderRadius,offset:E.marginXXS,visibleFirst:!0})}),[b,g,y,E]),A=t.useMemo((()=>0===m?m:v||m||""),[v,m]),D=t.createElement(nZ,{space:!0},"function"===typeof A?A():A),{getPopupContainer:M,placement:L="top",mouseEnterDelay:F=.1,mouseLeaveDelay:j=.1,overlayStyle:$,rootClassName:B}=e,U=xZ(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),z=x("tooltip",o),V=x(),q=e["data-popover-inject"];let H=O;"open"in e||"visible"in e||!P||(H=!1);const W=t.isValidElement(d)&&!$j(d)?d:t.createElement("span",null,d),G=W.props,K=G.className&&"string"!==typeof G.className?G.className:$n()(G.className,s||`${z}-open`),[Q,X,Y]=wZ(z,!q),J=EZ(z,c),Z=J.arrowStyle,ee=Object.assign(Object.assign({},u),J.overlayStyle),te=$n()(l,{[`${z}-rtl`]:"rtl"===S},J.className,B,X,Y),[ne,re]=aZ("Tooltip",U.zIndex),ie=t.createElement(tZ,Object.assign({},U,{zIndex:ne,showArrow:_,placement:L,mouseEnterDelay:F,mouseLeaveDelay:j,prefixCls:z,overlayClassName:te,overlayStyle:Object.assign(Object.assign({},Z),$),getTooltipContainer:M||a||C,ref:T,builtinPlacements:R,overlay:D,visible:H,onVisibleChange:t=>{var n,r;N(!P&&t),P||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},afterVisibleChange:null!==h&&void 0!==h?h:f,overlayInnerStyle:ee,arrowContent:t.createElement("span",{className:`${z}-arrow-content`}),motion:{motionName:YQ(V,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!p}),H?Bj(W,{className:K}):W);return Q(t.createElement(rZ.Provider,{value:re},ie))})),kZ=SZ;kZ._InternalPanelDoNotUseOrYouWillBeFired=CZ;const TZ=kZ;var IZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const OZ=e=>{let{prefixCls:n,label:r,htmlFor:i,labelCol:o,labelAlign:s,colon:a,required:l,requiredMark:c,tooltip:u,vertical:d}=e;var h;const[f]=AY("Form"),{labelAlign:p,labelCol:g,labelWrap:m,colon:v}=t.useContext(BQ);if(!r)return null;const y=o||g||{},b=s||p,w=`${n}-item-label`,_=$n()(w,"left"===b&&`${w}-left`,y.className,{[`${w}-wrap`]:!!m});let E=r;const C=!0===a||!1!==v&&!1!==a;C&&!d&&"string"===typeof r&&r.trim()&&(E=r.replace(/[:|\uff1a]\s*$/,""));const x=function(e){return e?"object"!==typeof e||t.isValidElement(e)?{title:e}:e:null}(u);if(x){const{icon:e=t.createElement(SY,null)}=x,r=IZ(x,["icon"]),i=t.createElement(TZ,Object.assign({},r),t.cloneElement(e,{className:`${n}-item-tooltip`,title:"",onClick:e=>{e.preventDefault()},tabIndex:null}));E=t.createElement(t.Fragment,null,E,i)}const S="optional"===c,k="function"===typeof c;k?E=c(E,{required:!!l}):S&&!l&&(E=t.createElement(t.Fragment,null,E,t.createElement("span",{className:`${n}-item-optional`,title:""},(null===f||void 0===f?void 0:f.optional)||(null===(h=RY.Form)||void 0===h?void 0:h.optional))));const T=$n()({[`${n}-item-required`]:l,[`${n}-item-required-mark-optional`]:S||k,[`${n}-item-no-colon`]:!C});return t.createElement(yY,Object.assign({},y,{className:_}),t.createElement("label",{htmlFor:i,className:T,title:"string"===typeof r?r:""},E))};const NZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var PZ=function(e,n){return t.createElement(NH,f({},e,{ref:n,icon:NZ}))};const RZ=t.forwardRef(PZ);const AZ={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var DZ=function(e,n){return t.createElement(NH,f({},e,{ref:n,icon:AZ}))};const MZ=t.forwardRef(DZ);const LZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var FZ=function(e,n){return t.createElement(NH,f({},e,{ref:n,icon:LZ}))};const jZ={success:RZ,warning:t.forwardRef(FZ),error:MZ,validating:RH};function $Z(e){let{children:n,errors:r,warnings:i,hasFeedback:o,validateStatus:s,prefixCls:a,meta:l,noStyle:c}=e;const u=`${a}-item`,{feedbackIcons:d}=t.useContext(BQ),h=HX(r,i,l,null,!!o,s),{isFormItemInput:f,status:p,hasFeedback:g,feedbackIcon:m}=t.useContext(qQ),v=t.useMemo((()=>{var e;let n;if(o){const s=!0!==o&&o.icons||d,a=h&&(null===(e=null===s||void 0===s?void 0:s({status:h,errors:r,warnings:i}))||void 0===e?void 0:e[h]),l=h&&jZ[h];n=!1!==a&&l?t.createElement("span",{className:$n()(`${u}-feedback-icon`,`${u}-feedback-icon-${h}`)},a||t.createElement(l,null)):null}const s={status:h||"",errors:r,warnings:i,hasFeedback:!!o,feedbackIcon:n,isFormItemInput:!0};return c&&(s.status=(null!==h&&void 0!==h?h:p)||"",s.isFormItemInput=f,s.hasFeedback=!!(null!==o&&void 0!==o?o:g),s.feedbackIcon=void 0!==o?s.feedbackIcon:m),s}),[h,o,c,f,p]);return t.createElement(qQ.Provider,{value:v},n)}var BZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function UZ(e){const{prefixCls:n,className:r,rootClassName:i,style:o,help:s,errors:a,warnings:l,validateStatus:c,meta:u,hasFeedback:d,hidden:h,children:f,fieldId:p,required:g,isRequired:m,onSubItemMetaChange:v,layout:y}=e,b=BZ(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),w=`${n}-item`,{requiredMark:_,vertical:E}=t.useContext(BQ),C=E||"vertical"===y,x=t.useRef(null),S=eX(a),k=eX(l),T=void 0!==s&&null!==s,I=!!(T||a.length||l.length),O=!!x.current&&Dj(x.current),[N,P]=t.useState(null);H$((()=>{if(I&&x.current){const e=getComputedStyle(x.current);P(parseInt(e.marginBottom,10))}}),[I,O]);const R=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return HX(e?S:u.errors,e?k:u.warnings,u,"",!!d,c)}(),A=$n()(w,r,i,{[`${w}-with-help`]:T||S.length||k.length,[`${w}-has-feedback`]:R&&d,[`${w}-has-success`]:"success"===R,[`${w}-has-warning`]:"warning"===R,[`${w}-has-error`]:"error"===R,[`${w}-is-validating`]:"validating"===R,[`${w}-hidden`]:h,[`${w}-${y}`]:y});return t.createElement("div",{className:A,style:o,ref:x},t.createElement(fY,Object.assign({className:`${w}-row`},Tj(b,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),t.createElement(OZ,Object.assign({htmlFor:p},e,{requiredMark:_,required:null!==g&&void 0!==g?g:m,prefixCls:n,vertical:C})),t.createElement(EY,Object.assign({},e,u,{errors:S,warnings:k,prefixCls:n,status:R,help:s,marginBottom:N,onErrorVisibleChanged:e=>{e||P(null)}}),t.createElement(UQ.Provider,{value:v},t.createElement($Z,{prefixCls:n,meta:u,errors:u.errors,warnings:u.warnings,hasFeedback:d,validateStatus:R},f)))),!!N&&t.createElement("div",{className:`${w}-margin-offset`,style:{marginBottom:-N}}))}const zZ=t.memo((e=>{let{children:t}=e;return t}),((e,t)=>function(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((n=>{const r=e[n],i=t[n];return r===i||"function"===typeof r||"function"===typeof i}))}(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every(((e,n)=>e===t.childProps[n]))));const VZ=function(e){const{name:n,noStyle:r,className:i,dependencies:o,prefixCls:s,shouldUpdate:a,rules:l,children:c,required:u,label:d,messageVariables:h,trigger:f="onChange",validateTrigger:p,hidden:g,help:m,layout:v}=e,{getPrefixCls:y}=t.useContext(Fj),{name:b}=t.useContext(BQ),w=function(e){if("function"===typeof e)return e;const t=eH(e);return t.length<=1?t[0]:t}(c),_="function"===typeof w,E=t.useContext(UQ),{validateTrigger:C}=t.useContext(dK),x=void 0!==p?p:C,S=!(void 0===n||null===n),k=y("form",s),T=ZQ(k),[I,O,N]=PX(k,T);eY("Form.Item");const P=t.useContext(hK),R=t.useRef(),[A,D]=function(e){const[n,r]=t.useState(e),i=(0,t.useRef)(null),o=(0,t.useRef)([]),s=(0,t.useRef)(!1);return t.useEffect((()=>(s.current=!1,()=>{s.current=!0,RV.cancel(i.current),i.current=null})),[]),[n,function(e){s.current||(null===i.current&&(o.current=[],i.current=RV((()=>{i.current=null,r((e=>{let t=e;return o.current.forEach((e=>{t=e(t)})),t}))}))),o.current.push(e))}]}({}),[M,L]=CU((()=>({errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}))),F=(e,t)=>{D((n=>{const r=Object.assign({},n),i=[].concat(Gj(e.name.slice(0,-1)),Gj(t)).join("__SPLIT__");return e.destroy?delete r[i]:r[i]=e,r}))},[j,$]=t.useMemo((()=>{const e=Gj(M.errors),t=Gj(M.warnings);return Object.values(A).forEach((n=>{e.push.apply(e,Gj(n.errors||[])),t.push.apply(t,Gj(n.warnings||[]))})),[e,t]}),[A,M.errors,M.warnings]),B=function(){const{itemRef:e}=t.useContext(BQ),n=t.useRef({});return function(t,r){const i=r&&"object"===typeof r&&r.ref,o=t.join("_");return n.current.name===o&&n.current.originRef===i||(n.current.name=o,n.current.originRef=i,n.current.ref=Nj(e(t),i)),n.current.ref}}();function U(n,o,s){return r&&!g?t.createElement($Z,{prefixCls:k,hasFeedback:e.hasFeedback,validateStatus:e.validateStatus,meta:M,errors:j,warnings:$,noStyle:!0},n):t.createElement(UZ,Object.assign({key:"row"},e,{className:$n()(i,N,T,O),prefixCls:k,fieldId:o,isRequired:s,errors:j,warnings:$,meta:M,onSubItemMetaChange:F,layout:v}),n)}if(!S&&!_&&!o)return I(U(w));let z={};return"string"===typeof d?z.label=d:n&&(z.label=String(n)),h&&(z=Object.assign(Object.assign({},z),h)),I(t.createElement(_Q,Object.assign({},e,{messageVariables:z,trigger:f,validateTrigger:x,onMetaChange:e=>{const t=null===P||void 0===P?void 0:P.getKey(e.name);if(L(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}:e,!0),r&&!1!==m&&E){let n=e.name;if(e.destroy)n=R.current||n;else if(void 0!==t){const[e,r]=t;n=[e].concat(Gj(r)),R.current=n}E(e,n)}}}),((r,i,s)=>{const c=VX(n).length&&i?i.name:[],d=qX(c,b),h=void 0!==u?u:!!(null===l||void 0===l?void 0:l.some((e=>{if(e&&"object"===typeof e&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){const t=e(s);return(null===t||void 0===t?void 0:t.required)&&!(null===t||void 0===t?void 0:t.warningOnly)}return!1}))),p=Object.assign({},r);let g=null;if(Array.isArray(w)&&S)g=w;else if(_&&(!a&&!o||S));else if(!o||_||S)if(t.isValidElement(w)){const n=Object.assign(Object.assign({},w.props),p);if(n.id||(n.id=d),m||j.length>0||$.length>0||e.extra){const t=[];(m||j.length>0)&&t.push(`${d}_help`),e.extra&&t.push(`${d}_extra`),n["aria-describedby"]=t.join(" ")}j.length>0&&(n["aria-invalid"]="true"),h&&(n["aria-required"]="true"),Rj(w)&&(n.ref=B(c,w));new Set([].concat(Gj(VX(f)),Gj(VX(x)))).forEach((e=>{n[e]=function(){for(var t,n,r,i,o,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];null===(r=p[e])||void 0===r||(t=r).call.apply(t,[p].concat(a)),null===(o=(i=w.props)[e])||void 0===o||(n=o).call.apply(n,[i].concat(a))}}));const r=[n["aria-required"],n["aria-invalid"],n["aria-describedby"]];g=t.createElement(zZ,{control:p,update:w,childProps:r},Bj(w,n))}else g=_&&(a||o)&&!S?w(s):w;else;return U(g,d,h)})))};VZ.useStatus=nY;const qZ=VZ;var HZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const WZ=e=>{var{prefixCls:n,children:r}=e,i=HZ(e,["prefixCls","children"]);const{getPrefixCls:o}=t.useContext(Fj),s=o("form",n),a=t.useMemo((()=>({prefixCls:s,status:"error"})),[s]);return t.createElement(EQ,Object.assign({},i),((e,n,i)=>t.createElement(VQ.Provider,{value:a},r(e.map((e=>Object.assign(Object.assign({},e),{fieldKey:e.key}))),n,{errors:i.errors,warnings:i.warnings}))))};const GZ=JX;GZ.Item=qZ,GZ.List=WZ,GZ.ErrorList=DX,GZ.useForm=KX,GZ.useFormInstance=function(){const{form:e}=(0,t.useContext)(BQ);return e},GZ.useWatch=FQ,GZ.Provider=zQ,GZ.create=()=>{};const KZ=GZ;function QZ(e){return MU(e,{inputAffixPadding:e.paddingXXS})}const XZ=e=>{const{controlHeight:t,fontSize:n,lineHeight:r,lineWidth:i,controlHeightSM:o,controlHeightLG:s,fontSizeLG:a,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:d,colorFillAlter:h,colorPrimaryHover:f,colorPrimary:p,controlOutlineWidth:g,controlOutline:m,colorErrorOutline:v,colorWarningOutline:y,colorBgContainer:b}=e;return{paddingBlock:Math.max(Math.round((t-n*r)/2*10)/10-i,0),paddingBlockSM:Math.max(Math.round((o-n*r)/2*10)/10-i,0),paddingBlockLG:Math.ceil((s-a*l)/2*10)/10-i,paddingInline:c-i,paddingInlineSM:u-i,paddingInlineLG:d-i,addonBg:h,activeBorderColor:p,hoverBorderColor:f,activeShadow:`0 0 0 ${g}px ${m}`,errorActiveShadow:`0 0 0 ${g}px ${v}`,warningActiveShadow:`0 0 0 ${g}px ${y}`,hoverBg:b,activeBg:b,inputFontSize:n,inputFontSizeLG:a,inputFontSizeSM:n}},YZ=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),JZ=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},YZ(MU(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),ZZ=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),e0=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},ZZ(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:t.borderColor}}),t0=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ZZ(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},JZ(e))}),e0(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),e0(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),n0=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),r0=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.addonBg,border:`${F$(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},n0(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),n0(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group-addon`]:Object.assign({},JZ(e))}})}),i0=(e,t)=>{const{componentCls:n}=e;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${n}-status-error`]:{"&, & input, & textarea":{color:e.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:e.colorWarning}}},t)}},o0=(e,t)=>({background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:null===t||void 0===t?void 0:t.inputColor},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}),s0=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},o0(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}})}),a0=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o0(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},JZ(e))}),s0(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),s0(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),l0=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{background:t.addonBg,color:t.addonColor}}}),c0=e=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary},[`${e.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${F$(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${F$(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}}},l0(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),l0(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${F$(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${F$(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${F$(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${F$(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${F$(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${F$(e.lineWidth)} ${e.lineType} ${e.colorBorder}`}}}})}),u0=e=>{const{paddingBlockLG:t,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:i}=e;return{padding:`${F$(t)} ${F$(i)}`,fontSize:e.inputFontSizeLG,lineHeight:n,borderRadius:r}},d0=e=>({padding:`${F$(e.paddingBlockSM)} ${F$(e.paddingInlineSM)}`,fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),h0=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${F$(e.paddingBlock)} ${F$(e.paddingInline)}`,color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},{"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e.colorTextPlaceholder,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},u0(e)),"&-sm":Object.assign({},d0(e)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),f0=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:Object.assign({},u0(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:Object.assign({},d0(e)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${F$(e.paddingInline)}`,color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${F$(e.calc(e.paddingBlock).add(1).mul(-1).equal())} ${F$(e.calc(e.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${F$(e.lineWidth)} ${e.lineType} transparent`,boxShadow:"none"}}},[`${n}-cascader-picker`]:{margin:`-9px ${F$(e.calc(e.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[t]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`\n        & > ${t}-affix-wrapper,\n        & > ${t}-number-affix-wrapper,\n        & > ${n}-picker-range\n      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},[t]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,\n      & > ${n}-select-auto-complete ${t},\n      & > ${n}-cascader-picker ${t},\n      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,\n      & > ${n}-select:first-child > ${n}-select-selector,\n      & > ${n}-select-auto-complete:first-child ${t},\n      & > ${n}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,\n      & > ${n}-select:last-child > ${n}-select-selector,\n      & > ${n}-cascader-picker:last-child ${t},\n      & > ${n}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${n}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},p0=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:r,calc:i}=e,o=i(n).sub(i(r).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},WU(e)),h0(e)),t0(e)),a0(e)),i0(e)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:n,paddingTop:o,paddingBottom:o}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},g0=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,lineHeight:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${F$(e.inputAffixPadding)}`}}}},m0=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:o,colorIconHover:s,iconCls:a}=e,l=`${t}-affix-wrapper`,c=`${t}-affix-wrapper-disabled`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},h0(e)),{display:"inline-flex",[`&:not(${t}-disabled):hover`]:{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${t}`]:{padding:0},[`> input${t}, > textarea${t}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[t]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),g0(e)),{[`${a}${t}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:s}}}),[c]:{[`${a}${t}-password-icon`]:{color:o,cursor:"not-allowed","&:hover":{color:o}}}}},v0=e=>{const{componentCls:t,borderRadiusLG:n,borderRadiusSM:r}=e;return{[`${t}-group`]:Object.assign(Object.assign(Object.assign({},WU(e)),f0(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:n,fontSize:e.inputFontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:r}}},r0(e)),c0(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},y0=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-search`;return{[r]:{[t]:{"&:hover, &:focus":{[`+ ${t}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{height:e.controlHeight,borderRadius:0},[`${t}-lg`]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal()},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-primary)`]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${t}-affix-wrapper, ${r}-button`]:{height:e.controlHeightLG}},"&-small":{[`${t}-affix-wrapper, ${r}-button`]:{height:e.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,\n        > ${t},\n        ${t}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}},b0=e=>{const{componentCls:t,paddingLG:n}=e,r=`${t}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${t}`]:{height:"100%"},[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`\n        &-allow-clear > ${t},\n        &-affix-wrapper${r}-has-feedback ${t}\n      `]:{paddingInlineEnd:n},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${t}-affix-wrapper-sm`]:{[`${t}-suffix`]:{[`${t}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}},w0=e=>{const{componentCls:t}=e;return{[`${t}-out-of-range`]:{[`&, & input, & textarea, ${t}-show-count-suffix, ${t}-data-count`]:{color:e.colorError}}}},_0=_V("Input",(e=>{const t=MU(e,QZ(e));return[p0(t),b0(t),m0(t),v0(t),y0(t),w0(t),kW(t)]}),XZ,{resetFont:!1}),E0=e=>{const{getPrefixCls:n,direction:r}=(0,t.useContext)(Fj),{prefixCls:i,className:o}=e,s=n("input-group",i),a=n("input"),[l,c]=_0(a),u=$n()(s,{[`${s}-lg`]:"large"===e.size,[`${s}-sm`]:"small"===e.size,[`${s}-compact`]:e.compact,[`${s}-rtl`]:"rtl"===r},c,o),d=(0,t.useContext)(qQ),h=(0,t.useMemo)((()=>Object.assign(Object.assign({},d),{isFormItemInput:!1})),[d]);return l(t.createElement("span",{className:u,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},t.createElement(qQ.Provider,{value:h},e.children)))};function C0(e,t,n){var r=t.cloneNode(!0),i=Object.create(e,{target:{value:r},currentTarget:{value:r}});return r.value=n,"number"===typeof t.selectionStart&&"number"===typeof t.selectionEnd&&(r.selectionStart=t.selectionStart,r.selectionEnd=t.selectionEnd),r.setSelectionRange=function(){t.setSelectionRange.apply(t,arguments)},i}function x0(e,t,n,r){if(n){var i=t;"click"!==t.type?"file"===e.type||void 0===r?n(i):n(i=C0(t,e,r)):n(i=C0(t,e,""))}}function S0(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}var k0=t.forwardRef((function(e,n){var r,i,o=e.inputElement,s=e.children,a=e.prefixCls,l=e.prefix,c=e.suffix,u=e.addonBefore,d=e.addonAfter,h=e.className,p=e.style,g=e.disabled,m=e.readOnly,v=e.focused,y=e.triggerFocus,b=e.allowClear,w=e.value,_=e.handleReset,E=e.hidden,C=e.classes,x=e.classNames,S=e.dataAttrs,k=e.styles,T=e.components,I=e.onClear,O=null!==s&&void 0!==s?s:o,N=(null===T||void 0===T?void 0:T.affixWrapper)||"span",P=(null===T||void 0===T?void 0:T.groupWrapper)||"span",R=(null===T||void 0===T?void 0:T.wrapper)||"span",A=(null===T||void 0===T?void 0:T.groupAddon)||"span",D=(0,t.useRef)(null),M=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e),L=(0,t.cloneElement)(O,{value:w,className:$n()(O.props.className,!M&&(null===x||void 0===x?void 0:x.variant))||null}),F=(0,t.useRef)(null);if(t.useImperativeHandle(n,(function(){return{nativeElement:F.current||D.current}})),M){var j=null;if(b){var $=!g&&!m&&w,B="".concat(a,"-clear-icon"),U="object"===te(b)&&null!==b&&void 0!==b&&b.clearIcon?b.clearIcon:"\u2716";j=t.createElement("span",{onClick:function(e){null===_||void 0===_||_(e),null===I||void 0===I||I()},onMouseDown:function(e){return e.preventDefault()},className:$n()(B,re(re({},"".concat(B,"-hidden"),!$),"".concat(B,"-has-suffix"),!!c)),role:"button",tabIndex:-1},U)}var z="".concat(a,"-affix-wrapper"),V=$n()(z,re(re(re(re(re({},"".concat(a,"-disabled"),g),"".concat(z,"-disabled"),g),"".concat(z,"-focused"),v),"".concat(z,"-readonly"),m),"".concat(z,"-input-with-clear-btn"),c&&b&&w),null===C||void 0===C?void 0:C.affixWrapper,null===x||void 0===x?void 0:x.affixWrapper,null===x||void 0===x?void 0:x.variant),q=(c||b)&&t.createElement("span",{className:$n()("".concat(a,"-suffix"),null===x||void 0===x?void 0:x.suffix),style:null===k||void 0===k?void 0:k.suffix},j,c);L=t.createElement(N,f({className:V,style:null===k||void 0===k?void 0:k.affixWrapper,onClick:function(e){var t;null!==(t=D.current)&&void 0!==t&&t.contains(e.target)&&(null===y||void 0===y||y())}},null===S||void 0===S?void 0:S.affixWrapper,{ref:D}),l&&t.createElement("span",{className:$n()("".concat(a,"-prefix"),null===x||void 0===x?void 0:x.prefix),style:null===k||void 0===k?void 0:k.prefix},l),L,q)}if(function(e){return!(!e.addonBefore&&!e.addonAfter)}(e)){var H="".concat(a,"-group"),W="".concat(H,"-addon"),G="".concat(H,"-wrapper"),K=$n()("".concat(a,"-wrapper"),H,null===C||void 0===C?void 0:C.wrapper,null===x||void 0===x?void 0:x.wrapper),Q=$n()(G,re({},"".concat(G,"-disabled"),g),null===C||void 0===C?void 0:C.group,null===x||void 0===x?void 0:x.groupWrapper);L=t.createElement(P,{className:Q,ref:F},t.createElement(R,{className:K},u&&t.createElement(A,{className:W},u),L,d&&t.createElement(A,{className:W},d)))}return t.cloneElement(L,{className:$n()(null===(r=L.props)||void 0===r?void 0:r.className,h)||null,style:oe(oe({},null===(i=L.props)||void 0===i?void 0:i.style),p),hidden:E})}));const T0=k0;var I0=["show"];function O0(e,n){return t.useMemo((function(){var t={};n&&(t.show="object"===te(n)&&n.formatter?n.formatter:!!n);var r=t=oe(oe({},t),e),i=r.show,o=gq(r,I0);return oe(oe({},o),{},{show:!!i,showFormatter:"function"===typeof i?i:void 0,strategy:o.strategy||function(e){return e.length}})}),[e,n])}var N0=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],P0=(0,t.forwardRef)((function(e,n){var r=e.autoComplete,i=e.onChange,o=e.onFocus,s=e.onBlur,a=e.onPressEnter,l=e.onKeyDown,c=e.onKeyUp,u=e.prefixCls,d=void 0===u?"rc-input":u,h=e.disabled,p=e.htmlSize,g=e.className,m=e.maxLength,v=e.suffix,y=e.showCount,b=e.count,w=e.type,_=void 0===w?"text":w,E=e.classes,C=e.classNames,x=e.styles,S=e.onCompositionStart,k=e.onCompositionEnd,T=gq(e,N0),I=Hj((0,t.useState)(!1),2),O=I[0],N=I[1],P=(0,t.useRef)(!1),R=(0,t.useRef)(!1),A=(0,t.useRef)(null),D=(0,t.useRef)(null),M=function(e){A.current&&S0(A.current,e)},L=Hj(SU(e.defaultValue,{value:e.value}),2),F=L[0],j=L[1],$=void 0===F||null===F?"":String(F),B=Hj((0,t.useState)(null),2),U=B[0],z=B[1],V=O0(b,y),q=V.max||m,H=V.strategy($),W=!!q&&H>q;(0,t.useImperativeHandle)(n,(function(){var e;return{focus:M,blur:function(){var e;null===(e=A.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=A.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=A.current)||void 0===e||e.select()},input:A.current,nativeElement:(null===(e=D.current)||void 0===e?void 0:e.nativeElement)||A.current}})),(0,t.useEffect)((function(){N((function(e){return(!e||!h)&&e}))}),[h]);var G=function(e,t,n){var r,o,s=t;if(!P.current&&V.exceedFormatter&&V.max&&V.strategy(t)>V.max)t!==(s=V.exceedFormatter(t,{max:V.max}))&&z([(null===(r=A.current)||void 0===r?void 0:r.selectionStart)||0,(null===(o=A.current)||void 0===o?void 0:o.selectionEnd)||0]);else if("compositionEnd"===n.source)return;j(s),A.current&&x0(A.current,e,i,s)};(0,t.useEffect)((function(){var e;U&&(null===(e=A.current)||void 0===e||e.setSelectionRange.apply(e,Gj(U)))}),[U]);var K=function(e){G(e,e.target.value,{source:"change"})},Q=function(e){P.current=!1,G(e,e.currentTarget.value,{source:"compositionEnd"}),null===k||void 0===k||k(e)},X=function(e){a&&"Enter"===e.key&&!R.current&&(R.current=!0,a(e)),null===l||void 0===l||l(e)},Y=function(e){"Enter"===e.key&&(R.current=!1),null===c||void 0===c||c(e)},J=function(e){N(!0),null===o||void 0===o||o(e)},Z=function(e){N(!1),null===s||void 0===s||s(e)},ee=W&&"".concat(d,"-out-of-range");return t.createElement(T0,f({},T,{prefixCls:d,className:$n()(g,ee),handleReset:function(e){j(""),M(),A.current&&x0(A.current,e,i)},value:$,focused:O,triggerFocus:M,suffix:function(){var e=Number(q)>0;if(v||V.show){var n=V.showFormatter?V.showFormatter({value:$,count:H,maxLength:q}):"".concat(H).concat(e?" / ".concat(q):"");return t.createElement(t.Fragment,null,V.show&&t.createElement("span",{className:$n()("".concat(d,"-show-count-suffix"),re({},"".concat(d,"-show-count-has-suffix"),!!v),null===C||void 0===C?void 0:C.count),style:oe({},null===x||void 0===x?void 0:x.count)},n),v)}return null}(),disabled:h,classes:E,classNames:C,styles:x}),function(){var n=Tj(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return t.createElement("input",f({autoComplete:r},n,{onChange:K,onFocus:J,onBlur:Z,onKeyDown:X,onKeyUp:Y,className:$n()(d,re({},"".concat(d,"-disabled"),h),null===C||void 0===C?void 0:C.input),style:null===x||void 0===x?void 0:x.input,ref:A,size:p,type:_,onCompositionStart:function(e){P.current=!0,null===S||void 0===S||S(e)},onCompositionEnd:Q}))}())}));const R0=P0,A0=e=>{let n;return"object"===typeof e&&(null===e||void 0===e?void 0:e.clearIcon)?n=e:e&&(n={clearIcon:t.createElement(MZ,null)}),n};function D0(e,t,n){return $n()({[`${e}-status-success`]:"success"===t,[`${e}-status-warning`]:"warning"===t,[`${e}-status-error`]:"error"===t,[`${e}-status-validating`]:"validating"===t,[`${e}-has-feedback`]:n})}const M0=(e,t)=>t||e,L0=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;var i,o;const{variant:s,[e]:a}=(0,t.useContext)(Fj),l=(0,t.useContext)(WQ),c=null===a||void 0===a?void 0:a.variant;let u;u="undefined"!==typeof n?n:!1===r?"borderless":null!==(o=null!==(i=null!==l&&void 0!==l?l:c)&&void 0!==i?i:s)&&void 0!==o?o:"outlined";return[u,Lj.includes(u)]};function F0(e,n){const r=(0,t.useRef)([]),i=()=>{r.current.push(setTimeout((()=>{var t,n,r,i;(null===(t=e.current)||void 0===t?void 0:t.input)&&"password"===(null===(n=e.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(r=e.current)||void 0===r?void 0:r.input.hasAttribute("value"))&&(null===(i=e.current)||void 0===i||i.input.removeAttribute("value"))})))};return(0,t.useEffect)((()=>(n&&i(),()=>r.current.forEach((e=>{e&&clearTimeout(e)})))),[]),i}var j0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const $0=(0,t.forwardRef)(((e,n)=>{var r;const{prefixCls:i,bordered:o=!0,status:s,size:a,disabled:l,onBlur:c,onFocus:u,suffix:d,allowClear:h,addonAfter:f,addonBefore:p,className:g,style:m,styles:v,rootClassName:y,onChange:b,classNames:w,variant:_}=e,E=j0(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]);const{getPrefixCls:C,direction:x,input:S}=t.useContext(Fj),k=C("input",i),T=(0,t.useRef)(null),I=ZQ(k),[O,N,P]=_0(k,I),{compactSize:R,compactItemClassnames:A}=nH(k,x),D=Zq((e=>{var t;return null!==(t=null!==a&&void 0!==a?a:R)&&void 0!==t?t:e})),M=t.useContext(Xq),L=null!==l&&void 0!==l?l:M,{status:F,hasFeedback:j,feedbackIcon:$}=(0,t.useContext)(qQ),B=M0(F,s),U=function(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}(e)||!!j;(0,t.useRef)(U);const z=F0(T,!0),V=(j||d)&&t.createElement(t.Fragment,null,d,j&&$),q=A0(null!==h&&void 0!==h?h:null===S||void 0===S?void 0:S.allowClear),[H,W]=L0("input",_,o);return O(t.createElement(R0,Object.assign({ref:Nj(n,T),prefixCls:k,autoComplete:null===S||void 0===S?void 0:S.autoComplete},E,{disabled:L,onBlur:e=>{z(),null===c||void 0===c||c(e)},onFocus:e=>{z(),null===u||void 0===u||u(e)},style:Object.assign(Object.assign({},null===S||void 0===S?void 0:S.style),m),styles:Object.assign(Object.assign({},null===S||void 0===S?void 0:S.styles),v),suffix:V,allowClear:q,className:$n()(g,y,P,I,A,null===S||void 0===S?void 0:S.className),onChange:e=>{z(),null===b||void 0===b||b(e)},addonBefore:p&&t.createElement(nZ,{form:!0,space:!0},p),addonAfter:f&&t.createElement(nZ,{form:!0,space:!0},f),classNames:Object.assign(Object.assign(Object.assign({},w),null===S||void 0===S?void 0:S.classNames),{input:$n()({[`${k}-sm`]:"small"===D,[`${k}-lg`]:"large"===D,[`${k}-rtl`]:"rtl"===x},null===w||void 0===w?void 0:w.input,null===(r=null===S||void 0===S?void 0:S.classNames)||void 0===r?void 0:r.input,N),variant:$n()({[`${k}-${H}`]:W},D0(k,B)),affixWrapper:$n()({[`${k}-affix-wrapper-sm`]:"small"===D,[`${k}-affix-wrapper-lg`]:"large"===D,[`${k}-affix-wrapper-rtl`]:"rtl"===x},N),wrapper:$n()({[`${k}-group-rtl`]:"rtl"===x},N),groupWrapper:$n()({[`${k}-group-wrapper-sm`]:"small"===D,[`${k}-group-wrapper-lg`]:"large"===D,[`${k}-group-wrapper-rtl`]:"rtl"===x,[`${k}-group-wrapper-${H}`]:W},D0(`${k}-group-wrapper`,B,j),N)})})))}));const B0=$0;var U0="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function z0(e,t){return 0===e.indexOf(t)}const V0=e=>{const{componentCls:t,paddingXS:n}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}},q0=_V(["Input","OTP"],(e=>{const t=MU(e,QZ(e));return[V0(t)]}),XZ);var H0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const W0=t.forwardRef(((e,n)=>{const{value:r,onChange:i,onActiveChange:o,index:s,mask:a}=e,l=H0(e,["value","onChange","onActiveChange","index","mask"]),c=r&&"string"===typeof a?a:r,u=t.useRef(null);t.useImperativeHandle(n,(()=>u.current));const d=()=>{RV((()=>{var e;const t=null===(e=u.current)||void 0===e?void 0:e.input;document.activeElement===t&&t&&t.select()}))};return t.createElement(B0,Object.assign({type:!0===a?"password":"text"},l,{ref:u,value:c,onInput:e=>{i(s,e.target.value)},onFocus:d,onKeyDown:e=>{const{key:t,ctrlKey:n,metaKey:r}=e;"ArrowLeft"===t?o(s-1):"ArrowRight"===t?o(s+1):"z"===t&&(n||r)&&e.preventDefault(),d()},onKeyUp:e=>{"Backspace"!==e.key||r||o(s-1),d()},onMouseDown:d,onMouseUp:d}))})),G0=W0;var K0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Q0(e){return(e||"").split("")}const X0=t.forwardRef(((e,n)=>{const{prefixCls:r,length:i=6,size:o,defaultValue:s,value:a,onChange:l,formatter:c,variant:u,disabled:d,status:h,autoFocus:f,mask:p,type:g,onInput:m,inputMode:v}=e,y=K0(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]);const{getPrefixCls:b,direction:w}=t.useContext(Fj),_=b("otp",r),E=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:oe({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||z0(n,"aria-"))||t.data&&z0(n,"data-")||t.attr&&U0.includes(n))&&(r[n]=e[n])})),r}(y,{aria:!0,data:!0,attr:!0}),C=ZQ(_),[x,S,k]=q0(_,C),T=Zq((e=>null!==o&&void 0!==o?o:e)),I=t.useContext(qQ),O=M0(I.status,h),N=t.useMemo((()=>Object.assign(Object.assign({},I),{status:O,hasFeedback:!1,feedbackIcon:null})),[I,O]),P=t.useRef(null),R=t.useRef({});t.useImperativeHandle(n,(()=>({focus:()=>{var e;null===(e=R.current[0])||void 0===e||e.focus()},blur:()=>{var e;for(let t=0;t<i;t+=1)null===(e=R.current[t])||void 0===e||e.blur()},nativeElement:P.current})));const A=e=>c?c(e):e,[D,M]=t.useState(Q0(A(s||"")));t.useEffect((()=>{void 0!==a&&M(Q0(a))}),[a]);const L=EU((e=>{M(e),m&&m(e),l&&e.length===i&&e.every((e=>e))&&e.some(((e,t)=>D[t]!==e))&&l(e.join(""))})),F=EU(((e,t)=>{let n=Gj(D);for(let i=0;i<e;i+=1)n[i]||(n[i]="");t.length<=1?n[e]=t:n=n.slice(0,e).concat(Q0(t)),n=n.slice(0,i);for(let i=n.length-1;i>=0&&!n[i];i-=1)n.pop();const r=A(n.map((e=>e||" ")).join(""));return n=Q0(r).map(((e,t)=>" "!==e||n[t]?e:n[t])),n})),j=(e,t)=>{var n;const r=F(e,t),o=Math.min(e+t.length,i-1);o!==e&&void 0!==r[e]&&(null===(n=R.current[o])||void 0===n||n.focus()),L(r)},$=e=>{var t;null===(t=R.current[e])||void 0===t||t.focus()},B={variant:u,disabled:d,status:O,mask:p,type:g,inputMode:v};return x(t.createElement("div",Object.assign({},E,{ref:P,className:$n()(_,{[`${_}-sm`]:"small"===T,[`${_}-lg`]:"large"===T,[`${_}-rtl`]:"rtl"===w},k,S)}),t.createElement(qQ.Provider,{value:N},Array.from({length:i}).map(((e,n)=>{const r=`otp-${n}`,i=D[n]||"";return t.createElement(G0,Object.assign({ref:e=>{R.current[n]=e},key:r,index:n,size:T,htmlSize:1,className:`${_}-input`,onChange:j,value:i,onActiveChange:$,autoFocus:0===n&&f},B))})))))})),Y0=X0;const J0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};var Z0=function(e,n){return t.createElement(NH,f({},e,{ref:n,icon:J0}))};const e1=t.forwardRef(Z0);const t1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};var n1=function(e,n){return t.createElement(NH,f({},e,{ref:n,icon:t1}))};const r1=t.forwardRef(n1);var i1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const o1=e=>e?t.createElement(r1,null):t.createElement(e1,null),s1={click:"onClick",hover:"onMouseOver"},a1=t.forwardRef(((e,n)=>{const{disabled:r,action:i="click",visibilityToggle:o=!0,iconRender:s=o1}=e,a=t.useContext(Xq),l=null!==r&&void 0!==r?r:a,c="object"===typeof o&&void 0!==o.visible,[u,d]=(0,t.useState)((()=>!!c&&o.visible)),h=(0,t.useRef)(null);t.useEffect((()=>{c&&d(o.visible)}),[c,o]);const f=F0(h),p=()=>{l||(u&&f(),d((e=>{var t;const n=!e;return"object"===typeof o&&(null===(t=o.onVisibleChange)||void 0===t||t.call(o,n)),n})))},{className:g,prefixCls:m,inputPrefixCls:v,size:y}=e,b=i1(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:w}=t.useContext(Fj),_=w("input",v),E=w("input-password",m),C=o&&(e=>{const n=s1[i]||"",r=s(u),o={[n]:p,className:`${e}-icon`,key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return t.cloneElement(t.isValidElement(r)?r:t.createElement("span",null,r),o)})(E),x=$n()(E,g,{[`${E}-${y}`]:!!y}),S=Object.assign(Object.assign({},Tj(b,["suffix","iconRender","visibilityToggle"])),{type:u?"text":"password",className:x,prefixCls:_,suffix:C});return y&&(S.size=y),t.createElement(B0,Object.assign({ref:Nj(n,h)},S))}));const l1=a1;const c1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};var u1=function(e,n){return t.createElement(NH,f({},e,{ref:n,icon:c1}))};const d1=t.forwardRef(u1);var h1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const f1=t.forwardRef(((e,n)=>{const{prefixCls:r,inputPrefixCls:i,className:o,size:s,suffix:a,enterButton:l=!1,addonAfter:c,loading:u,disabled:d,onSearch:h,onChange:f,onCompositionStart:p,onCompositionEnd:g}=e,m=h1(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:v,direction:y}=t.useContext(Fj),b=t.useRef(!1),w=v("input-search",r),_=v("input",i),{compactSize:E}=nH(w,y),C=Zq((e=>{var t;return null!==(t=null!==s&&void 0!==s?s:E)&&void 0!==t?t:e})),x=t.useRef(null),S=e=>{var t;document.activeElement===(null===(t=x.current)||void 0===t?void 0:t.input)&&e.preventDefault()},k=e=>{var t,n;h&&h(null===(n=null===(t=x.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e,{source:"input"})},T="boolean"===typeof l?t.createElement(d1,null):null,I=`${w}-button`;let O;const N=l||{},P=N.type&&!0===N.type.__ANT_BUTTON;O=P||"button"===N.type?Bj(N,Object.assign({onMouseDown:S,onClick:e=>{var t,n;null===(n=null===(t=null===N||void 0===N?void 0:N.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),k(e)},key:"enterButton"},P?{className:I,size:C}:{})):t.createElement(MW,{className:I,type:l?"primary":void 0,size:C,disabled:d,key:"enterButton",onMouseDown:S,onClick:k,loading:u,icon:T},l),c&&(O=[O,Bj(c,{key:"addonAfter"})]);const R=$n()(w,{[`${w}-rtl`]:"rtl"===y,[`${w}-${C}`]:!!C,[`${w}-with-button`]:!!l},o);return t.createElement(B0,Object.assign({ref:Nj(x,n),onPressEnter:e=>{b.current||u||k(e)}},m,{size:C,onCompositionStart:e=>{b.current=!0,null===p||void 0===p||p(e)},onCompositionEnd:e=>{b.current=!1,null===g||void 0===g||g(e)},prefixCls:_,addonAfter:O,suffix:a,onChange:e=>{(null===e||void 0===e?void 0:e.target)&&"click"===e.type&&h&&h(e.target.value,e,{source:"clear"}),null===f||void 0===f||f(e)},className:R,disabled:d}))}));const p1=f1;var g1,m1=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],v1={};function y1(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;g1||((g1=document.createElement("textarea")).setAttribute("tab-index","-1"),g1.setAttribute("aria-hidden","true"),g1.setAttribute("name","hiddenTextarea"),document.body.appendChild(g1)),e.getAttribute("wrap")?g1.setAttribute("wrap",e.getAttribute("wrap")):g1.removeAttribute("wrap");var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&v1[n])return v1[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),s=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),a={sizingStyle:m1.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),paddingSize:o,borderSize:s,boxSizing:i};return t&&n&&(v1[n]=a),a}(e,t),o=i.paddingSize,s=i.borderSize,a=i.boxSizing,l=i.sizingStyle;g1.setAttribute("style","".concat(l,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),g1.value=e.value||e.placeholder||"";var c,u=void 0,d=void 0,h=g1.scrollHeight;if("border-box"===a?h+=s:"content-box"===a&&(h-=o),null!==n||null!==r){g1.value=" ";var f=g1.scrollHeight-o;null!==n&&(u=f*n,"border-box"===a&&(u=u+o+s),h=Math.max(u,h)),null!==r&&(d=f*r,"border-box"===a&&(d=d+o+s),c=h>d?"":"hidden",h=Math.min(d,h))}var p={height:h,overflowY:c,resize:"none"};return u&&(p.minHeight=u),d&&(p.maxHeight=d),p}var b1=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],w1=t.forwardRef((function(e,n){var r=e,i=r.prefixCls,o=r.defaultValue,s=r.value,a=r.autoSize,l=r.onResize,c=r.className,u=r.style,d=r.disabled,h=r.onChange,p=(r.onInternalAutoSize,gq(r,b1)),g=SU(o,{value:s,postState:function(e){return null!==e&&void 0!==e?e:""}}),m=Hj(g,2),v=m[0],y=m[1],b=t.useRef();t.useImperativeHandle(n,(function(){return{textArea:b.current}}));var w=Hj(t.useMemo((function(){return a&&"object"===te(a)?[a.minRows,a.maxRows]:[]}),[a]),2),_=w[0],E=w[1],C=!!a,x=Hj(t.useState(2),2),S=x[0],k=x[1],T=Hj(t.useState(),2),I=T[0],O=T[1],N=function(){k(0)};H$((function(){C&&N()}),[s,_,E,C]),H$((function(){if(0===S)k(1);else if(1===S){var e=y1(b.current,!1,_,E);k(2),O(e)}else!function(){try{if(document.activeElement===b.current){var e=b.current,t=e.selectionStart,n=e.selectionEnd,r=e.scrollTop;b.current.setSelectionRange(t,n),b.current.scrollTop=r}}catch(LX){}}()}),[S]);var P=t.useRef(),R=function(){RV.cancel(P.current)};t.useEffect((function(){return R}),[]);var A=C?I:null,D=oe(oe({},u),A);return 0!==S&&1!==S||(D.overflowY="hidden",D.overflowX="hidden"),t.createElement(_J,{onResize:function(e){2===S&&(null===l||void 0===l||l(e),a&&(R(),P.current=RV((function(){N()}))))},disabled:!(a||l)},t.createElement("textarea",f({},p,{ref:b,style:D,className:$n()(i,c,re({},"".concat(i,"-disabled"),d)),disabled:d,value:v,onChange:function(e){y(e.target.value),null===h||void 0===h||h(e)}})))}));const _1=w1;var E1=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],C1=t.forwardRef((function(e,n){var r,i=e.defaultValue,o=e.value,s=e.onFocus,a=e.onBlur,l=e.onChange,c=e.allowClear,u=e.maxLength,d=e.onCompositionStart,h=e.onCompositionEnd,p=e.suffix,g=e.prefixCls,m=void 0===g?"rc-textarea":g,v=e.showCount,y=e.count,b=e.className,w=e.style,_=e.disabled,E=e.hidden,C=e.classNames,x=e.styles,S=e.onResize,k=e.onClear,T=e.onPressEnter,I=e.readOnly,O=e.autoSize,N=e.onKeyDown,P=gq(e,E1),R=Hj(SU(i,{value:o,defaultValue:i}),2),A=R[0],D=R[1],M=void 0===A||null===A?"":String(A),L=Hj(t.useState(!1),2),F=L[0],j=L[1],$=t.useRef(!1),B=Hj(t.useState(null),2),U=B[0],z=B[1],V=(0,t.useRef)(null),q=(0,t.useRef)(null),H=function(){var e;return null===(e=q.current)||void 0===e?void 0:e.textArea},W=function(){H().focus()};(0,t.useImperativeHandle)(n,(function(){var e;return{resizableTextArea:q.current,focus:W,blur:function(){H().blur()},nativeElement:(null===(e=V.current)||void 0===e?void 0:e.nativeElement)||H()}})),(0,t.useEffect)((function(){j((function(e){return!_&&e}))}),[_]);var G=Hj(t.useState(null),2),K=G[0],Q=G[1];t.useEffect((function(){var e;K&&(e=H()).setSelectionRange.apply(e,Gj(K))}),[K]);var X,Y=O0(y,v),J=null!==(r=Y.max)&&void 0!==r?r:u,Z=Number(J)>0,ee=Y.strategy(M),te=!!J&&ee>J,ne=function(e,t){var n=t;!$.current&&Y.exceedFormatter&&Y.max&&Y.strategy(t)>Y.max&&t!==(n=Y.exceedFormatter(t,{max:Y.max}))&&Q([H().selectionStart||0,H().selectionEnd||0]),D(n),x0(e.currentTarget,e,l,n)},ie=p;Y.show&&(X=Y.showFormatter?Y.showFormatter({value:M,count:ee,maxLength:J}):"".concat(ee).concat(Z?" / ".concat(J):""),ie=t.createElement(t.Fragment,null,ie,t.createElement("span",{className:$n()("".concat(m,"-data-count"),null===C||void 0===C?void 0:C.count),style:null===x||void 0===x?void 0:x.count},X)));var se=!O&&!v&&!c;return t.createElement(T0,{ref:V,value:M,allowClear:c,handleReset:function(e){D(""),W(),x0(H(),e,l)},suffix:ie,prefixCls:m,classNames:oe(oe({},C),{},{affixWrapper:$n()(null===C||void 0===C?void 0:C.affixWrapper,re(re({},"".concat(m,"-show-count"),v),"".concat(m,"-textarea-allow-clear"),c))}),disabled:_,focused:F,className:$n()(b,te&&"".concat(m,"-out-of-range")),style:oe(oe({},w),U&&!se?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"===typeof X?X:void 0}},hidden:E,readOnly:I,onClear:k},t.createElement(_1,f({},P,{autoSize:O,maxLength:u,onKeyDown:function(e){"Enter"===e.key&&T&&T(e),null===N||void 0===N||N(e)},onChange:function(e){ne(e,e.target.value)},onFocus:function(e){j(!0),null===s||void 0===s||s(e)},onBlur:function(e){j(!1),null===a||void 0===a||a(e)},onCompositionStart:function(e){$.current=!0,null===d||void 0===d||d(e)},onCompositionEnd:function(e){$.current=!1,ne(e,e.currentTarget.value),null===h||void 0===h||h(e)},className:$n()(null===C||void 0===C?void 0:C.textarea),style:oe(oe({},null===x||void 0===x?void 0:x.textarea),{},{resize:null===w||void 0===w?void 0:w.resize}),disabled:_,prefixCls:m,onResize:function(e){var t;null===S||void 0===S||S(e),null!==(t=H())&&void 0!==t&&t.style.height&&z(!0)},ref:q,readOnly:I})))}));const x1=C1;var S1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const k1=(0,t.forwardRef)(((e,n)=>{var r,i;const{prefixCls:o,bordered:s=!0,size:a,disabled:l,status:c,allowClear:u,classNames:d,rootClassName:h,className:f,style:p,styles:g,variant:m}=e,v=S1(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]);const{getPrefixCls:y,direction:b,textArea:w}=t.useContext(Fj),_=Zq(a),E=t.useContext(Xq),C=null!==l&&void 0!==l?l:E,{status:x,hasFeedback:S,feedbackIcon:k}=t.useContext(qQ),T=M0(x,c),I=t.useRef(null);t.useImperativeHandle(n,(()=>{var e;return{resizableTextArea:null===(e=I.current)||void 0===e?void 0:e.resizableTextArea,focus:e=>{var t,n;S0(null===(n=null===(t=I.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:()=>{var e;return null===(e=I.current)||void 0===e?void 0:e.blur()}}}));const O=y("input",o),N=ZQ(O),[P,R,A]=_0(O,N),[D,M]=L0("textArea",m,s),L=A0(null!==u&&void 0!==u?u:null===w||void 0===w?void 0:w.allowClear);return P(t.createElement(x1,Object.assign({autoComplete:null===w||void 0===w?void 0:w.autoComplete},v,{style:Object.assign(Object.assign({},null===w||void 0===w?void 0:w.style),p),styles:Object.assign(Object.assign({},null===w||void 0===w?void 0:w.styles),g),disabled:C,allowClear:L,className:$n()(A,N,f,h,null===w||void 0===w?void 0:w.className),classNames:Object.assign(Object.assign(Object.assign({},d),null===w||void 0===w?void 0:w.classNames),{textarea:$n()({[`${O}-sm`]:"small"===_,[`${O}-lg`]:"large"===_},R,null===d||void 0===d?void 0:d.textarea,null===(r=null===w||void 0===w?void 0:w.classNames)||void 0===r?void 0:r.textarea),variant:$n()({[`${O}-${D}`]:M},D0(O,T)),affixWrapper:$n()(`${O}-textarea-affix-wrapper`,{[`${O}-affix-wrapper-rtl`]:"rtl"===b,[`${O}-affix-wrapper-sm`]:"small"===_,[`${O}-affix-wrapper-lg`]:"large"===_,[`${O}-textarea-show-count`]:e.showCount||(null===(i=e.count)||void 0===i?void 0:i.show)},R)}),prefixCls:O,suffix:S&&t.createElement("span",{className:`${O}-textarea-suffix`},k),ref:I})))})),T1=k1,I1=B0;I1.Group=E0,I1.Search=p1,I1.TextArea=T1,I1.Password=l1,I1.OTP=Y0;const O1=I1;var N1=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],P1=(0,t.forwardRef)((function(e,n){var r=e.prefixCls,i=void 0===r?"rc-checkbox":r,o=e.className,s=e.style,a=e.checked,l=e.disabled,c=e.defaultChecked,u=void 0!==c&&c,d=e.type,h=void 0===d?"checkbox":d,p=e.title,g=e.onChange,m=gq(e,N1),v=(0,t.useRef)(null),y=(0,t.useRef)(null),b=Hj(SU(u,{value:a}),2),w=b[0],_=b[1];(0,t.useImperativeHandle)(n,(function(){return{focus:function(e){var t;null===(t=v.current)||void 0===t||t.focus(e)},blur:function(){var e;null===(e=v.current)||void 0===e||e.blur()},input:v.current,nativeElement:y.current}}));var E=$n()(i,o,re(re({},"".concat(i,"-checked"),w),"".concat(i,"-disabled"),l));return t.createElement("span",{className:E,title:p,style:s,ref:y},t.createElement("input",f({},m,{className:"".concat(i,"-input"),ref:v,onChange:function(t){l||("checked"in e||_(t.target.checked),null===g||void 0===g||g({target:oe(oe({},e),{},{type:h,checked:t.target.checked}),stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()},nativeEvent:t.nativeEvent}))},disabled:l,checked:!!w,type:h})),t.createElement("span",{className:"".concat(i,"-inner")}))}));const R1=P1,A1=t.createContext(null),D1=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},WU(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},WU(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},WU(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},KU(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${F$(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${F$(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`\n        ${n}:not(${n}-disabled),\n        ${t}:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`\n        ${n}-checked:not(${n}-disabled),\n        ${t}-checked:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorPrimary} !important`}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function M1(e,t){const n=MU(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[D1(n)]}const L1=_V("Checkbox",((e,t)=>{let{prefixCls:n}=t;return[M1(n,e)]}));var F1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const j1=(e,n)=>{var r;const{prefixCls:i,className:o,rootClassName:s,children:a,indeterminate:l=!1,style:c,onMouseEnter:u,onMouseLeave:d,skipGroup:h=!1,disabled:f}=e,p=F1(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:g,direction:m,checkbox:v}=t.useContext(Fj),y=t.useContext(A1),{isFormItemInput:b}=t.useContext(qQ),w=t.useContext(Xq),_=null!==(r=(null===y||void 0===y?void 0:y.disabled)||f)&&void 0!==r?r:w,E=t.useRef(p.value),C=t.useRef(null),x=Nj(n,C);t.useEffect((()=>{null===y||void 0===y||y.registerValue(p.value)}),[]),t.useEffect((()=>{if(!h)return p.value!==E.current&&(null===y||void 0===y||y.cancelValue(E.current),null===y||void 0===y||y.registerValue(p.value),E.current=p.value),()=>null===y||void 0===y?void 0:y.cancelValue(p.value)}),[p.value]),t.useEffect((()=>{var e;(null===(e=C.current)||void 0===e?void 0:e.input)&&(C.current.input.indeterminate=l)}),[l]);const S=g("checkbox",i),k=ZQ(S),[T,I,O]=L1(S,k),N=Object.assign({},p);y&&!h&&(N.onChange=function(){p.onChange&&p.onChange.apply(p,arguments),y.toggleOption&&y.toggleOption({label:a,value:p.value})},N.name=y.name,N.checked=y.value.includes(p.value));const P=$n()(`${S}-wrapper`,{[`${S}-rtl`]:"rtl"===m,[`${S}-wrapper-checked`]:N.checked,[`${S}-wrapper-disabled`]:_,[`${S}-wrapper-in-form-item`]:b},null===v||void 0===v?void 0:v.className,o,s,O,k,I),R=$n()({[`${S}-indeterminate`]:l},AV,I);return T(t.createElement(Gq,{component:"Checkbox",disabled:_},t.createElement("label",{className:P,style:Object.assign(Object.assign({},null===v||void 0===v?void 0:v.style),c),onMouseEnter:u,onMouseLeave:d},t.createElement(R1,Object.assign({},N,{prefixCls:S,className:R,disabled:_,ref:x})),void 0!==a&&t.createElement("span",null,a))))};const $1=t.forwardRef(j1);var B1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const U1=t.forwardRef(((e,n)=>{const{defaultValue:r,children:i,options:o=[],prefixCls:s,className:a,rootClassName:l,style:c,onChange:u}=e,d=B1(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:h,direction:f}=t.useContext(Fj),[p,g]=t.useState(d.value||r||[]),[m,v]=t.useState([]);t.useEffect((()=>{"value"in d&&g(d.value||[])}),[d.value]);const y=t.useMemo((()=>o.map((e=>"string"===typeof e||"number"===typeof e?{label:e,value:e}:e))),[o]),b=h("checkbox",s),w=`${b}-group`,_=ZQ(b),[E,C,x]=L1(b,_),S=Tj(d,["value","disabled"]),k=o.length?y.map((e=>t.createElement($1,{prefixCls:b,key:e.value.toString(),disabled:"disabled"in e?e.disabled:d.disabled,value:e.value,checked:p.includes(e.value),onChange:e.onChange,className:`${w}-item`,style:e.style,title:e.title,id:e.id,required:e.required},e.label))):i,T={toggleOption:e=>{const t=p.indexOf(e.value),n=Gj(p);-1===t?n.push(e.value):n.splice(t,1),"value"in d||g(n),null===u||void 0===u||u(n.filter((e=>m.includes(e))).sort(((e,t)=>y.findIndex((t=>t.value===e))-y.findIndex((e=>e.value===t)))))},value:p,disabled:d.disabled,name:d.name,registerValue:e=>{v((t=>[].concat(Gj(t),[e])))},cancelValue:e=>{v((t=>t.filter((t=>t!==e))))}},I=$n()(w,{[`${w}-rtl`]:"rtl"===f},a,l,x,_,C);return E(t.createElement("div",Object.assign({className:I,style:c},S,{ref:n}),t.createElement(A1.Provider,{value:T},k)))})),z1=U1,V1=$1;V1.Group=z1,V1.__ANT_CHECKBOX=!0;const q1=V1,H1=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),o=X(),s=ee((e=>e.auth.error)),a=In(un),l=()=>{Sj.auth().signInWithEmailAndPassword(e,r).then((e=>{const t=e.user;o((e=>({type:fe,payload:e}))(t)),a.push("/")})).catch((e=>{const t=e.message;o((e=>({type:pe,payload:e}))(t))}))};return(0,Bn.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"20px",backgroundColor:"#f5f5f5"},children:(0,Bn.jsxs)("div",{style:{width:"100%",maxWidth:"500px",padding:"20px",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)"},children:[(0,Bn.jsxs)("div",{className:"text-center mb-4",children:[(0,Bn.jsx)("h1",{className:"logo-1",style:{color:"darkblue"},children:"financeFrenzy"}),(0,Bn.jsx)("h4",{style:{color:"black"},children:"We help build your dream!"})]}),(0,Bn.jsxs)(KZ,{name:"basic",layout:"vertical",initialValues:{remember:!0},onFinish:l,children:[(0,Bn.jsx)(KZ.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please enter a valid email!"}],children:(0,Bn.jsx)(O1,{placeholder:"Enter your email",value:e,onChange:e=>n(e.target.value)})}),(0,Bn.jsx)(KZ.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please enter your password!"}],children:(0,Bn.jsx)(O1.Password,{placeholder:"Enter your password",value:r,onChange:e=>i(e.target.value)})}),(0,Bn.jsx)(KZ.Item,{name:"remember",valuePropName:"checked",children:(0,Bn.jsx)(q1,{children:"Remember me"})}),s&&(0,Bn.jsx)("p",{style:{color:"red",textAlign:"center"},children:s}),(0,Bn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"20px"},children:[(0,Bn.jsx)(MW,{type:"primary",htmlType:"submit",style:{width:"6rem",padding:"0px 0px"},onClick:l,children:"Login"}),(0,Bn.jsx)(Mn,{to:"/register",children:(0,Bn.jsx)(MW,{type:"default",style:{width:"6rem",padding:"0px 0px"},children:"Register"})})]})]})]})})};class W1 extends t.Component{constructor(e){super(e),this.handleInputChange=e=>{this.setState({[e.target.name]:e.target.value})},this.handleRegister=()=>{const{email:e,password:t,confirmPassword:n}=this.state;t===n?Sj.auth().createUserWithEmailAndPassword(e,t).then((e=>{e.user})).catch((e=>{const t=e.message;this.setState({error:t})})):this.setState({error:"Passwords do not match!"})},this.state={email:"",password:"",confirmPassword:"",error:null}}render(){const{email:e,password:t,confirmPassword:n,error:r}=this.state;return(0,Bn.jsx)("div",{className:"register-container",children:(0,Bn.jsxs)("div",{className:"register-form",children:[(0,Bn.jsx)("h2",{className:"register",children:"Register"}),(0,Bn.jsxs)(KZ,{layout:"vertical",onFinish:this.handleRegister,style:{maxWidth:400,margin:"0 auto"},children:[(0,Bn.jsx)(KZ.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please enter a valid email!"}],children:(0,Bn.jsx)(O1,{type:"email",name:"email",placeholder:"Enter your email",value:e,onChange:this.handleInputChange})}),(0,Bn.jsx)(KZ.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please enter your password!"}],children:(0,Bn.jsx)(O1.Password,{type:"password",name:"password",placeholder:"Enter your password",value:t,onChange:this.handleInputChange})}),(0,Bn.jsx)(KZ.Item,{label:"Confirm Password",name:"confirmPassword",rules:[{required:!0,message:"Please confirm your password!"}],children:(0,Bn.jsx)(O1.Password,{type:"password",name:"confirmPassword",placeholder:"Confirm your password",value:n,onChange:this.handleInputChange})}),r&&(0,Bn.jsx)("p",{className:"text-danger",children:r}),(0,Bn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Bn.jsx)(MW,{type:"primary",htmlType:"submit",style:{width:"6rem",padding:"0px 0px"},children:"Register"}),(0,Bn.jsx)(Mn,{to:"/login",children:(0,Bn.jsx)(MW,{type:"default",style:{width:"6rem",padding:"0px 0px"},children:"Login"})})]})]})]})})}}const G1=W1,K1=t.createContext();function Q1(e){let{children:n}=e;const[r,i]=(0,t.useState)();(0,t.useEffect)((()=>Cj.onAuthStateChanged((e=>{i(e)}))),[]);const o={currentUser:r};return(0,Bn.jsx)(K1.Provider,{value:o,children:n})}const X1=function(e){let{component:n,...r}=e;const{currentUser:i}=(0,t.useContext)(K1);return(0,Bn.jsx)(_n,{...r,render:e=>i?(0,Bn.jsx)(n,{...e}):(0,Bn.jsx)(vn,{to:"/login"})})};const Y1=function(){return(0,Bn.jsx)("div",{classname:"App",children:(0,Bn.jsx)(Q1,{children:(0,Bn.jsx)(On,{children:(0,Bn.jsxs)(Tn,{children:[(0,Bn.jsx)(_n,{path:"/login",component:H1}),(0,Bn.jsx)(_n,{path:"/register",component:G1}),(0,Bn.jsx)(X1,{path:"/home",component:lK}),(0,Bn.jsx)(X1,{path:"/",component:lK}),(0,Bn.jsx)(_n,{path:"/contact",component:iK})]})})})})};i.render((0,Bn.jsx)(h,{store:Ee,children:(0,Bn.jsx)(Y1,{})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.e0f41557.js.map